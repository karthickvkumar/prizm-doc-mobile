// See license at https://www.npmjs.com/package/@prizmdoc/viewer-core
// @prizmdoc/viewer-core@1.0.16
(function(f) {
    if (typeof exports === "object" && typeof module !== "undefined") {
        module.exports = f()
    } else if (typeof define === "function" && define.amd) {
        define([], f)
    } else {
        var g;
        if (typeof window !== "undefined") {
            g = window
        } else if (typeof global !== "undefined") {
            g = global
        } else if (typeof self !== "undefined") {
            g = self
        } else {
            g = this
        }
        g.viewerCore = f()
    }
})(function() {
	var passURL = '/PCCIS/V1';
    var define, module, exports;
    return (function() {
        function r(e, n, t) {
            function o(i, f) {
                if (!n[i]) {
                    if (!e[i]) {
                        var c = "function" == typeof require && require;
                        if (!f && c) return c(i, !0);
                        if (u) return u(i, !0);
                        var a = new Error("Cannot find module '" + i + "'");
                        throw a.code = "MODULE_NOT_FOUND", a
                    }
                    var p = n[i] = {
                        exports: {}
                    };
                    e[i][0].call(p.exports, function(r) {
                        var n = e[i][1][r];
                        return o(n || r)
                    }, p, p.exports, r, e, n, t)
                }
                return n[i].exports
            }
            for (var u = "function" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);
            return o
        }
        return r
    })()({
        1: [function(require, module, exports) {
            'use strict';
            var styleElementsInsertedAtTop = [];
            var insertStyleElement = function(styleElement, options) {
                var head = document.head || document.getElementsByTagName('head')[0];
                var lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];
                options = options || {};
                options.insertAt = options.insertAt || 'bottom';
                if (options.insertAt === 'top') {
                    if (!lastStyleElementInsertedAtTop) {
                        head.insertBefore(styleElement, head.firstChild);
                    } else if (lastStyleElementInsertedAtTop.nextSibling) {
                        head.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);
                    } else {
                        head.appendChild(styleElement);
                    }
                    styleElementsInsertedAtTop.push(styleElement);
                } else if (options.insertAt === 'bottom') {
                    head.appendChild(styleElement);
                } else {
                    throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.');
                }
            };
            module.exports = {
                createLink: function(href, attributes) {
                    var head = document.head || document.getElementsByTagName('head')[0];
                    var link = document.createElement('link');
                    link.href = href;
                    link.rel = 'stylesheet';
                    for (var key in attributes) {
                        if (!attributes.hasOwnProperty(key)) {
                            continue;
                        }
                        var value = attributes[key];
                        link.setAttribute('data-' + key, value);
                    }
                    head.appendChild(link);
                },
                createStyle: function(cssText, attributes, extraOptions) {
                    extraOptions = extraOptions || {};
                    var style = document.createElement('style');
                    style.type = 'text/css';
                    for (var key in attributes) {
                        if (!attributes.hasOwnProperty(key)) {
                            continue;
                        }
                        var value = attributes[key];
                        style.setAttribute('data-' + key, value);
                    }
                    if (style.sheet) {
                        style.innerHTML = cssText;
                        style.sheet.cssText = cssText;
                        insertStyleElement(style, {
                            insertAt: extraOptions.insertAt
                        });
                    } else if (style.styleSheet) {
                        insertStyleElement(style, {
                            insertAt: extraOptions.insertAt
                        });
                        style.styleSheet.cssText = cssText;
                    } else {
                        style.appendChild(document.createTextNode(cssText));
                        insertStyleElement(style, {
                            insertAt: extraOptions.insertAt
                        });
                    }
                }
            };
        }, {}],
        2: [function(require, module, exports) {
            var cursor = require('./util/cursor.js');
            var mask = require('./util/mask.js');

            function InputMask(elem, options) {
                var originalPlaceholder = elem.placeholder;
                var regexMask = mask.getRegex(options.value, options.translations);

                function onInput() {
                    var cursorPos = cursor.get(elem);
                    var oldVal = elem.value;
                    var newVal = mask.getValue(oldVal, options.value, options.translations, cursorPos);
                    elem.value = newVal.val;
                    setTimeout(function() {
                        cursor.set(elem, cursorPos + newVal.cursorAdjustment);
                    }, 1);
                };

                function clearInvalidValue() {
                    elem.value = mask.fill(elem.value, options.value, options.translations);
                    if (!regexMask.test(elem.value)) {
                        elem.value = '';
                    }
                }(function init() {
                    clearInvalidValue();
                    elem.placeholder = mask.getPlaceholder(options.value, options.translations);
                    elem.addEventListener('input', onInput);
                    elem.addEventListener('focusout', clearInvalidValue);
                    elem.addEventListener('blur', clearInvalidValue);
                }());
                this.destroy = function() {
                    clearInvalidValue();
                    elem.placeholder = originalPlaceholder;
                    elem.removeEventListener('input', onInput);
                    elem.removeEventListener('focusout', clearInvalidValue);
                    elem.removeEventListener('blur', clearInvalidValue);
                };
            };
            module.exports = InputMask;
        }, {
            "./util/cursor.js": 3,
            "./util/mask.js": 4
        }],
        3: [function(require, module, exports) {
            function getCursor(elem) {
                var position = 0;
                if (elem.selectionEnd) {
                    position = elem.selectionEnd;
                }
                return Number(position);
            };

            function setCursor(elem, position) {
                elem.setSelectionRange(position, position);
            };
            module.exports = {
                get: getCursor,
                set: setCursor
            };
        }, {}],
        4: [function(require, module, exports) {
            var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;
            var reHasRegExpChar = new RegExp(reRegExpChar.source);

            function getMaskRegex(mask, translations) {
                var maskRegex = '';
                var char, translation, i;
                for (i = 0; i < mask.length; i++) {
                    char = mask.charAt(i);
                    translation = translations[char];
                    if (translation) {
                        maskRegex += translation.toString().replace(/.{1}$|^.{1}/g, '');
                    } else if (reHasRegExpChar.test(char)) {
                        maskRegex += char.replace(reRegExpChar, '\\$&');
                    } else {
                        maskRegex += char;
                    }
                }
                return new RegExp(maskRegex);
            };

            function getMaskPlaceholder(mask, translations) {
                var placeholder = mask;
                var key;
                for (key in translations) {
                    if (translations.hasOwnProperty(key)) {
                        if (reHasRegExpChar.test(key)) {
                            key = key.replace(reRegExpChar, '\\$&');
                        }
                        placeholder = placeholder.replace(new RegExp(key, 'g'), '_');
                    }
                }
                return placeholder;
            };

            function getMaskValue(value, mask, translations, cursorPos) {
                var result = {
                    val: '',
                    cursorAdjustment: 0
                };
                var m = 0;
                var v = 0;
                var lastUntranslatedMaskChar, maskChar, valChar, translation;
                while (m < mask.length && v < value.length) {
                    maskChar = mask.charAt(m);
                    valChar = value.charAt(v);
                    translation = translations[maskChar];
                    if (translation) {
                        if (valChar.match(translation)) {
                            result.val += valChar;
                            m += 1;
                        } else if (v < cursorPos) {
                            result.cursorAdjustment -= 1;
                        } else if (valChar === lastUntranslatedMaskChar) {
                            lastUntranslatedMaskChar = null;
                        }
                        v += 1;
                    } else {
                        result.val += maskChar;
                        if (valChar === maskChar) {
                            v += 1;
                        } else {
                            if (v < cursorPos) {
                                result.cursorAdjustment += 1;
                            }
                            lastUntranslatedMaskChar = maskChar;
                        }
                        m += 1;
                    }
                }
                return result;
            };

            function fillMask(value, mask, translations) {
                var newVal = value;
                var index = value.length;
                var maskChar;
                while (index < mask.length) {
                    maskChar = mask[index];
                    if (translations[maskChar]) {
                        break;
                    }
                    newVal += maskChar;
                    index += 1;
                }
                return newVal;
            };
            module.exports = {
                getRegex: getMaskRegex,
                getPlaceholder: getMaskPlaceholder,
                getValue: getMaskValue,
                fill: fillMask
            };
        }, {}],
        5: [function(require, module, exports) {
            var util = require('./util.js');
            var regexSearch = require('./regex-search.js');
            var proximitySearch = require('./proximity-search.js');

            function isSimpleSearchInput(input) {
                return (typeof input.pattern === 'string' && (typeof input.caseSensitive === 'boolean' || typeof input.caseSensitive === 'undefined'));
            };

            function isProximitySearchInput(input) {
                if (!util.isPositiveInteger(input.distance) || !(input.subTerms instanceof Array)) {
                    return false;
                }
                return util.every(input.subTerms, isSimpleSearchInput);
            };

            function isSearchInput(input) {
                if (util.isPlainObject(input) && typeof input.type === 'string') {
                    if (input.type === 'simple') {
                        return isSimpleSearchInput(input);
                    }
                    if (input.type === 'proximity') {
                        return isProximitySearchInput(input);
                    }
                }
                return false;
            };

            function isArrayOfSearchInputs(input) {
                if (!(input instanceof Array)) {
                    return false;
                }
                return util.every(input, isSearchInput);
            };

            function getRegExp(searchInput) {
                return (new RegExp(searchInput.pattern, searchInput.caseSensitive ? 'g' : 'gi'));
            };

            function cleanSearchResult(searchInput) {
                return function(val) {
                    return {
                        input: searchInput,
                        text: val.text,
                        startIndex: val.startIndex
                    };
                };
            };

            function getRegexResults(text, searchInput) {
                var regex = getRegExp(searchInput);
                var results = regexSearch.getResultsForTerm(text, regex);
                return results.map(cleanSearchResult(searchInput));
            };

            function getProximityResults(text, searchInput) {
                var regexes = searchInput.subTerms.map(getRegExp);
                var results = proximitySearch.getResults(text, regexes, searchInput.distance);
                return results.map(cleanSearchResult(searchInput));
            };

            function getResults(text, searchInputs) {
                if (typeof text !== 'string') {
                    throw util.inputError('text', 'string');
                }
                if (!isArrayOfSearchInputs(searchInputs)) {
                    throw util.inputError('searchInputs', 'array of search inputs');
                }
                var combinedResults = [];
                searchInputs.forEach(function(term, i) {
                    if (term.type === 'simple') {
                        combinedResults = combinedResults.concat(getRegexResults(text, term));
                    } else if (term.type === 'proximity') {
                        combinedResults = combinedResults.concat(getProximityResults(text, term));
                    } else {
                        throw util.inputError('searchInputs[' + i + '].type', 'string equal to "simple" or "proximity"');
                    }
                });
                util.sortResults(combinedResults);
                return combinedResults;
            };
            module.exports = {
                getResults: getResults
            };
        }, {
            "./proximity-search.js": 8,
            "./regex-search.js": 9,
            "./util.js": 10
        }],
        6: [function(require, module, exports) {
            var util = require('./util.js');

            function validateGetContextOptions(options) {
                var rules = [{
                    property: 'options',
                    validator: function() {
                        return util.isPlainObject(options);
                    },
                    error: 'object'
                }, {
                    property: 'options.text',
                    validator: function() {
                        return (typeof options.text === 'string');
                    },
                    error: 'string'
                }, {
                    property: 'options.startIndex',
                    validator: function() {
                        return util.isMinInteger(options.startIndex, 0);
                    },
                    error: 'integer that is at least 0'
                }, {
                    property: 'options.endIndex',
                    validator: function() {
                        return util.isMinInteger(options.endIndex, 0);
                    },
                    error: 'integer that is at least 0'
                }, {
                    property: 'options.padding',
                    validator: function() {
                        return util.isMinInteger(options.padding, 0);
                    },
                    error: 'integer that is at least 0'
                }, {
                    property: 'options.startIndex',
                    validator: function() {
                        return (options.startIndex < options.text.length);
                    },
                    error: 'integer that is less than "options.text.length"'
                }, {
                    property: 'options.endIndex',
                    validator: function() {
                        return (options.endIndex < options.text.length);
                    },
                    error: 'integer that is less than "options.text.length"'
                }, {
                    property: 'options.startIndex',
                    validator: function() {
                        return (options.startIndex <= options.endIndex);
                    },
                    error: 'integer that is at most "options.endIndex"'
                }];
                util.validateInput(rules);
            };

            function validateRectangleOptions(options) {
                var rules = [{
                    property: 'options',
                    validator: function() {
                        return util.isPlainObject(options);
                    },
                    error: 'object'
                }, {
                    property: 'options.rectangles',
                    validator: function() {
                        return (options.rectangles instanceof Array);
                    },
                    error: 'array'
                }, {
                    property: 'options.startIndex',
                    validator: function() {
                        return util.isMinInteger(options.startIndex, 0);
                    },
                    error: 'integer that is at least 0'
                }, {
                    property: 'options.endIndex',
                    validator: function() {
                        return util.isMinInteger(options.endIndex, 0);
                    },
                    error: 'integer that is at least 0'
                }, {
                    property: 'options.startIndex',
                    validator: function() {
                        return util.isMaxInteger(options.startIndex, options.endIndex);
                    },
                    error: 'integer that is at most "options.endIndex"'
                }];
                util.validateInput(rules);
            };

            function getContext(options) {
                validateGetContextOptions(options);
                var startIndex = Math.max(options.startIndex - options.padding, 0);
                var endIndex = Math.min(options.endIndex + options.padding, options.text.length - 1);
                return {
                    startIndex: (startIndex === 0) ? options.startIndex : options.padding,
                    context: options.text.substring(startIndex, endIndex + 1)
                };
            };

            function getBoundingRectangle(options) {
                validateRectangleOptions(options);
                var boundingRectangle = {
                    left: Number.MAX_VALUE,
                    right: 0,
                    top: Number.MAX_VALUE,
                    bottom: 0
                };
                var rectangle;
                for (var i = options.startIndex; i <= options.endIndex; i++) {
                    rectangle = options.rectangles[i];
                    boundingRectangle.left = Math.min(rectangle[0], boundingRectangle.left);
                    boundingRectangle.right = Math.max(rectangle[0] + rectangle[2], boundingRectangle.right);
                    boundingRectangle.top = Math.min(rectangle[1], boundingRectangle.top);
                    boundingRectangle.bottom = Math.max(rectangle[1] + rectangle[3], boundingRectangle.bottom);
                }
                return {
                    x: boundingRectangle.left,
                    y: boundingRectangle.top,
                    width: boundingRectangle.right - boundingRectangle.left,
                    height: boundingRectangle.bottom - boundingRectangle.top
                };
            };

            function getLineRectangles(options) {
                validateRectangleOptions(options);
                var lineRectangles = [];

                function processCharacter(rectangle) {
                    var character = util.getRectangleObject(rectangle);
                    var line = lineRectangles[lineRectangles.length - 1];
                    if (util.isCharacterAtEndOfLine(character, line)) {
                        lineRectangles.splice(-1, 1, util.joinRectangles(line, character));
                        return;
                    }
                    lineRectangles.push(character);
                };
                for (var i = options.startIndex; i <= options.endIndex; i++) {
                    processCharacter(options.rectangles[i]);
                }
                return lineRectangles;
            };
            module.exports = {
                getContext: getContext,
                getBoundingRectangle: getBoundingRectangle,
                getLineRectangles: getLineRectangles
            };
        }, {
            "./util.js": 10
        }],
        7: [function(require, module, exports) {
            var formatter = require('./formatter.js');
            var regexSearch = require('./regex-search.js');
            var proximitySearch = require('./proximity-search.js');
            var combinedSearch = require('./combined-search.js');
            module.exports = {
                formatter: formatter,
                regex: regexSearch,
                proximity: proximitySearch,
                combined: combinedSearch
            };
        }, {
            "./combined-search.js": 5,
            "./formatter.js": 6,
            "./proximity-search.js": 8,
            "./regex-search.js": 9
        }],
        8: [function(require, module, exports) {
            var regexSearch = require('./regex-search.js');
            var util = require('./util.js');

            function isAProximityResult(matching, searchTerms) {
                return (Object.keys(matching).length === searchTerms.length);
            };

            function getStartIndex(wordIndex, searchResult) {
                var startIndex = -1;
                for (var i = 1; i < wordIndex.length; i++) {
                    if (wordIndex[i] > searchResult.startIndex) {
                        startIndex = i - 1;
                        break;
                    }
                }
                if (startIndex === -1 && searchResult.startIndex > wordIndex[wordIndex.length - 1]) {
                    startIndex = wordIndex.length - 1;
                }
                return startIndex;
            };

            function getEndIndex(wordIndex, searchResult, termsLength, distance) {
                var startIndex = getStartIndex(wordIndex, searchResult);
                var endIndex = null;
                if (distance === 0) {
                    endIndex = startIndex + termsLength - 1;
                } else {
                    endIndex = startIndex + ((termsLength - 1) * distance + termsLength) - 1;
                }
                return wordIndex[endIndex < wordIndex.length ? endIndex : wordIndex.length - 1];
            };

            function getWordIndex(text) {
                if (typeof text !== 'string') {
                    throw util.inputError('text', 'string');
                }
                var wordIndex = [];
                var regex = (/[^\s]+/gm);
                var regexResult;
                while ((regexResult = regex.exec(text)) !== null) {
                    wordIndex.push(regexResult.index);
                }
                return wordIndex;
            };

            function getResults(text, searchTerms, distance) {
                if (!util.isPositiveInteger(distance)) {
                    throw util.inputError('distance', 'integer that is greater than 0');
                }
                var wordIndex = getWordIndex(text);
                var searchResults = regexSearch.getResults(text, searchTerms);
                var proximityResults = [];
                searchResults.forEach(function(searchResult, i) {
                    var opts = {
                        nextIndex: -1,
                        currentIndex: i,
                        matches: {},
                        nextResult: null
                    };
                    opts.endIndex = getEndIndex(wordIndex, searchResult, searchTerms.length, distance);
                    opts.matches[searchResult.term] = true;
                    while (opts.nextIndex < opts.endIndex && !isAProximityResult(opts.matches, searchTerms) && opts.currentIndex + 1 < searchResults.length) {
                        opts.nextResult = searchResults[++opts.currentIndex];
                        opts.nextIndex = opts.nextResult.startIndex;
                        if (opts.nextIndex <= opts.endIndex) {
                            opts.matches[opts.nextResult.term] = true;
                        }
                    }
                    if (isAProximityResult(opts.matches, searchTerms)) {
                        proximityResults.push({
                            text: text.substring(searchResult.startIndex, opts.nextResult.startIndex + opts.nextResult.text.length),
                            startIndex: searchResult.startIndex
                        });
                    }
                });
                return proximityResults;
            };
            module.exports = {
                getWordIndex: getWordIndex,
                getResults: getResults
            };
        }, {
            "./regex-search.js": 9,
            "./util.js": 10
        }],
        9: [function(require, module, exports) {
            var util = require('./util.js');

            function isRegExp(input) {
                return (input instanceof RegExp);
            };

            function isArrayOfRegExp(input) {
                if (!(input instanceof Array)) {
                    return false;
                }
                return util.every(input, isRegExp);
            };

            function validateGetResultsForTerm(text, searchTerm) {
                if (typeof text !== 'string') {
                    throw util.inputError('text', 'string');
                }
                if (!isRegExp(searchTerm)) {
                    throw util.inputError('searchTerm', 'regular expression');
                }
            };

            function getResultsForTerm(text, searchTerm) {
                validateGetResultsForTerm(text, searchTerm);
                var searchResults = [];
                var regexResult;
                while ((regexResult = searchTerm.exec(text)) !== null) {
                    if (regexResult[0]) {
                        searchResults.push({
                            term: searchTerm.toString(),
                            text: regexResult[0],
                            startIndex: regexResult.index
                        });
                    } else {
                        searchTerm.lastIndex += 1;
                    }
                }
                return searchResults;
            };

            function getResults(text, searchTerms) {
                if (typeof text !== 'string') {
                    throw util.inputError('text', 'string');
                }
                if (!isArrayOfRegExp(searchTerms)) {
                    throw util.inputError('searchTerms', 'array of regular expressions');
                }
                var combinedResults = [];
                for (var i = 0; i < searchTerms.length; i++) {
                    combinedResults = combinedResults.concat(getResultsForTerm(text, searchTerms[i]));
                }
                util.sortResults(combinedResults);
                return combinedResults;
            };
            module.exports = {
                getResultsForTerm: getResultsForTerm,
                getResults: getResults
            };
        }, {
            "./util.js": 10
        }],
        10: [function(require, module, exports) {
            function inputError(property, expected) {
                var a = (['a', 'e', 'i', 'o', 'u'].indexOf(expected.charAt(0)) > -1) ? 'an' : 'a';
                return new Error('Invalid argument. Argument "' + property + '" must be ' + a + ' ' + expected + '.');
            };

            function isInteger(input) {
                return (typeof input === 'number' && Math.round(input) === input);
            };

            function isMinInteger(input, min) {
                if (typeof min !== 'number') {
                    throw inputError('min', 'number');
                }
                return (isInteger(input) && input >= min);
            };

            function isMaxInteger(input, max) {
                if (typeof max !== 'number') {
                    throw inputError('max', 'number');
                }
                return (isInteger(input) && input <= max);
            };

            function isPositiveInteger(input) {
                return isMinInteger(input, 0);
            };

            function isPlainObject(input) {
                return (typeof input === 'object' && input !== null && !(input instanceof Array) && input.constructor === Object);
            };

            function validateInput(rules) {
                rules.forEach(function(rule) {
                    if (!rule.validator()) {
                        throw inputError(rule.property, rule.error);
                    }
                });
                return true;
            };

            function every(obj, fn) {
                for (var key in obj) {
                    if (obj.hasOwnProperty(key)) {
                        if (!fn(obj[key], key)) {
                            return false;
                        }
                    }
                }
                return true;
            };

            function sortResults(results) {
                results.sort(function(a, b) {
                    return a.startIndex - b.startIndex;
                });
            };

            function joinRectangles(rectA, rectB) {
                var left = Math.min(rectA.x, rectB.x);
                var top = Math.min(rectA.y, rectB.y);
                var right = Math.max(rectA.x + rectA.width, rectB.x + rectB.width);
                var bottom = Math.max(rectA.y + rectA.height, rectB.y + rectB.height);
                return {
                    x: left,
                    y: top,
                    width: right - left,
                    height: bottom - top
                };
            };

            function isCharacterAtEndOfLine(character, line) {
                if (line && Math.abs(character.y - line.y) < 1 && Math.abs(character.height - line.height) < 1 && (character.x + character.width) >= (line.x + line.width)) {
                    return true;
                }
                return false;
            };

            function getRectangleObject(rect) {
                return {
                    x: rect[0],
                    y: rect[1],
                    width: rect[2],
                    height: rect[3]
                };
            };
            module.exports = {
                inputError: inputError,
                isInteger: isInteger,
                isMinInteger: isMinInteger,
                isMaxInteger: isMaxInteger,
                isPositiveInteger: isPositiveInteger,
                isPlainObject: isPlainObject,
                validateInput: validateInput,
                every: every,
                sortResults: sortResults,
                joinRectangles: joinRectangles,
                isCharacterAtEndOfLine: isCharacterAtEndOfLine,
                getRectangleObject: getRectangleObject
            };
        }, {}],
        11: [function(require, module, exports) {
            //var css = "/* page list specific */\n.pccViewerControl {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  /* promote to a new layer */\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  /* iOS momentum scrolling */\n  -webkit-overflow-scrolling: touch;\n  /* helps touch zoom not overlap any other element */\n  overflow: hidden;\n}\n/* normalize override */\nsvg:not(:root) {\n  overflow: visible!important;\n}\n.pccPageListContainer {\n  box-sizing: border-box;\n}\n.pccPageListContainerWrapper {\n  -ms-transform: scale(1,1) translate(0px,0px);\n  -moz-transform: scale(1,1) translate(0px,0px);\n  -webkit-transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  -ms-transform-origin: 0% 0%;\n  -moz-transform-origin: 0% 0%;\n  -webkit-transform-origin: 0% 0%;\n  transform-origin: 0% 0%;\n  will-change: transform, -webkit-transform;\n}\n.pccPageListLoading {\n  height: 30px;\n  margin: -15px;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  width: 30px;\n}\n.pccPageListComments {\n  position: relative;\n  min-width: 300px;\n  height: auto;\n  vertical-align: top;\n  display: table-cell;\n  box-sizing: border-box;\n  z-index: 2;\n}\n.pccPageListComments > div {\n  position: absolute;\n}\n.pccHidden {\n  display: none;\n}\n.pccPageListItem {\n  background: #fff;\n  overflow: hidden;\n  margin: 13px;\n  vertical-align: middle;\n  border-bottom: 1px solid #d4d6db;\n}\n/* Single Page view mode */\n.pccSinglePageView .pccPageListItem {\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-timing-function: ease-out;\n  animation-timing-function: ease-out;\n}\n/* Next and previous page list items for single page view mode */\n.pccSinglePageView .pccNextPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccPreviousPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccCurrentPage {\n  opacity: 1;\n  z-index: 1;\n}\n/* Default animations for single page view mode */\n.pccSinglePageView .pccNextPageIn {\n  animation-name: moveInFromRight;\n  -webkit-animation-name: moveInFromRight;\n}\n.pccSinglePageView .pccPreviousPageIn {\n  animation-name: moveInFromLeft;\n  -webkit-animation-name: moveInFromLeft;\n}\n.pccSinglePageView .pccPageForward {\n  animation-name: moveLeft;\n  -webkit-animation-name: moveLeft;\n}\n.pccSinglePageView .pccPageBack {\n  animation-name: moveRight;\n  -webkit-animation-name: moveRight;\n}\n@keyframes moveRight {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveRight {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveLeft {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveLeft {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveInFromLeft {\n  0% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromLeft {\n  0% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes moveInFromRight {\n  0% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromRight {\n  0% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n/*\n.pccPageListItem * {\n    -ms-touch-action: pinch-zoom pan-x pan-y;\n    touch-action: pinch-zoom pan-x pan-y;\n} */\n.pccPageListItem .pccPageListItemLoading {\n  margin: 30% auto;\n  display: block;\n  filter: Alpha(Opacity=50);\n  background-color: #fff;\n}\n.pccPageListItem .pccPageLoadFail {\n  margin: 35% auto;\n  text-align: center;\n  line-height: 2;\n  color: #777;\n}\n/* PageList container fix */\n.pccPageListItem .igAnchor,\n.pccPageListItem .igViewerScroller,\n.pccPageListItem .igViewerGraphics,\n.pccThumbnailView .igAnchor {\n  /* never recalculate these values */\n  width: 100% !important;\n  height: 100% !important;\n}\n.igAnchor > svg {\n  width: 100%;\n  height: 100%;\n}\n.igMagnifierFrame .igAnchor > svg {\n  width: auto;\n  height: auto;\n}\n.igViewerScroller,\n.igViewerGraphics,\n.igAnchor,\n.igAnchor > svg,\n.igAnchor svg svg {\n  -webkit-user-select: none !important;\n  -webkit-touch-callout: none !important;\n  -webkit-tap-highlight-color: rgba(0,0,0,0) !important;\n}\n.igAnchor svg svg use {\n  pointer-events: none;\n}\n/* do not show textarea outline on text marks */\n.pccViewerControl textarea {\n  outline: none;\n}\n/* copy text */\n.pccCopyText {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  color: #000;\n}\n/* about modal */\n.pccPageListAboutModal {\n  background: #383a3f;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 280px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListAboutModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListAboutModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #fff;\n  font-weight: bold;\n}\n.pccPageListAboutModal p {\n  font-size: 12px;\n  color: #c2c5ce;\n}\n.pccPageListAboutModal p:last-child {\n  color: #c2c5ce;\n}\n.pccPageListAboutModal a {\n  color: #afc3eb;\n}\nhtml .pccPageListAboutModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #fff;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListAboutModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 122px;\n}\n.pccEditMarkButton {\n  display: inline-block;\n  background: no-repeat url(../../../../src/img/EditTextMark.png);\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: 26px;\n  width: 26px;\n  -webkit-background-size: 26px 26px;\n  background-size: 26px;\n  cursor: pointer !important;\n}\n/* svg elements can have body tags inside them, so we protect styling of them */\n/* viewer marks that do not look correct can likely be affected by conflicting styles */\n.pccViewerControl body {\n  background-color: initial;\n  min-height: initial;\n  position: static;\n  height: 100%;\n}\n/* style for thumbnail views */\n.pccThumbnailWrapper {\n  position: relative;\n  display: block;\n  width: 100px;\n  height: 100px;\n  margin: 5px 0 2em 0;\n}\n.pccThumbnail {\n  width: 100%;\n  height: 100%;\n}\n.pccThumbnailView {\n  /* it's important not to edit these width and height\n     * they are depended upon in the actual size calculation */\n  height: 100%;\n  width: 100%;\n  margin: auto !important;\n}\n.pccThumbnailLabel {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n/* mark selection handles */\n.pccMarkHandleTopLeft,\n.pccMarkHandleTopCenter,\n.pccMarkHandleTopRight,\n.pccMarkHandleMidLeft,\n.pccMarkHandleMidRight,\n.pccMarkHandleBottomLeft,\n.pccMarkHandleBottomCenter,\n.pccMarkHandleBottomRight,\n.pccMarkHandlePoint,\n.pccMarkHandleTextSelectionStart,\n.pccMarkHandleTextSelectionEnd {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3M0M1RkFDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3M0M1RjlDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowYzJmZjg5Ny1iMWRmLTQ4MGItOGRlNy01N2VkNGE0ZjJmZDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDJiYTk2MTktNjQyYy00Mzk1LWEyNjItYmU0OTczOTAxM2IxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SvzVDQAAAn9JREFUeNrsWMFr01AcTvvSNsnG1jQqOIeTTQ/z4EA9WFQQPYpn0epFL/4DiiBMFATRf0AvXtSJdwU9bHhY3UlBQQdThxVRUNN2wzVd26R+v/ILVA9r0iVQWR58zXuP9/3yNXnv9/tIrNlsSr3c4lKPt0hgJDASGAn8jwTKgAEMSAEHXU/TgRPAQWC0LV4dWADywDOg1O0NYn5K3ZEbc63riytZevKngTNAqgNtFXgATIHvMD+8J4jgGi7XgP3uXKVmi/xCMf3ll6XKIt4czihWdpe+pCWFzX/gPDAB7lWIrIT2BHnP3gb20qC0Uk/cnSmMTL8zh+q289d+Toi4c3S38e3CsZGC3peo8/Rr4CLghCXwLHCOOp9+VNRLj+YnzN81ZS2C0Z+s3jo1/mZsi2bx1D3gfhinOAPk+MnJlx/P7+kkjhqtobXE4akcxwpc4HH3QNyZLuz4uVxTvRJpLXF4mOJYgQs8RD/LVkOeeW8O+T1c4GxdWbUFDw8HLVDmPCfNfSyl/z0QXho44uWHYpqHo14ziNcbDboBv5qWInXZKA1xV3DMjVOLl4AGdYYNtdrtzbZvUt1UY3PMwASSuEXqHBjTy5SE/YoDx87u1Ms8XHT/cJCvON/ajJrcoArhVyA43/sV2ebhbBhp5gkXfonK1+aBpOWVSGvB+dxmHp6GIbAIPGx5LNTWmyfH31IZ60SiNbQWHPeVUgxzY5oF8oNst64D+9x5qhCzsFvIkRrslrMto1TpQPSlhN1GfwVMkt3y4we7NayCDWvOo2GdolcLvu3XsMbW+fHI4MK/luV/zvs3fMvvoV4PchIuBxU0Fn1+iwRGAiOBkcDebn8EGACEVf6TPnvOjAAAAABJRU5ErkJggg==);\n}\n@media screen and (-webkit-min-device-pixel-ratio: 2), \n       screen and (min-resolution: 2dppx),\n       screen and (min-resolution: 192dpi) {\n  .pccMarkHandleTopLeft,\n  .pccMarkHandleTopCenter,\n  .pccMarkHandleTopRight,\n  .pccMarkHandleMidLeft,\n  .pccMarkHandleMidRight,\n  .pccMarkHandleBottomLeft,\n  .pccMarkHandleBottomCenter,\n  .pccMarkHandleBottomRight,\n  .pccMarkHandlePoint,\n  .pccMarkHandleTextSelectionStart,\n  .pccMarkHandleTextSelectionEnd {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABrCAYAAABwv3wMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0QwNDg4NENDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0QwNDg4NEJDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI3ZGMxZS0xNjg1LTQ2YTktOTI5Mi0wYzNkMTM4YjU3MWMiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2YWNjOTM4MC0wYzZkLTExNzgtYmZjOS1jNTk5OGE2MjYzNGUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Xpv3rAAAGnklEQVR42uycXUxbZRjHT1u++gHjoxTWjTLYxpTBytxUEE3IdiHzxo8tzvmRyIwXRC+cNyaiJk42k11si0a9ME4v/LyYmTeCF1tIJo6YMCgwVMJnmQzKR7cWWr7a+jxyMLjsnNMWes7b0+ef/APJe9r3Of31fc97Tp/n1YRCIY4UH9LSR0CwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLRLAIFolgkQgWwSIRLBLBIlgkgkUiWASLxJ6SVHAOFvA28GZwFjgVbALPghfAbvAt8DDYRbDklRH8CHg/+AGwOYLXToGvg9vBreC5eDpxTRzluu8GPw1+lB896xWOuqvgS+AbBGtjZAfX8X9jJQf4S/4vwYpCOeB68EEZ+8SR9hE/XdJqMEwdAH8lMyjUY/wIO0ALjHuo5tS1//5vaajCL89r4GcUDAlXku/y18hPIL7gmvhoNch/ECnw5x3+2x2R3HNLyf0Tc/rhSb/BtxjQzS8FdGnJuoAhRRfYlqv37cgz+rOMyUsRvi1+YXIhrkYAtkgj6/+gToP3hfua7lGvqcnhynM4PVlj7nmT2JVXA7Zmpc3abRnuQ3bLRHlB+mwE0+JpiK8BgC3QAmPluvkBf+8kKoy02eEyf982Vjgy5U+PtsNCs977XKV1pNZumdKE95Lf+KkxmOiw8Bp1JJyRdLZpsGRo0pexUR0X5Ro8b9QW9cGIC2ek/Qj+OJFh4TTzPj9TCY6mCy3Ord9eG9seCIY0Gx2ATqsJPV9lHTheY7sZxps3gi8nIqwcfnluEjpgcTmofe9i3662fnderIN5aHumq/HIrj9TkrRiUx2OwJfB04l2n1UvBerNb3rL5ACF+n3gtuXE171l2K/Esr4+0W6K7WI3vDjWcUT13PRmyxnUjb+92divxFxzkIvtoy/mYNWJNcI1qkCuEXW3sN8voH+Jw44nCqxysW8mrvpgMVGk5KrnO+gfRrVJ5JA9/HmoHtZTYtPf+ebBnbDqU/SZJfZ/rmlwZyjK81ALLAO4Wqjx505X7oDLt4mFpyoYB8Yjckg1fz6qhSX6w+EPbWM2jiFJxJPKRfEcM55g7RdqcDg9Jud09I+QYiGMB+MSOWSfmmHtFWpo7prM4xhUk8OVH835xDssMyeS3NIxfCebRVidI54siXOyqBGW4L0L/h41cWfByCKscYgL4xM5pCihYPWNzxlYTtvB+ESaN6sRluA0Nzrt1zPMSiq+TDXCEpzmZueXdSzDkojPoEZYgvP+/FKQaVgS8aWoEZZgwkpasjbAMiyJ+BbVCEswr9yQmsQ0LFOaaHw+NcKaEWooNOv9LMMqyBGN77YaYY0KNZTkG30sw5KI71ZCwcIEzPxNqUyW30BcPokE0SE1wpriRBL+Kwoz3CzCgrhmJM7JpUZYqA6hhkN2yziLsCTi6pAzFrlhtQs1YKKlLUfvZQkUxiORANquZlhY/ySYM3600upkCZZEPKuVk6qFhauqVqHGJyosk8UWg4cFUBgHxiNySKuc91hKwEJdEmrA9OUTtcV9Oq1G0QIA7B/j0ER5HmqC1Q3uEmrEcpxjVdYhJWFh/xJlQV38eageFuqCWOMrNbbRyh1ZE0oEhv1i/+uJX22wsCr+sth0ePJwyV9lW9Nn5Axq95b0GexXYvq7wilU1a9kMuVn3EpVxj2F1RxnXyjtkWuEPVic6Tr3YmlPGFUknyr1gSkJC8tmznAribiCwD48et8fL1Vv6cc6qhgtJkL4/meO3d8rAQp1nlOo3OffGYeBysfXwYclVyWjXhOmVm9kxi4uz3HVF2aNccJXPq6O7rBrijGlGTNl15MQijXFzz5sdeJ9FNUURyDcB6OloQpTkU9xEWS4do540n/pnrR0OT3ZY+55YxjV+nN7bBkzj5fnuioKMyJ5rIUbc72N1fpK74PBBCzUevfBwHQx55RfP7ewrFtYDupSk7QBY2pSwGbW+/H3qCj2wVh9SnFydR8MgsXeDjNrr1FM7TDD6kZbWG3yFidScxxDzfKr1KusfSisbrT1K7dSFX9F5n4RUB2LoFgeWWtVAX4VXBrDPnrBn+O6heUPIp528sTymie5lYrDjdhzaplfQPzEyfyLb7SKpz1yO3in88D28kv9nAifmlznjaC8cXT+cTWyhHT37tNp3EpePWZLzXO0+zRTcsU7hHhfDZIIFsEiESwSwSJYJIJFIlgEi0SwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLYJEIFolgJbT+EWAAqiM7sRyeWSQAAAAASUVORK5CYII=);\n  }\n}\n.pccv input.no-ms-clear::-ms-clear {\n  display: none;\n}\n.pcc-image-stamp-img {\n  height: auto;\n  max-height: available;\n  width: 100%;\n  max-width: 100%;\n  position: relative;\n}\n.pccv .pcc-load,\n.pccv .pccPageListLoading,\n.pccv .pccPageListItemLoading {\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n  animation-timing-function: linear;\n  -webkit-animation-name: pcc-anim-load;\n  animation-name: pcc-anim-load;\n}\n@-webkit-keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n@keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n.pccv .pccPageListLoading svg,\n.pccv .pccPageListItemLoading svg {\n  fill: #7d7f85;\n  height: 26px;\n  width: 26px;\n}\n.pccv .pccPageListLoading,\n.pccv .pccPageListItemLoading {\n  display: block;\n}\n@media print {\n  .no-clip-on-print {\n    clip-path: none !important;\n  }\n\n  .expand-on-print {\n    transform: scale(9999, 9999);\n  }\n}\n";
            (require("browserify-css").createStyle('', {
                "href": "src\\css\\viewercontrol.css"
            }, {
                "insertAt": "bottom"
            }));
            module.exports = '';
        }, {
            "browserify-css": 1
        }],
        12: [function(require, module, exports) {
            var mF = function() {
                this.bG = false;
                this.J = false;
                this.ai = IPCC.ar.AddFreehandMark;
            };
            mF.prototype.mq = function(J) {
                J.bV().set_cursor(this.ai);
                this.J = J;
            };
            mF.prototype.ek = function() {
                this.J = false;
            };
            mF.prototype.aB = function() {
                if (this.bG) {
                    this.L = null;
                    this.oj = null;
                    this.J.oa(null);
                    this.J.bV().set_cursor(this.iW);
                    this.bG = false;
                    this.J.dv();
                }
            };
            mF.prototype.rG = function() {
                this.aB();
            };
            mF.prototype.lq = function(F) {
                this.aB();
                if (F.domEvent.button === 0) {
                    var bM = this.J.bV();
                    this.iW = bM.get_cursor();
                    bM.set_cursor(this.ai);
                    this.bG = true;
                    this.L = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);
                    this.L.get_points().addPoint(F.imagePoint);
                    this.oj = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);
                    this.J.oa(this.L, this.oj);
                    this.L.set_lineWidth(this.oj.eS);
                    this.L.set_lineColor(this.oj.kL);
                    this.L.set_opacity(this.oj.cT);
                    this.ro = F.imagePoint;
                    this.sP = F.windowPoint;
                    this.J.dv();
                }
            };
            mF.prototype.jV = function(F) {
                if (F.domEvent.button !== 0) {
                    this.aB();
                }
                if (this.bG) {
                    this.L.get_points().addPoint(F.imagePoint);
                    this.J.dv();
                }
            };
            mF.prototype.zA = function(F) {
                if (this.bG) {
                    this.aB();
                }
            };
            mF.prototype.lh = function(F) {
                if (this.bG && F.domEvent.button === 0) {
                    this.L.get_points().addPoint(F.imagePoint);
                    var ama = this.L.get_points();
                    var bF = [];
                    var jF = Number.MAX_VALUE,
                        hX = 0,
                        _top = Number.MAX_VALUE,
                        iS = 0;
                    var C = 0;
                    for (C = 0; C < ama.get_length(); C++) {
                        var sZ = ama.getPoint(C);
                        if (sZ.x < jF) {
                            jF = sZ.x;
                        }
                        if (sZ.x > hX) {
                            hX = sZ.x;
                        }
                        if (sZ.y < _top) {
                            _top = sZ.y;
                        }
                        if (sZ.y > iS) {
                            iS = sZ.y;
                        }
                        bF.push({
                            x: sZ.x,
                            y: sZ.y
                        });
                    }
                    var zm = 3;
                    var sc;
                    var qN = (bF.length < zm) ? bF : IPCC.T.filter(bF, function(bx) {
                        if (sc) {
                            var aM = bx.x - sc.x,
                                di = bx.y - sc.y,
                                fD = aM * aM + di * di;
                            if (Math.sqrt(fD) < 4) {
                                return false;
                            }
                        }
                        bx.x = bx.x - jF;
                        bx.y = bx.y - _top;
                        sc = bx;
                        return true;
                    });
                    if (qN.length < zm) {
                        qN = [bF[0], bF[bF.length - 1]];
                    }
                    var dM = '';
                    sc = undefined;
                    if (qN.length < zm) {
                        dM += this.KP(qN);
                    } else {
                        dM = 'M' + IPCC.T.bspline(qN);
                        dM = dM.replace(/\d*\.?\d*/g, function(az) {
                            var Ft = az.indexOf('.');
                            if (az.length && Ft > 0) {
                                return az.substr(0, Ft + 3);
                            } else if (az !== "") {
                                return az;
                            } else {
                                return az;
                            }
                        });
                    }
                    var ag = hX - jF;
                    var aH = iS - _top;
                    if (aH === 0 && ag === 0) {
                        this.aB();
                        return;
                    }
                    var qH = {
                        clientX: F.domEvent.clientX,
                        clientY: F.domEvent.clientY
                    };
                    this.oj.set_rectangle({
                        x: jF,
                        y: _top,
                        width: ag,
                        height: aH
                    });
                    this.oj.set_pathString(dM);
                    this.oj.set_pathWidth(ag);
                    this.oj.set_pathHeight(aH);
                    this.J.oa(null);
                    this.J.eg().addMark(this.oj, qH);
                    this.J.dv();
                }
                this.aB();
            };
            mF.prototype.KP = function(gG, FB) {
                var Tc = (FB && IPCC.T.Dy) ? 'm' : 'M';
                var ZY = (FB && IPCC.T.Dy) ? 'l' : 'L';
                return IPCC.T.map(gG, function(bx, C) {
                    if (C === 0) {
                        return Tc + bx.x + ',' + bx.y;
                    } else {
                        return ZY + bx.x + ',' + bx.y;
                    }
                }).join('');
            };
            mF.prototype.oK = function(F) {
                var bD = this.J.eT();
                if (F.windowPoint.x <= 0 || F.windowPoint.x >= bD.width - 2) {
                    this.aB();
                }
                if (F.windowPoint.y <= 0 || F.windowPoint.y >= bD.height - 2) {
                    this.aB();
                }
            };
            mF.prototype.mh = function() {
                this.aB();
            };
            module.exports = mF;
        }, {}],
        13: [function(require, module, exports) {
            var na = function() {
                this.bG = false;
                this.J = false;
                this.ai = IPCC.ar.AddLineMark;
            };
            na.prototype.mq = function(J) {
                J.bV().set_cursor(this.ai);
                this.J = J;
            };
            na.prototype.ek = function() {
                this.J = false;
            };
            na.prototype.aB = function() {
                if (this.bG) {
                    this.L = null;
                    this.J.oa(null);
                    this.J.bV().set_cursor(this.iW);
                    this.bG = false;
                    this.J.dv();
                }
            };
            na.prototype.rG = function() {
                this.aB();
            };
            na.prototype.lq = function(F) {
                this.aB();
                if (F.domEvent.button === 0) {
                    var bM = this.J.bV();
                    this.iW = bM.get_cursor();
                    bM.set_cursor(this.ai);
                    this.bG = true;
                    this.L = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);
                    this.L.get_points().setPoint(0, F.imagePoint);
                    this.L.get_points().setPoint(1, F.imagePoint);
                    this.J.oa(this.L);
                    this.ro = F.imagePoint;
                    this.sP = F.windowPoint;
                }
            };
            na.prototype.jV = function(F) {
                if (F.domEvent.button !== 0) {
                    this.aB();
                }
                if (this.bG) {
                    this.L.get_points().setPoint(1, F.imagePoint);
                    this.J.dv();
                }
            };
            na.prototype.lh = function(F) {
                if (this.bG && F.domEvent.button === 0) {
                    var fM = F.windowPoint.x - this.sP.x;
                    var hG = fM * fM;
                    fM = F.windowPoint.y - this.sP.y;
                    hG += fM * fM;
                    if (hG > 25) {
                        var J = this.J;
                        var qH = {
                            clientX: F.domEvent.clientX,
                            clientY: F.domEvent.clientY
                        };
                        this.L.get_points().setPoint(1, F.imagePoint);
                        this.J.oa(null);
                        this.J.eg().addMark(this.L, qH);
                        J.dv();
                    }
                }
                this.aB();
            };
            na.prototype.oK = function(F) {
                var bD = this.J.eT();
                if (F.windowPoint.x <= 0 || F.windowPoint.x >= bD.width - 2) {
                    this.aB();
                }
                if (F.windowPoint.y <= 0 || F.windowPoint.y >= bD.height - 2) {
                    this.aB();
                }
            };
            na.prototype.mh = function() {
                this.aB();
            };
            module.exports = na;
        }, {}],
        14: [function(require, module, exports) {
            var kR = function(bP) {
                this.bG = false;
                this.J = false;
                this.bP = bP;
                switch (this.bP) {
                    case IPCC.Web.UI.MarkType.Polygon:
                        this.ai = IPCC.ar.AddPolygonMark;
                        break;
                    case IPCC.Web.UI.MarkType.Polyline:
                        this.ai = IPCC.ar.AddPolylineMark;
                        this.aaw = false;
                        break;
                }
            };
            kR.prototype.mq = function(J) {
                J.bV().set_cursor(this.ai);
                this.J = J;
            };
            kR.prototype.ek = function() {
                this.J = false;
            };
            kR.prototype.aB = function() {
                if (this.bG) {
                    if (arguments[0]) {
                        if (arguments[0] === true) {
                            if (this.L && this.aaw === false) {
                                this.J.eg().addMark(this.L);
                                this.aaw = true;
                                this.J.dv();
                            }
                        }
                    }
                    this.L = null;
                    this.J.oa(null);
                    this.J.bV().set_cursor(this.iW);
                    this.bG = false;
                    this.J.dv();
                }
            };
            kR.prototype.rG = function() {
                this.aB();
            };
            kR.prototype.lq = function(F) {
                if (F.domEvent.button === 0) {
                    if (!this.bG) {
                        var bM = this.J.bV();
                        this.iW = bM.get_cursor();
                        bM.set_cursor(this.ai);
                        this.bG = true;
                        this.L = new IPCC.Web.UI.Mark(this.bP);
                        this.L.get_points().addPoint(F.imagePoint);
                        this.J.oa(this.L);
                    }
                    var bF = this.L.get_points();
                    if (bF.get_length() > 0) {
                        bF.setPoint(bF.get_length() - 1, F.imagePoint);
                    }
                    bF.addPoint(F.imagePoint);
                    this.ro = F.imagePoint;
                    this.sP = F.windowPoint;
                    this.J.dv();
                } else {
                    this.aB();
                }
            };
            kR.prototype.zA = function(F) {
                if (this.bG && F.domEvent.button === 0) {
                    var bF = this.L.get_points(),
                        ds = bF.get_length(),
                        RX, RN;
                    if (ds > 2) {
                        var aeK = true;
                        while (aeK) {
                            ds = bF.get_length();
                            RX = bF.getPoint(ds - 1);
                            RN = bF.getPoint(ds - 2);
                            if (RX.x === RN.x && RX.y === RN.y) {
                                bF.removePoint(ds - 1);
                            } else {
                                aeK = false;
                            }
                        }
                    }
                    if (bF.get_length() > 0) {
                        bF.setPoint(bF.get_length() - 1, F.imagePoint);
                    }
                    this.J.oa(null);
                    var qH = {
                        clientX: F.domEvent.clientX,
                        clientY: F.domEvent.clientY
                    };
                    this.J.eg().addMark(this.L, qH);
                    this.aaw = true;
                    this.J.dv();
                }
                this.aB();
            };
            kR.prototype.jV = function(F) {
                if (F.domEvent.button !== 0) {
                    this.aB();
                }
                if (this.bG) {
                    var bF = this.L.get_points();
                    if (bF.get_length() > 0) {
                        bF.setPoint(bF.get_length() - 1, F.imagePoint);
                    }
                    this.J.dv();
                }
            };
            kR.prototype.oK = function(F) {
                var bD = this.J.eT();
                if (F.windowPoint.x <= 0 || F.windowPoint.x >= bD.width - 2) {
                    this.aB();
                }
                if (F.windowPoint.y <= 0 || F.windowPoint.y >= bD.height - 2) {
                    this.aB();
                }
            };
            kR.prototype.mh = function() {
                this.aB();
            };
            module.exports = kR;
        }, {}],
        15: [function(require, module, exports) {
            var fJ = function(bP) {
                this.bG = false;
                this.J = false;
                this.bP = bP;
                switch (this.bP) {
                    case IPCC.Web.UI.MarkType.Rectangle:
                        this.ai = IPCC.ar.AddRectangleMark;
                        break;
                    case IPCC.Web.UI.MarkType.Ellipse:
                        this.ai = IPCC.ar.AddEllipseMark;
                        break;
                    case IPCC.Web.UI.MarkType.Text:
                    case IPCC.Web.UI.MarkType.TextLine:
                    case IPCC.Web.UI.MarkType.TextAreaSignature:
                        this.ai = IPCC.ar.AddTextMark;
                        break;
                    case IPCC.Web.UI.MarkType.Stamp:
                        this.ai = IPCC.ar.AddStampMark;
                        break;
                    case IPCC.Web.UI.MarkType.ImageStampAnnotation:
                    case IPCC.Web.UI.MarkType.ImageStampRedaction:
                        this.ai = IPCC.ar.AddImageStampMark;
                        break;
                    case IPCC.Web.UI.MarkType.RectangleRedaction:
                        this.ai = IPCC.ar.AddRectangleRedactionMark;
                        break;
                    case IPCC.Web.UI.MarkType.Highlight:
                    case IPCC.Web.UI.MarkType.HighlightText:
                    case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                    case IPCC.Web.UI.MarkType.Strikethrough:
                        this.ai = IPCC.ar.AddRectangleMark;
                        break;
                }
            };
            fJ.prototype.mq = function(J) {
                J.bV().set_cursor(this.ai);
                this.J = J;
            };
            fJ.prototype.ek = function() {
                this.J = false;
            };
            fJ.prototype.aB = function() {
                if (this.bG) {
                    this.L = null;
                    this.J.oa(null);
                    this.J.bV().set_cursor(this.iW);
                    this.bG = false;
                    this.J.dv();
                }
            };
            fJ.prototype.rG = function() {
                this.aB();
            };
            fJ.prototype.lq = function(F) {
                this.aB();
                if (F.domEvent.button === 0) {
                    var bM = this.J.bV();
                    this.iW = bM.get_cursor();
                    bM.set_cursor(this.ai);
                    this.bG = true;
                    this.L = new IPCC.Web.UI.Mark(this.bP);
                    this.L.set_rectangle({
                        x: F.imagePoint.x,
                        y: F.imagePoint.y,
                        width: 0,
                        height: 0
                    });
                    this.J.oa(this.L);
                    this.ro = F.imagePoint;
                    this.sP = F.windowPoint;
                }
            };
            fJ.prototype.jV = function(F) {
                if (F.domEvent.button !== 0) {
                    this.aB();
                }
                if (this.bG) {
                    var mt = {
                        x: Math.min(F.imagePoint.x, this.ro.x),
                        y: Math.min(F.imagePoint.y, this.ro.y)
                    };
                    mt.width = Math.max(F.imagePoint.x, this.ro.x) - mt.x;
                    mt.height = Math.max(F.imagePoint.y, this.ro.y) - mt.y;
                    this.L.set_rectangle(mt);
                    this.J.dv();
                }
            };
            fJ.prototype.lh = function(F) {
                if (this.bG && F.domEvent.button === 0) {
                    var fM = F.windowPoint.x - this.sP.x;
                    var hG = fM * fM;
                    fM = F.windowPoint.y - this.sP.y;
                    hG += fM * fM;
                    if (hG > 25) {
                        var mt = {
                            x: Math.min(F.imagePoint.x, this.ro.x),
                            y: Math.min(F.imagePoint.y, this.ro.y)
                        };
                        mt.width = Math.max(F.imagePoint.x, this.ro.x) - mt.x;
                        mt.height = Math.max(F.imagePoint.y, this.ro.y) - mt.y;
                        this.J.oa(null);
                        this.L.set_rectangle(mt);
                        var aC = this.L;
                        var J = this.J;
                        var qH = {
                            clientX: F.domEvent.clientX,
                            clientY: F.domEvent.clientY
                        };
                        this.J.eg().addMark(this.L, qH);
                        if (aC.jh() === IPCC.Web.UI.MarkType.Text || aC.jh() === IPCC.Web.UI.MarkType.TextLine || aC.jh() === IPCC.Web.UI.MarkType.TextAreaSignature) {
                            J.yq(aC);
                        }
                        J.dv();
                    }
                }
                this.aB();
            };
            fJ.prototype.oK = function(F) {
                var bD = this.J.eT();
                if (F.windowPoint.x <= 0 || F.windowPoint.x >= bD.width - 2) {
                    this.aB();
                }
                if (F.windowPoint.y <= 0 || F.windowPoint.y >= bD.height - 2) {
                    this.aB();
                }
            };
            fJ.prototype.mh = function() {
                this.aB();
            };
            module.exports = fJ;
        }, {}],
        16: [function(require, module, exports) {
            var dP = {};
            var atM = require('./ArtUIDirector');
            var QV = require('./ArtSVGUIDirector');
            dP.vN = {
                JP: function() {
                    var vB = IPCC.dP.vN;
                    if (vB.uo === null) {
                        /*@cc_on@if(@_jscript)vB.uo=document.documentMode>8;@else@*/
                        vB.uo = true; /*@end@*/
                    }
                    return vB.uo;
                },
                uo: null
            };
            dP.DE = 1;
            dP.ck = atM;
            dP.QV = QV;
            module.exports = dP;
        }, {
            "./ArtSVGUIDirector": 17,
            "./ArtUIDirector": 18
        }],
        17: [function(require, module, exports) {
            var ahP = function() {};
            ahP.prototype = {
                aoV: function(J, bn, bz) {
                    this.J = J;
                    this.bM = J.bV();
                    this.bn = bn;
                    this.fw = bz.width;
                    this.fL = bz.height;
                    this.Gt = bz.fS;
                    this.aHq = bz.gO;
                    bn.EV = this.dk('g');
                    this.dc(bn.EV, {
                        'fill-opacity': 1
                    });
                    bn.AU.appendChild(bn.EV);
                },
                anB: function(h) {
                    var it = '',
                        R, V = this;
                    switch (h.L.get_type()) {
                        case IPCC.Web.UI.MarkType.Rectangle:
                            h.bo = this.dk('rect');
                            if (h.L.jR() && h.L.get_opacity() === 255) {
                                h.bo.addEventListener("mouseover", function(F) {
                                    if (h.L.get_selected() === false && h.bo && (F.which === 0 || F.buttons === 0)) {
                                        h.bo.style.opacity = 127 / 255;
                                    }
                                }, false);
                                h.bo.addEventListener("mouseout", function(F) {
                                    if (h.bo && (F.which === 0 || F.buttons === 0)) {
                                        h.bo.style.opacity = h.L.get_opacity() / 255;
                                    }
                                }, false);
                            }
                            break;
                        case IPCC.Web.UI.MarkType.HighlightText:
                            it = "highlighttextannotation-" + h.L.km();
                            h.bo = this.dk('g');
                            h.jg = this.dk('g');
                            h.bo.appendChild(h.jg);
                            h.jJ = this.dk('g');
                            h.jJ.setAttribute('data-pcc-mark', it);
                            h.bo.appendChild(h.jJ);
                            break;
                        case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:
                            it = "texthyperlinkannotation-" + h.L.km();
                            h.bo = this.dk('g');
                            h.bo.style.cursor = IPCC.ar.ei(IPCC.ar.Link);
                            h.jg = this.dk('g');
                            h.bo.appendChild(h.jg);
                            h.jJ = this.dk('g');
                            h.jJ.style.opacity = IPCC.dP.ck.aiw();
                            h.jJ.style.fill = "blue";
                            h.jJ.setAttribute('data-pcc-mark', it);
                            h.bo.appendChild(h.jJ);
                            h.kV = this.dk('g');
                            h.kV.style.stroke = "blue";
                            h.kV.style.opacity = IPCC.dP.ck.Fk(false);
                            h.kV.setAttribute('data-pcc-mark', it);
                            h.bo.appendChild(h.kV);
                            h.bo.addEventListener("mouseover", function(F) {
                                if (h.kV) {
                                    h.kV.style.opacity = IPCC.dP.ck.Fk(true, h.L.get_selected());
                                }
                            }, false);
                            h.bo.addEventListener("mouseout", function(F) {
                                if (h.kV) {
                                    h.kV.style.opacity = IPCC.dP.ck.Fk(false, h.L.get_selected());
                                }
                            }, false);
                            break;
                        case IPCC.Web.UI.MarkType.DocumentHyperlink:
                            it = "documenthyperlink-" + h.L.km();
                            h.bo = this.dk('g');
                            h.bo.style.cursor = IPCC.ar.ei(IPCC.ar.Link);
                            h.R = this.dk('rect');
                            h.R.style['fill-opacity'] = IPCC.dP.ck.aiw();
                            if (h.L.NJ !== 'Underline') {
                                h.R.style.stroke = h.L.kL;
                                h.R.style['stroke-width'] = h.L.eS + 'px';
                                h.R.style['stroke-opacity'] = (h.L.eS === 0) ? 0 : h.L.rv / 255;
                                if (h.L.NJ === 'Dashed') {
                                    h.R.style['stroke-dasharray'] = h.L.Ah.join(', ');
                                }
                                h.R.setAttribute('rx', h.L.Ia);
                                h.R.setAttribute('ry', h.L.GP);
                            } else {
                                h.uV = this.dk('line');
                                h.uV.style.stroke = h.L.kL;
                                h.uV.style['stroke-opacity'] = h.L.rv / 255;
                                h.uV.style['stroke-width'] = h.L.eS + 'px';
                                h.bo.appendChild(h.uV);
                            }
                            h.R.style.fill = 'transparent';
                            h.R.setAttribute('data-pcc-mark', it);
                            h.bo.appendChild(h.R);
                            break;
                        case IPCC.Web.UI.MarkType.RectangleRedaction:
                            it = "textmark-" + h.L.km();
                            h.bo = this.dk('g');
                            h.fu = this.dk('rect');
                            h.fZ = this.dk('g');
                            h.fZ.setAttribute('data-pcc-mark', it);
                            if (IPCC.T.so.axD) {
                                h.fZ.style.cursor = 'pointer';
                            }
                            h.Ak = document.createTextNode('');
                            if (document.documentMode > 8 || IPCC.T.so.tS) {
                                h.ct = this.dk('text');
                                h.ct.setAttribute('data-pcc-mark', it);
                                h.ct.appendChild(h.Ak);
                                h.zq = this.dk('clipPath');
                                h.DV = this.dk('rect');
                                h.fZ.appendChild(h.zq);
                                h.zq.appendChild(h.DV);
                                h.fZ.appendChild(h.ct);
                                h.Fo = "PCC" + IPCC.dP.DE;
                                IPCC.dP.DE++;
                                this.dc(h.zq, {
                                    id: h.Fo,
                                    clipPathUnits: "userSpaceOnUse"
                                });
                                R = h.L.get_rectangle();
                                this.dc(h.DV, {
                                    x: 0,
                                    y: 0,
                                    width: R.width,
                                    height: R.height,
                                    "data-pcc-mark": it
                                });
                                var aco = function(F) {
                                    if (h.L.get_selected() === false && h.fu && (F.which === 0 || F.buttons === 0)) {
                                        if (V.J.oA() === false) {
                                            h.bo.style.opacity = 0.5;
                                            h.ct.style.opacity = 0;
                                        }
                                    }
                                };
                                h.bo.addEventListener("mouseover", function(F) {
                                    aco(F);
                                }, false);
                                h.fZ.addEventListener("mouseover", function(F) {
                                    aco(F);
                                }, false);
                                h.fZ.addEventListener("mouseout", function(F) {
                                    if (h.fu && (F.which === 0 || F.buttons === 0)) {
                                        if (V.J.oA() === false) {
                                            h.bo.style.opacity = 1;
                                            h.ct.style.opacity = 1;
                                        }
                                    }
                                }, false);
                                h.bo.addEventListener("mouseout", function(F) {
                                    if (h.fu && (F.which === 0 || F.buttons === 0)) {
                                        if (V.J.oA() === false) {
                                            h.bo.style.opacity = 1;
                                            h.ct.style.opacity = 1;
                                        }
                                    }
                                }, false);
                            } else {
                                h.oc = document.createElement('div');
                                this.dc(h.oc, {
                                    "data-pcc-mark": it
                                });
                                h.oc.appendChild(h.Ak);
                                h.Mh = document.createElement('div');
                                this.dc(h.Mh, {
                                    "data-pcc-mark": it
                                });
                                h.Mh.appendChild(h.oc);
                                h.sj = document.createElement('body');
                                this.dc(h.sj, {
                                    xmlns: 'http://www.w3.org/1999/xhtml',
                                    style: 'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',
                                    "data-pcc-mark": it
                                });
                                h.sj.appendChild(h.Mh);
                                h.CQ = this.dk('foreignObject');
                                h.CQ.appendChild(h.sj);
                                h.fZ.appendChild(h.CQ);
                                h.sj.addEventListener("mouseover", function(F) {
                                    if (h.L.get_selected() === false && h.fu && (F.which === 0 || F.buttons === 0)) {
                                        h.fu.style.opacity = 0.5;
                                        h.oc.style.opacity = 0;
                                    }
                                }, false);
                                h.sj.addEventListener("mouseout", function(F) {
                                    if (h.fu && (F.which === 0 || F.buttons === 0)) {
                                        if (V.J.oA() === false) {
                                            h.fu.style.opacity = 1;
                                            h.oc.style.opacity = 1;
                                        }
                                    }
                                }, false);
                            }
                            h.bo.appendChild(h.fu);
                            break;
                        case IPCC.Web.UI.MarkType.Ellipse:
                            h.bo = this.dk('ellipse');
                            break;
                        case IPCC.Web.UI.MarkType.Highlight:
                            h.bo = this.dk('rect');
                            break;
                        case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                            h.bo = this.dk('g');
                            h.jg = h.bo;
                            break;
                        case IPCC.Web.UI.MarkType.Line:
                        case IPCC.Web.UI.MarkType.Polyline:
                            h.bo = this.dk('g');
                            h.sG = this.dk('polyline');
                            h.VG = this.dk('path');
                            h.YO = this.dk('path');
                            h.bo.appendChild(h.sG);
                            h.bo.appendChild(h.VG);
                            h.bo.appendChild(h.YO);
                            h.sG.setAttribute('stroke-linejoin', 'miter');
                            h.sG.setAttribute('stroke-linecap', 'butt');
                            h.sG.setAttribute('stroke-miterlimit', '4');
                            break;
                        case IPCC.Web.UI.MarkType.Polygon:
                            h.bo = this.dk('polygon');
                            break;
                        case IPCC.Web.UI.MarkType.Text:
                        case IPCC.Web.UI.MarkType.TextAreaSignature:
                            it = "textmark-" + h.L.km();
                            h.bo = this.dk('g');
                            h.EY = this.dk('polygon');
                            h.sG = this.dk('path');
                            h.ZC = this.dk('path');
                            h.fZ = this.dk('g');
                            h.bo.appendChild(h.EY);
                            h.bo.appendChild(h.sG);
                            h.bo.appendChild(h.ZC);
                            this.dc(h.EY, {
                                style: 'stroke:none;'
                            });
                            h.fZ.setAttribute('data-pcc-mark', it);
                            h.Ak = document.createTextNode('');
                            if (document.documentMode > 8 || IPCC.T.so.tS) {
                                h.ct = this.dk('text');
                                h.ct.setAttribute('data-pcc-mark', it);
                                h.ct.appendChild(h.Ak);
                                h.zq = this.dk('clipPath');
                                h.DV = this.dk('rect');
                                h.fZ.appendChild(h.zq);
                                h.zq.appendChild(h.DV);
                                h.ajD = this.dk('g');
                                h.fZ.appendChild(h.ajD);
                                h.fZ.appendChild(h.ct);
                                h.Fo = "PCC" + IPCC.dP.DE;
                                IPCC.dP.DE++;
                                this.dc(h.zq, {
                                    id: h.Fo,
                                    clipPathUnits: "userSpaceOnUse"
                                });
                                R = h.L.get_rectangle();
                                this.dc(h.DV, {
                                    x: 0,
                                    y: 0,
                                    width: R.width,
                                    height: R.height,
                                    "data-pcc-mark": it
                                });
                            } else {
                                h.oc = document.createElement('div');
                                h.oc.appendChild(h.Ak);
                                h.sj = document.createElement('body');
                                this.dc(h.sj, {
                                    xmlns: 'http://www.w3.org/1999/xhtml',
                                    style: 'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',
                                    "data-pcc-mark": it
                                });
                                h.sj.appendChild(h.oc);
                                h.CQ = this.dk('foreignObject');
                                h.CQ.appendChild(h.sj);
                                h.fZ.appendChild(h.CQ);
                            }
                            h.EY.setAttribute('data-pcc-mark', it);
                            break;
                        case IPCC.Web.UI.MarkType.Stamp:
                            h.bo = this.dk('g');
                            h.wW = this.dk('rect');
                            h.wW.style = 'fill:rgba(255, 255, 255, 0);stroke:none;';
                            h.fu = this.dk('rect');
                            h.GW = this.Wi(h);
                            h.bo.appendChild(h.wW);
                            h.bo.appendChild(h.fu);
                            h.bo.appendChild(h.GW);
                            break;
                        case IPCC.Web.UI.MarkType.ImageStampAnnotation:
                        case IPCC.Web.UI.MarkType.ImageStampRedaction:
                            h.bo = this.dk('g');
                            h.wW = this.dk('rect');
                            h.wW.style = 'fill:rgba(255, 255, 255, 0);stroke:none;';
                            h.fu = this.dk('rect');
                            h.agm = this.aoW(h);
                            h.agm.setAttribute('data-pcc-mark', "mark-" + h.L.km());
                            h.bo.appendChild(h.wW);
                            h.bo.appendChild(h.fu);
                            h.bo.appendChild(h.agm);
                            break;
                        case IPCC.Web.UI.MarkType.SignaturePath:
                        case IPCC.Web.UI.MarkType.Freehand:
                            var L = h.L;
                            var aeF = L.eA();
                            var ag = aeF.width;
                            var aH = aeF.height;
                            var IQ = L.get_pathWidth();
                            var IR = L.get_pathHeight();
                            var uY = L.get_pathString();
                            var hm = IPCC.T.AM.Path(uY, {
                                width: ag,
                                height: aH,
                                multiplier: 100,
                                thickness: L.get_lineWidth(),
                                color: L.get_lineColor()
                            });
                            var fz = IPCC.T.AM.SVG('0 0 ' + IQ + ' ' + IR, 100);
                            var ap = IPCC.T.AM.Rect(IQ, IR, 'fill:rgba(255, 255, 255, 0);stroke:none;');
                            fz.appendChild(ap);
                            fz.appendChild(hm);
                            h.bo = fz;
                            h.axE = hm;
                            h.acz = ap;
                            this.abP(h.bo, L.iA);
                            break;
                        case IPCC.Web.UI.MarkType.SignatureText:
                            h.bo = this.dk('g');
                            h.fu = this.dk('rect');
                            h.fu.style = 'fill:rgba(255, 255, 255, 0);stroke:none;';
                            h.GW = this.Wi(h);
                            h.bo.appendChild(h.fu);
                            h.bo.appendChild(h.GW);
                            h.L.jw = false;
                            break;
                        case IPCC.Web.UI.MarkType.TextLine:
                            h.bo = this.dk('g');
                            h.fu = this.dk('rect');
                            h.fu.style = 'fill:rgba(255, 255, 255, 0);stroke:none;';
                            h.GW = this.Wi(h);
                            h.bo.appendChild(h.fu);
                            h.bo.appendChild(h.GW);
                            break;
                        case IPCC.Web.UI.MarkType.Strikethrough:
                            it = "strikethroughannotation-" + h.L.km();
                            h.bo = this.dk('g');
                            h.jg = this.dk('g');
                            h.bo.appendChild(h.jg);
                            h.jJ = this.dk('g');
                            h.jJ.setAttribute('data-pcc-mark', it);
                            h.bo.appendChild(h.jJ);
                            h.vA = this.dk('g');
                            h.vA.setAttribute('data-pcc-mark', it);
                            h.bo.appendChild(h.vA);
                            break;
                    }
                    h.bo.ImGearMarkRelation = h;
                    h.bo.setAttribute('data-pcc-mark', "mark-" + h.L.km());
                    this.bn.EV.appendChild(h.bo);
                    if (h.fZ) {
                        h.fZ.ImGearMarkRelation = h;
                        this.bn.EV.appendChild(h.fZ);
                    }
                    this.abW(h);
                },
                Wi: function(h) {
                    var L = h.L;
                    var Dn = L.bv;
                    if (!Dn) {
                        Dn = L.cR[0];
                        if (!Dn) {
                            if (L.get_type() === IPCC.Web.UI.MarkType.Stamp) {
                                Dn = "APPROVED";
                            } else {
                                Dn = "";
                            }
                        }
                    }
                    var R = L.eA();
                    h.ct = this.dk('text');
                    h.Fo = "PCC" + IPCC.dP.DE;
                    IPCC.dP.DE++;
                    var nd = document.createTextNode(Dn);
                    h.ct.setAttribute("font-size", "22px");
                    if (L.get_type() === IPCC.Web.UI.MarkType.TextLine) {
                        h.ct.setAttribute("style", 'white-space:pre;');
                    }
                    switch (h.L.iA) {
                        case IPCC.Web.UI.HorizontalAlignment.Left:
                            h.ct.setAttribute('text-anchor', 'start');
                            h.ct.setAttribute('x', R.x);
                            break;
                        case IPCC.Web.UI.HorizontalAlignment.Right:
                            h.ct.setAttribute('text-anchor', 'end');
                            h.ct.setAttribute("x", R.x + R.width);
                            break;
                        default:
                            h.ct.setAttribute('text-anchor', 'middle');
                            h.ct.setAttribute("x", R.x + (R.width / 2));
                            break;
                    }
                    h.ct.setAttribute('y', R.y + (R.height / 2));
                    h.ct.appendChild(nd);
                    return h.ct;
                },
                aoW: function(h) {
                    var L = h.L;
                    h.ahJ = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                    h.yh = document.createElementNS('http://www.w3.org/2000/svg', 'image');
                    h.yh.setAttribute('id', 'childimg');
                    h.yh.setAttributeNS('http://www.w3.org/1999/xlink', 'href', L.get_image());
                    h.ahJ.appendChild(h.yh);
                    return h.ahJ;
                },
                aoi: function(h, iA) {
                    var L = h.L;
                    var R = L.eA();
                    var bv = L.bv;
                    var GZ = bv.split('\n');
                    var ct = h.ct;
                    var WE = 0;
                    var Xb = 0;
                    var aaR = 0;
                    var wO = 0;
                    var alr = 0;
                    var amB = this.Gt / 72;
                    var abY = L.cu * amB;
                    var yA = [];
                    var aAF = /(.*\s)(.*)/;
                    var nd, hV, HA, Fi, _parent, adV, Fp, Jr, acA, Ae, agZ, BA;
                    adV = ct.childNodes.length;
                    if (adV >= 1) {
                        _parent = ct.parentNode;
                        Fp = this.dk('text');
                        Fp.setAttribute('data-pcc-mark', h.fZ.getAttribute('data-pcc-mark'));
                        Fp.setAttribute('width', h.fZ.getAttribute('width') - h.L.eS);
                        _parent.replaceChild(Fp, ct);
                        h.ct = Fp;
                        h.ct.appendChild(h.Ak);
                        h.fZ.appendChild(h.ct);
                        ct = {};
                        ct = h.ct;
                    }
                    ct.style.fontSize = L.cu * this.Gt / 72 + 'px';
                    ct.style.fontFamily = L.hH;
                    ct.width -= 4;
                    Jr = (L.eS / 2);
                    if (iA) {
                        switch (iA) {
                            case IPCC.Web.UI.HorizontalAlignment.Center:
                                Jr = (R.width / 2) - (L.eS / 2);
                                break;
                            case IPCC.Web.UI.HorizontalAlignment.Right:
                                Jr = R.width - L.eS;
                                break;
                        }
                    }
                    for (var C = 0; C < GZ.length; C++) {
                        Ae = '';
                        agZ = 1;
                        if (GZ[C].length > 0) {
                            HA = GZ[C].split('');
                            hV = this.dk('tspan');
                            hV.setAttributeNS(null, "x", Jr);
                            if (C > 0) {
                                hV.setAttributeNS(null, "dy", abY * (aaR + 1));
                            }
                            nd = window.document.createTextNode(HA[0]);
                            hV.appendChild(nd);
                            ct.appendChild(hV);
                            for (var ba = 1; ba < HA.length; ba++) {
                                alr = hV.firstChild.data.length;
                                Fi = HA[ba];
                                hV.firstChild.data += HA[ba];
                                Ae += Fi;
                                acA = Ae.length * (L.cu * amB);
                                WE = hV.getComputedTextLength();
                                if (WE === 0) {
                                    Xb = acA;
                                } else {
                                    Xb = WE;
                                }
                                if (Xb >= (R.width - L.eS - 2)) {
                                    agZ++;
                                    Ae = '';
                                    BA = hV.firstChild.data.match(aAF);
                                    if (BA) {
                                        Fi = BA[2];
                                    }
                                    if (BA && BA[1].length > 0) {
                                        hV.firstChild.data = BA[1];
                                        Ae += Fi;
                                    } else {
                                        hV.firstChild.data = hV.firstChild.data.slice(0, alr);
                                        Ae += Fi;
                                    }
                                    if (Ae.length >= 1) {
                                        yA.push({
                                            aT: wO,
                                            aft: hV
                                        });
                                        hV = this.dk('tspan');
                                        hV.setAttributeNS(null, "x", Jr);
                                        hV.setAttributeNS(null, "dy", abY);
                                        nd = window.document.createTextNode(Fi);
                                        hV.appendChild(nd);
                                        ct.appendChild(hV);
                                    }
                                }
                            }
                            if (hV.firstChild.data.length > 0) {
                                yA.push({
                                    aT: wO,
                                    aft: hV
                                });
                            }
                            wO += hV.firstChild.data.length + 1;
                            aaR = 0;
                        } else {
                            aaR++;
                        }
                    }
                    return yA;
                },
                avF: function(kB, aeH, jg, wO) {
                    if (kB.length > 0) {
                        var alX = aeH.getNumberOfChars();
                        if (kB[0].aT > wO + alX) {
                            return;
                        }
                        for (var C = Math.max(kB[0].aT - wO, 0); C < alX; C++) {
                            var R = aeH.getExtentOfChar(C);
                            var ap = this.dk('rect');
                            this.dc(ap, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height,
                                fill: kB[0].Eh
                            });
                            jg.appendChild(ap);
                            if (kB[0].dr === C + wO) {
                                kB.shift();
                                if (kB.length === 0) {
                                    return;
                                }
                                C = kB[0].aT - wO - 1;
                            }
                        }
                    }
                },
                Gm: function(db, sr, sp) {
                    var hm = 'M',
                        C;
                    for (C = 0; C < sr.length; C++) {
                        if (C > 0) {
                            hm += ' L';
                        }
                        hm += sr[C].x + ',' + sr[C].y;
                    }
                    if (sp) {
                        hm += 'Z';
                    }
                    this.dc(db, {
                        d: hm
                    });
                },
                YA: function(db, sr, sp) {
                    var PU = '',
                        C;
                    for (C = 0; C < sr.length; C++) {
                        if (C > 0) {
                            PU += ' ';
                        }
                        PU += sr[C].x + ',' + sr[C].y;
                    }
                    if (sp && sr.length > 2) {
                        PU += ' ' + sr[0].x + ',' + sr[0].y;
                    }
                    this.dc(db, {
                        points: PU
                    });
                },
                adh: function(gg, jL, zp, rs, zF, Vh, FC) {
                    var dK = this.aqK(gg, jL, zp, rs, zF);
                    var eF = '';
                    eF += 'stroke:' + Vh + ';';
                    switch (zF) {
                        case IPCC.Web.UI.LineHeadType.None:
                            eF = 'display:none;';
                            break;
                        case IPCC.Web.UI.LineHeadType.Pointer:
                            this.Gm(FC, [dK.Gj, gg, dK.Fl], false);
                            break;
                        case IPCC.Web.UI.LineHeadType.Solid:
                            this.Gm(FC, [dK.Gj, gg, dK.Fl], true);
                            eF += 'fill:' + Vh + ';';
                            break;
                        case IPCC.Web.UI.LineHeadType.Open:
                            this.Gm(FC, [dK.Gj, gg, dK.Fl], true);
                            break;
                        case IPCC.Web.UI.LineHeadType.PointerSolid:
                            this.Gm(FC, [dK.Gj, gg, dK.Fl, dK.Gi], true);
                            eF += 'fill:' + Vh + ';';
                            break;
                    }
                    this.dc(FC, {
                        style: eF
                    });
                    return dK;
                },
                atY: function(h) {
                    var L = h.L;
                    var bF, ga, C, acd, aky, jz = '',
                        Ba;
                    bF = L.get_points();
                    ga = [];
                    for (C = 0; C < bF.get_length(); C++) {
                        ga.push(bF.getPoint(C));
                    }
                    if (ga.length < 2 || L.sp) {
                        this.dc(h.VG, {
                            style: 'display:none;'
                        });
                        this.dc(h.YO, {
                            style: 'display:none;'
                        });
                    } else {
                        L.zD = L.kL;
                        Ba = this.ake(ga, true);
                        acd = this.adh(Ba.gg, Ba.jL, L.FH, L.ES, L.Gd, L.zD, h.VG);
                        Ba = this.ake(ga, false);
                        aky = this.adh(Ba.gg, Ba.jL, L.JB, L.JO, L.mv, L.zD, h.YO);
                        ga[0] = acd.Gi;
                        ga[ga.length - 1] = aky.Gi;
                    }
                    this.YA(h.sG, ga, L.sp);
                    var xG = this.ZI(L.jz);
                    if (xG !== '') {
                        jz += 'stroke-dasharray:' + xG + ';';
                    }
                    this.dc(h.sG, {
                        style: jz
                    });
                },
                aeT: function(h) {
                    var Bo = this.apI(h);
                    this.YA(h.EY, Bo.ahY, false);
                    var ahR = '',
                        jz = 'fill:none;',
                        ss = 'fill:none;';
                    if (Bo.Vr) {
                        ahR = 'stroke:none;';
                    }
                    if (Bo.ZP) {
                        this.Gm(h.sG, Bo.ZP, false);
                    } else {
                        jz += 'display:none;';
                    }
                    if (Bo.KX) {
                        this.Gm(h.ZC, Bo.KX, false);
                    } else {
                        ss += 'display:none;';
                    }
                    var L = h.L;
                    if (L.CL) {
                        ss += 'stroke:' + L.Dr + ';stroke-width:' + L.Eq + ';';
                        var xG = this.ZI(L.ss);
                        if (xG !== '') {
                            ss += 'stroke-dasharray:' + xG + ';';
                        }
                    }
                    this.dc(h.sG, {
                        style: jz
                    });
                    this.dc(h.ZC, {
                        style: ss
                    });
                    this.dc(h.EY, {
                        style: ahR
                    });
                },
                UU: function(h) {
                    var L = h.L,
                        Di;
                    if (!L) {
                        return;
                    }
                    var R = L.eA();
                    var DI = L.cu * this.Gt / 72;
                    L.DI = DI;
                    var sU = R.width,
                        pA = R.height,
                        Hg = false,
                        fM;
                    var hb, ew = 0,
                        et = 0;
                    var tI = 1;
                    if (L.jw) {
                        tI += L.eS / 2;
                    }
                    switch (L.zd) {
                        case IPCC.Web.UI.Orientation.TopLeft:
                            hb = '1,0,0,1';
                            break;
                        case IPCC.Web.UI.Orientation.TopRight:
                            hb = '-1,0,0,1';
                            ew = sU - tI;
                            break;
                        case IPCC.Web.UI.Orientation.BottomRight:
                            hb = '-1,0,0,-1';
                            ew = sU - tI;
                            et = pA - tI;
                            break;
                        case IPCC.Web.UI.Orientation.BottomLeft:
                            hb = '1,0,0,-1';
                            et = pA - tI;
                            break;
                        case IPCC.Web.UI.Orientation.LeftTop:
                            hb = '0,1,1,0';
                            Hg = true;
                            break;
                        case IPCC.Web.UI.Orientation.RightTop:
                            hb = '0,1,-1,0';
                            ew = sU - tI;
                            Hg = true;
                            break;
                        case IPCC.Web.UI.Orientation.RightBottom:
                            hb = '0,-1,-1,0';
                            ew = sU - tI;
                            et = pA - tI;
                            Hg = true;
                            break;
                        case IPCC.Web.UI.Orientation.LeftBottom:
                            hb = '0,-1,1,0';
                            et = pA - tI;
                            Hg = true;
                            break;
                    }
                    if (L.dR === "#c0c0c0") {
                        L.dR = '#ffffff';
                    }
                    if (L.get_type() === IPCC.Web.UI.MarkType.Text) {
                        if (L.jR() === true) {
                            L.dR = '#ffffff';
                        } else {
                            L.set_opacity(L.cT);
                        }
                    }
                    if (Hg) {
                        fM = sU;
                        sU = pA;
                        pA = fM;
                    }
                    if (sU < 0) {
                        sU = 0;
                    }
                    if (pA < 0) {
                        pA = 0;
                    }
                    var Xm = 'normal';
                    var cc = 'normal';
                    var pk = '';
                    var rS;
                    pk += 'word-wrap:break-word;background-color:transparent;line-height:1;';
                    var Ay = 0;
                    if (L.pO.length === 7 && L.pO.charAt(0) === '#') {
                        Ay = parseInt(L.pO.slice(1), 16);
                    }
                    var cT = Math.min(1, Math.max(0, L.AV / 255));
                    if (document.documentMode > 8 || IPCC.T.so.tS) {
                        cc = 'normal';
                        if (L.cc & IPCC.Web.UI.FontStyle.Italic) {
                            cc = 'italic';
                        }
                        Xm = 'normal';
                        if (L.cc & IPCC.Web.UI.FontStyle.Bold) {
                            Xm = 'bold';
                        }
                        rS = 'none';
                        if ((L.cc & IPCC.Web.UI.FontStyle.Underline) && (L.cc & IPCC.Web.UI.FontStyle.Strikeout)) {
                            rS = 'underline line-through';
                        } else if (L.cc & IPCC.Web.UI.FontStyle.Underline) {
                            rS = 'underline';
                        } else if (L.cc & IPCC.Web.UI.FontStyle.Strikeout) {
                            rS = 'line-through';
                        }
                    } else {
                        pk += 'color:rgba(' + (Ay >> 16) + ',' + ((Ay >> 8) & 255) + ',' + (Ay & 255) + ',' + cT + ');';
                        pk += 'font-family:' + L.hH + ';';
                        pk += 'font-size:' + DI + 'px;';
                        if (L.cc & IPCC.Web.UI.FontStyle.Italic) {
                            pk += 'font-style:italic;';
                        }
                        if (L.cc & IPCC.Web.UI.FontStyle.Bold) {
                            pk += 'font-weight:bold;';
                        }
                        if ((L.cc & IPCC.Web.UI.FontStyle.Underline) && (L.cc & IPCC.Web.UI.FontStyle.Strikeout)) {
                            pk += 'text-decoration:underline line-through;';
                        } else if (L.cc & IPCC.Web.UI.FontStyle.Underline) {
                            pk += 'text-decoration:underline;';
                        } else if (L.cc & IPCC.Web.UI.FontStyle.Strikeout) {
                            pk += 'text-decoration:line-through;';
                        }
                    }
                    var Eb = {
                        x: 2,
                        anchor: 'start'
                    };
                    switch (L.iA) {
                        case IPCC.Web.UI.HorizontalAlignment.Left:
                            pk += 'text-align:left;';
                            break;
                        case IPCC.Web.UI.HorizontalAlignment.Center:
                            pk += 'text-align:center;';
                            Eb.x = (R.width / 2) - 3;
                            Eb.anchor = 'middle';
                            break;
                        case IPCC.Web.UI.HorizontalAlignment.Right:
                            pk += 'text-align:right;';
                            Eb.x = R.width - 8;
                            Eb.anchor = 'end';
                            break;
                        default:
                            break;
                    }
                    if (typeof document.documentMode === 'undefined' && !IPCC.T.so.tS) {
                        switch (L.yO) {
                            case IPCC.Web.UI.VerticalAlignment.Center:
                                if (L.get_type() === IPCC.Web.UI.MarkType.RectangleRedaction) {
                                    this.dc(h.Mh, {
                                        style: 'display:table; width: 100%;'
                                    });
                                    pk += 'display: table-cell; white-space: normal; vertical-align: middle; height:' + pA + 'px;';
                                }
                                break;
                            case IPCC.Web.UI.VerticalAlignment.Bottom:
                                break;
                            default:
                                break;
                        }
                        this.dc(h.oc, {
                            style: pk + 'padding:2px;'
                        });
                        this.dc(h.fZ, {
                            transform: 'matrix(' + hb + ',' + (ew + R.x + (L.eS / 2)) + ',' + (et + R.y + (L.eS / 2)) + ')',
                        });
                        this.dc(h.CQ, {
                            x: 0,
                            y: 0,
                            width: sU > L.eS ? sU - L.eS : sU,
                            height: pA > L.eS ? pA - L.eS : pA,
                        });
                        this.atE(h);
                    } else {
                        var yA = this.aoi(h, L.iA);
                        var akj = yA.length;
                        switch (L.yO) {
                            case IPCC.Web.UI.VerticalAlignment.Center:
                                if (L.get_type() === IPCC.Web.UI.MarkType.RectangleRedaction) {
                                    Di = (R.height / 2) + (L.cu / 4);
                                    if (akj > 1) {
                                        Di -= (akj - 1) * (L.cu / 2);
                                    }
                                    if (Di < 0) {
                                        Di = L.cu;
                                    }
                                }
                                break;
                            case IPCC.Web.UI.VerticalAlignment.Bottom:
                                break;
                            default:
                                break;
                        }
                        this.dc(h.DV, {
                            x: 0,
                            y: 0,
                            width: R.width - L.eS,
                            height: R.height - L.eS
                        });
                        var api = "url(#" + h.Fo + ")";
                        var ZQ = {
                            x: Eb.x,
                            y: (this.Gt / 72) * L.cu,
                            width: R.width - L.eS,
                            height: R.height - L.eS,
                            'font-family': L.hH,
                            'font-size': DI,
                            fill: 'rgba(' + (Ay >> 16) + ', ' + ((Ay >> 8) & 255) + ', ' + (Ay & 255) + ', ' + cT + ')',
                            'font-weight': Xm,
                            'font-style': cc,
                            'text-decoration': rS,
                            'text-anchor': Eb.anchor
                        };
                        if (typeof Di !== 'undefined') {
                            delete ZQ.y;
                            ZQ.dy = Di;
                        }
                        this.dc(h.ct, ZQ);
                        h.ct.style.opacity = cT;
                        this.dc(h.fZ, {
                            transform: 'matrix(' + hb + ',' + (ew + R.x + (L.eS / 2)) + ',' + (et + R.y + (L.eS / 2)) + ')',
                            'clip-path': api
                        });
                        var jg = h.ajD;
                        while (jg && jg.firstChild) {
                            jg.removeChild(jg.firstChild);
                        }
                        if (L.eE) {
                            var kB = this.aeP(L.eE);
                            for (var C = 0; C < yA.length; C++) {
                                this.avF(kB, yA[C].aft, jg, yA[C].aT);
                            }
                        }
                    }
                },
                SJ: function(h) {
                    var L = h.L;
                    if (L.bA === null || L.bA === undefined) {
                        return;
                    }
                    if (L.bA.length === 0 && L.cq > 0 && this.J.ca().mY()) {
                        L.bA = IPCC.T.WD(this.J.ca().gT(), L.aT, L.aT + L.cq - 1);
                    }
                    if (!h.aT || !h.cq || h.aT !== L.aT || h.cq !== L.cq || L.bX === false || L.bX === true) {
                        while (h.jJ.firstChild) {
                            h.jJ.removeChild(h.jJ.firstChild);
                        }
                        if (h.kV) {
                            while (h.kV.firstChild) {
                                h.kV.removeChild(h.kV.firstChild);
                            }
                        }
                        if (h.vA) {
                            while (h.vA.firstChild) {
                                h.vA.removeChild(h.vA.firstChild);
                            }
                        }
                        if (L.bX === false) {
                            return;
                        }
                        IPCC.T.forEach(h.L.bA, function(gb) {
                            var WZ = this.dk('rect');
                            h.jJ.appendChild(WZ);
                            this.dc(WZ, {
                                x: gb.x,
                                y: gb.y,
                                width: gb.width,
                                height: gb.height
                            });
                            if (h.kV) {
                                var uV = this.dk('line');
                                this.dc(uV, {
                                    x1: gb.x,
                                    y1: gb.y + gb.height - 1,
                                    x2: gb.x + gb.width,
                                    y2: gb.y + gb.height - 1,
                                    "stroke-width": 2
                                });
                                h.kV.appendChild(uV);
                            }
                            if (h.vA) {
                                WZ.setAttribute('fill', 'transparent');
                                var acS = this.dk('line');
                                var strikethroughY = gb.y + (gb.height / 2);
                                this.dc(acS, {
                                    x1: gb.x,
                                    y1: strikethroughY,
                                    x2: gb.x + gb.width,
                                    y2: strikethroughY,
                                    stroke: h.L.kL,
                                    "stroke-width": h.L.eS
                                });
                                h.vA.appendChild(acS);
                            }
                        }, this);
                        h.aT = L.aT;
                        h.cq = L.cq;
                    }
                },
                abW: function(h) {
                    var L = h.L;
                    if (!L) {
                        return;
                    }
                    var bo = h.bo;
                    var R, eF = '',
                        bF, jw = true,
                        ma, wP, vi, aaz, uf, CW;
                    var ll = false;
                    switch (L.get_type()) {
                        case IPCC.Web.UI.MarkType.Line:
                        case IPCC.Web.UI.MarkType.Polyline:
                            ll = true;
                            this.atY(h);
                            break;
                        case IPCC.Web.UI.MarkType.Rectangle:
                            R = L.get_rectangle();
                            this.dc(bo, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height
                            });
                            break;
                        case IPCC.Web.UI.MarkType.HighlightText:
                            this.SJ(h);
                            h.jJ.style.fill = L.dR;
                            h.jJ.style.opacity = (L.cT / 255);
                            this.Rm(h);
                            break;
                        case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:
                            this.SJ(h);
                            h.jJ.style.fill = L.dR;
                            h.kV.style.stroke = L.dR;
                            if (h.L.get_selected()) {
                                h.kV.style.opacity = IPCC.dP.ck.Fk(false, h.L.get_selected());
                            } else {
                                h.kV.style.opacity = IPCC.dP.ck.Fk(false, h.L.get_selected());
                            }
                            this.Rm(h);
                            break;
                        case IPCC.Web.UI.MarkType.DocumentHyperlink:
                            R = L.get_rectangle();
                            this.dc(h.R, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height
                            });
                            if (h.uV) {
                                this.dc(h.uV, {
                                    x1: R.x,
                                    y1: R.y + R.height,
                                    x2: R.x + R.width,
                                    y2: R.y + R.height
                                });
                            }
                            break;
                        case IPCC.Web.UI.MarkType.RectangleRedaction:
                            if (typeof h.fu !== 'undefined') {
                                if (this.J.oA() === true) {
                                    h.fu.style.opacity = 0.5;
                                    if (typeof h.oc !== 'undefined') {
                                        h.oc.style.opacity = 0;
                                    } else {
                                        h.ct.style.opacity = 0;
                                    }
                                } else {
                                    h.fu.style.opacity = 1;
                                    if (typeof h.oc !== 'undefined') {
                                        h.oc.style.opacity = 1;
                                    }
                                }
                            }
                            R = L.get_rectangle();
                            this.dc(bo, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height
                            });
                            this.dc(h.fu, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height
                            });
                            if (this.J.oA() === false) {
                                this.UU(h);
                            }
                            break;
                        case IPCC.Web.UI.MarkType.Ellipse:
                            R = L.get_rectangle();
                            this.dc(bo, {
                                cx: R.x + R.width / 2,
                                cy: R.y + R.height / 2,
                                rx: R.width / 2,
                                ry: R.height / 2
                            });
                            break;
                        case IPCC.Web.UI.MarkType.Polygon:
                            bF = this.YC(L);
                            this.YA(bo, bF, false);
                            eF += 'fill-rule:evenodd;';
                            break;
                        case IPCC.Web.UI.MarkType.Text:
                            this.aeT(h);
                            this.UU(h);
                            if (typeof document.documentMode === 'undefined' && !IPCC.T.so.tS) {
                                h.sj.style.cursor = IPCC.ar.ei(this.bM.IT());
                            }
                            break;
                        case IPCC.Web.UI.MarkType.TextAreaSignature:
                            var cC = IPCC.T.aic();
                            var sS = IPCC.T.aiF();
                            sS.nodeValue = L.get_text();
                            var ig = L.ig;
                            var aS = this.J.lU().jk();
                            R = L.get_rectangle();
                            cC.style.width = (R.width - L.eS / 2) + 'px';
                            cC.style.height = (R.height - L.eS / 2) + 'px';
                            cC.style.fontFamily = L.hH;
                            cC.style.padding = '2px';
                            cC.style.fontStyle = L.cc;
                            L.cu = IPCC.T.Wh(cC, ig, aS) * 72 / this.Gt;
                            this.aeT(h);
                            this.UU(h);
                            if (typeof document.documentMode === 'undefined' && !IPCC.T.so.tS) {
                                h.sj.style.cursor = IPCC.ar.ei(this.bM.IT());
                            }
                            break;
                        case IPCC.Web.UI.MarkType.Stamp:
                            R = L.get_rectangle();
                            this.dc(bo, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height
                            });
                            this.dc(h.wW, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height,
                                'stroke': 'none',
                                'fill': 'rgba(255, 255, 255, 0)'
                            });
                            h.wW.style.opacity = 1;
                            this.dc(h.fu, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height,
                                'stroke': L.dR,
                                'stroke-width': '5',
                                'fill': 'none',
                                'rx': 10,
                                'ry': 10
                            });
                            var textFontSize = (R.width / 6);
                            if (textFontSize > R.height) {
                                textFontSize = (R.height - (R.height / 6));
                            }
                            ma = h.L.get_text();
                            if (!ma) {
                                ma = 'APPROVED';
                            }
                            h.ct.childNodes[0].data = ma;
                            var rF = ma.length * textFontSize;
                            if (rF > R.width) {
                                textFontSize = ((R.width / ma.length));
                            }
                            CW = Math.round(textFontSize);
                            L.stampSize = CW.toString();
                            this.dc(h.ct, {
                                x: R.x + (R.width / 2),
                                y: R.y + (R.height / 2 + (textFontSize / 3)),
                                'font-size': textFontSize,
                                'stroke': L.dR,
                                'font-family': "Arial"
                            });
                            break;
                        case IPCC.Web.UI.MarkType.ImageStampAnnotation:
                        case IPCC.Web.UI.MarkType.ImageStampRedaction:
                            R = L.get_rectangle();
                            this.dc(bo, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height
                            });
                            this.dc(h.wW, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height,
                                'stroke': 'none',
                                'fill': 'rgba(255, 255, 255, 0)'
                            });
                            h.wW.style.opacity = 1;
                            this.dc(h.fu, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height,
                                'stroke': L.dR,
                                'stroke-width': '0',
                                'fill': 'none'
                            });
                            h.yh.setAttribute('height', R.height);
                            h.yh.setAttribute('width', R.width);
                            h.yh.setAttribute('x', R.x);
                            h.yh.setAttribute('y', R.y);
                            h.yh.setAttributeNS('http://www.w3.org/1999/xlink', 'href', L.get_image());
                            break;
                        case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                            this.Rm(h);
                            break;
                        case IPCC.Web.UI.MarkType.Highlight:
                            R = L.get_rectangle();
                            if (R.x === 0 && R.y === 0) {
                                var hs = this.J.ca().gT();
                                if (hs.en() > 0) {
                                    var er = hs.kT(L.aT);
                                    R = er.aW;
                                }
                                L.kQ = 'y';
                            }
                            this.dc(bo, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height
                            });
                            break;
                        case IPCC.Web.UI.MarkType.SignaturePath:
                        case IPCC.Web.UI.MarkType.Freehand:
                            R = L.get_rectangle();
                            this.dc(bo, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height
                            });
                            var Pg = h.axE;
                            if (L.amH === true) {
                                L.amH = false;
                                Pg.setAttribute("d", L.get_pathString());
                                var IQ = L.get_pathWidth();
                                var IR = L.get_pathHeight();
                                bo.setAttribute('viewBox', '0 0 ' + IQ + ' ' + IR);
                                h.acz.setAttribute('width', IQ);
                                h.acz.setAttribute('height', IR);
                            }
                            if (L.get_visible()) {
                                h.bo.style.display = 'block';
                            } else {
                                h.bo.style.display = 'none';
                            }
                            this.abP(h.bo, L.iA);
                            Pg.style.stroke = L.get_lineColor();
                            Pg.style.strokeWidth = L.get_lineWidth() + 'px';
                            Pg.style.opacity = L.get_opacity() / 255;
                            break;
                        case IPCC.Web.UI.MarkType.SignatureText:
                            R = L.get_rectangle();
                            this.dc(bo, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height
                            });
                            this.dc(h.fu, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height,
                                'stroke': 'none',
                                'fill': 'rgba(255, 255, 255, 0)'
                            });
                            h.fu.style.opacity = 1;
                            var aoY = h.L.get_text() || "";
                            h.ct.childNodes[0].data = aoY;
                            wP = 12 * R.width / (L.xW || 1);
                            vi = 12 * R.height / (L.zb || 1);
                            uf = Math.min(wP, vi);
                            var aok = Math.floor(uf);
                            L.stampSize = aok.toString();
                            switch (L.iA) {
                                case IPCC.Web.UI.HorizontalAlignment.Left:
                                    h.ct.setAttribute('text-anchor', 'start');
                                    h.ct.setAttribute('x', R.x);
                                    break;
                                case IPCC.Web.UI.HorizontalAlignment.Right:
                                    h.ct.setAttribute('text-anchor', 'end');
                                    h.ct.setAttribute("x", R.x + R.width);
                                    break;
                                default:
                                    h.ct.setAttribute('text-anchor', 'middle');
                                    h.ct.setAttribute("x", R.x + (R.width / 2));
                                    break;
                            }
                            this.dc(h.ct, {
                                y: R.y + (R.height / 2 + (uf / 3)),
                                'font-size': uf,
                                'stroke': "none",
                                'fill': L.get_fillColor(),
                                'font-family': L.get_fontName()
                            });
                            if (L.get_visible()) {
                                h.bo.style.display = 'block';
                            } else {
                                h.bo.style.display = 'none';
                            }
                            break;
                        case IPCC.Web.UI.MarkType.TextLine:
                            this.dc(bo, {
                                style: 'fill:none;opacity:1;' + L.bX ? 'display:block;' : 'display:none;'
                            });
                            R = L.get_rectangle();
                            this.dc(bo, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height
                            });
                            eF = 'stroke:' + (L.jw ? 'black' : 'none') + ';stroke-width:1;';
                            this.dc(h.fu, {
                                x: R.x,
                                y: R.y,
                                width: R.width,
                                height: R.height,
                                'stroke': L.jw ? 'black' : 'none',
                                'fill': 'rgba(255, 255, 255, 0)',
                                'style': eF
                            });
                            h.ct.style.opacity = 1;
                            ma = h.L.get_text() || "";
                            h.ct.childNodes[0].data = ma;
                            aaz = IPCC.T.ahV(ma, L.get_fontName(), R.width, R.height, {
                                uj: "pre",
                                fz: h.bo
                            });
                            uf = aaz.fontSize;
                            L.DI = uf;
                            L.stampSize = uf;
                            L.FE = true;
                            L.nY = aaz;
                            switch (L.iA) {
                                case IPCC.Web.UI.HorizontalAlignment.Center:
                                    h.ct.setAttribute('text-anchor', 'middle');
                                    h.ct.setAttribute("x", R.x + (R.width / 2));
                                    break;
                                case IPCC.Web.UI.HorizontalAlignment.Right:
                                    h.ct.setAttribute('text-anchor', 'end');
                                    h.ct.setAttribute("x", R.x + R.width);
                                    break;
                                default:
                                    h.ct.setAttribute('text-anchor', 'start');
                                    h.ct.setAttribute('x', R.x);
                                    break;
                            }
                            this.dc(h.ct, {
                                y: R.y + (R.height / 2 + (uf / 3)),
                                'font-size': uf,
                                'stroke': "none",
                                'fill': L.get_textColor(),
                                'font-family': L.get_fontName(),
                                'white-space': 'pre'
                            });
                            break;
                        case IPCC.Web.UI.MarkType.Strikethrough:
                            this.SJ(h);
                            this.Rm(h);
                            break;
                        default:
                            throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type', L.get_type());
                    }
                    if (L.get_type() !== IPCC.Web.UI.MarkType.SignaturePath && L.get_type() !== IPCC.Web.UI.MarkType.Freehand && L.get_type() !== IPCC.Web.UI.MarkType.SignatureText && L.get_type() !== IPCC.Web.UI.MarkType.HighlightText && L.get_type() !== IPCC.Web.UI.MarkType.TextHyperlinkAnnotation && L.get_type() !== IPCC.Web.UI.MarkType.DocumentHyperlink && L.get_type() !== IPCC.Web.UI.MarkType.Strikethrough && L.get_type() !== IPCC.Web.UI.MarkType.TextSelectionRedaction) {
                        if (ll) {
                            eF += 'fill:none;';
                        } else {
                            if (L.Kw) {
                                eF += 'fill:' + L.dR + ';';
                            } else {
                                eF += 'fill:none;';
                            }
                            jw = L.jw;
                            var xG = this.ZI(L.jz);
                            if (xG !== '') {
                                eF += 'stroke-dasharray:' + xG + ';';
                            }
                        }
                        if (jw) {
                            eF += 'stroke:' + L.get_lineColor() + ';';
                            eF += 'stroke-width:' + L.eS + ';';
                        } else {
                            eF += 'stroke:none;';
                        }
                        if (L.get_type() === IPCC.Web.UI.MarkType.SignatureText) {
                            eF += 'opacity:' + 1 + ';';
                        } else {
                            eF += 'opacity:' + (L.cT / 255) + ';';
                        }
                        if (!L.bX) {
                            eF += 'display:none;';
                            if (h.fZ) {
                                h.fZ.style.display = 'none';
                            }
                        } else {
                            if (h.fZ) {
                                h.fZ.style.display = 'block';
                            }
                        }
                        eF += 'cursor:' + IPCC.ar.ei(this.bM.IT()) + ';';
                        this.dc(bo, {
                            style: eF
                        });
                    }
                    if (L.get_type() === IPCC.Web.UI.MarkType.Freehand) {
                        if (!L.bX) {
                            eF += 'display:none;';
                        } else {
                            eF += 'display:block;';
                        }
                        eF += 'cursor:' + IPCC.ar.ei(this.bM.IT()) + ';';
                        this.dc(bo, {
                            style: eF
                        });
                    }
                },
                abP: function(bo, Hq) {
                    switch (Hq) {
                        case IPCC.Web.UI.HorizontalAlignment.Left:
                            bo.setAttribute('preserveAspectRatio', 'xMinYMid');
                            break;
                        case IPCC.Web.UI.HorizontalAlignment.Center:
                            bo.setAttribute('preserveAspectRatio', 'xMidYMid');
                            break;
                        case IPCC.Web.UI.HorizontalAlignment.Right:
                            bo.setAttribute('preserveAspectRatio', 'xMaxYMid');
                            break;
                    }
                },
                Rm: function(h) {
                    var L = h.L,
                        aza = L.get_visible();
                    var R = L.get_rectangle();
                    if (R.x === 0 && R.y === 0) {
                        return;
                    }
                    var jg = h.jg;
                    while (jg.firstChild) {
                        jg.removeChild(jg.firstChild);
                    }
                    var ih;
                    for (var C = 0; C < L.eE.length; C++) {
                        for (var ba = 0; ba < L.eE[C].length; ba++) {
                            var act = this.J.ca().gT();
                            if (act.en() > 0) {
                                var aqQ = act.kT(L.eE[C].startIndex + ba);
                                ih = aqQ.aW;
                            }
                            var ap = this.dk('rect');
                            this.dc(ap, {
                                x: ih.x,
                                y: ih.y,
                                width: ih.width,
                                height: ih.height,
                                fill: L.eE[C].color,
                                display: (aza) ? 'block' : 'none'
                            });
                            ap.style.opacity = (L.eE[C].opacity) ? (L.eE[C].opacity) / 255.0 : 0.5;
                            jg.appendChild(ap);
                        }
                    }
                },
                ZI: function(jz) {
                    switch (jz) {
                        case IPCC.Web.UI.LineStyle.Dash:
                            return '7,7';
                        case IPCC.Web.UI.LineStyle.Dot:
                            return '1,7';
                        case IPCC.Web.UI.LineStyle.DashDot:
                            return '7,7,1,7';
                        case IPCC.Web.UI.LineStyle.DashDotDot:
                            return '7,7,1,7,1,7';
                        default:
                            break;
                    }
                    return '';
                },
                Ru: function(h) {
                    if (h.bo) {
                        this.bn.EV.removeChild(h.bo);
                    }
                    if (h.fZ) {
                        this.bn.EV.removeChild(h.fZ);
                    }
                    delete h.bo;
                },
                aGq: function() {},
                aof: function() {
                    this.bn = undefined;
                },
                dk: function(an) {
                    return document.createElementNS('http://www.w3.org/2000/svg', an);
                },
                dc: function(bo, aI) {
                    var C;
                    for (C in aI) {
                        if (aI.hasOwnProperty(C)) {
                            var attr = aI[C];
                            bo.setAttribute(C, attr !== undefined && attr !== null ? attr.toString() : '');
                        }
                    }
                }
            };
            module.exports = ahP;
        }, {}],
        18: [function(require, module, exports) {
            var QV = require('./ArtSVGUIDirector');
            var ck = QV;
            ck.Fk = function(isMouseOver, isSelected) {
                return (isSelected ? 127 : (isMouseOver ? 127 : 63)) / 255;
            };
            ck.aiw = function() {
                return 39 / 255;
            };
            ck.aHY = function(isSelected) {
                return isSelected ? "purple" : "blue";
            };
            ck.prototype.aqK = function(gg, jL, zp, rs, zF) {
                var dK = {
                    gg: gg,
                    jL: jL,
                    zp: zp,
                    rs: rs,
                    zF: zF
                };
                if (gg.x === jL.x && gg.y === jL.y) {
                    dK.zF = IPCC.Web.UI.LineHeadType.None;
                }
                var MH = Math.atan2(gg.x - jL.x, -(gg.y - jL.y)) + Math.PI / 2;
                zp *= Math.PI / 180;
                var iQ = MH + zp;
                dK.Gj = {
                    x: gg.x + Math.cos(iQ) * rs,
                    y: gg.y + Math.sin(iQ) * rs
                };
                iQ = MH - zp;
                dK.Fl = {
                    x: gg.x + Math.cos(iQ) * rs,
                    y: gg.y + Math.sin(iQ) * rs
                };
                switch (dK.zF) {
                    case IPCC.Web.UI.LineHeadType.Solid:
                    case IPCC.Web.UI.LineHeadType.Open:
                        dK.Gi = {
                            x: (dK.Gj.x + dK.Fl.x) / 2,
                            y: (dK.Gj.y + dK.Fl.y) / 2
                        };
                        break;
                    case IPCC.Web.UI.LineHeadType.PointerSolid:
                        dK.Gi = {
                            x: gg.x + Math.cos(MH) * rs / 2,
                            y: gg.y + Math.sin(MH) * rs / 2
                        };
                        break;
                    default:
                        dK.Gi = gg;
                        break;
                }
                return dK;
            };
            ck.prototype.apI = function(h) {
                var L = h.L;
                var R = L.get_rectangle();
                var GF = {
                    x: L.mg.x + R.x + 0.00001,
                    y: L.mg.y + R.y + 0.00001
                };
                var bk = {};
                var gy = [{
                    x: R.x,
                    y: R.y
                }, {
                    x: R.x + R.width,
                    y: R.y
                }, {
                    x: R.x + R.width,
                    y: R.y + R.height
                }, {
                    x: R.x,
                    y: R.y + R.height
                }];
                if (!L.wN) {
                    bk.ahY = gy;
                    bk.Vr = !L.jw;
                    return bk;
                }
                var C, aaW = [];
                for (C = 0; C < 4; C++) {
                    aaW.push({
                        x: (gy[C].x + gy[(C + 3) % 4].x) / 2,
                        y: (gy[C].y + gy[(C + 3) % 4].y) / 2,
                        avV: true
                    });
                }
                for (C = 3; C >= 0; C--) {
                    gy.splice(C, 0, aaW[C]);
                }

                function afw(Nz) {
                    var wS, ady;
                    wS = (GF.x - (gy[Nz].x + gy[(Nz + 1) % 8].x) / 2) * R.height;
                    ady = wS * wS;
                    wS = (GF.y - (gy[Nz].y + gy[(Nz + 1) % 8].y) / 2) * R.width;
                    return ady + wS * wS;
                };
                var TZ = 0,
                    akQ = afw(0),
                    hG;
                for (C = 1; C < 8; C++) {
                    hG = afw(C);
                    if (hG < akQ) {
                        akQ = hG;
                        TZ = C;
                    }
                }
                gy = gy.slice(TZ + 1).concat(gy.slice(0, TZ + 1));
                var Cb = gy[0],
                    Bb = gy[7];
                for (C = gy.length - 1; C >= 0; C--) {
                    if (gy[C].avV) {
                        gy.splice(C, 1);
                    }
                }
                switch (L.Dj) {
                    case IPCC.Web.UI.CalloutType.Triangle:
                        gy.splice(0, 0, {
                            x: (Cb.x * 3 + Bb.x) / 4,
                            y: (Cb.y * 3 + Bb.y) / 4
                        });
                        gy.push({
                            x: (Cb.x + Bb.x * 3) / 4,
                            y: (Cb.y + Bb.y * 3) / 4
                        });
                        if (L.CL) {
                            bk.Vr = true;
                            bk.ZP = [].concat(gy);
                            bk.KX = [gy[0], GF, gy[gy.length - 1]];
                        }
                        gy.push(GF);
                        break;
                    default:
                    case IPCC.Web.UI.CalloutType.Line:
                        bk.KX = [{
                            x: (Cb.x + Bb.x) / 2,
                            y: (Cb.y + Bb.y) / 2
                        }, GF];
                        break;
                }
                bk.ahY = gy;
                if (!L.jw) {
                    bk.Vr = true;
                    delete bk.ZP;
                    delete bk.KX;
                }
                return bk;
            };
            ck.prototype.YC = function(L) {
                var bF = L.get_points();
                var ga = [],
                    C;
                for (C = 0; C < bF.get_length(); C++) {
                    ga.push(bF.getPoint(C));
                }
                return ga;
            };
            ck.prototype.ake = function(ga, axw) {
                var ay = 0,
                    Qu = 1,
                    adN = ga.length - 2,
                    gg, jL;
                if (!axw) {
                    ay = ga.length - 1;
                    Qu = -1;
                }
                gg = ga[ay];
                ay += Qu;
                jL = ga[ay];
                ay += Qu;
                while (gg.x === jL.x && gg.y === jL.y && adN > 0) {
                    jL = ga[ay];
                    ay += Qu;
                    adN--;
                }
                return {
                    gg: gg,
                    jL: jL
                };
            };
            ck.prototype.acW = function(J, bn, aU, lc) {
                if (IPCC.T.ZZ) {
                    return;
                }
                if (!bn.nm) {
                    bn.nm = [];
                }
                var nm = bn.nm;
                if (aU.length < 1 && nm.length < 1) {
                    if (bn.xK.firstChild) {
                        bn.xK.innerHTML = '';
                    }
                    return;
                }
                var au = J.eg();
                var fC = au.yb();
                if (this.gP === undefined) {
                    this.gP = 40;
                    var zY = document.createElement("div");
                    zY.className = 'pccMarkHandleTopLeft';
                    zY.visibility = 'hidden';
                    document.body.appendChild(zY);
                    if (zY.currentStyle) {
                        this.gP = parseInt(zY.currentStyle.width, 10) || 0;
                    } else if (document.defaultView && document.defaultView.getComputedStyle) {
                        var ayy = document.defaultView.getComputedStyle(zY);
                        this.gP = parseInt(ayy.width, 10) || 0;
                    }
                    document.body.removeChild(zY);
                }
                var C, Jn = [];
                for (C = 0; C < aU.length; C++) {
                    if (aU[C].get_visible() === true) {
                        if (fC.IA(aU[C]) >= 0 || (aU[C].get_selected() === true && (aU[C].kl === true || aU[C].lB === true)) || aU[C].yX === true) {
                            Jn.push(aU[C]);
                        }
                    }
                }
                for (C = 0; C < nm.length; C++) {
                    while (C < nm.length && (C >= Jn.length || nm[C].L !== Jn[C])) {
                        bn.xK.removeChild(nm[C].fR);
                        nm.splice(C, 1);
                    }
                    if (C < nm.length) {
                        this.adu(nm[C], lc);
                    }
                }
                for (C = nm.length; C < Jn.length; C++) {
                    nm[C] = {
                        L: Jn[C]
                    };
                    this.apt(bn.xK, nm[C]);
                    this.adu(nm[C], lc);
                }
            };
            ck.prototype.wb = function(fR, aoC, CP, uT, aAo, ai, cB) {
                var du = [],
                    C, bq;
                if (cB === undefined) {
                    cB = 'handle';
                }
                for (C = 0; C < aoC; C++) {
                    bq = {
                        bo: document.createElement('div')
                    };
                    bq.bo.ImGearMarkHandle = bq;
                    bq.ai = ai;
                    bq.an = uT;
                    bq.ay = aAo + C;
                    fR.appendChild(bq.bo);
                    bq.bo.setAttribute('data-pcc-mark', cB + '-' + fR.ImGearMarkRelation.L.km());
                    du.push(bq);
                }
                return du;
            };
            ck.prototype.auf = function(cz) {
                if (cz.du === undefined) {
                    return;
                }
                var C;
                for (C = 0; C < cz.du.length; C++) {
                    var bq = cz.du[C];
                    bq.bo.style.cursor = IPCC.ar.ei(bq.ai);
                }
            };
            ck.prototype.apt = function(xK, cz) {
                cz.fR = document.createElement('div');
                cz.fR.style.width = '0px';
                cz.fR.style.height = '0px';
                cz.fR.style.left = '0px';
                cz.fR.style.top = '0px';
                cz.fR.style.zIndex = '1';
                var C, L = cz.L,
                    bq;
                cz.fR.ImGearMarkRelation = cz;
                switch (L.get_type()) {
                    case IPCC.Web.UI.MarkType.Line:
                    case IPCC.Web.UI.MarkType.Polyline:
                        cz.du = this.wb(cz.fR, 2, this.gP, this.Hf, 0, IPCC.ar.Move);
                        cz.du = cz.du.concat(this.wb(cz.fR, 2, this.gP, this.Gv, 0, IPCC.ar.Move));
                        break;
                    case IPCC.Web.UI.MarkType.Polygon:
                        cz.du = [];
                        break;
                    case IPCC.Web.UI.MarkType.Freehand:
                        cz.du = [];
                        cz.io = document.createElement('div');
                        cz.io.style.border = '1px solid gray';
                        cz.io.style.position = 'absolute';
                        cz.fR.appendChild(cz.io);
                        break;
                    case IPCC.Web.UI.MarkType.Text:
                    case IPCC.Web.UI.MarkType.SignaturePath:
                    case IPCC.Web.UI.MarkType.SignatureText:
                    case IPCC.Web.UI.MarkType.TextLine:
                    case IPCC.Web.UI.MarkType.TextAreaSignature:
                    case IPCC.Web.UI.MarkType.Rectangle:
                    case IPCC.Web.UI.MarkType.RectangleRedaction:
                    case IPCC.Web.UI.MarkType.Ellipse:
                    case IPCC.Web.UI.MarkType.Highlight:
                    case IPCC.Web.UI.MarkType.Stamp:
                    case IPCC.Web.UI.MarkType.ImageStampAnnotation:
                    case IPCC.Web.UI.MarkType.ImageStampRedaction:
                        if (L.get_type() === IPCC.Web.UI.MarkType.RectangleRedaction && L.ah !== undefined) {
                            break;
                        }
                        cz.io = document.createElement('div');
                        cz.io.style.border = '1px solid gray';
                        cz.io.style.position = 'absolute';
                        cz.fR.appendChild(cz.io);
                        cz.du = this.wb(cz.fR, 4, this.gP, this.Ye, 0, -1);
                        cz.du = cz.du.concat(this.wb(cz.fR, 4, this.gP, this.ZD, 0, -1));
                        for (C = 4; C < 8; C++) {
                            bq = cz.du[C];
                            bq.anz = cz.du[C - 4];
                            bq.aoo = cz.du[(C + 1) % 4];
                        }
                        if (L.get_type() === IPCC.Web.UI.MarkType.Text) {
                            cz.du = cz.du.concat(this.wb(cz.fR, 1, this.gP, this.Yc, 0, IPCC.ar.Move));
                        }
                        break;
                    case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:
                    case IPCC.Web.UI.MarkType.HighlightText:
                    case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                    case IPCC.Web.UI.MarkType.Strikethrough:
                        cz.du = this.wb(cz.fR, 1, this.gP, this.Hf, 0, IPCC.ar.Move, 'texthandlestart');
                        cz.du = cz.du.concat(this.wb(cz.fR, 1, this.gP, this.Hf, 1, IPCC.ar.Move, 'texthandleend'));
                        break;
                }
                if (L.jh() === IPCC.Web.UI.MarkType.Text || L.jh() === IPCC.Web.UI.MarkType.TextLine || L.jh() === IPCC.Web.UI.MarkType.TextAreaSignature) {
                    var pp = document.createElement('div');
                    pp.className = 'pccEditMarkButton';
                    pp.setAttribute('data-pcc-mark', 'edit-' + L.km());
                    pp.onclick = function(bb) {
                        bb = bb || {};
                        bb.stopPropagation ? bb.stopPropagation() : bb.cancelBubble = true;
                        bb.preventDefault ? bb.preventDefault() : bb.returnValue = false;
                        var pS;
                        var va = cz.fR;
                        while (va && (va.parentNode || va.ownerSVGElement)) {
                            if (va.parentNode.id && va.parentNode.id.indexOf("__pViewId") !== -1) {
                                pS = va.parentNode;
                            }
                            va = va.ownerSVGElement || va.parentNode;
                        }
                        pS && pS.bg.ayc(bb, L);
                    };
                    cz.fR.appendChild(pp);
                    var aow = {
                        bo: pp
                    };
                    cz.du.push(aow);
                }
                xK.appendChild(cz.fR);
            };
            ck.lb = {
                TopLeft: 0,
                TopRight: 1,
                BottomLeft: 2,
                BottomRight: 3,
                TopCenter: 4,
                MidRight: 5,
                BottomCenter: 6,
                MidLeft: 7,
                Point: 8,
                TextSelectionStart: 9,
                TextSelectionEnd: 10,
                Callout: 11
            };
            ck.prototype.Ye = 0;
            ck.prototype.ZD = 1;
            ck.prototype.Gv = 2;
            ck.prototype.Hf = 3;
            ck.prototype.Yc = 4;
            ck.prototype.adM = function(bq, ayU) {
                switch (ayU) {
                    case IPCC.dP.ck.lb.TopLeft:
                        bq.bo.className = 'pccMarkHandleTopLeft';
                        break;
                    case IPCC.dP.ck.lb.TopCenter:
                        bq.bo.className = 'pccMarkHandleTopCenter';
                        break;
                    case IPCC.dP.ck.lb.TopRight:
                        bq.bo.className = 'pccMarkHandleTopRight';
                        break;
                    case IPCC.dP.ck.lb.MidLeft:
                        bq.bo.className = 'pccMarkHandleMidLeft';
                        break;
                    case IPCC.dP.ck.lb.MidRight:
                        bq.bo.className = 'pccMarkHandleMidRight';
                        break;
                    case IPCC.dP.ck.lb.BottomLeft:
                        bq.bo.className = 'pccMarkHandleBottomLeft';
                        break;
                    case IPCC.dP.ck.lb.BottomCenter:
                        bq.bo.className = 'pccMarkHandleBottomCenter';
                        break;
                    case IPCC.dP.ck.lb.BottomRight:
                        bq.bo.className = 'pccMarkHandleBottomRight';
                        break;
                    case IPCC.dP.ck.lb.Point:
                        bq.bo.className = 'pccMarkHandlePoint';
                        break;
                    case IPCC.dP.ck.lb.TextSelectionStart:
                        bq.bo.className = 'pccMarkHandleTextSelectionStart';
                        break;
                    case IPCC.dP.ck.lb.TextSelectionEnd:
                        bq.bo.className = 'pccMarkHandleTextSelectionEnd';
                        break;
                    default:
                        bq.bo.className = 'pccMarkHandlePoint';
                        break;
                }
            };
            ck.prototype.zH = function(bq, aBy, lc, CP, nh) {
                bq.al = lc.transform(aBy);
                bq.bo.style.left = (bq.al.x - CP / 2) + 'px';
                bq.bo.style.top = (bq.al.y - CP / 2) + 'px';
                bq.bo.style.display = 'block';
                bq.bo.style.zIndex = '1';
                this.adM(bq, nh);
            };
            ck.prototype.aeQ = function(bq, CP, nh) {
                bq.bo.style.left = (bq.al.x - CP / 2) + 'px';
                bq.bo.style.top = (bq.al.y - CP / 2) + 'px';
                bq.bo.style.display = 'block';
                bq.bo.style.zIndex = '1';
                this.adM(bq, nh);
            };
            ck.prototype.sd = function(bq) {
                bq.bo.style.display = 'none';
            };
            ck.prototype.adu = function(cz, lc) {
                cz.fR.style.cursor = IPCC.ar.ei(this.bM.IT());
                var C, L = cz.L,
                    du = cz.du,
                    bq;
                var ga, R, qz, nv, uT, fo;
                var hG, Df, ew, et, KS;
                switch (L.get_type()) {
                    case IPCC.Web.UI.MarkType.Line:
                    case IPCC.Web.UI.MarkType.Polyline:
                        ga = this.YC(L);
                        Df = ga.length + 2 - du.length;
                        if (Df > 0) {
                            cz.du = cz.du.concat(this.wb(cz.fR, Df, this.gP, this.Gv, du.length - 2, IPCC.ar.Move));
                            du = cz.du;
                        }
                        for (C = 0; C < ga.length; C++) {
                            this.zH(du[C + 2], ga[C], lc, this.gP, IPCC.dP.ck.lb.Point);
                        }
                        for (C = ga.length + 2; C < du.length; C++) {
                            this.sd(du[C + 2]);
                        }
                        break;
                    case IPCC.Web.UI.MarkType.Polygon:
                        ga = this.YC(L);
                        Df = ga.length - du.length;
                        if (Df > 0) {
                            cz.du = cz.du.concat(this.wb(cz.fR, Df, this.gP, this.Gv, du.length, IPCC.ar.Move));
                            du = cz.du;
                        }
                        for (C = 0; C < ga.length; C++) {
                            this.zH(du[C], ga[C], lc, this.gP, IPCC.dP.ck.lb.Point);
                        }
                        for (C = ga.length; C < du.length; C++) {
                            this.sd(du[C]);
                        }
                        break;
                    case IPCC.Web.UI.MarkType.Freehand:
                        R = L.eA();
                        qz = lc.transform({
                            x: R.x,
                            y: R.y
                        });
                        nv = lc.transform({
                            x: R.x + R.width,
                            y: R.y + R.height
                        });
                        fo = {
                            x: Math.min(qz.x, nv.x),
                            y: Math.min(qz.y, nv.y)
                        };
                        fo.width = Math.max(qz.x, nv.x) - fo.x;
                        fo.height = Math.max(qz.y, nv.y) - fo.y;
                        cz.io.style.left = fo.x + 'px';
                        cz.io.style.top = fo.y + 'px';
                        cz.io.style.width = fo.width + 'px';
                        cz.io.style.height = fo.height + 'px';
                        cz.io.setAttribute('data-pcc-mark', 'outline-' + L.km());
                        break;
                    case IPCC.Web.UI.MarkType.SignaturePath:
                    case IPCC.Web.UI.MarkType.Rectangle:
                    case IPCC.Web.UI.MarkType.RectangleRedaction:
                    case IPCC.Web.UI.MarkType.Ellipse:
                    case IPCC.Web.UI.MarkType.Text:
                    case IPCC.Web.UI.MarkType.Stamp:
                    case IPCC.Web.UI.MarkType.SignatureText:
                    case IPCC.Web.UI.MarkType.TextLine:
                    case IPCC.Web.UI.MarkType.TextAreaSignature:
                    case IPCC.Web.UI.MarkType.ImageStampAnnotation:
                    case IPCC.Web.UI.MarkType.ImageStampRedaction:
                        if (L.get_type() === IPCC.Web.UI.MarkType.RectangleRedaction && L.ah !== undefined) {
                            break;
                        }
                        R = L.eA();
                        du[0].al = lc.transform({
                            x: R.x,
                            y: R.y
                        });
                        du[1].al = lc.transform({
                            x: R.x + R.width,
                            y: R.y
                        });
                        du[2].al = lc.transform({
                            x: R.x + R.width,
                            y: R.y + R.height
                        });
                        du[3].al = lc.transform({
                            x: R.x,
                            y: R.y + R.height
                        });
                        fo = {
                            x: Math.min(du[0].al.x, du[2].al.x),
                            y: Math.min(du[0].al.y, du[2].al.y)
                        };
                        fo.width = Math.max(du[0].al.x, du[2].al.x) - fo.x;
                        fo.height = Math.max(du[0].al.y, du[2].al.y) - fo.y;
                        KS = {
                            x: fo.x + fo.width / 2,
                            y: fo.y + fo.height / 2
                        };
                        for (C = 0; C < 4; C++) {
                            bq = du[C];
                            uT = (bq.al.x < KS.x) ? ((bq.al.y < KS.y) ? 0 : 2) : ((bq.al.y < KS.y) ? 1 : 3);
                            this.aeQ(bq, this.gP, uT);
                            switch (uT) {
                                case 0:
                                    bq.ai = IPCC.ar.ResizeNW;
                                    break;
                                case 1:
                                    bq.ai = IPCC.ar.ResizeNE;
                                    break;
                                case 2:
                                    bq.ai = IPCC.ar.ResizeSW;
                                    break;
                                case 3:
                                    bq.ai = IPCC.ar.ResizeSE;
                                    break;
                            }
                        }
                        cz.io.style.left = fo.x + 'px';
                        cz.io.style.top = fo.y + 'px';
                        cz.io.style.width = fo.width + 'px';
                        cz.io.style.height = fo.height + 'px';
                        cz.io.setAttribute('data-pcc-mark', 'outline-' + L.km());
                        var ays = fo.x + fo.width / 4;
                        var ary = fo.x + fo.width * 3 / 4;
                        var axf = fo.y + fo.height / 4;
                        var asf = fo.y + fo.height * 3 / 4;
                        if (this.bM.xv() === IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose) {
                            qz = du[0].al;
                            nv = du[1].al;
                            var awn = du[2].al;
                            ew = qz.x - nv.x;
                            et = nv.y - awn.y;
                            var aql = ew * ew;
                            var aqW = et * et;
                            if (Math.min(aql, aqW) < this.gP * this.gP * 5) {
                                this.sd(du[0]);
                                this.sd(du[1]);
                                this.sd(du[2]);
                                this.sd(du[3]);
                            }
                        }
                        for (C = 4; C < 8; C++) {
                            bq = du[C];
                            qz = bq.anz.al;
                            nv = bq.aoo.al;
                            ew = qz.x - nv.x;
                            et = qz.y - nv.y;
                            hG = ew * ew + et * et;
                            if (this.bM.xv() === IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose && hG < this.gP * this.gP * 5) {
                                this.sd(bq);
                            } else {
                                bq.al = {
                                    x: (qz.x + nv.x) / 2,
                                    y: (qz.y + nv.y) / 2
                                };
                                this.aeQ(bq, this.gP, C);
                                if (bq.al.x < ays) {
                                    bq.ai = IPCC.ar.ResizeW;
                                } else if (bq.al.x > ary) {
                                    bq.ai = IPCC.ar.ResizeE;
                                } else if (bq.al.y < axf) {
                                    bq.ai = IPCC.ar.ResizeN;
                                } else if (bq.al.y > asf) {
                                    bq.ai = IPCC.ar.ResizeS;
                                }
                            }
                        }
                        if (L.get_type() === IPCC.Web.UI.MarkType.Text) {
                            if (L.wN) {
                                this.zH(du[8], {
                                    x: R.x + L.mg.x,
                                    y: R.y + L.mg.y
                                }, lc, this.gP, IPCC.dP.ck.lb.Callout);
                            } else {
                                this.sd(du[8]);
                            }
                        }
                        break;
                    case IPCC.Web.UI.MarkType.DocumentHyperlink:
                        return;
                    case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:
                    case IPCC.Web.UI.MarkType.HighlightText:
                    case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                    case IPCC.Web.UI.MarkType.Strikethrough:
                        var er, ih, Aw;
                        var Jp = this.J.ca();
                        var hs = Jp.gT();
                        if (L.kl === true) {
                            Aw = L.aT;
                            if (Aw >= hs.en()) {
                                er = hs.kT(hs.en() - 1);
                                ih = er.uy();
                                this.zH(du[0], new IPCC.Web.UI.Point(ih.x + ih.width, ih.y), lc, this.gP, IPCC.dP.ck.lb.TextSelectionStart);
                                break;
                            }
                            er = hs.kT(L.aT);
                            ih = er.uy();
                            this.zH(du[0], new IPCC.Web.UI.Point(ih.x, ih.y), lc, this.gP, IPCC.dP.ck.lb.TextSelectionStart);
                        } else {
                            this.sd(du[0]);
                        }
                        if (L.lB === true) {
                            Aw = L.aT + L.cq - 1;
                            if (Aw < 0) {
                                er = hs.kT(0);
                                ih = er.uy();
                                this.zH(du[1], new IPCC.Web.UI.Point(ih.x, ih.y + ih.height), lc, this.gP, IPCC.dP.ck.lb.TextSelectionEnd);
                                break;
                            }
                            er = hs.kT(Aw);
                            ih = er.uy();
                            this.zH(du[1], new IPCC.Web.UI.Point(ih.x + ih.width, ih.y + ih.height), lc, this.gP, IPCC.dP.ck.lb.TextSelectionEnd);
                        } else {
                            this.sd(du[1]);
                        }
                        break;
                }
                if (L.get_type() === IPCC.Web.UI.MarkType.Text || L.get_type() === IPCC.Web.UI.MarkType.TextLine || L.get_type() === IPCC.Web.UI.MarkType.TextAreaSignature) {
                    var vu = du[du.length - 1];
                    if (vu.bo.className.match(/pcc/)) {
                        var SL = cz.io.clientHeight;
                        var VS = cz.io.clientWidth;
                        var amm = cz.io.offsetTop;
                        var ami = cz.io.offsetLeft;
                        var aiq = vu.bo.clientHeight;
                        var ZL = vu.bo.clientWidth;
                        vu.bo.style.position = 'absolute';
                        vu.bo.style.zIndex = '2';
                        if (SL > aiq + 10 && VS > ZL + 10) {
                            vu.bo.style.top = (SL - aiq) / 2 + amm + 'px';
                            vu.bo.style.left = (VS - ZL) / 2 + ami + 'px';
                        } else {
                            vu.bo.style.top = SL + amm + 10 + 'px';
                            vu.bo.style.left = (VS - ZL) / 2 + ami + 'px';
                        }
                    }
                }
                this.auf(cz);
            };
            ck.prototype.aeP = function(hA, vT) {
                var azo = IPCC.T.afs(hA, vT || '#ffffff'),
                    axm = IPCC.T.map(azo, function(bx) {
                        return {
                            aT: bx.startIndex,
                            dr: bx.endIndex,
                            Eh: bx.color
                        };
                    });
                return axm;
            };
            ck.prototype.atE = function(h) {
                var L = h.L;
                if (L.eE) {
                    var kB = this.aeP(L.eE);
                    var Go = L.bv;
                    var zy = '';
                    for (var C = kB.length - 1; C >= 0; C--) {
                        var aaP = kB[C];
                        var aT = aaP.aT;
                        var dr = aaP.dr;
                        var cl = aaP.Eh;
                        var cS = IPCC.T.Ki(Go.substr(aT, dr - aT + 1));
                        var auo = IPCC.T.Ki(Go.substr(dr + 1, Go.length - dr + 1));
                        Go = Go.substr(0, aT);
                        zy = "<span style='background-color:" + cl + ";'>" + cS + '</span>' + auo + zy;
                    }
                    zy = IPCC.T.Ki(Go) + zy;
                    zy = zy.replace(/\n/g, '<br/>');
                    h.oc.innerHTML = zy;
                } else {
                    h.Ak.data = L.bv;
                }
            };
            module.exports = ck;
        }, {
            "./ArtSVGUIDirector": 17
        }],
        19: [function(require, module, exports) {
            var dU = {};
            dU.InternetExplorer = {};
            dU.Firefox = {};
            dU.Safari = {};
            dU.Opera = {};
            dU.agent = null;
            dU.hasDebuggerStatement = false;
            dU.name = navigator.appName;
            dU.version = parseFloat(navigator.appVersion);
            dU.documentMode = 0;
            dU.getBrowserInfo = function getBrowserInfo() {
                if (navigator.userAgent.indexOf(' MSIE ') > -1) {
                    IPCC.dU.agent = IPCC.dU.InternetExplorer;
                    IPCC.dU.version = parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]);
                    if (IPCC.dU.version >= 8) {
                        if (document.documentMode >= 7) {
                            IPCC.dU.documentMode = document.documentMode;
                        }
                    }
                    IPCC.dU.hasDebuggerStatement = true;
                } else if (navigator.userAgent.indexOf(' Firefox/') > -1) {
                    IPCC.dU.agent = IPCC.dU.Firefox;
                    IPCC.dU.version = parseFloat(navigator.userAgent.match(/ Firefox\/(\d+\.\d+)/)[1]);
                    IPCC.dU.name = 'Firefox';
                    IPCC.dU.hasDebuggerStatement = true;
                } else if (navigator.userAgent.indexOf(' AppleWebKit/') > -1) {
                    IPCC.dU.agent = IPCC.dU.Safari;
                    IPCC.dU.version = parseFloat(navigator.userAgent.match(/ AppleWebKit\/(\d+(\.\d+)?)/)[1]);
                    IPCC.dU.name = 'Safari';
                } else if (navigator.userAgent.indexOf('Opera/') > -1) {
                    IPCC.dU.agent = IPCC.dU.Opera;
                }
            };
            module.exports = dU;
        }, {}],
        20: [function(require, module, exports) {
            var vN = {
                JP: function() {
                    var vB = IPCC.vN;
                    if (vB.uo === null) {
                        /*@cc_on@if(@_jscript)vB.uo=document.documentMode>8;@else@*/
                        vB.uo = true; /*@end@*/
                    }
                    return vB.uo;
                },
                uo: null
            };
            module.exports = vN;
        }, {}],
        21: [function(require, module, exports) {
            var ge = function(ZF, awk) {
                this.J = false;
                this.ZF = ZF;
                var jY = IPCC.Web.UI;
                var am = awk;
                if (!am || am === null) {
                    am = IPCC.aeW;
                }
                this.am = am;
                var arB = {
                    bv: am.zoomInMenuItem,
                    dY: IPCC.eV.aaQ,
                    G: 1.25
                };
                var asH = {
                    bv: am.zoomOutMenuItem,
                    dY: IPCC.eV.adr,
                    G: 1.25
                };
                var aCp = {
                    bv: am.fullImageMenuItem,
                    G: jY.FitType.FullImage
                };
                var aBf = {
                    bv: am.fullWidthMenuItem,
                    G: jY.FitType.FullWidth
                };
                var aBN = {
                    bv: am.fullHeightMenuItem,
                    G: jY.FitType.FullHeight
                };
                var ayf = {
                    bv: am.oneToOneRatioMenuItem,
                    G: jY.FitType.OneToOne
                };
                var atl = {
                    bv: am.actualSizeMenuItem,
                    G: jY.FitType.ActualSize
                };
                var axQ = {
                    bv: am.rotateRightMenuItem,
                    dY: IPCC.eV.XZ,
                    G: 90
                };
                var ayd = {
                    bv: am.rotateLeftMenuItem,
                    dY: IPCC.eV.XZ,
                    G: -90
                };
                var ayX = {
                    bv: am.mirrorHorizontalMenuItem,
                    dY: IPCC.eV.agR
                };
                var axA = {
                    bv: am.mirrorVerticalMenuItem,
                    dY: IPCC.eV.amt
                };
                var Uy = {
                    bv: am.panToolMenuItem,
                    G: jY.MouseTool.HandPan
                };
                var YM = {
                    bv: am.areaSelectionToolMenuItem,
                    G: jY.MouseTool.Select
                };
                var Sy = {
                    bv: am.zoomRectangleToolMenuItem,
                    G: jY.MouseTool.RectangleZoom
                };
                var Yf = {
                    bv: am.flyingMagnifierToolMenuItem,
                    G: jY.MouseTool.Magnifier
                };
                var apf = {
                    bv: am.createTextMarkToolMenuItem,
                    G: jY.MouseTool.CreateTextMark
                };
                var anI = {
                    bv: am.createLineMarkToolMenuItem,
                    G: jY.MouseTool.CreateLineMark
                };
                var aoZ = {
                    bv: am.createRectangleMarkToolMenuItem,
                    G: jY.MouseTool.CreateRectangleMark
                };
                var aoT = {
                    bv: am.createEllipseMarkToolMenuItem,
                    G: jY.MouseTool.CreateEllipseMark
                };
                var aBK = {
                    bv: am.editMarksToolMenuItem,
                    G: jY.MouseTool.EditMarks
                };
                var aoe = {
                    bv: am.createStampMarkToolMenuItem,
                    G: jY.MouseTool.CreateStampMark
                };
                var apq = {
                    bv: am.createHighlightMarkToolMenuItem,
                    G: jY.MouseTool.CreateHighlightTextMark
                };
                var acv = {
                    ag: 55,
                    cd: [{
                        bv: am.thicknessMenu.item1,
                        G: 1
                    }, {
                        bv: am.thicknessMenu.item2,
                        G: 2
                    }, {
                        bv: am.thicknessMenu.item3,
                        G: 3
                    }, {
                        bv: am.thicknessMenu.item4,
                        G: 4
                    }, {
                        bv: am.thicknessMenu.item5,
                        G: 5
                    }, {
                        bv: am.thicknessMenu.item6,
                        G: 6
                    }, {
                        bv: am.thicknessMenu.item7,
                        G: 7
                    }, {
                        bv: am.thicknessMenu.item8,
                        G: 8
                    }]
                };
                var aCV = {
                    ag: 145,
                    cd: [{
                        bv: am.opacityMenu.translucent,
                        G: 127
                    }, {
                        bv: am.opacityMenu.opaque,
                        G: 255
                    }]
                };
                var Ng = {
                    bv: am.borderThicknessMenuItem,
                    dY: IPCC.eV.Hx,
                    aN: 'lineWidth',
                    ng: acv
                };
                var Ob = {
                    bv: am.borderColorMenuItem,
                    dY: IPCC.eV.ND,
                    aN: 'lineColor'
                };
                var IY = {
                    bv: am.fillColorMenuItem,
                    dY: IPCC.eV.ND,
                    aN: 'fillColor'
                };
                var agT = {
                    bv: am.lineThicknessMenuItem,
                    dY: IPCC.eV.Hx,
                    aN: 'lineWidth',
                    ng: acv
                };
                var agM = {
                    bv: am.lineColorMenuItem,
                    dY: IPCC.eV.ND,
                    aN: 'lineColor'
                };
                var aBb = {
                    bv: am.fontMenuItem,
                    dY: IPCC.eV.anb
                };
                var Qn = {
                    bv: am.opacityMenuItem,
                    dY: IPCC.eV.Hx,
                    aN: 'opacity',
                    ng: aCV
                };
                var ayM = {
                    bv: am.moveToBackMenuItem,
                    dY: IPCC.eV.akB
                };
                var axN = {
                    bv: am.moveBackwardMenuItem,
                    dY: IPCC.eV.aki
                };
                var ayB = {
                    bv: am.moveForwardMenuItem,
                    dY: IPCC.eV.akf
                };
                var ayO = {
                    bv: am.moveToFrontMenuItem,
                    dY: IPCC.eV.akM
                };
                var uk = {
                    bv: am.deleteMarkMenuItem,
                    dY: IPCC.eV.amO
                };
                var arq = {
                    ag: 180,
                    cd: [aCp, aBf, aBN, ayf, atl]
                };
                var ati = {
                    bv: am.zoomToFitMenuItem,
                    dY: IPCC.eV.abp,
                    ng: arq
                };
                var aDg = {
                    ag: 200,
                    cd: [axQ, ayd, ayX, axA]
                };
                var aDk = {
                    bv: am.orientationMenuItem,
                    ng: aDg
                };
                var LX;
                if (IPCC.dP) {
                    if (IPCC.ij === false) {
                        LX = {
                            ag: 180,
                            cd: [Uy, Sy, Yf, YM, null]
                        };
                    } else {
                        LX = {
                            ag: 180,
                            cd: [Uy, Sy, Yf, YM, null, aBK, apf, anI, aoZ, aoT, aoe, apq]
                        };
                    }
                } else {
                    LX = {
                        ag: 180,
                        cd: [Uy, Sy, Yf, YM]
                    };
                }
                var aAf = {
                    bv: am.mouseToolsMenuItem,
                    dY: IPCC.eV.aaA,
                    ng: LX
                };
                var azp = {
                    ag: 150,
                    cd: [IY, Ng, Ob, null, Qn]
                };
                var aCe = {
                    ag: 150,
                    cd: [IY, Ng, Ob, null, null]
                };
                var azM = {
                    ag: 150,
                    bv: am.rectangleMarkPropertiesMenuItem,
                    ng: azp
                };
                var aBP = {
                    ag: 150,
                    bv: am.rectangleMarkPropertiesMenuItem,
                    ng: aCe
                };
                var atr = {
                    ag: 150,
                    cd: [aBb, IY, Ng, Ob, null, null, null, Qn]
                };
                var atp = {
                    bv: am.textMarkPropertiesMenuItem,
                    ng: atr
                };
                var axY = {
                    ag: 150,
                    cd: [IY, Ng, Ob, null, Qn]
                };
                var axU = {
                    bv: am.polygonMarkPropertiesMenuItem,
                    ng: axY
                };
                var azT = {
                    ag: 140,
                    cd: [agT, agM, null, Qn]
                };
                var aAr = {
                    bv: am.polylineMarkPropertiesMenuItem,
                    ng: azT
                };
                var aAy = {
                    ag: 140,
                    cd: [agT, agM, null, null]
                };
                var aAN = {
                    bv: am.lineMarkPropertiesMenuItem,
                    ng: aAy
                };
                var aya = {
                    ag: 140,
                    cd: [ayO, ayB, axN, ayM]
                };
                var yI = {
                    bv: am.markOrderingMenuItem,
                    ng: aya
                };
                var aqn = {
                    ag: 150,
                    cd: [IY]
                };
                var afv = {
                    bv: am.stampMarkPropertiesMenuItem,
                    ng: aqn
                };
                this.aqi = {
                    ag: 180,
                    cd: [arB, asH, ati, aDk, aAf]
                };
                this.auK = {
                    ag: 140,
                    cd: [atp, yI, uk]
                };
                this.aAp = {
                    ag: 140,
                    cd: [azM, yI, uk]
                };
                this.aqV = {
                    ag: 140,
                    cd: [afv, yI, uk]
                };
                this.aqc = {
                    ag: 140,
                    cd: [null, yI, uk]
                };
                this.aBa = {
                    ag: 140,
                    cd: [aBP, yI, uk]
                };
                this.ayk = {
                    ag: 140,
                    cd: [axU, yI, uk]
                };
                this.azF = {
                    ag: 140,
                    cd: [aAr, yI, uk]
                };
                this.aAv = {
                    ag: 140,
                    cd: [aAN, yI, uk]
                };
                this.avk = {
                    ag: 140,
                    cd: [afv, null, uk]
                };
            };
            ge.prototype.mq = function(J) {
                this.J = J;
            };
            ge.prototype.ek = function() {
                this.J = false;
            };
            ge.prototype.aB = function() {};
            ge.prototype.TE = function(F) {
                var iT;
                if (F.mark && this.ZF) {
                    var LT = F.mark.jR();
                    switch (F.mark.get_type()) {
                        case IPCC.Web.UI.MarkType.Line:
                            iT = this.aAv;
                            break;
                        case IPCC.Web.UI.MarkType.Polyline:
                            iT = this.azF;
                            break;
                        case IPCC.Web.UI.MarkType.Rectangle:
                            iT = this.aAp;
                            break;
                        case IPCC.Web.UI.MarkType.Ellipse:
                            iT = this.aBa;
                            break;
                        case IPCC.Web.UI.MarkType.Polygon:
                            iT = this.ayk;
                            break;
                        case IPCC.Web.UI.MarkType.Text:
                            iT = this.auK;
                            break;
                        case IPCC.Web.UI.MarkType.Stamp:
                            if (LT === true) {
                                iT = this.aqc;
                            } else {
                                iT = this.aqV;
                            }
                            break;
                        case IPCC.Web.UI.MarkType.HighlightText:
                        case IPCC.Web.UI.MarkType.Highlight:
                            if (F.mark.kQ === 'y') {
                                iT = this.avk;
                            }
                            break;
                    }
                }
                if (!iT) {
                    iT = this.aqi;
                }
                var vy = document.documentElement.scrollLeft - document.documentElement.clientLeft + document.body.scrollLeft - document.body.clientLeft;
                var xd = document.documentElement.scrollTop - document.documentElement.clientTop + document.body.scrollTop - document.body.clientTop;
                var aaX = new IPCC.Web.UI.Point(F.domEvent.clientX + vy, F.domEvent.clientY + xd);
                var V = this;

                function wB(bS) {
                    if (tk) {
                        var bN = bS.target;
                        if (bN && bN === null) {
                            return;
                        }
                        var Co, amE;
                        while (bN && bN !== document.body && bN.parentNode !== null) {
                            if (bN && bN !== null) {
                                if (bN === tk) {
                                    amE = true;
                                }
                                if (!Co && bN.ImGearCommand) {
                                    Co = bN.ImGearCommand;
                                }
                                bN = bN.parentNode;
                            }
                        }
                        if (!amE || Co) {
                            IPCC.Web.UI.ao.removeHandler(document.body, 'mousedown', wB);
                            IPCC.Web.UI.ao.removeHandler(document.body, 'mousemove', amb);
                            document.body.removeChild(tk);
                            tk = null;
                            if (Co) {
                                Co.UW = F;
                                V.azl(Co);
                            }
                        }
                    }
                };

                function QD(Fv, zj, zQ, Fe) {
                    var bX = false,
                        C, bN;
                    for (C = 0; C < zj.length; C++) {
                        if (Fv === zj[C]) {
                            bX = true;
                        }
                    }
                    if (!bX && Fv.ImGearType === 'menu') {
                        Fv.style.display = 'none';
                    } else {
                        Fv.style.display = 'block';
                    }
                    bN = Fv.firstChild;
                    while (bN) {
                        if (bN.ImGearType === 'menuItemHighlight') {
                            if (bN === Fe) {
                                bN.style.display = 'block';
                            } else {
                                bN.style.display = 'none';
                            }
                        }
                        if (bN.firstChild) {
                            QD(bN, zj, zQ, Fe);
                        }
                        bN = bN.nextSibling;
                    }
                };

                function amb(bS) {
                    if (tk) {
                        var bN = bS.target;
                        if (bN && bN === null) {
                            return;
                        }
                        var zj = [tk],
                            zQ, Fe;
                        while (bN && bN !== document.body && bN.parentNode !== null) {
                            if (!zQ && bN.ImGearType === 'menuItem') {
                                zQ = bN;
                            }
                            if (bN.ImGearType === 'menu') {
                                zj.push(bN);
                            }
                            bN = bN.parentNode;
                        }
                        if (zQ) {
                            bN = zQ.firstChild;
                            while (bN) {
                                if (bN.ImGearType === 'menuItemHighlight') {
                                    Fe = bN;
                                } else if (bN.ImGearType === 'menu') {
                                    zj.push(bN);
                                }
                                bN = bN.nextSibling;
                            }
                        }
                        QD(tk, zj, zQ, Fe);
                    }
                };
                var aW;
                if (window.innerWidth) {
                    aW = {
                        x: window.pageXOffset,
                        y: window.pageYOffset,
                        width: window.innerWidth,
                        height: window.innerHeight
                    };
                } else if (document.documentElement.clientWidth) {
                    aW = {
                        x: vy,
                        y: xd,
                        width: document.documentElement.clientWidth,
                        height: document.documentElement.clientHeight
                    };
                } else {
                    aW = {
                        x: vy,
                        y: xd,
                        width: document.body.clientWidth,
                        height: document.body.clientHeight
                    };
                }
                var tk = this.agP(iT, false, false, aaX, aaX, true, aW, document.body, F.mark);
                QD(tk, [tk], null, null);
                document.body.appendChild(tk);
                IPCC.Web.UI.ao.addHandler(document.body, 'mousedown', wB);
                IPCC.Web.UI.ao.addHandler(document.body, 'mousemove', amb);
            };
            ge.prototype.agP = function(iT, dY, aN, YF, WI, AW, aW, aFN, L) {
                var ani = 24,
                    aby = 1;
                var C, Uw = 0;
                for (C = 0; C < iT.cd.length; C++) {
                    var axo = iT.cd[C];
                    if (axo) {
                        Uw += ani;
                    } else {
                        Uw += aby;
                    }
                }
                var Ok;
                if (AW) {
                    Ok = WI.x + iT.ag;
                    if (Ok > aW.x + aW.width) {
                        AW = false;
                    }
                }
                if (!AW) {
                    Ok = YF.x - iT.ag;
                    if (Ok < aW.x) {
                        AW = true;
                    }
                }
                var pB = {
                    x: WI.x,
                    y: WI.y
                };
                if (!AW) {
                    pB = {
                        x: YF.x - iT.ag - 2,
                        y: YF.y - 2
                    };
                }
                var aiM = aW.y + aW.height - Uw - 8;
                if (pB.y > aiM) {
                    pB.y = aiM;
                }
                if (pB.y < aW.y + 2) {
                    pB.y = aW.y + 2;
                }

                function fT(pM) {
                    var wV = document.createElement('div');
                    var C;
                    for (C in pM) {
                        if (pM.hasOwnProperty(C)) {
                            wV.style[C] = pM[C];
                        }
                    }
                    return wV;
                };
                var NI = fT({
                    zIndex: 2,
                    width: iT.ag + 'px',
                    left: pB.x + 'px',
                    top: pB.y + 'px',
                    margin: '0px',
                    padding: '0px',
                    border: '1px solid #C0C0C0',
                    position: 'absolute',
                    backgroundColor: '#F0F0F0',
                    color: 'Black',
                    fontSize: '11px',
                    fontFamily: 'Arial, Helvetica, sans-serif',
                    fontWeight: 'bold',
                    boxShadow: '0 2px 3px rgba(0,0,0,.2)'
                });
                NI.ImGearType = 'menu';
                for (C = 0; C < iT.cd.length; C++) {
                    var xS = iT.cd[C];
                    var us;
                    if (xS) {
                        us = fT({
                            position: 'relative',
                            height: '24px'
                        });
                        us.ImGearType = 'menuItem';
                        var Ao = fT({
                            position: 'absolute',
                            width: '24px',
                            overflow: 'hidden',
                            borderRight: '1px solid #E0E0E0',
                            height: '24px',
                            textAlign: 'center'
                        });
                        us.appendChild(Ao);
                        var amn = fT({
                            textOverflow: 'ellipsis',
                            whiteSpace: 'nowrap',
                            width: iT.ag - 44 + 'px',
                            position: 'absolute',
                            left: '25px',
                            padding: '0 0 0 4px',
                            overflow: 'hidden',
                            borderLeft: '1px solid #FFFFFF',
                            height: '24px',
                            lineHeight: '24px'
                        });
                        us.appendChild(amn);
                        var amg = fT({
                            display: 'none',
                            position: 'absolute',
                            height: '24px',
                            width: iT.ag + 'px',
                            backgroundColor: '#00C0E0',
                            filter: 'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',
                            opacity: '.3'
                        });
                        amg.ImGearType = 'menuItemHighlight';
                        us.appendChild(amg);
                        amn.appendChild(document.createTextNode(xS.bv));
                        var Mk = xS.dY || dY;
                        var Hs = xS.aN || aN;
                        if (Hs) {
                            if (Mk === IPCC.eV.Hx) {
                                var asD = L['get_' + Hs]();
                                if (asD === xS.G) {
                                    if (this.J.vm()) {
                                        Ao.style.backgroundImage = 'url(\'' + this.J.vm() + '/MenuIcons.png' + '\')';
                                    } else {
                                        Ao.style.backgroundImage = 'url(\'' + '<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>' + '\')';
                                    }
                                    Ao.style.backgroundPosition = '0px';
                                }
                            } else if (Mk === IPCC.eV.ann) {
                                var atd = L['get_' + Hs]();
                                if (atd) {
                                    if (this.J.vm()) {
                                        Ao.style.backgroundImage = 'url(\'' + this.J.vm() + '/MenuIcons.png' + '\')';
                                    } else {
                                        Ao.style.backgroundImage = 'url(\'' + '<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>' + '\')';
                                    }
                                    Ao.style.backgroundPosition = '24px 0px';
                                }
                            }
                        }
                        if (!xS.ng) {
                            us.ImGearCommand = {
                                dY: Mk,
                                aN: Hs,
                                G: xS.G
                            };
                        } else {
                            var ayb = {
                                x: aW.x - pB.x,
                                y: aW.y - pB.y,
                                width: aW.width,
                                height: aW.height
                            };
                            this.agP(xS.ng, Mk, Hs, {
                                x: 0,
                                y: -1
                            }, {
                                x: iT.ag,
                                y: -1
                            }, AW, ayb, us, L);
                        }
                        pB.y += ani;
                    } else {
                        us = fT({
                            height: '1px',
                            overflow: 'hidden',
                            backgroundColor: '#E0E0E0'
                        });
                        pB.y += aby;
                    }
                    NI.appendChild(us);
                }
                aFN.appendChild(NI);
                return NI;
            };
            ge.prototype.aBc = function(L, dI, J) {
                var vy = document.documentElement.scrollLeft - document.documentElement.clientLeft + document.body.scrollLeft - document.body.clientLeft;
                var xd = document.documentElement.scrollTop - document.documentElement.clientTop + document.body.scrollTop - document.body.clientTop;
                var aW;
                if (window.innerWidth) {
                    aW = {
                        x: window.pageXOffset,
                        y: window.pageYOffset,
                        width: window.innerWidth,
                        height: window.innerHeight
                    };
                } else if (document.documentElement.clientWidth) {
                    aW = {
                        x: vy,
                        y: xd,
                        width: document.documentElement.clientWidth,
                        height: document.documentElement.clientHeight
                    };
                } else {
                    aW = {
                        x: vy,
                        y: xd,
                        width: document.body.clientWidth,
                        height: document.body.clientHeight
                    };
                }
                var oT = aW.x + aW.width / 2;
                var lY = aW.y + aW.height / 2;
                var hZ = document.createElement('div');
                hZ.innerHTML = '	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;' + 'background-color:#F0F0F0;position:absolute;top:' + (lY - 85) + 'px;left:' + (oT - 80) + 'px;width:160px;height:170px;">' + '<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">' + this.am.selectColor + '</div>' + '<div style="position:relative;">' + '<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">' + this.am.red + ':</div>' + '<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />' + '<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">' + this.am.green + ':</div>' + '<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />' + '<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">' + this.am.blue + ':</div>' + '<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />' + '<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">' + this.am.ok + '</button>' + '<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">' + this.am.cancel + '</button>' + '</div>' + '</div>';
                document.body.appendChild(hZ);
                var abK = document.getElementById('ImGearColorRed');
                var ajk = document.getElementById('ImGearColorGreen');
                var ajh = document.getElementById('ImGearColorBlue');
                var Gk = document.getElementById('ImGearColorOKButton');
                var Jh = document.getElementById('ImGearColorCancelButton');
                var SC = L['get_' + dI]();
                var Pu;
                if (SC.length === 7 && SC.charAt(0) === '#') {
                    Pu = parseInt(SC.slice(1), 16);
                }
                abK.value = (Pu >> 16);
                ajk.value = ((Pu >> 8) & 255);
                ajh.value = (Pu & 255);

                function QY(abE) {
                    var G = Math.floor(+(abE.value));
                    if (!isFinite(G)) {
                        G = 0;
                    }
                    if (G < 0) {
                        G = 0;
                    }
                    if (G > 255) {
                        G = 255;
                    }
                    return G;
                };

                function AJ() {
                    IPCC.Web.UI.ao.removeHandler(Gk, 'click', Ge);
                    IPCC.Web.UI.ao.removeHandler(Jh, 'click', Js);
                    IPCC.Web.UI.ao.removeHandler(document.body, 'mousedown', wB);
                };

                function Ge() {
                    var cl = QY(abK) * 65536 + QY(ajk) * 256 + QY(ajh);
                    L['set_' + dI]('#' + (0x1000000 + cl).toString(16).slice(1));
                    AJ();
                    document.body.removeChild(hZ);
                    hZ = null;
                    J.dv();
                };

                function Js() {
                    AJ();
                    document.body.removeChild(hZ);
                    hZ = null;
                };

                function wB(bS) {
                    if (hZ) {
                        var bN = bS.target;
                        var Jc;
                        while (bN !== document.body) {
                            if (bN === hZ) {
                                Jc = true;
                            }
                            bN = bN.parentNode;
                        }
                        if (!Jc) {
                            AJ();
                            document.body.removeChild(hZ);
                            hZ = null;
                        }
                    }
                };
                IPCC.Web.UI.ao.addHandler(Gk, 'click', Ge);
                IPCC.Web.UI.ao.addHandler(Jh, 'click', Js);
                IPCC.Web.UI.ao.addHandler(document.body, 'mousedown', wB);
                abK.focus();
            };
            ge.prototype.aCm = function(L, J) {
                var vy = document.documentElement.scrollLeft - document.documentElement.clientLeft + document.body.scrollLeft - document.body.clientLeft;
                var xd = document.documentElement.scrollTop - document.documentElement.clientTop + document.body.scrollTop - document.body.clientTop;
                var aW;
                if (window.innerWidth) {
                    aW = {
                        x: window.pageXOffset,
                        y: window.pageYOffset,
                        width: window.innerWidth,
                        height: window.innerHeight
                    };
                } else if (document.documentElement.clientWidth) {
                    aW = {
                        x: vy,
                        y: xd,
                        width: document.documentElement.clientWidth,
                        height: document.documentElement.clientHeight
                    };
                } else {
                    aW = {
                        x: vy,
                        y: xd,
                        width: document.body.clientWidth,
                        height: document.body.clientHeight
                    };
                }
                var oT = aW.x + aW.width / 2;
                var lY = aW.y + aW.height / 2;
                var hZ = document.createElement('div');
                hZ.innerHTML = '<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;' + 'background-color:#F0F0F0;position:absolute;top:' + (lY - 85) + 'px;left:' + (oT - 200) + 'px;width:400px;height:170px;z-index:2">' + '<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">' + this.am.selectFont + '</div>' + '<div style="position:relative;">' + '<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">' + this.am.font + ':</div>' + '<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />' + '<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">' + this.am.size + ':</div>' + '<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />' + '<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">' + this.am.italic + '</div></div>' + '<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">' + this.am.bold + '</div></div>' + '<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">' + this.am.underline + '</div></div>' + '<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">' + this.am.strikeout + '</div></div>' + '<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">' + this.am.ok + '</button>' + '<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">' + this.am.cancel + '</button>' + '</div>' + '</div>';
                document.body.appendChild(hZ);
                var XE = document.getElementById('ImGearFontFamily');
                var ahE = document.getElementById('ImGearFontSize');
                var agu = document.getElementById('ImGearFontItalic');
                var ahp = document.getElementById('ImGearFontBold');
                var ahu = document.getElementById('ImGearFontUnderline');
                var ahF = document.getElementById('ImGearFontStrikeout');
                var Gk = document.getElementById('ImGearFontOKButton');
                var Jh = document.getElementById('ImGearFontCancelButton');
                var aBs = L.get_fontName();
                var aBI = L.get_fontSize();
                var sO = L.get_fontStyle();
                XE.value = aBs;
                ahE.value = aBI;
                agu.checked = sO & IPCC.Web.UI.FontStyle.Italic;
                ahp.checked = sO & IPCC.Web.UI.FontStyle.Bold;
                ahu.checked = sO & IPCC.Web.UI.FontStyle.Underline;
                ahF.checked = sO & IPCC.Web.UI.FontStyle.Strikeout;

                function auE(abE) {
                    var G = Math.floor(+(abE.value));
                    if (!isFinite(G)) {
                        G = 12;
                    }
                    if (G < 0.1) {
                        G = 0.1;
                    }
                    if (G > 288) {
                        G = 288;
                    }
                    return G;
                };

                function AJ() {
                    IPCC.Web.UI.ao.removeHandler(Gk, 'click', Ge);
                    IPCC.Web.UI.ao.removeHandler(Jh, 'click', Js);
                    IPCC.Web.UI.ao.removeHandler(document.body, 'mousedown', wB);
                };

                function Ge() {
                    L.set_fontName(XE.value);
                    var cu = auE(ahE);
                    L.set_fontSize(cu);
                    var eF = 0;
                    if (agu.checked) {
                        eF |= IPCC.Web.UI.FontStyle.Italic;
                    }
                    if (ahp.checked) {
                        eF |= IPCC.Web.UI.FontStyle.Bold;
                    }
                    if (ahu.checked) {
                        eF |= IPCC.Web.UI.FontStyle.Underline;
                    }
                    if (ahF.checked) {
                        eF |= IPCC.Web.UI.FontStyle.Strikeout;
                    }
                    L.set_fontStyle(eF);
                    AJ();
                    document.body.removeChild(hZ);
                    hZ = null;
                    J.dv();
                };

                function Js() {
                    AJ();
                    document.body.removeChild(hZ);
                    hZ = null;
                };

                function wB(bS) {
                    if (hZ) {
                        var bN = bS.target;
                        var Jc;
                        while (bN !== document.body) {
                            if (bN === hZ) {
                                Jc = true;
                            }
                            bN = bN.parentNode;
                        }
                        if (!Jc) {
                            AJ();
                            document.body.removeChild(hZ);
                            hZ = null;
                        }
                    }
                };
                IPCC.Web.UI.ao.addHandler(Gk, 'click', Ge);
                IPCC.Web.UI.ao.addHandler(Jh, 'click', Js);
                IPCC.Web.UI.ao.addHandler(document.body, 'mousedown', wB);
                XE.focus();
            };
            ge.prototype.azl = function(F) {
                var L = F.UW.mark;
                switch (F.dY) {
                    case IPCC.eV.Hx:
                        L['set_' + F.aN](F.G);
                        this.J.dv();
                        break;
                    case IPCC.eV.ND:
                        this.aBc(L, F.aN, this.J);
                        break;
                    case IPCC.eV.anb:
                        this.aCm(L, this.J);
                        break;
                    case IPCC.eV.ann:
                        L['set_' + F.aN](!L['get_' + F.aN]());
                        this.J.dv();
                        break;
                    case IPCC.eV.akB:
                        L.moveToBack();
                        this.J.dv();
                        break;
                    case IPCC.eV.aki:
                        L.moveBackward();
                        this.J.dv();
                        break;
                    case IPCC.eV.akf:
                        L.moveForward();
                        this.J.dv();
                        break;
                    case IPCC.eV.akM:
                        L.moveToFront();
                        this.J.dv();
                        break;
                    case IPCC.eV.amO:
                        L.removeFromPage();
                        this.J.dv();
                        break;
                    default:
                        this.J.aAK(F);
                        break;
                }
            };
            module.exports = ge;
        }, {}],
        22: [function(require, module, exports) {
            var ar = {
                Default: 0,
                Arrow: 1,
                Crosshair: 2,
                Link: 3,
                HandOpen: 4,
                HandClosed: 5,
                Magnifier: 6,
                None: 7,
                RectangleZoom: 8,
                AddRectangleMark: 9,
                AddEllipseMark: 10,
                AddLineMark: 11,
                AddFreehandLineMark: 12,
                AddPolygonMark: 13,
                AddPolylineMark: 14,
                AddTextMark: 15,
                Move: 16,
                ResizeN: 17,
                ResizeE: 18,
                ResizeS: 19,
                ResizeW: 20,
                ResizeNW: 21,
                ResizeNE: 22,
                ResizeSE: 23,
                ResizeSW: 24,
                EditMarks: 25,
                RunMarks: 26,
                Text: 27,
                AddStampMark: 28,
                AddRectangleRedactionMark: 29,
                AddImageStampMark: 30,
                ei: function(ai) {
                    switch (ai) {
                        case IPCC.ar.Default:
                        case IPCC.ar.Magnifier:
                        case IPCC.ar.None:
                        case IPCC.ar.RunMarks:
                            return 'auto';
                        case IPCC.ar.Arrow:
                        case IPCC.ar.EditMarks:
                            return 'default';
                        case IPCC.ar.Crosshair:
                        case IPCC.ar.RectangleZoom:
                        case IPCC.ar.AddRectangleMark:
                        case IPCC.ar.AddEllipseMark:
                        case IPCC.ar.AddLineMark:
                        case IPCC.ar.AddFreehandLineMark:
                        case IPCC.ar.AddPolygonMark:
                        case IPCC.ar.AddPolylineMark:
                        case IPCC.ar.AddTextMark:
                        case IPCC.ar.AddRectangleRedactionMark:
                        case IPCC.ar.AddImageStampMark:
                        case IPCC.ar.AddStampMark:
                            return 'crosshair';
                        case IPCC.ar.Link:
                            return 'pointer';
                        case IPCC.ar.HandOpen:
                        case IPCC.ar.HandClosed:
                        case IPCC.ar.Move:
                            return 'move';
                        case IPCC.ar.ResizeN:
                            return 'n-resize';
                        case IPCC.ar.ResizeE:
                            return 'e-resize';
                        case IPCC.ar.ResizeS:
                            return 's-resize';
                        case IPCC.ar.ResizeW:
                            return 'w-resize';
                        case IPCC.ar.ResizeNW:
                            return 'nw-resize';
                        case IPCC.ar.ResizeNE:
                            return 'ne-resize';
                        case IPCC.ar.ResizeSE:
                            return 'se-resize';
                        case IPCC.ar.ResizeSW:
                            return 'sw-resize';
                        case IPCC.ar.Text:
                            return 'text';
                    }
                    return 'auto';
                }
            };
            module.exports = ar;
        }, {}],
        23: [function(require, module, exports) {
            var iU = {
                rg: function(ie, Nn) {
                    var an, dM, eK;
                    if (ie === null) {
                        return 'null';
                    }
                    if (!Nn) {
                        Nn = 0;
                    }
                    an = typeof(ie);
                    if (an === 'undefined') {
                        return 'undefined';
                    } else if (an === 'number' || an === 'boolean') {
                        return ie.toString();
                    } else if (an === 'string') {
                        return '\'' + ie + '\'';
                    } else if (an === 'function') {
                        return 'function';
                    } else {
                        if (Nn < 0) {
                            return 'ie';
                        }
                        dM = '{';
                        for (eK in ie) {
                            if (ie.hasOwnProperty(eK)) {
                                if (dM.length > 2) {
                                    dM += ', ';
                                }
                                dM += eK;
                                dM += ': ';
                                dM += IPCC.iU.rg(ie[eK], Nn - 1);
                            }
                        }
                        dM += '}';
                        return dM;
                    }
                },
                MW: function(bv) {
                    var traceElement = document.getElementById('TraceConsole');
                    if (traceElement && (traceElement.tagName.toUpperCase() === 'TEXTAREA')) {
                        traceElement.value += bv + '\n';
                    }
                },
                aGa: function() {
                    var traceElement = document.getElementById('TraceConsole');
                    if (traceElement && (traceElement.tagName.toUpperCase() === 'TEXTAREA')) {
                        traceElement.value = '';
                    }
                },
                nf: function(iq, IJ, av, Eg, zo) {
                    var bv = "PCC Controls - ";
                    bv += (Eg) ? Eg : " ";
                    bv += " parent Div id = ";
                    bv += (zo) ? zo : " ";
                    if (IJ) {
                        switch (IJ) {
                            case 0:
                                bv += " FunctionCall ";
                                break;
                            case 1:
                                bv += " Exception ";
                                break;
                            case 2:
                                bv += " Custom ";
                                break;
                            case 3:
                                bv += " UserAction ";
                                break;
                            case 4:
                                bv += " Warning ";
                                break;
                            default:
                                bv += " unknown ";
                        }
                    }
                    bv += " - " + iq;
                    if ((typeof(Debug) !== 'undefined') && Debug.writeln) {
                        Debug.writeln(bv);
                    }
                    if (window.console && window.console.log) {
                        window.console.log(bv);
                    }
                    if (window.opera) {
                        window.opera.postError(bv);
                    }
                    if (window.debugService) {
                        window.debugService.trace(bv);
                    }
                    var traceElement = document.getElementById('TraceConsole');
                    if (traceElement && (traceElement.tagName.toUpperCase() === 'TEXTAREA')) {
                        traceElement.value += bv + '\n';
                    }
                    var Om;
                    try {
                        Om = onPCCItemLogged;
                    } catch (ex) {}
                    if (Om && (typeof(Om)).toLowerCase() === 'function') {
                        var cA = new IPCC.Web.UI.LogItemEventArgs();
                        cA.message = iq;
                        cA.cause = IJ;
                        cA.level = av;
                        cA.id = zo;
                        Om(cA);
                    }
                }
            };
            module.exports = iU;
        }, {}],
        24: [function(require, module, exports) {
            var kb = function() {
                this.bG = false;
                this.J = false;
            };
            kb.prototype.mq = function(J) {
                this.J = J;
                this.J.ace(true);
                this.bM = J.bV();
                this.iW = this.bM.get_cursor();
                this.bM.set_cursor(IPCC.ar.EditMarks);
                this.bM.Do(IPCC.ar.Move);
            };
            kb.prototype.ek = function() {
                this.bM.set_cursor(this.iW);
                this.bM.Do(IPCC.ar.Default);
                if (arguments[0]) {
                    if (arguments[0] === true) {
                        this.J = false;
                        return;
                    }
                }
                this.J.ace(false);
                this.J = false;
            };
            kb.prototype.aB = function() {
                if (this.bG) {
                    this.bM.set_cursor(IPCC.ar.EditMarks);
                    this.bM.Do(IPCC.ar.Move);
                    this.J.Gx(true);
                    this.bM.ow();
                    this.bG = false;
                    this.J.dv();
                }
            };
            kb.prototype.zA = function(F) {
                this.aB();
                var L = F.mark;
                if (L && L.jh() === IPCC.Web.UI.MarkType.Text) {
                    this.J.yq(L);
                    this.J.dv();
                }
            };
            kb.prototype.lq = function(F) {
                this.aB();
                var ja = F.domEvent;
                if (ja.button === 0) {
                    var bK = ja.target;
                    this.bq = bK.ImGearMarkHandle;
                    if (this.bq) {
                        this.uT = this.bq.an;
                        this.nh = this.bq.ay;
                    } else {
                        this.uT = null;
                        this.nh = null;
                    }
                    while (!(bK.ImGearMarkRelation) && bK.parentNode && bK !== document.body) {
                        bK = bK.parentNode;
                    }
                    this.h = bK.ImGearMarkRelation;
                    if (this.h) {
                        this.L = this.h.L;
                    } else {
                        this.L = null;
                    }
                    this.bG = true;
                    this.QE = F.imagePoint;
                    this.DM = F.imagePoint;
                    var L = this.L;
                    if (!L || L.get_interactionMode() === IPCC.Web.UI.MarkInteractionMode.SelectionDisabled) {
                        if (!ja.shiftKey) {
                            this.J.eg().yb().removeAllMarks();
                        }
                        this.bM.Ej(F.imagePoint);
                    } else {
                        var hD, R;
                        switch (this.uT) {
                            case IPCC.dP.ck.prototype.Ye:
                                this.iz = L.eA();
                                this.aaC = Math.abs(this.iz.width);
                                this.Iq = Math.abs(this.iz.height);
                                hD = {
                                    x: this.iz.x,
                                    y: this.iz.y
                                };
                                this.RU = {
                                    x: this.iz.x + this.iz.width,
                                    y: this.iz.y + this.iz.height
                                };
                                if (this.nh > 0 && this.nh < 3) {
                                    hD.x += this.iz.width;
                                    this.RU.x -= this.iz.width;
                                }
                                if (this.nh > 1) {
                                    hD.y += this.iz.height;
                                    this.RU.y -= this.iz.height;
                                }
                                this.aHV = hD;
                                break;
                            case IPCC.dP.ck.prototype.ZD:
                                R = L.eA();
                                this.iz = R;
                                hD = {
                                    x: R.x + R.width / 2,
                                    y: R.y + R.height / 2
                                };
                                switch (this.nh) {
                                    case 0:
                                        this.Ap = R.y + R.height;
                                        hD.y = R.y;
                                        break;
                                    case 1:
                                        this.Ap = R.x;
                                        hD.x = R.x + R.width;
                                        break;
                                    case 2:
                                        this.Ap = R.y;
                                        hD.y = R.y + R.height;
                                        break;
                                    case 3:
                                        this.Ap = R.x + R.width;
                                        hD.x = R.x;
                                        break;
                                }
                                break;
                            case IPCC.dP.ck.prototype.Gv:
                                this.bF = L.qP();
                                if (this.nh < 0 || this.nh > this.bF.en()) {
                                    this.aB();
                                }
                                hD = this.bF.getPoint(this.nh);
                                break;
                            case IPCC.dP.ck.prototype.Hf:
                                break;
                            case IPCC.dP.ck.prototype.Yc:
                                R = L.eA();
                                hD = {
                                    x: R.x + L.mg.x,
                                    y: R.y + L.mg.y
                                };
                                break;
                            default:
                                var xm = L.get_selected();
                                if (ja.ctrlKey || ja.shiftKey) {
                                    xm = !xm;
                                    L.set_selected(xm);
                                } else {
                                    if (!xm) {
                                        xm = true;
                                        this.J.eg().yb().removeAllMarks();
                                        if (L.get_type() === IPCC.Web.UI.MarkType.Highlight) {
                                            for (var C = 0; C < this.J.eg().get_markCount(); C++) {
                                                var Rq = this.J.eg().getMark(C);
                                                if (Rq.jh() === 608 && Rq.ah === L.ah) {
                                                    Rq.set_selected(xm);
                                                }
                                            }
                                        } else {
                                            L.set_selected(xm);
                                        }
                                    }
                                }
                                if (!xm) {
                                    this.aB();
                                }
                                break;
                        }
                        if (this.bG && hD) {
                            this.alZ = hD.x - this.QE.x;
                            this.aoN = hD.y - this.QE.y;
                            if (this.bq) {
                                this.bM.set_cursor(this.bq.ai);
                                this.bM.Do(this.bq.ai);
                            }
                        }
                    }
                    if (this.bG) {
                        this.J.Gx(false);
                    }
                }
                this.J.dv();
            };
            kb.prototype.jV = function(F) {
                var ja = F.domEvent;
                var DM;

                function aro(aDp) {
                    aDp.Hd(F.imagePoint.x - DM.x, F.imagePoint.y - DM.y);
                };
                if (ja.button !== 0) {
                    this.aB();
                }
                if (this.bG) {
                    var L = this.L;
                    if (!L || L.get_interactionMode() === IPCC.Web.UI.MarkInteractionMode.SelectionDisabled) {
                        this.bM.xp(F.imagePoint);
                    } else {
                        var hD = {
                            x: F.imagePoint.x + this.alZ,
                            y: F.imagePoint.y + this.aoN
                        };
                        var R;
                        switch (this.uT) {
                            case IPCC.dP.ck.prototype.Ye:
                                var qm = {
                                    x: hD.x,
                                    y: hD.y
                                };
                                var jS = {
                                    x: this.RU.x,
                                    y: this.RU.y
                                };
                                if (ja.ctrlKey) {
                                    jS.x = this.iz.x + this.iz.width / 2;
                                    jS.y = this.iz.y + this.iz.height / 2;
                                }
                                if (ja.shiftKey) {
                                    var ti = Math.abs(qm.x - jS.x);
                                    var tj = Math.abs(qm.y - jS.y);
                                    if (ti * this.Iq < tj * this.aaC) {
                                        if (this.Iq > 0.001) {
                                            ti = tj * this.aaC / this.Iq;
                                        }
                                    } else {
                                        if (this.Iq > 0.001) {
                                            tj = ti * this.Iq / this.aaC;
                                        }
                                    }
                                    if (qm.x < jS.x) {
                                        ti = -ti;
                                    }
                                    if (qm.y < jS.y) {
                                        tj = -tj;
                                    }
                                    qm.x = jS.x + ti;
                                    qm.y = jS.y + tj;
                                }
                                if (ja.ctrlKey) {
                                    jS = {
                                        x: jS.x - (qm.x - jS.x),
                                        y: jS.y - (qm.y - jS.y)
                                    };
                                }
                                R = {};
                                R.x = Math.min(jS.x, qm.x);
                                R.width = Math.max(jS.x, qm.x) - R.x;
                                R.y = Math.min(jS.y, qm.y);
                                R.height = Math.max(jS.y, qm.y) - R.y;
                                L.set_rectangle(R);
                                break;
                            case IPCC.dP.ck.prototype.ZD:
                                R = L.eA();
                                var Ei;
                                if (this.nh & 1) {
                                    if (ja.ctrlKey) {
                                        Ei = this.iz.x + this.iz.width / 2;
                                        R.width = Math.abs(hD.x - Ei) * 2;
                                        R.x = Ei - R.width / 2;
                                    } else {
                                        R.x = Math.min(hD.x, this.Ap);
                                        R.width = Math.max(hD.x, this.Ap) - R.x;
                                    }
                                } else {
                                    if (ja.ctrlKey) {
                                        Ei = this.iz.y + this.iz.height / 2;
                                        R.height = Math.abs(hD.y - Ei) * 2;
                                        R.y = Ei - R.height / 2;
                                    } else {
                                        R.y = Math.min(hD.y, this.Ap);
                                        R.height = Math.max(hD.y, this.Ap) - R.y;
                                    }
                                }
                                L.set_rectangle(R);
                                break;
                            case IPCC.dP.ck.prototype.Gv:
                                this.bF = L.qP();
                                hD = this.bF.setPoint(this.nh, hD);
                                break;
                            case IPCC.dP.ck.prototype.Hf:
                                break;
                            case IPCC.dP.ck.prototype.Yc:
                                R = L.eA();
                                L.set_calloutPoint({
                                    x: hD.x - R.x,
                                    y: hD.y - R.y
                                });
                                break;
                            default:
                                DM = this.DM;
                                this.DM = F.imagePoint;
                                this.J.eg().yb().ld(aro);
                                break;
                        }
                    }
                    this.J.dv();
                }
            };
            kb.prototype.lh = function() {
                function aur(L) {
                    var HS = L.agI();
                    if (acT.contains(HS) && acT.contains({
                            x: HS.x + HS.width,
                            y: HS.y + HS.height
                        })) {
                        L.set_selected(true);
                    }
                };
                if (this.bG) {
                    if (!this.L) {
                        var acT = this.bM.wQ();
                        this.J.eg().Cx(aur);
                        this.bM.ow();
                    }
                    this.aB();
                }
            };
            kb.prototype.oK = function(F) {
                var bD = this.J.eT();
                if (F.windowPoint.x <= 0 || F.windowPoint.x >= bD.width - 2) {
                    this.aB();
                }
                if (F.windowPoint.y <= 0 || F.windowPoint.y >= bD.height - 2) {
                    this.aB();
                }
            };
            kb.prototype.mh = function() {
                this.aB();
            };
            module.exports = kb;
        }, {}],
        25: [function(require, module, exports) {
            var cV = require('./IPCC.Util').regClass;
            var KL = function() {
                return this;
            };
            KL.registerClass = cV;
            KL.prototype = {};
            KL.registerClass('IPCC.ExceptionEventArgs');
            module.exports = KL;
        }, {
            "./IPCC.Util": 29
        }],
        26: [function(require, module, exports) {
            var eP = require('./IPCC.Util').regEnum;
            var ot = function() {};
            ot.registerEnum = eP;
            ot.prototype = {
                FitToWidth: 0,
                ShrinkToWidth: 1,
                ActualSize: 2,
                FitToHeight: 3,
                BestFit: 4
            };
            ot.registerEnum('IPCC.FitType', false);
            module.exports = ot;
        }, {
            "./IPCC.Util": 29
        }],
        27: [function(require, module, exports) {
            var wv = function() {
                function DC() {
                    return Math.floor((Math.random() * 10)).toString();
                };
                var fW = new Date();
                return DC() + DC() + '_' + fW.getTime() + "_" + DC() + DC() + DC() + DC();
            };
            module.exports = wv;
        }, {}],
        28: [function(require, module, exports) {
            var nJ = function() {
                this.bG = false;
                this.J = false;
            };
            nJ.prototype.mq = function(J) {
                J.bV().set_cursor(IPCC.ar.HandOpen);
                this.J = J;
            };
            nJ.prototype.ek = function() {
                this.J = false;
            };
            nJ.prototype.aB = function() {
                if (this.bG) {
                    this.J.bV().set_cursor(this.iW);
                    this.bG = false;
                }
            };
            nJ.prototype.rG = function() {
                this.aB();
            };
            nJ.prototype.lq = function(F) {
                this.aB();
                if (F.domEvent.button === 0) {
                    this.iW = this.J.bV().get_cursor();
                    this.J.bV().set_cursor(IPCC.ar.HandClosed);
                    this.bG = true;
                    this.QE = F.imagePoint;
                }
            };
            nJ.prototype.jV = function(F) {
                if (F.domEvent.button !== 0) {
                    this.aB();
                }
                if (this.bG) {
                    var J = this.J;
                    var bM = J.bV();
                    var ak = bM.ec();
                    var bD = J.eT();
                    ak.SO(this.QE, F.windowPoint);
                    ak.la(J.cE(), bD);
                    J.aQ('userModifiedViewState', {});
                    bM.jr(ak);
                    J.dv();
                }
            };
            nJ.prototype.lh = function() {
                this.aB();
            };
            nJ.prototype.oK = function(F) {
                var bD = this.J.eT();
                if (F.windowPoint.x <= 0 || F.windowPoint.x >= bD.width - 2) {
                    this.aB();
                }
                if (F.windowPoint.y <= 0 || F.windowPoint.y >= bD.height - 2) {
                    this.aB();
                }
            };
            nJ.prototype.mh = function() {
                this.aB();
            };
            module.exports = nJ;
        }, {}],
        29: [function(require, module, exports) {
            var T = {};
            T.abi = (function() {
                var ky = {};
                var zX = [];
                ky.get = function aFG(pG) {
                    if (zX.length === 0) {
                        return;
                    }
                    for (var i = 0; i < pG.length; i++) {
                        if (zX[i] && zX[i].pG === pG) {
                            return zX[i].ji;
                        }
                    }
                };
                ky.set = function aHk(pG, ji) {
                    zX.push({
                        pG: pG,
                        ji: ji
                    });
                    if (zX.length > 10) {
                        zX.shift();
                    }
                };
                ky.contains = function hM(pG) {
                    return ky.get(pG) !== undefined;
                };
                ky.cacheReponse = function aGA(pG, ji) {
                    if (ji.readyState === 4) {
                        ky.set(pG, ji);
                    } else {
                        var azd = ji.onreadystatechange;
                        ji.onreadystatechange = function() {
                            if (ji.readyState === XMLHttpRequest.DONE && ji.status === 200) {
                                ky.set(pG, ji);
                            }
                            azd();
                        };
                    }
                };
                return ky;
            })();
            T.ZZ = false;
            T.are = (function supportsSVG() {
                return !!('createElementNS' in document && document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect);
            })();
            T.Oe = (function() {
                var Oe = false;
                var ru = navigator.userAgent,
                    abt = ((ru.indexOf('Mozilla/5.0') > -1 && ru.indexOf('Android ') > -1 && ru.indexOf('AppleWebKit') > -1) && !(ru.indexOf('Chrome') > -1)),
                    adx = new RegExp(/AppleWebKit\/([\d.]+)/),
                    ayS = adx.exec(ru),
                    ajA = (ayS === null ? null : parseFloat(adx.exec(ru)[1]));
                Oe = abt && ajA !== null && ajA < 537;
                return Oe;
            })();
            T.aAs = (function() {
                var ahm = false;
                var ru = navigator.userAgent,
                    abt = /Android/i.test(ru),
                    azw = /iPhone|iPad|iPod/i.test(ru),
                    azc = /IEMobile/i.test(ru);
                ahm = (abt || azw || azc);
                return ahm;
            })();
            T.CA = (function() {
                var CA = false;
                if (document.documentMode === 8 || document.documentMode === 9 || document.documentMode === 10) {
                    CA = true;
                }
                return CA;
            })();
            T.XQ = (function() {
                var auZ = navigator.userAgent;
                if (document.documentMode === 10 || T.Oe) {
                    return 'svg';
                } else if (document.documentMode === 9) {
                    return 'svga';
                } else if (/Apple Computer/.test(navigator.vendor || '') && /Mac OS X.*?Version\/9\..*?Safari/i.test(auZ) && !T.aAs) {
                    return 'svga';
                } else {
                    return 'svgb';
                }
            })();
            T.Dy = (function() {
                if (document.documentMode === 8) {
                    document.namespaces.add('v', 'urn:schemas-microsoft-com:vml');
                    document.createStyleSheet().addRule("v\\: *", "behavior:url(#default#VML); position:absolute");
                    document.createStyleSheet().addRule("v\\:roundrect", "behavior:url(#default#VML); position:absolute");
                    document.createStyleSheet().addRule("v\\:oval", "behavior:url(#default#VML); position:absolute");
                    document.createStyleSheet().addRule("v\\:roundrect", "behavior:url(#default#VML); position:absolute");
                    document.createStyleSheet().addRule("v\\:fill", "behavior:url(#default#VML); position:absolute");
                    document.createStyleSheet().addRule("v\\:line", "behavior:url(#default#VML); position:absolute");
                    document.createStyleSheet().addRule("v\\:shape", "behavior:url(#default#VML); position:absolute");
                    document.createStyleSheet().addRule("v\\:polyline", "behavior:url(#default#VML); position:absolute");
                    document.createStyleSheet().addRule("v\\:stroke", "behavior:url(#default#VML); position:absolute");
                    return true;
                }
                return false;
            })();
            T.CI = (function() {
                return window.navigator.pointerEnabled || window.navigator.msPointerEnabled;
            })();
            T.HZ = T.CI || (function() {
                return ('ontouchstart' in document.documentElement);
            })();
            T.azA = (function() {
                return (navigator.platform) ? !!navigator.platform.match(/iPad|iPhone|iPod/g) : false;
            })();
            T.aik = function() {
                return T.atO.btoa((Math.random().toString(36).slice(-4)) + '_' + T.vF(new Date()) + '_' + (Math.random().toString(36).slice(-6)));
            };
            T.inArray = function(cU, cW) {
                for (var i = 0, l = cU.length; i < l; i++) {
                    if (cU[i] === cW) {
                        return true;
                    }
                }
                return false;
            };
            T.forEach = function(aa, bI, cX) {
                var ql = [].forEach,
                    ayn = Object.prototype.hasOwnProperty;
                if (ql && aa.forEach === ql) {
                    bI && aa.forEach(bI, cX);
                } else if (aa.length === +aa.length) {
                    for (var i = 0, length = aa.length; i < length; i++) {
                        bI && bI.call(cX, aa[i], i, aa);
                    }
                } else {
                    for (var aN in aa) {
                        if (ayn.call(aa, aN)) {
                            bI && bI.call(cX, aa[aN], aN, aa);
                        }
                    }
                }
            };
            T.map = function(cU, bI, cX) {
                var ql = [].map,
                    vd = [];
                if (ql && cU.map === ql) {
                    vd = cU.map(bI, cX);
                } else {
                    T.forEach(cU, function(el, i) {
                        vd.push(bI.call(cX, el, i, cU));
                    });
                }
                return vd;
            };
            T.filter = function(cU, bI, cX) {
                var ql = [].filter,
                    vd = [],
                    afp = false;
                if (ql && cU.filter === ql) {
                    vd = cU.filter(bI, cX);
                } else {
                    T.forEach(cU, function(bx, i) {
                        afp = bI.call(cX, bx, i, cU);
                        if (afp) {
                            vd.push(bx);
                        }
                    });
                }
                return vd;
            };
            T.find = function(obj, cb, context) {
                var hasProp = Object.prototype.hasOwnProperty;
                cb = (typeof cb === 'function') ? cb : function() {};
                if (obj.length === +obj.length) {
                    for (var i = 0, length = obj.length; i < length; i++) {
                        if (!!cb.call(context, obj[i], i, obj)) {
                            return obj[i];
                        }
                    }
                } else {
                    for (var name in obj) {
                        if (hasProp.call(obj, name)) {
                            if (!!cb.call(context, obj[name], name, obj)) {
                                return obj[name];
                            }
                        }
                    }
                }
                return undefined;
            };
            T.remove = function(cU, bI, cX) {
                var UR = [];
                var auq = T.filter(cU, bI, cX);
                T.forEach(auq, function(cW) {
                    var ay = T.indexOf(cU, cW);
                    if (ay === -1) {
                        return;
                    }
                    UR = UR.concat(cU.splice(ay, 1));
                });
                return UR;
            };
            T.keys = function(aa) {
                if (Object && Object.keys) {
                    return Object.keys(aa);
                } else {
                    var mL = [];
                    for (var C in aa) {
                        if (aa.hasOwnProperty && aa.hasOwnProperty(C)) {
                            mL.push(C);
                        }
                    }
                    return mL;
                }
            };
            T.indexOf = function(cU, acD, ahj) {
                if (Array.prototype.indexOf) {
                    return cU.indexOf(acD, ahj);
                }
                var k;
                if (cU == null) {
                    throw new TypeError('"cU" is null or not defined');
                }
                var O = Object(cU);
                var len = O.length >>> 0;
                if (len === 0) {
                    return -1;
                }
                var n = +ahj || 0;
                if (Math.abs(n) === Infinity) {
                    n = 0;
                }
                if (n >= len) {
                    return -1;
                }
                k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);
                while (k < len) {
                    if (k in O && O[k] === acD) {
                        return k;
                    }
                    k++;
                }
                return -1;
            };
            T.reduce = function(cU, bI, fq, cX) {
                var ql = [].reduce;
                var Iu = (arguments.length === 2) ? undefined : fq;
                if (ql && typeof ql === 'function' && cU.reduce === ql && cX === undefined) {
                    if (fq !== undefined) {
                        return cU.reduce(bI, fq, cX);
                    }
                    return cU.reduce(bI);
                }
                IPCC.T.forEach(cU, function(az, aj) {
                    if (Iu === undefined) {
                        Iu = az;
                        return;
                    }
                    Iu = bI.call(cX, Iu, az, aj, cU);
                });
                return Iu;
            };
            T.reduceLeft = function(cU, bI, fq, cX) {
                var vd = cU.reverse();
                return T.reduce.call(undefined, vd, bI, fq, cX);
            };
            T.contains = function(cU, az) {
                var dp = cU.length;
                while (dp--) {
                    if (cU[dp] === az) {
                        return true;
                    }
                }
                return false;
            };
            T.auh = function(aaN, agY) {
                if (aaN.length !== agY.length) {
                    return false;
                }
                for (var i = 0, l = aaN.length; i < l; i++) {
                    if (aaN[i] !== agY[i]) {
                        return false;
                    }
                }
                return true;
            };
            T.extend = function(target) {
                "use strict";
                var source;
                if (!target) {
                    throw new IPCC.Web.UI.ImGearArgumentException("target", "target must be defined.");
                } else if (typeof target !== 'object') {
                    throw new IPCC.Web.UI.ImGearArgumentException("target", "typeof target must be 'object'");
                } else {
                    for (var i = 1; i < arguments.length; i++) {
                        source = arguments[i];
                        for (var property in source) {
                            if (source.hasOwnProperty(property)) {
                                target[property] = source[property];
                            }
                        }
                    }
                }
                return target;
            };
            T.trim = function(dM) {
                if (String.prototype.trim) {
                    return dM.trim();
                }
                return dM.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '');
            };
            T.getPageFromPoint = function(aM, di, cX) {
                var aBM = function(hf) {
                    return hf.left <= aM && aM <= hf.right && hf.top <= di && di <= hf.bottom;
                };
                var aCo = function() {
                    return T.filter(cX.querySelectorAll('[id*=__pViewId]:not(.pccPreviousPage):not(.pccNextPage)'), function(jB) {
                        return aBM(jB.getBoundingClientRect());
                    });
                };
                if (!cX) {
                    cX = document;
                }
                return aCo(aM, di)[0];
            };
            T.regEnum = function(name, flags) {
                for (var i in this.prototype) {
                    if (this.prototype.hasOwnProperty(i)) {
                        this[i] = this.prototype[i];
                    }
                }
                this.__typeName = name;
                this.__flags = flags;
                this.__enum = true;
            };
            T.regClass = function(typeName, baseType, interfaceTypes) {
                this.prototype.constructor = this;
                this.__typeName = typeName;
                this.__class = true;
                if (baseType) {
                    this.__baseType = baseType;
                    for (var Nl in baseType.prototype) {
                        if (baseType.prototype.hasOwnProperty(Nl)) {
                            var ayJ = baseType.prototype[Nl];
                            if (!this.prototype[Nl]) {
                                this.prototype[Nl] = ayJ;
                            }
                        }
                    }
                }
                return this;
            };
            T.afm = function(aaI, abx, aiI) {
                if (abx) {
                    if (!aiI) {
                        abx.apply(aaI);
                    } else {
                        abx.apply(aaI, aiI);
                    }
                }
                return aaI;
            };
            T.akI = function akI(vz, apA, aem) {
                var uM;
                return function() {
                    var cX = this,
                        cA = arguments;
                    var azg = function() {
                        uM = undefined;
                        if (!aem) {
                            vz.apply(cX, cA);
                        }
                    };
                    var amW = aem && !uM;
                    clearTimeout(uM);
                    uM = setTimeout(azg, apA);
                    if (amW) {
                        vz.apply(cX, cA);
                    }
                };
            };
            T.amJ = function amJ(aZ, st) {
                if (aZ.classList) {
                    aZ.classList.add(st);
                } else {
                    aZ.className += ' ' + st;
                }
            };
            T.afT = function afT(aZ, st) {
                if (aZ.classList) {
                    aZ.classList.remove(st);
                } else {
                    aZ.className = aZ.className.replace(st, '');
                }
            };
            T.Vq = function(jc) {
                return {
                    width: jc.width || (jc.right - jc.left),
                    height: jc.height || (jc.bottom - jc.top),
                    top: jc.top,
                    bottom: jc.bottom,
                    left: jc.left,
                    right: jc.right
                };
            };
            T.agE = function(alphabet, size) {
                var Bk = '';
                for (var C = 0; C < size; C++) {
                    Bk += alphabet[Math.floor(Math.random() * 1000) % alphabet.length];
                }
                return Bk;
            };
            T.aEm = function() {
                var auO = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
                var azI = 'AQgw';
                return T.agE(auO, 21) + T.agE(azI, 1);
            };
            T.aiu = function() {
                var gR = {
                    'Accusoft-Gid': T.aEm(),
                    'Accusoft-Parent-Name': 'ViewerControl',
                    'Accusoft-Parent-Pid': 0,
                    'Accusoft-Parent-Taskid': 0
                };
                return gR;
            };
            T.rh = function(aX) {
                if (aX instanceof T.rh) {
                    return aX;
                }
                this.gR = T.reduce(aX.headers || {}, function(pe, az, bu) {
                    bu = bu.toLowerCase();
                    if (pe[bu]) {
                        pe[bu] += ', ' + az;
                    } else {
                        pe[bu] = az;
                    }
                    return pe;
                }, {});
                this.status = aX.status;
                this.statusText = aX.statusText;
                this.responseText = aX.responseText;
                if (typeof aX.responseBody !== 'undefined') {
                    this.responseBody = aX.responseBody;
                }
                return this;
            };
            T.rh.prototype.getResponseHeader = function(CG) {
                var aX = this.gR[CG.toLowerCase()];
                return aX !== undefined ? aX : null;
            };
            T.lD = (function() {
                var xf = {};
                xf.gR = {};
                xf.QP = undefined;

                function afO(aid) {
                    var gR = {};
                    if (!aid) {
                        return gR;
                    }
                    var ajf = aid.split('\u000d\u000a');
                    for (var C = 0, ds = ajf.length; C < ds; C++) {
                        var Vf = ajf[C];
                        var ay = Vf.indexOf('\u003a\u0020');
                        if (ay > 0) {
                            var bu = Vf.substring(0, ay);
                            var az = Vf.substring(ay + 2);
                            if (gR[bu]) {
                                gR[bu] += ', ' + az;
                            } else {
                                gR[bu] = az;
                            }
                        }
                    }
                    return gR;
                };
                xf.eh = function(aCx) {
                    var AK = {
                            method: 'GET',
                            url: null,
                            headers: {},
                            body: null,
                            timeout: null,
                            mimeType: null,
                            cache: false
                        },
                        kG = PCCViewer.Deferred(),
                        cK = kG.getPromise(),
                        sq;
                    var bU = T.extend({}, AK, aCx);
                    bU.headers = T.extend({}, xf.gR, bU.headers);
                    if (typeof xf.QP === 'function') {
                        sq = xf.QP(bU);
                        if (typeof sq === 'object' && typeof sq.then === 'function') {
                            sq.then(function(bk) {
                                kG.resolve(bk);
                            }, function(bk) {
                                kG.reject(bk);
                            });
                            return cK;
                        }
                    }
                    if (bU.cache && T.abi.contains(bU.url)) {
                        var ji = T.abi.get(bU.url);
                        var aX, un = {};
                        un = {
                            status: ji.status,
                            headers: afO(ji.getAllResponseHeaders())
                        };
                        try {
                            un.responseText = ji.responseText;
                        } catch (e) {}
                        if (typeof ji.responseBody !== 'undefined') {
                            un.responseBody = ji.responseBody;
                        }
                        aX = new T.rh(un);
                        if (ji.status >= 200 && ji.status < 300 || status === 304) {
                            kG.resolve(aX);
                        } else {
                            kG.reject({
                                response: aX,
                                error: new PCCViewer.Error("Error", "An AJAX problem occurred: " + ji.status + " " + ji.statusText)
                            });
                        }
                        return cK;
                    }
                    var iB, uM;
                    try {
                        iB = new XMLHttpRequest();
                    } catch (e) {
                        kG.reject(new PCCViewer.Error("Error", e.message));
                    }
                    if (iB) {
                        iB.open(bU.method, bU.url, true);
                        if (bU.timeout) {
                            uM = window.setTimeout(function() {
                                iB.abort();
                                kG.reject({
                                    error: new PCCViewer.Error("Error", "Request timed out")
                                });
                            }, bU.timeout);
                        }
                        iB.onreadystatechange = function() {
                            var aX, un = {};
                            if (iB.readyState === 4) {
                                if (uM) {
                                    window.clearTimeout(uM);
                                }
                                un = {
                                    status: iB.status,
                                    headers: afO(iB.getAllResponseHeaders())
                                };
                                try {
                                    un.responseText = iB.responseText;
                                } catch (e) {}
                                if (typeof iB.responseBody !== 'undefined') {
                                    un.responseBody = iB.responseBody;
                                }
                                aX = new T.rh(un);
                                if (iB.status >= 200 && iB.status < 300 || status === 304) {
                                    kG.resolve(aX);
                                } else {
                                    kG.reject({
                                        response: aX,
                                        error: new PCCViewer.Error("Error", "An AJAX problem occurred: " + iB.status + " " + iB.statusText)
                                    });
                                }
                            }
                        };
                        var UB = T.extend({}, bU.headers, T.aiu());
                        for (var bu in UB) {
                            if (UB.hasOwnProperty(bu)) {
                                iB.setRequestHeader(bu, UB[bu]);
                            }
                        }
                        if (typeof bU.mimeType === 'string' && typeof iB.overrideMimeType === 'function') {
                            iB.overrideMimeType(bU.mimeType);
                        }
                        if (bU.cache) {
                            T.abi.cacheReponse(bU.url, iB);
                        }
                        iB.send(bU.body);
                    }
                    return cK;
                };
                return xf;
            })();
            T.WD = function(hs, iu, ek) {
                var fV = [],
                    sN = null,
                    wl = null,
                    ba;
                var aAb = function(wl, sN) {
                    if (!sN) {
                        return false;
                    } else {
                        return Math.abs(wl.y - sN.y) < 1 && Math.abs(wl.height - sN.height) < 1 && wl.x + wl.width >= sN.x + sN.width;
                    }
                };
                for (ba = iu; ba < ek + 1; ba++) {
                    wl = hs.kT(ba).aW;
                    if (aAb(wl, sN)) {
                        sN.union(wl);
                    } else {
                        sN = wl.clone();
                        fV.push(sN);
                    }
                }
                return fV;
            };
            T.addEvent = function addEvent(obj, event, handler) {
                if (obj.addEventListener) {
                    obj.addEventListener(event, handler, false);
                } else if (obj.attachEvent) {
                    obj.attachEvent('on' + event, handler);
                }
            };
            T.removeEvent = function(obj, event, handler) {
                if (obj.removeEventListener) {
                    obj.removeEventListener(event, handler, false);
                } else if (obj.detachEvent) {
                    obj.detachEvent('on' + event, handler);
                }
            };
            T.bspline = (function() {
                var d3_svg_lineBasisBezier1 = [0, 2 / 3, 1 / 3, 0],
                    d3_svg_lineBasisBezier2 = [0, 1 / 3, 2 / 3, 0],
                    d3_svg_lineBasisBezier3 = [0, 1 / 6, 2 / 3, 1 / 6];

                function d3_svg_lineLinear(points) {
                    return points.join("L");
                };

                function d3_svg_lineDot4(a, b) {
                    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];
                };

                function d3_svg_lineBasisBezier(path, x, y) {
                    path.push("C", d3_svg_lineDot4(d3_svg_lineBasisBezier1, x), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier1, y), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier2, x), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier2, y), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier3, x), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier3, y));
                };

                function d3_svg_lineBasis(points) {
                    if (points.length < 3) {
                        return d3_svg_lineLinear(points);
                    }
                    var i = 1,
                        n = points.length,
                        pi = points[0],
                        x0 = pi[0],
                        y0 = pi[1],
                        px = [x0, x0, x0, (pi = points[1])[0]],
                        py = [y0, y0, y0, pi[1]],
                        path = [x0, ",", y0, "L", d3_svg_lineDot4(d3_svg_lineBasisBezier3, px), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier3, py)];
                    points.push(points[n - 1]);
                    while (++i <= n) {
                        pi = points[i];
                        px.shift();
                        px.push(pi[0]);
                        py.shift();
                        py.push(pi[1]);
                        d3_svg_lineBasisBezier(path, px, py);
                    }
                    points.pop();
                    path.push("L", pi);
                    return path.join("");
                };
                return function(bF) {
                    var apo = T.map(bF, function(bx) {
                        return [bx.x, bx.y];
                    });
                    return d3_svg_lineBasis(apo);
                };
            })();
            T.aEV = function(dM) {
                if (dM.match(/[^a-zA-Z0-9\s\,\.]/)) {
                    throw new Error('The path data attribute is not valid. It cannot be parsed.');
                }
                var avO = T.filter(dM.replace(/[Mm]/g, '|').split('|'), function(g) {
                    return !!g.length;
                });
                var aoM = T.map(avO, function(el) {
                    var apN = el.replace(/[a-zA-Z]/g, '|').split('|');
                    return T.map(apN, function(dY) {
                        var agS = dY.split(',');
                        return {
                            x: +agS[0],
                            y: +agS[1]
                        };
                    });
                });
                return aoM;
            };
            T.ahV = function(dM, jH, kx, ki, bU) {
                bU.cu = "12px";
                var js = T.tJ(dM, jH, bU),
                    wP = 12 * kx / (js.width || 1),
                    vi = 12 * ki / (js.height || 1),
                    aoP = Math.min(wP, vi);
                bU.cu = aoP;
                return T.aiV(dM, jH, kx, ki, bU);
            };
            T.aiV = function(dM, jH, kx, ki, bU, II) {
                II = II || 1;
                var lL = {},
                    js = T.tJ(dM, jH, bU),
                    cu = bU.cu;
                lL.width = js.width;
                lL.height = js.height;
                lL.fontSize = cu;
                if (II > 3) {
                    return lL;
                }
                if ((js.width < kx + 1) && (js.height < ki + 1)) {
                    return lL;
                } else {
                    var wP = cu * kx / (js.width || 1),
                        vi = cu * ki / (js.height || 1),
                        AF = Math.min(wP, vi);
                    if (AF >= bU.cu) {
                        return lL;
                    } else {
                        bU.cu = AF;
                        return T.aiV(dM, jH, kx, ki, bU, II + 1);
                    }
                }
            };
            T.tJ = function(dM, jH, bU) {
                bU = bU || {};
                if (document.createElementNS) {
                    return T.avl(dM, jH, bU);
                } else {
                    return T.aje(dM, jH, bU);
                }
            };
            T.avl = function(dM, jH, bU) {
                var svg, akn = false;
                if (bU.fz) {
                    svg = bU.fz;
                } else {
                    svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                    svg.setAttribute('style', 'border: 1px solid black');
                    svg.setAttribute('width', '600');
                    svg.setAttribute('height', '600');
                    akn = true;
                    document.body.appendChild(svg);
                }
                var cu = bU.cu || "12px";
                if (typeof cu === "number") {
                    cu = cu + "px";
                }
                var ct = document.createElementNS("http://www.w3.org/2000/svg", "text");
                T.forEach({
                    x: 0,
                    y: 0,
                    'font-size': cu,
                    'stroke': "none",
                    'fill': "#000000",
                    'font-family': jH
                }, function(value, name) {
                    ct.setAttribute(name, value);
                });
                if (bU.uj) {
                    ct.setAttribute('style', 'white-space:' + bU.uj);
                }
                var nd = document.createTextNode(dM);
                ct.appendChild(nd);
                svg.appendChild(ct);
                var vQ = ct.getBBox(),
                    HE = vQ.width,
                    HW = vQ.height;
                svg.removeChild(ct);
                if (akn) {
                    document.body.removeChild(svg);
                }
                if (HE === 0 && HW === 0 && dM !== "M") {
                    return T.tJ("M", jH, bU);
                } else {
                    return {
                        width: HE,
                        height: HW
                    };
                }
            };
            T.aje = function(dM, jH, bU) {
                var nd = document.createTextNode(dM),
                    De = document.createElement('div');
                var cu = bU.cu || "12px";
                if (typeof cu === "number") {
                    cu = cu + "px";
                }
                T.forEach({
                    position: 'absolute',
                    display: 'inline-block',
                    top: 0,
                    left: 0,
                    visibility: 'hidden',
                    fontSize: cu,
                    fontFamily: jH
                }, function(value, name) {
                    De.style[name] = value;
                });
                if (bU.uj) {
                    De.style.whiteSpace = bU.uj;
                }
                De.appendChild(nd);
                document.body.appendChild(De);
                var vQ = De.getBoundingClientRect(),
                    HE = vQ.width || vQ.right - vQ.left,
                    HW = vQ.height || vQ.bottom - vQ.top;
                document.body.removeChild(De);
                if (HE === 0 && HW === 0 && dM !== "M") {
                    return T.aje("M", jH, cu);
                } else {
                    return {
                        width: HE,
                        height: HW
                    };
                }
            };
            T.UD = function(svgPath) {
                var regexp = /[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;
                var match = regexp.exec(svgPath);
                var xArr = [],
                    yArr = [];

                function updateBounds(x, y) {
                    xArr.push(Number(x));
                    yArr.push(Number(y));
                };
                while (match !== null) {
                    if (match[1]) {
                        updateBounds(match[2], match[3]);
                    } else if (match[4]) {
                        updateBounds(match[5], match[6]);
                        updateBounds(match[7], match[8]);
                        updateBounds(match[9], match[10]);
                    } else if (match[11]) {
                        updateBounds(match[12], match[13]);
                    }
                    match = regexp.exec(svgPath);
                }
                return {
                    width: Math.max.apply(Math, xArr),
                    height: Math.max.apply(Math, yArr)
                };
            };
            T.AM = (T.are) ? {
                SVG: function SVG(Ts) {
                    var fz = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                    fz.setAttribute('viewBox', Ts);
                    return fz;
                },
                Path: function Path(rq, hl) {
                    var hm = document.createElementNS("http://www.w3.org/2000/svg", "path");
                    hm.style.fill = 'none';
                    hm.style.stroke = hl.color || '#000000';
                    hm.style.strokeWidth = hl.thickness || 4;
                    if (rq) {
                        hm.setAttribute('d', rq.toString().trim());
                    }
                    return hm;
                },
                Rect: function Rect(ag, aH, eF) {
                    var ap = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                    ap.setAttribute('width', ag || 0);
                    ap.setAttribute('height', aH || 0);
                    if (eF) {
                        ap.setAttribute('style', eF);
                    }
                    return ap;
                }
            } : {
                SVG: function(Ts, Lh) {
                    var aZ = document.createElement("div");
                    aZ.style.left = "0px";
                    aZ.style.top = "0px";
                    aZ.style.position = "relative";
                    aZ.baseInit = false;
                    aZ.baseX = 0;
                    aZ.baseY = 0;
                    var azj = aZ.setAttribute;
                    aZ.setAttribute = function(bu, G) {
                        if (bu === "width") {
                            this.style.width = G * (+Lh || 1);
                        } else if (bu === "height") {
                            this.style.height = G * (+Lh || 1);
                        } else if (bu === "x") {
                            this.style.left = G;
                        } else if (bu === "y") {
                            this.style.top = G;
                        } else if (bu === "viewBox") {
                            var rD = G.split(" ");
                            this.style.height = +rD.pop() * (+Lh || 1) + 'px';
                            this.style.width = +rD.pop() * (+Lh || 1) + 'px';
                        } else {
                            azj(bu, G);
                        }
                    };
                    aZ.setAttribute('viewBox', Ts);
                    aZ.setAttribute('data-pcc-mark', 'signature');
                    return aZ;
                },
                Path: function(rq, hl) {
                    var aZ = document.createElement("v:shape");
                    aZ.style.width = hl.width * (+hl.multiplier || 1);
                    aZ.style.height = hl.height * (+hl.multiplier || 1);
                    aZ.coordsize = [hl.width, hl.height].join(', ');
                    aZ.style.position = "absolute";
                    aZ.setAttribute = function(bu, G) {
                        if (bu === "d") {
                            var FJ = 0;
                            var Ey = 0;
                            G = G.replace(/(\d*)((\.*\d*)(e ?-?\d*))/g, "$1");
                            var Po = G.match(/([MLHVCSQTAZ].*?)(?=[MLHVCSQTAZ]|$)/gi);
                            var akq = "",
                                gG = [];
                            for (var i = 0; i < Po.length; i++) {
                                var dY = Po[i].substring(0, 1);
                                var lT = Po[i].substring(1, Po[i].length);
                                lT = lT.split(/[, ]/);
                                for (var j = 0; j < lT.length; j++) {
                                    lT[j] = Math.round(lT[j]);
                                }
                                lT = lT.join();
                                switch (dY) {
                                    case "M":
                                        dY = "m";
                                        gG = lT.split(/[, ]/);
                                        FJ = parseInt(gG[0], 10);
                                        Ey = parseInt(gG[1], 10);
                                        break;
                                    case "m":
                                        dY = "t";
                                        gG = lT.split(/[, ]/);
                                        gG[0] = parseInt(gG[0], 10) + parseInt(FJ, 10);
                                        gG[1] = parseInt(gG[1], 10) + parseInt(Ey, 10);
                                        FJ = parseInt(gG[0], 10);
                                        Ey = parseInt(gG[1], 10);
                                        break;
                                    case "A":
                                        dY = "ae";
                                        var cA = lT.split(/[, ]+/);
                                        cA[0] = parseInt(cA[0], 10);
                                        cA[1] = parseInt(cA[1], 10);
                                        cA[2] = parseInt(cA[2], 10);
                                        cA[3] = parseInt(cA[3], 10);
                                        cA[4] = parseInt(cA[4], 10);
                                        cA[5] = parseInt(cA[5], 10);
                                        lT = cA[4] + " " + cA[5] + " " + cA[2] * 2 + " " + cA[3] * 2 + " 0 360";
                                        break;
                                    case "L":
                                        dY = "l";
                                        gG = lT.split(/[, ]+/);
                                        FJ = parseInt(gG[0], 10);
                                        Ey = parseInt(gG[1], 10);
                                        break;
                                    case "l":
                                        dY = "r";
                                        gG = lT.split(/[, ]+/);
                                        gG[0] = parseInt(gG[0], 10) + parseInt(FJ, 10);
                                        gG[1] = parseInt(gG[1], 10) + parseInt(Ey, 10);
                                        FJ = parseInt(gG[0], 10);
                                        Ey = parseInt(gG[1], 10);
                                        break;
                                    case "c":
                                        dY = "v";
                                        break;
                                    case "z":
                                        dY = "xe";
                                        lT = "";
                                        break;
                                    default:
                                        dY = dY.toLowerCase();
                                }
                                akq += dY + lT;
                            }
                            this.path = akq;
                            return;
                        } else if (bu === "stroke") {
                            this.stroked = (G === "none" ? 0 : 1);
                            this.strokecolor = G;
                            return;
                        } else if (bu === "stroke-width") {
                            this.strokeweight = parseFloat(G) / 1.2 + "pt";
                            return;
                        } else if (bu === "fill") {
                            this.filled = (G === "none" ? 0 : 1);
                            this.fillcolor = G;
                            return;
                        }
                    };
                    if (rq) {
                        aZ.setAttribute('d', rq);
                    }
                    aZ.setAttribute('stroke-width', hl.thickness || 4);
                    aZ.setAttribute('stroke', hl.color || '#000000');
                    aZ.filled = 0;
                    aZ.fillcolor = 'none';
                    return aZ;
                },
                Rect: function(ag, aH) {
                    var aZ = document.createElement("v:roundrect");
                    aZ.rxy = 0;
                    aZ.svg2vmlStyle = {
                        fill: {
                            value: "#000000",
                            valueSource: "default"
                        },
                        stroke: {
                            value: "none",
                            valueSource: "default"
                        },
                        "stroke-width": {
                            value: "1",
                            valueSource: "default"
                        }
                    };
                    aZ.setAttribute = function(bu, G, aoX) {
                        if (this.svg2vmlStyle[bu]) {
                            this.svg2vmlStyle[bu]["value"] = G;
                            this.svg2vmlStyle[bu]["valueSource"] = (aoX || "user");
                        }
                        if (bu === "x") {
                            this.style.left = parseInt(G, 10) + 'px';
                            return;
                        } else if (bu === "y") {
                            this.style.top = parseInt(G, 10) + 'px';
                            return;
                        } else if (bu === "stroke") {
                            this.stroked = (G === "none" ? 0 : 1);
                            this.strokecolor = G;
                            return;
                        } else if (bu === "stroke-width") {
                            this.strokeweight = parseFloat(G) / 1.2 + "pt";
                            return;
                        } else if (bu === "fill") {
                            this.filled = (G === "none" ? 0 : 1);
                            this.fillcolor = G;
                            return;
                        } else if (bu === "width" || bu === "height" || bu === "rx" || bu === "ry") {
                            if (bu === "width") {
                                this.style.width = parseInt(G, 10) + 'px';
                            } else if (bu === "height") {
                                this.style.height = parseInt(G, 10) + 'px';
                            } else if (bu === "rx" || bu === "ry") {
                                if (parseInt(G, 10)) {
                                    this.rxy = parseInt(G, 10);
                                }
                            }
                            if (this.rxy !== 0) {
                                var JE = parseInt(this.style.width, 10);
                                var Qv = parseInt(this.style.height, 10);
                                if (!JE) {
                                    JE = 0;
                                }
                                if (!Qv) {
                                    Qv = 0;
                                }
                                if (Qv < JE) {
                                    JE = Qv;
                                }
                                var MY = this.rxy / JE;
                                this.arcsize = MY;
                            } else {
                                this.arcsize = 0;
                            }
                            return;
                        }
                    };
                    if (ag) {
                        aZ.setAttribute('width', ag);
                    }
                    if (aH) {
                        aZ.setAttribute('height', aH);
                    }
                    for (var bu in aZ.svg2vmlStyle) {
                        if ((aZ.svg2vmlStyle[bu]["value"]) && (aZ.svg2vmlStyle[bu]["valueSource"] === "default")) {
                            aZ.setAttribute(bu, aZ.svg2vmlStyle[bu]["value"], "default");
                        }
                    }
                    return aZ;
                }
            };
            T.Fz = function Fz(mo) {
                var regexIso8601 = /^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,3})(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;
                var m = regexIso8601.exec(mo);
                if (m) {
                    return Date.UTC(m[1], (m[2] || 1) - 1, m[3] || 1, m[4] - (m[8] ? m[8] + m[9] : 0) || 0, m[5] - (m[8] ? m[8] + m[10] : 0) || 0, m[6] || 0, ((m[7] || 0) + '00').substr(0, 3));
                } else {
                    return new Error(mo + ' cannot be parsed as an ISO 8601 date.');
                }
            };
            T.vF = function aGH(fW) {
                if (fW.toISOString && typeof fW.toISOString === 'function') {
                    return fW.toISOString();
                } else if (fW instanceof Date) {
                    var pad = function pad(number) {
                        if (number < 10) {
                            return '0' + number;
                        }
                        return number;
                    };
                    return fW.getUTCFullYear() + '-' + pad(fW.getUTCMonth() + 1) + '-' + pad(fW.getUTCDate()) + 'T' + pad(fW.getUTCHours()) + ':' + pad(fW.getUTCMinutes()) + ':' + pad(fW.getUTCSeconds()) + '.' + (fW.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) + 'Z';
                } else {
                    return new Error(fW + ' is not a Date object.');
                }
            };
            T.xa = function xa(o) {
                return (!o ? false : typeof Node === "object" ? o instanceof Node : o && typeof o === "object" && typeof o.nodeType === "number" && typeof o.nodeName === "string");
            };
            T.OI = function OI(o) {
                if (T.xa(o)) {
                    while (o.firstChild) {
                        o.removeChild(o.firstChild);
                    }
                }
            };
            T.XA = function sync(funcs, done) {
                var counter = funcs.length;
                var idx = 0;
                var next = function(err) {
                    if (err) {
                        done(err);
                    } else if (--counter === 0) {
                        done();
                    } else {
                        funcs[idx++](next);
                    }
                };
                funcs[idx++](next);
            };
            T.aiN = function(az) {
                az = String(az).replace(/[^0-9a-f]/gi, "");
                if (az.length < 6) {
                    az = az[0] + az[0] + az[1] + az[1] + az[2] + az[2];
                }
                var VL = function(dM) {
                    return parseInt(dM, 16);
                };
                var r = VL(az.substring(0, 2));
                var g = VL(az.substring(2, 4));
                var b = VL(az.substring(4, 6));
                return {
                    r: r,
                    g: g,
                    b: b
                };
            };
            T.axd = function(az) {
                var PD = "";
                var RD = function(n) {
                    while (n.length < 2) {
                        n = '0' + n;
                    }
                    return n;
                };
                var UG = function(n) {
                    return RD(n.toString(16));
                };
                PD += UG(Math.floor(az.r));
                PD += UG(Math.floor(az.g));
                PD += UG(Math.floor(az.b));
                return '#' + PD;
            };
            T.anc = function(aBQ, apX, aCb) {
                var Dh = aCb,
                    Zt = T.aiN(aBQ),
                    nG = T.aiN(apX);
                nG.r = (1 - Dh) * nG.r + (Zt.r * Dh);
                nG.g = (1 - Dh) * nG.g + (Zt.g * Dh);
                nG.b = (1 - Dh) * nG.b + (Zt.b * Dh);
                nG.r = Math.floor(nG.r);
                nG.g = Math.floor(nG.g);
                nG.b = Math.floor(nG.b);
                return T.axd(nG);
            };
            T.ahw = function(aqg, vT) {
                var aAU = T.reduceLeft(aqg, function(fq, cl) {
                    if (cl.opacity === undefined) {
                        cl.opacity = 127;
                    }
                    var aEs = cl.opacity / 255;
                    return T.anc(cl.color, fq, aEs);
                }, vT);
                return aAU;
            };
            T.afs = function(hA) {
                if (hA.length === 0) {
                    return hA;
                }
                var eE = hA.slice(0);
                eE.sort(function(a, b) {
                    return a.startIndex - b.startIndex;
                });
                var Ui = null;
                var kB = [];
                var Xa = 0,
                    QR = [];
                var C = eE[0].startIndex;
                while (eE.length > 0) {
                    Xa = 0;
                    QR = null;
                    QR = [];
                    var ba = 0;
                    while (ba < eE.length && eE[ba].startIndex <= C) {
                        if (C <= eE[ba].startIndex + eE[ba].length - 1) {
                            Xa++;
                            QR.push(eE[ba]);
                            ba++;
                        } else {
                            eE.splice(ba, 1);
                        }
                    }
                    if (Xa > 0) {
                        var Eh = T.ahw(QR, '#ffffff');
                        if (Eh === Ui) {
                            kB[kB.length - 1].endIndex = C;
                        } else {
                            kB.push({
                                startIndex: C,
                                endIndex: C,
                                color: Eh
                            });
                        }
                        Ui = Eh;
                        C++;
                    } else {
                        if (eE.length > 0) {
                            C = eE[0].startIndex;
                        }
                        Ui = null;
                    }
                }
                return kB;
            };
            T.Ki = function(SG) {
                return SG.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;");
            };
            T.agW = function(aq) {
                var blackListPattern = /^\s*(file|data|javascript|[a-z]):.*$/i;
                return blackListPattern.test(aq);
            };
            T.RD = function(ic, dp) {
                var dM = "" + ic;
                while (dM.length < dp) {
                    dM = '0' + dM;
                }
                return dM;
            };
            T.aIB = function(fD) {
                var gS = fD.getTimezoneOffset();
                gS = ((gS < 0 ? '+' : '-') + T.RD(parseInt(Math.abs(gS / 60), 10), 2) + T.RD(Math.abs(gS % 60), 2));
                return gS;
            };
            T.alG = ['Sun', 'Mon', 'Tue', 'Wed', 'Thurs', 'Fri', 'Sat'];
            T.Vc = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
            T.afe = function(VE) {
                var awL = /^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,
                    bk = awL.exec(VE),
                    aka, Bf, alH, ajc, amR, xi, acX;
                if (!bk) {
                    return null;
                } else {
                    aka = bk[1].toLowerCase();
                    alH = bk[2];
                    ajc = bk[3];
                    amR = bk[4];
                    xi = bk[5];
                    acX = bk[6];
                    for (Bf = 0; Bf < 12; Bf++) {
                        if (T.Vc[Bf].toLowerCase() === aka) {
                            break;
                        }
                    }
                    if (Bf >= 12) {
                        return null;
                    }
                    return new Date(Date.UTC(acX, Bf, alH, ajc, amR, xi));
                }
            };
            T.aim = function(fD) {
                return (T.alG[fD.getUTCDay()] + " " + T.Vc[fD.getUTCMonth()] + " " + fD.getUTCDate() + " " + fD.getUTCHours() + ':' + fD.getUTCMinutes() + ':' + fD.getUTCSeconds() + " " + "GMT+0000 " + fD.getUTCFullYear());
            };
            T.avQ = function(fD) {
                return (T.alG[fD.getUTCDay()] + " " + T.Vc[fD.getUTCMonth()] + " " + fD.getUTCDate() + " " + fD.getUTCFullYear());
            };
            T.awH = function(fD) {
                return (fD.getUTCHours() + ':' + fD.getUTCMinutes() + ':' + fD.getUTCSeconds() + " " + "GMT+0000");
            };
            T.ps = function(text) {
                return text.replace(/[&<>\"\']/g, function(char) {
                    switch (char) {
                        case "&":
                            return "&amp;";
                        case "<":
                            return "&lt;";
                        case ">":
                            return "&gt;";
                        case "\"":
                            return "&quot;";
                        case "'":
                            return "&apos;";
                        default:
                            throw new Error("Did not find a replacement character.");
                    }
                });
            };
            T.wJ = function(text) {
                return text.replace(/&amp;/g, '&').replace(/&gt;/g, '>').replace(/&lt;/g, '<').replace(/&quot;/g, '"').replace(/&apos;/g, '\'');
            };
            T.atO = (function(chars) {
                chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';

                function InvalidCharacterError(message) {
                    this.message = message;
                };
                InvalidCharacterError.prototype = new Error;
                InvalidCharacterError.prototype.name = 'InvalidCharacterError';

                function btoa(input) {
                    var str = String(input);
                    for (var block, charCode, idx = 0, map = chars, output = ''; str.charAt(idx | 0) || (map = '=', idx % 1); output += map.charAt(63 & block >> 8 - idx % 1 * 8)) {
                        charCode = str.charCodeAt(idx += 3 / 4);
                        if (charCode > 0xFF) {
                            throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");
                        }
                        block = block << 8 | charCode;
                    }
                    return output;
                };

                function atob(input) {
                    var str = String(input).replace(/=+$/, '');
                    if (str.length % 4 == 1) {
                        throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");
                    }
                    for (var bc = 0, bs, buffer, idx = 0, output = ''; buffer = str.charAt(idx++); ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer, bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0) {
                        buffer = chars.indexOf(buffer);
                    }
                    return output;
                };
                return {
                    btoa: btoa,
                    atob: atob
                };
            })();
            T.oJ = (function() {
                var oJ = ['down', 'enter', 'leave', 'move', 'out', 'over', 'up'];
                if (window.navigator.pointerEnabled) {
                    var aeU = {};
                    oJ.forEach(function(aeo) {
                        aeU[aeo] = 'pointer' + aeo;
                    });
                    return aeU;
                }
                if (window.navigator.msPointerEnabled) {
                    var alf = {};
                    for (var C = 0; C < oJ.length; C++) {
                        var SI = oJ[C];
                        var ayx = 'MSPointer' + SI.charAt(0).toUpperCase() + SI.slice(1);
                        alf[SI] = ayx;
                    }
                    return alf;
                }
                return {};
            })();
            T.so = (function() {
                return {
                    tS: !!navigator.userAgent.match('Edge'),
                    aGU: document.documentMode !== undefined,
                    aHG: document.documentMode === 8,
                    aHm: document.documentMode === 9,
                    aHi: document.documentMode === 10,
                    aIC: document.documentMode === 11,
                    axD: (navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPhone/i))
                };
            })();
            T.Pz = (function(nI) {
                if (!nI || !IPCC.T.trim(nI)) {
                    return 'regular';
                }
                return IPCC.T.trim(nI).toLowerCase();
            });
            T.aFC = function(arg, value) {
                return typeof arg !== 'undefined' ? arg : value;
            };
            T.OP = function(value) {
                return Number(value.replace(/[a-z]+$/, ''));
            };
            T.RS = function(elem, propertyName) {
                if (elem.currentStyle) {
                    return elem.currentStyle[propertyName];
                } else {
                    return window.getComputedStyle(elem, null).getPropertyValue(propertyName);
                }
            };
            T.aiF = function() {
                if (this.sS === undefined) {
                    this.sS = document.createTextNode('');
                }
                return this.sS;
            };
            T.aic = function() {
                if (this.cC === undefined) {
                    this.cC = document.createElement('textarea');
                    this.sS = document.createTextNode('');
                    this.cC.appendChild(T.sS);
                    this.cC.style.position = 'absolute';
                    this.cC.style.overflow = 'hidden';
                    this.cC.style.width = '80px';
                    this.cC.style.height = '80px';
                    this.cC.style.resize = 'none';
                    this.cC.style.top = '-9999px';
                    this.cC.style.left = '-9999px';
                    this.cC.style.whiteSpace = 'pre-wrap';
                    this.cC.style.border = 0;
                    this.cC.style.padding = '2px';
                    document.body.appendChild(this.cC);
                }
                return this.cC;
            };
            T.Wh = function(cC, Cf, aS) {
                var Zn = 0.1;
                var IE;
                if (Cf === 0 || Cf > aS) {
                    Cf = aS;
                }
                while (Zn <= Cf) {
                    IE = (Zn + Cf) / 2;
                    cC.style.fontSize = IE + 'px';
                    if (cC.scrollHeight <= cC.offsetHeight) {
                        Zn = IE + 0.1;
                    } else {
                        Cf = IE - 0.1;
                    }
                }
                var ahH = (IE - 0.5) * 0.95;
                cC.style.fontSize = ahH + 'px';
                return ahH;
            };
            T.Mn = function(vz, oP, Xo, sq) {
                if (vz(oP, Xo) !== Xo) {
                    return typeof(sq) === 'number' ? sq : Xo;
                }
                return oP;
            };
            T.Nk = function(oP, axl, sq) {
                return T.Mn(Math.min, oP, axl, sq);
            };
            T.NA = function(oP, axH, sq) {
                return T.Mn(Math.max, oP, axH, sq);
            };
            module.exports = T;
        }, {}],
        30: [function(require, module, exports) {
            var Ag = require('./Type');
            Ag.registerNamespace('IPCC');
            module.exports = {
                Pagecounter: 1,
                ij: true,
                aeW: null,
                initializePageViewPlugin: require('./initializePageViewPlugin'),
                initializePageListPlugin: require('./initializePageListPlugin'),
                pR: require('./predefinedContextMenu'),
                XO: require('./indexOf'),
                QI: require('./setProperties'),
                bf: require('./PageItem'),
                wv: require('./GetUniqueID'),
                Rx: require('./ViewerState'),
                vN: require('./Configuration'),
                ar: require('./Cursor'),
                lz: require('./Res'),
                aR: require('./Validate'),
                iU: require('./Debug'),
                eV: require('./MenuCommand'),
                PageLayout: require('./PageLayout'),
                ViewMode: require('./ViewMode'),
                FitType: require('./FitType'),
                ScaleTrigger: require('./ScaleTrigger'),
                PageEventArgs: require('./PageEventArgs'),
                ExceptionEventArgs: require('./ExceptionEventArgs'),
                OpenPageEventArgs: require('./OpenPageEventArgs'),
                PageList: require('./PageList'),
                Web: require('./Web/Web'),
                Type: Ag,
                T: require('./IPCC.Util'),
                dP: require('./Art'),
                kP: require('./SelectTextController'),
                fg: require('./Matrix'),
                Sv: require('./ViewerModel'),
                ge: require('./ContextMenuController'),
                eZ: require('./SvgUIDirector'),
                nP: require('./PropertyChangedEventArgs'),
                ce: require('./JSON'),
                dU: require('./Browser'),
                xc: require('./StringBuilder'),
                co: require('./MultiTouchController'),
                sf: require('./ImagePyramid'),
                cv: require('./SingleTouchController'),
                kR: require('./AddPolyMarkController'),
                pm: require('./SelectController'),
                fJ: require('./AddRectangularMarkController'),
                mF: require('./AddFreehandMarkController'),
                na: require('./AddLineMarkController'),
                dO: require('./MouseWheelController'),
                nJ: require('./HandPanController'),
                mG: require('./RectangleZoomController'),
                qx: require('./MagnifierController'),
                kb: require('./EditMarksController'),
                za: require('./RunMarksController'),
                GB: require('./Space'),
                gL: require('./Image'),
                PO: require('./ImagePool'),
                AY: require('./PyramidLevel'),
                xA: require('./PyramidTile'),
            };
        }, {
            "./AddFreehandMarkController": 12,
            "./AddLineMarkController": 13,
            "./AddPolyMarkController": 14,
            "./AddRectangularMarkController": 15,
            "./Art": 16,
            "./Browser": 19,
            "./Configuration": 20,
            "./ContextMenuController": 21,
            "./Cursor": 22,
            "./Debug": 23,
            "./EditMarksController": 24,
            "./ExceptionEventArgs": 25,
            "./FitType": 26,
            "./GetUniqueID": 27,
            "./HandPanController": 28,
            "./IPCC.Util": 29,
            "./Image": 31,
            "./ImagePool": 32,
            "./ImagePyramid": 33,
            "./JSON": 34,
            "./MagnifierController": 35,
            "./Matrix": 36,
            "./MenuCommand": 37,
            "./MouseWheelController": 38,
            "./MultiTouchController": 39,
            "./OpenPageEventArgs": 40,
            "./PageEventArgs": 41,
            "./PageItem": 42,
            "./PageLayout": 43,
            "./PageList": 44,
            "./PropertyChangedEventArgs": 45,
            "./PyramidLevel": 46,
            "./PyramidTile": 47,
            "./RectangleZoomController": 48,
            "./Res": 49,
            "./RunMarksController": 50,
            "./ScaleTrigger": 51,
            "./SelectController": 52,
            "./SelectTextController": 53,
            "./SingleTouchController": 54,
            "./Space": 55,
            "./StringBuilder": 56,
            "./SvgUIDirector": 57,
            "./Type": 58,
            "./Validate": 59,
            "./ViewMode": 60,
            "./ViewerModel": 61,
            "./ViewerState": 62,
            "./Web/Web": 126,
            "./indexOf": 127,
            "./initializePageListPlugin": 128,
            "./initializePageViewPlugin": 129,
            "./predefinedContextMenu": 130,
            "./setProperties": 131
        }],
        31: [function(require, module, exports) {
            var gL = function(kK, aw, ag, aH, fS, gO) {
                IPCC.GB.call(this, 0, 0, 0, 0);
                this.width = ag;
                this.height = aH;
                this.fS = fS;
                this.gO = gO;
                this.aw = aw || 0;
                this.ee = 0;
                this.qY = true;
                this.atW = {};
                this.CE = false;
                var V = this;
                this.aw = aw;
                this.get_url = function(gU, ff, be) {
                    ff = ff || 'Image';
                    be = be || '';
                    var Ef = gL.GH(kK);
                    var Ee = false;
                    if (/^[\x00-\x7F]*$/.test(Ef)) {
                        Ee = true;
                    }
                    if (be === null || be === '') {
                        if (ff === 'Attributes') {
                            var wi = '';
                            if (!IPCC.vN.JP()) {
                                wi = '&ContentType=png';
                            }
                            if (!Ee) {
                                return gU + passURL + '/Page/q/' + aw.toString() + '/' + ff + '?DocumentID=e' + kK + wi;
                            } else {
                                return gU + passURL + '/Page/q/' + aw.toString() + '/' + ff + '?DocumentID=u' + encodeURIComponent(Ef) + wi;
                            }
                        } else {
                            if (ff === 'SvgImage') {
                                if (!Ee) {
                                    return gU + passURL + '/Page/q/' + aw.toString() + '?DocumentID=e' + kK + '&' + be;
                                } else {
                                    return gU + passURL + '/Page/q/' + aw.toString() + '?DocumentID=u' + encodeURIComponent(Ef) + '&' + be;
                                }
                            }
                            if (!Ee) {
                                return gU + passURL + '/Page/q/' + aw.toString() + '/' + ff + '?DocumentID=e' + kK + '&' + be;
                            } else {
                                return gU + passURL + '/Page/q/' + aw.toString() + '/' + ff + '?DocumentID=u' + encodeURIComponent(Ef) + '&' + be;
                            }
                        }
                    } else {
                        if (ff === 'SvgImage') {
                            if (!Ee) {
                                return gU + passURL + '/Page/q/' + aw.toString() + '?DocumentID=e' + kK + '&' + be;
                            } else {
                                return gU + passURL + '/Page/q/' + aw.toString() + '?DocumentID=u' + encodeURIComponent(Ef) + '&' + be;
                            }
                        }
                        if (!Ee) {
                            return gU + passURL + '/Page/q/' + aw.toString() + '/' + ff + '?DocumentID=e' + kK + '&' + be;
                        } else {
                            return gU + passURL + '/Page/q/' + aw.toString() + '/' + ff + '?DocumentID=u' + encodeURIComponent(Ef) + '&' + be;
                        }
                    }
                };
                this.get_urlArt = function(gU, ff, be) {
                    ff = ff || 'Art';
                    be = be || '';
                    if (be === null || be === '') {
                        if (ff === 'Art') {
                            return gU + passURL + '/Page/q/' + aw.toString() + '/' + ff + '?DocumentID=e' + kK;
                        }
                    } else {
                        return gU + passURL + '/Page/q/' + aw.toString() + '/' + ff + '?DocumentID=e' + kK + '&' + be;
                    }
                };
                this.get_identifier = function() {
                    return IPCC.gL.GH(kK);
                };
                this.get_encodedIdentifier = function() {
                    return kK;
                };
                this.toString = function() {
                    return 'Image("' + kK + '", ' + this.aw + ', ' + this.width + ' x ' + this.height + ', ' + this.fS + ', ' + this.gO + ')';
                };

                function alv(aqv, J) {
                    if (J.ZK()) {
                        V.qY = true;
                        V.CE = false;
                        return;
                    }
                    var Zp = aqv.split(',');
                    var mZ = false;
                    for (var ad = 0; ad < Zp.length; ad++) {
                        if (Zp[ad] === "SVG" || Zp[ad] === "svg") {
                            if (IPCC.vN.JP()) {
                                V.CE = true;
                                V.qY = false;
                            } else {
                                V.CE = false;
                            }
                            mZ = true;
                            break;
                        }
                    }
                    if (!mZ) {
                        V.CE = false;
                        V.qY = true;
                    }
                    if (J) {
                        if (J.MO) {
                            J.MO(V.CE);
                        }
                    }
                };
                this.TY = function(gU, J, Ad) {
                    J.aw = this.aw;
                    var mx = 0;
                    var lP = J.yJ();
                    if (lP) {
                        if (document.documentMode < 9) {
                            lP = false;
                        }
                    }
                    var qu = true;
                    if (J.kW() === 0) {
                        qu = false;
                    }
                    var oy = function(es, aX) {
                        try {
                            if (es === null) {
                                throw new IPCC.Web.UI.ImGearArgumentException(null, 'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');
                            }
                            if (es.errorCode) {
                                if (es.errorCode === 'SvgNotAvailable') {
                                    lP = false;
                                    V.width = +(es.pageAttributes.imageWidth);
                                    V.height = +(es.pageAttributes.imageHeight);
                                    V.fS = +(es.pageAttributes.imageXResolution);
                                    if (V.fS <= 0) {
                                        V.fS = 72;
                                    }
                                    V.gO = +(es.pageAttributes.imageYResolution);
                                    if (V.gO <= 0) {
                                        V.gO = 72;
                                    }
                                    V.ee = +(es.pageAttributes.pageCount);
                                    V.qY = es.pageAttributes.isRaster !== 'false';
                                    alv(es.pageAttributes.contentType, J);
                                }
                            } else {
                                V.width = +(es.imageWidth);
                                V.height = +(es.imageHeight);
                                V.fS = +(es.imageXResolution);
                                if (V.fS <= 0) {
                                    V.fS = 72;
                                }
                                V.gO = +(es.imageYResolution);
                                if (V.gO <= 0) {
                                    V.gO = 72;
                                }
                                V.ee = +(es.pageCount);
                                V.qY = es.isRaster !== 'false';
                                alv(es.contentType, J);
                            }
                            var os = aX.getResponseHeader("Accusoft-Data-Encrypted");
                            var Ix = false;
                            if (os === "true") {
                                Ix = true;
                            }
                            J.adf(Ix);
                            if (Ad) {
                                Ad();
                            }
                        } catch (e) {
                            J.bw('openPage', e);
                            if (typeof(J.aQ) === 'function') {
                                var cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                                cs.exception = e;
                                cs.pageNumber = J.aw;
                                J.aQ('pageOpenFailed', cs);
                            }
                        }
                    };

                    function Mu() {
                        lP = false;
                        if (mx < 1) {
                            var iG = {
                                method: 'GET',
                                url: V.get_url(gU, 'Attributes'),
                                headers: {
                                    'Content-Type': 'application/json'
                                }
                            };
                            if (qu === true) {
                                iG.timeout = J.kW();
                            }
                            IPCC.T.lD.eh(iG).then(eI, fc);
                            mx++;
                        }
                    };
                    var axC = function(ej, aX) {
                        var ag;
                        var aH;

                        function arQ() {
                            var Ow;
                            try {
                                if (typeof JSON !== 'undefined') {
                                    Ow = JSON.parse(ej);
                                } else {
                                    Ow = IPCC.ce.tg(ej);
                                }
                            } catch (bS) {
                                Ow = undefined;
                                lP = true;
                            }
                            return Ow;
                        };
                        try {
                            ag = ej.match(/width=\"([0-9.]+)\"/);
                            aH = ej.match(/height=\"([0-9.]+)\"/);
                            if (ag && aH) {
                                ag = Number(ag[1]);
                                aH = Number(aH[1]);
                            } else {
                                throw "error";
                            }
                            if (isNaN(ag) || isNaN(aH)) {
                                throw "error";
                            }
                            V.width = ag;
                            V.height = aH;
                            V.fS = 72;
                            V.gO = 72;
                            V.CE = true;
                            V.qY = false;
                            if (J) {
                                if (typeof(J.MO === 'function')) {
                                    J.MO(V.CE);
                                }
                            }
                            if (Ad) {
                                Ad();
                            }
                        } catch (e) {
                            var bk = arQ();
                            if (bk) {
                                oy(bk, aX);
                                return;
                            }
                            if (lP) {
                                if (mx < 1) {
                                    lP = false;
                                    setTimeout(Mu, 10);
                                    return;
                                }
                            }
                            J.bw('openPage', e);
                            if (typeof(J.aQ) === 'function') {
                                var cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                                cs.exception = e;
                                cs.pageNumber = J.aw;
                                J.aQ('pageOpenFailed', cs);
                            }
                        }
                    };

                    function eI(aX) {
                        var bk = null,
                            cN;
                        try {
                            if (!lP) {
                                if (typeof JSON !== 'undefined') {
                                    bk = JSON.parse(aX.responseText);
                                } else {
                                    bk = IPCC.ce.tg(aX.responseText);
                                }
                                oy(bk, aX);
                            } else {
                                var np;
                                var os = aX.getResponseHeader("Accusoft-Data-Encrypted");
                                if (os === 'true' && J.ip() === true) {
                                    var tM = IPCC.Web.hj.pH.uR(aX.getResponseHeader("Accusoft-Data-SK"));
                                    var bu = IPCC.Web.Gf(tM, iZ);
                                    var fm = IPCC.Web.FV(aX);
                                    var ve = IPCC.Web.Ec(fm, bu, iZ);
                                    np = IPCC.Web.hj.FD.nl(ve);
                                } else {
                                    np = aX.responseText;
                                }
                                var abb;
                                if (np.length >= 1000) {
                                    abb = np.substring(0, 1000);
                                } else {
                                    abb = np.substring(0, np.length);
                                }
                                axC(abb, aX);
                            }
                        } catch (ex) {
                            if (lP) {
                                lP = false;
                                if (mx < 1) {
                                    setTimeout(Mu, 10);
                                    return;
                                }
                            }
                            cN = "Attributes parsing error, Error message = " + ex.message;
                            throw new IPCC.Web.UI.ImGearArgumentException(null, cN);
                        }
                    };

                    function fc(bk) {
                        try {
                            var cN, mc, mA;
                            if (!bk.response) {
                                throw new IPCC.Web.UI.ImGearHttpException(bk.response.status, "Client timed out on load");
                            }
                            if (bk.response.status === 403) {
                                mx++;
                                if (bk.response.statusText && bk.response.statusText !== "") {
                                    cN = "Expired viewer session ID, error message from the server: " + bk.response.statusText;
                                } else {
                                    cN = "Expired viewer session ID. Np error text message was received from the server:";
                                }
                                throw new IPCC.Web.UI.ImGearHttpException(bk.response.status, cN);
                            }
                            if (lP) {
                                lP = false;
                                if (mx < 1) {
                                    setTimeout(Mu, 10);
                                    return;
                                }
                            }
                            mA = bk.response.getResponseHeader('Accusoft-Status-Message');
                            if (mA) {
                                var qA;
                                mc = bk.response.getResponseHeader('Accusoft-Status-Number');
                                if (IPCC.Web.vR(mc)) {
                                    qA = parseInt(mc, 10);
                                }
                                throw new IPCC.Web.UI.ImGearHttpException(bk.response.status, mA, qA);
                            } else {
                                if (bk.response.statusText && bk.response.statusText !== "") {
                                    cN = "Error message from the service: " + bk.response.statusText;
                                } else {
                                    cN = "HTTP Error was received from the image server but the server did not provide any error description.";
                                }
                                throw new IPCC.Web.UI.ImGearHttpException(bk.response.status, cN);
                            }
                        } catch (e) {
                            if (lP) {
                                lP = false;
                                if (mx < 1) {
                                    setTimeout(Mu, 10);
                                    return;
                                }
                            }
                            J.bw('openPage', e);
                            if (typeof(J.aQ) === 'function') {
                                var cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                                cs.exception = e;
                                cs.pageNumber = J.aw;
                                J.aQ('pageOpenFailed', cs);
                            }
                        }
                    };
                    var iZ = IPCC.Web.Hu.aiT(4, IPCC.Web.OM());
                    var pL = IPCC.Web.hj.GN.nl(iZ);
                    var iG = {
                        method: 'GET',
                        cache: true
                    };
                    if (!lP) {
                        iG.url = this.get_url(gU, 'Attributes');
                        iG.headers = {
                            'Content-Type': 'application/json'
                        };
                    } else {
                        var aq;
                        if (J.ip() === true) {
                            iZ = IPCC.Web.Hu.Xy(4, IPCC.Web.OM());
                            pL = IPCC.Web.hj.GN.nl(iZ);
                            aq = this.get_url(gU, 'SvgImage', 'Scale=1&ContentType=' + IPCC.T.XQ + '&iv=' + pL);
                        } else {
                            aq = this.get_url(gU, 'SvgImage', 'Scale=1&ContentType=' + IPCC.T.XQ);
                        }
                        iG.url = aq;
                    }
                    IPCC.T.lD.eh(iG).then(eI, fc);
                };
                this.aFh = function(gU, J, Ad) {
                    J.aw = this.aw;
                    var mx = 0;
                    var qu = true;
                    if (J.kW() === 0) {
                        qu = false;
                    }
                    var oy = function(es, aX) {
                        try {
                            if (es === null) {
                                throw new IPCC.Web.UI.ImGearArgumentException(null, 'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');
                            }
                            V.width = +(es.imageWidth);
                            V.height = +(es.imageHeight);
                            V.fS = +(es.imageXResolution);
                            if (V.fS <= 0) {
                                V.fS = 72;
                            }
                            V.gO = +(es.imageYResolution);
                            if (V.gO <= 0) {
                                V.gO = 72;
                            }
                            V.ee = +(es.pageCount);
                            V.qY = true;
                            var os = aX.getResponseHeader("Accusoft-Data-Encrypted");
                            var Ix = false;
                            if (os === "true") {
                                Ix = true;
                            }
                            J.adf(Ix);
                            if (Ad) {
                                Ad();
                            }
                        } catch (e) {
                            J.bw('openPage', e);
                            if (typeof(J.aQ) === 'function') {
                                var cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                                cs.exception = e;
                                cs.pageNumber = J.aw;
                                J.aQ('pageOpenFailed', cs);
                            }
                        }
                    };

                    function eI(aX) {
                        try {
                            var hC = aX.status,
                                bk, cN;
                            if (hC === 200) {
                                bk = null;
                                try {
                                    if (typeof JSON !== 'undefined') {
                                        bk = JSON.parse(aX.responseText);
                                    } else {
                                        bk = IPCC.ce.tg(aX.responseText);
                                    }
                                    oy(bk, aX);
                                } catch (ex) {
                                    cN = "Attributes parsing error, Error meesage = " + ex.message;
                                    throw new IPCC.Web.UI.ImGearArgumentException(null, cN);
                                }
                            }
                        } catch (e) {
                            J.bw('openPageForRaster', e);
                            if (typeof(J.aQ) === 'function') {
                                var cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                                cs.exception = e;
                                cs.pageNumber = J.aw;
                                J.aQ('pageOpenFailed', cs);
                            }
                        }
                    };

                    function fc(bk) {
                        try {
                            var hC = bk.response.status,
                                cN, mA, mc;
                            if (!bk.response) {
                                throw new IPCC.Web.UI.ImGearHttpException(hC, "Client timed out on load");
                            }
                            if (hC === 403) {
                                mx++;
                                if (bk.response.statusText && bk.response.statusText !== "") {
                                    cN = "Expired viewer session ID, error message from the server: " + bk.response.statusText;
                                } else {
                                    cN = "Expired viewer session ID. No error text message was received from the server:";
                                }
                                throw new IPCC.Web.UI.ImGearHttpException(hC, cN);
                            }
                            mA = bk.response.getResponseHeader('Accusoft-Status-Message');
                            if (mA) {
                                var qA;
                                mc = bk.response.getResponseHeader('Accusoft-Status-Number');
                                if (IPCC.Web.vR(mc)) {
                                    qA = parseInt(mc, 10);
                                }
                                throw new IPCC.Web.UI.ImGearHttpException(hC, mA, qA);
                            } else {
                                if (bk.response.statusText && bk.response.statusText !== "") {
                                    cN = "Error message from the service: " + bk.response.statusText;
                                } else {
                                    cN = "HTTP Error was received from the image server but the server did not provide any error description.";
                                }
                                throw new IPCC.Web.UI.ImGearHttpException(hC, cN);
                            }
                        } catch (e) {
                            J.bw('openPageForRaster', e);
                            if (typeof(J.aQ) === 'function') {
                                var cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                                cs.exception = e;
                                cs.pageNumber = J.aw;
                                J.aQ('pageOpenFailed', cs);
                            }
                        }
                    };
                    var aeG = {
                        method: 'GET',
                        url: this.get_url(gU, 'Attributes'),
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    };
                    if (qu === true) {
                        aeG.timeout = J.kW();
                    }
                    IPCC.T.lD.eh(aeG).then(eI, fc);
                };
                return this;
            };
            gL.prototype.clone = function() {
                var Ro = new gL(this.get_encodedIdentifier(), this.aw, this.width, this.height, this.fS, this.gO);
                Ro.ee = this.ee;
                Ro.qY = this.qY;
                return Ro;
            };
            gL.prototype.equals = function(G) {
                if (this.get_encodedIdentifier() !== G.get_encodedIdentifier()) {
                    return false;
                }
                if (this.aw !== G.aw) {
                    return false;
                }
                return true;
            };
            gL.prototype.pF = 8;
            gL.prototype.rZ = 0.000001;
            gL.akx = function(be) {
                var HG = be.referenceDocumentIdentifier;
                var ack = gL.su(HG);
                var gd = be.encodedDocumentIdentifier;
                var iR = be.documentIdentifier;
                var fM;
                if (gd === '') {
                    gd = undefined;
                }
                if (iR === '') {
                    iR = undefined;
                }
                if (HG && HG !== '') {
                    if (gd === ack) {
                        gd = undefined;
                    }
                    if (iR === HG) {
                        iR = undefined;
                    }
                }
                if (iR) {
                    fM = IPCC.gL.su(iR);
                    if (gd) {
                        if (gd !== fM) {
                            throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier', 'When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');
                        }
                    } else {
                        gd = fM;
                    }
                } else {
                    if (gd) {
                        iR = IPCC.gL.GH(gd);
                    }
                }
                if (!gd) {
                    iR = HG;
                    gd = ack;
                }
                var aY = be.pageNumber;
                var adv = be.referencePageNumber;
                if (aY === adv) {
                    aY = undefined;
                }
                if (aY !== 0 && !aY) {
                    aY = adv;
                }
                be.encodedDocumentIdentifier = gd;
                be.documentIdentifier = iR;
                be.pageNumber = aY;
            };
            gL.su = function(ib) {
                if (!ib || ib === '') {
                    return '';
                }
                var lM = [];
                var C;
                for (C = 0; C < ib.length; C++) {
                    lM.push(ib.charCodeAt(C) % 256);
                    lM.push(Math.floor(ib.charCodeAt(C) / 256));
                }
                lM.push(0);
                lM.push(0);
                var MJ = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';
                var pg = [],
                    rJ;
                for (C = 0; C < lM.length - 1; C += 3) {
                    rJ = lM[C] * 0x10000 + lM[C + 1] * 0x100 + lM[C + 2];
                    pg.push(MJ.charAt(Math.floor(rJ / 0x40000)));
                    pg.push(MJ.charAt(Math.floor(rJ / 0x1000) % 0x40));
                    pg.push(MJ.charAt(Math.floor(rJ / 0x40) % 0x40));
                    pg.push(MJ.charAt(rJ % 0x40));
                }
                var Xn = Math.ceil(ib.length * 16 / 6);
                while (pg.length > Xn) {
                    pg.pop();
                }
                if ((pg.length % 4) === 3) {
                    pg.push('1');
                } else if ((pg.length % 4) === 2) {
                    pg.push('2');
                } else if ((pg.length % 4) === 0) {
                    pg.push('0');
                }
                return pg.join('');
            };
            gL.GH = function(kK) {
                if (!kK || kK === '') {
                    return '';
                }
                var aku = kK.length - 1;
                var OQ = [],
                    rJ;
                var qT, lM = [],
                    oR = [];
                var C;
                for (C = 0; C < aku; C++) {
                    qT = kK.charCodeAt(C);
                    if (qT > 64 && qT < 91) {
                        oR.push(qT - 65);
                    } else if (qT > 96 && qT < 123) {
                        oR.push(qT - 97 + 26);
                    } else if (qT > 47 && qT < 58) {
                        oR.push(qT - 48 + 52);
                    } else if (qT === 45) {
                        oR.push(62);
                    } else if (qT === 95) {
                        oR.push(63);
                    } else {
                        return '';
                    }
                }
                oR.push(0);
                oR.push(0);
                oR.push(0);
                for (C = 0; C < oR.length - 3; C += 4) {
                    rJ = oR[C] * 0x40000 + oR[C + 1] * 0x1000 + oR[C + 2] * 0x40 + oR[C + 3];
                    lM.push(Math.floor(rJ / 0x10000));
                    lM.push(Math.floor(rJ / 0x100) % 256);
                    lM.push(rJ % 256);
                }
                for (C = 0; C < lM.length - 1; C += 2) {
                    OQ.push(String.fromCharCode(lM[C] + lM[C + 1] * 0x100));
                }
                var Xn = Math.floor(aku * 6 / 16);
                while (OQ.length > Xn) {
                    OQ.pop();
                }
                return OQ.join('');
            };
            module.exports = gL;
        }, {}],
        32: [function(require, module, exports) {
            var PO = function() {
                this.cd = [];
                this.parentElementID = '';
                this.lockTile = function(fa) {
                    var cW, C, Xs, Wl;
                    if (this.XM(fa)) {
                        return;
                    }
                    Xs = 0;
                    for (C = this.cd.length - 1; C >= 0; C--) {
                        if (!(this.cd[C].locked)) {
                            Xs++;
                            Wl = C;
                        }
                    }
                    if (Xs > 4) {
                        cW = this.cd[Wl];
                        this.uiDirector.alk(cW);
                        this.cd.splice(Wl, 1);
                    }
                    cW = new avu();
                    cW.pool = this;
                    this.uiDirector.auT(cW);
                    this.cd.push(cW);
                    cW.locked = true;
                    cW.tile = fa;
                    fa.poolItem = cW;
                    return;
                };
                this.XM = function(fa) {
                    var cW, C;
                    if (this.locked) {
                        return true;
                    }
                    for (C = 0; C < this.cd.length; C++) {
                        if (this.cd[C].tile === fa) {
                            cW = this.cd[C];
                            cW.locked = true;
                            fa.poolItem = cW;
                            return true;
                        }
                    }
                    return false;
                };
                this.afz = function(fa) {
                    var jn, C;
                    jn = fa.poolItem;
                    if (jn !== undefined && jn.locked) {
                        this.uiDirector.ayz(jn);
                        jn.locked = false;
                        fa.poolItem = undefined;
                        for (C = 0; C < this.cd.length; C++) {
                            if (this.cd[C] === jn) {
                                this.cd.splice(C, 1);
                                this.cd.push(jn);
                                return;
                            }
                        }
                    }
                };
                return this;
            };
            PO.prototype.app = function() {
                var C;
                for (C = 0; C < this.cd.length; C++) {
                    if (!this.cd[C].locked) {
                        this.uiDirector.alk(this.cd[C]);
                    }
                }
            };
            var avu = function() {
                this.locked = false;
                this.loaded = false;
                this.tile = undefined;
                this.pool = undefined;
                this.elementID = '';
                return this;
            };
            module.exports = PO;
        }, {}],
        33: [function(require, module, exports) {
            var sf = function() {
                this.fi = [];
                return this;
            };
            sf.prototype.aFk = function(dB, dE) {
                var cO = dB.nR();
                var C, mw, oV;
                var cT = 1;
                var MY;
                var xM = [];
                var ur = [];
                var xT = [];
                var DS, Lq;
                oV = this.fi.length;
                for (C = 0; C < this.fi.length; C++) {
                    if (this.fi[C].cO > cO) {
                        oV = C;
                        break;
                    }
                }
                mw = oV - 1;
                if (mw < 0) {
                    mw = 0;
                }
                if (oV >= this.fi.length) {
                    oV = this.fi.length - 1;
                }
                if (mw !== oV) {
                    MY = (cO - this.fi[mw].cO) / (this.fi[oV].cO - this.fi[mw].cO);
                    cT = MY * 1.0;
                    if (cT >= 0.15) {
                        cT = 1;
                        mw = oV;
                    }
                    if (cT <= 0.15) {
                        cT = 1;
                        oV = mw;
                    }
                }
                ur = this.fi[mw].PR(dE);
                xT = this.fi[oV].PR(dE);
                var Qt = function(pj) {
                    var C;
                    for (C = 0; C < pj.length; C++) {
                        pj[C].level.pool.XM(pj[C]);
                    }
                };
                var Zm = function(pj) {
                    var amY = [];
                    var C;
                    for (C = 0; C < pj.length; C++) {
                        if (!pj[C].get_isLockedAndLoaded()) {
                            amY.push(pj[C]);
                        }
                    }
                    return amY;
                };
                var aia = function(pj) {
                    var afU = [];
                    var C;
                    for (C = 0; C < pj.length; C++) {
                        if (pj[C].get_isLockedAndLoaded()) {
                            afU.push(pj[C]);
                        }
                    }
                    return afU;
                };
                if (mw > 0 && mw === oV && this.fi[oV].tiles.length > 1) {
                    mw = oV - 1;
                    ur = this.fi[mw].PR(dE);
                }
                Qt(ur);
                xM = Zm(ur);
                if (xM.length > 0) {
                    for (DS = mw - 1; DS >= 0; DS--) {
                        Lq = this.fi[DS].PR(dE);
                        Qt(Lq);
                        if (Zm(Lq).length < 1) {
                            break;
                        }
                    }
                    if (DS < 0) {
                        ur = aia(ur);
                    } else {
                        mw = DS;
                        ur = Lq;
                        cT = 1;
                    }
                } else {
                    Qt(xT);
                    xM = Zm(xT);
                }
                Qt(xT);
                xT = aia(xT);
                if (xM.length > 3) {
                    xM.splice(3, xM.length - 3);
                }

                function atk() {
                    var bk;

                    function UH(Fx) {
                        var bk = '',
                            C, av;
                        if (Fx.length < 1) {
                            return '';
                        }
                        av = Fx[0].level;
                        bk += 'level ' + av.id.toString() + ' - ';
                        for (C = 0; C < Fx.length; C++) {
                            if (C > 0) {
                                bk += ', ';
                            }
                            bk += '(' + (Fx[C].x / av.pf).toString() + ',' + (Fx[C].y / av.xQ).toString() + ')';
                            if (Fx[C].get_isLockedAndLoaded()) {
                                bk += '*';
                            }
                        }
                        return bk;
                    };
                    bk = 'tilesToRequest: ' + UH(xM) + '<br/>';
                    bk += 'opaqueTiles: ' + UH(ur) + '<br/>';
                    bk += 'translucentTiles: ' + UH(xT) + '<br/>';
                    bk += 'opacity: ' + cT.toString() + '<br/>';
                    bk += 'apc: ' + cO.toString() + '<br/>';
                    bk += 'dB: ' + dB.toString() + '<br/>';
                    return bk;
                };
                return {
                    opaqueTiles: ur,
                    translucentTiles: xT,
                    opacity: cT,
                    tilesToRequest: xM,
                    toString: atk,
                    apc: cO,
                    dB: dB.toString()
                };
            };
            sf.prototype.ayl = function(qE) {
                var FZ = [];
                var sl = [];
                var C, j;
                var av, tile;
                for (C = 0; C < this.fi.length; C++) {
                    av = this.fi[C];
                    for (j = 0; j < av.tiles.length; j++) {
                        tile = av.tiles[j];
                        if (tile.poolItem !== undefined) {
                            FZ.push(tile);
                        }
                    }
                }
                var aig = function(VO, akP) {
                    var C, j, Yj, Yv;
                    for (C = 0; C < akP.length; C++) {
                        Yj = akP[C];
                        Yv = true;
                        for (j = 0; j < VO.length; j++) {
                            if (Yj === VO[j]) {
                                Yv = false;
                                break;
                            }
                        }
                        if (Yv) {
                            VO.push(Yj);
                        }
                    }
                };
                sl = qE.tilesToRequest.concat();
                aig(sl, qE.opaqueTiles);
                aig(sl, qE.translucentTiles);
                for (C = FZ.length - 1; C >= 0; C--) {
                    var aoJ = FZ[C];
                    for (j = 0; j < sl.length; j++) {
                        if (sl[j] === aoJ) {
                            FZ.splice(C, 1);
                            break;
                        }
                    }
                }
                for (C = 0; C < FZ.length; C++) {
                    FZ[C].unlock();
                }
                for (C = 0; C < sl.length; C++) {
                    sl[C].relock();
                }
                for (C = 0; C < sl.length; C++) {
                    if (sl[C].poolItem === undefined) {
                        sl[C].lock();
                    }
                }
            };
            sf.prototype.unlockAllItems = function() {
                var C, j, av;
                for (C = 0; C < this.fi.length; C++) {
                    av = this.fi[C];
                    for (j = 0; j < av.tiles.length; j++) {
                        if (av.tiles[j].poolItem !== undefined) {
                            av.pool.afz(av.tiles[j]);
                        }
                    }
                }
            };
            sf.prototype.aFz = function() {
                var C;
                for (C = 0; C < this.fi.length; C++) {
                    this.fi[C].pool.app();
                }
            };
            sf.prototype.toString = function() {
                var bk = '',
                    C, j, av;
                for (C = 0; C < this.fi.length; C++) {
                    av = this.fi[C];
                    bk += 'Level ' + C.toString() + ':   scaleFactor=' + av.cO.toString() + '  image=' + av.width.toString() + 'x' + av.height.toString() + '  tile=' + av.pf.toString() + 'x' + av.xQ.toString() + '\n';
                    for (j = 0; j < av.tiles.length; j++) {
                        if (j > 0) {
                            bk += ', ';
                        }
                        bk += '(' + av.tiles[j].x.toString() + ', ' + av.tiles[j].y.toString() + ')';
                    }
                    bk += '\n';
                }
                return bk;
            };
            sf.prototype.expandTile = function(fa, VD, Xg, adk, acF, av) {
                fa.x = IPCC.T.Nk(VD - fa.vZ, 0, VD, VD - fa.vZ);
                fa.y = IPCC.T.Nk(Xg - fa.xs, 0, Xg, Xg - fa.xs);
                fa.ag = IPCC.T.NA(adk + (2 * fa.vZ), av.width, adk);
                fa.aH = IPCC.T.NA(acF + (2 * fa.xs), av.height, acF);
                if (fa.x + fa.ag > av.width) {
                    fa.x = fa.x - fa.vZ;
                    fa.ag = av.width - fa.x;
                    fa.vZ = 0;
                }
                if (fa.y + fa.aH > av.height) {
                    fa.y = fa.y - fa.xs;
                    fa.xs = 0;
                    fa.aH = av.height - fa.y;
                }
                return fa;
            };
            sf.prototype.createPyramid = function(iJ, J) {
                var ayL = 6000000;
                var anf = 5000;
                var pf = 1024;
                var ayV = pf * pf * 3 * 150;
                var adL = 0.5;
                var ayw = 2;
                var bE = J.cE();
                var xJ = bE.width * bE.height * 3;
                var vo;
                var av;
                var cO;
                var C;
                var aM, di;
                var tile;
                var FR, EQ;
                this.fi = [];
                if (bE.qY) {
                    cO = 1.0;
                    vo = xJ * cO * cO;
                    while (this.fi.length < ayw || vo > anf) {
                        av = new IPCC.AY();
                        av.cO = cO;
                        this.fi.unshift(av);
                        cO *= adL;
                        vo = xJ * cO * cO;
                    }
                } else {
                    if (J.qo() === true) {
                        xJ = bE.width * bE.height;
                    }
                    cO = Math.sqrt(anf / xJ);
                    var aDe = cO * bE.fS;
                    cO = Math.ceil(aDe) / bE.fS;
                    vo = xJ * cO * cO;
                    if (J.qo() === false) {
                        while (vo < ayV) {
                            av = new IPCC.AY();
                            av.cO = cO;
                            this.fi.push(av);
                            cO /= adL;
                            vo = xJ * cO * cO;
                        }
                    } else {
                        av = new IPCC.AY();
                        av.cO = 1;
                        this.fi.push(av);
                    }
                }
                bE.pF = this.fi[this.fi.length - 1].cO * 8;
                for (C = 0; C < this.fi.length; C++) {
                    av = this.fi[C];
                    av.PM = 85;
                    if (C === this.fi.length - 1) {
                        av.PM = 100;
                    }
                    av.pyramid = this;
                    av.id = C;
                    av.pool = new IPCC.PO();
                    av.pool.uiDirector = iJ;
                    vo = xJ * av.cO * av.cO;
                    av.width = Math.round(bE.width * av.cO);
                    av.height = Math.round(bE.height * av.cO);
                    av.pf = av.width;
                    av.xQ = av.height;
                    if (C > 2 && C > this.fi.length - 2) {
                        av.pf = Math.min(pf / 2, av.width);
                        av.xQ = Math.min(pf / 2, av.height);
                    }
                    if (vo > ayL) {
                        av.pf = Math.min(pf, av.width);
                        av.xQ = Math.min(pf, av.height);
                    }
                    av.tiles = [];
                    FR = av.pf;
                    for (aM = 0; aM < av.width; aM += FR) {
                        FR = av.pf;
                        if (aM + FR * 1.25 > av.width) {
                            FR = av.width - aM;
                        }
                        EQ = av.xQ;
                        for (di = 0; di < av.height; di += EQ) {
                            EQ = av.xQ;
                            if (di + EQ * 1.25 > av.height) {
                                EQ = av.height - di;
                            }
                            tile = new IPCC.xA();
                            tile.level = av;
                            if (J.qo() === false) {
                                var Sf = 'jpeg';
                                if (av.PM >= 100) {
                                    Sf = 'png';
                                }
                                tile.contentType = Sf;
                                tile.xs = 2;
                                tile.vZ = 2;
                                tile = this.expandTile(tile, aM, di, FR, EQ, av);
                                if (tile.ag !== av.width || tile.aH !== av.height) {
                                    tile.url = J.XV('Tile/' + tile.x.toString() + '/' + tile.y.toString() + '/' + tile.ag.toString() + '/' + tile.aH.toString(), 'Scale=' + av.cO.toString() + '&Quality=' + av.PM + '&ContentType=' + Sf);
                                } else {
                                    tile.url = J.XV('', 'Scale=' + av.cO.toString() + '&Quality=' + av.PM + '&ContentType=' + Sf);
                                }
                            } else {
                                tile.url = J.XV('', 'Scale=' + av.cO.toString() + '&ContentType=' + IPCC.T.XQ);
                                tile.aHd = iJ.amV();
                            }
                            tile.right = tile.x + tile.ag;
                            tile.bottom = tile.y + tile.aH;
                            av.tiles.push(tile);
                        }
                    }
                }
            };
            module.exports = sf;
        }, {}],
        34: [function(require, module, exports) {
            var ce = {};
            ce.tg = function(dM, aFv) {
                if (dM === "") {
                    dM = '""';
                }
                try {
                    if (typeof YUI !== 'undefined') {
                        var agD;
                        YUI().use('json-parse', function(Y) {
                            agD = Y.JSON.parse(dM);
                        });
                        return agD;
                    } else {
                        var anl = dM.replace(new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"', 'g'), "$1new Date($2)");
                        var azz = new RegExp('[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]', 'g');
                        var aAt = new RegExp('"(\\\\.|[^"\\\\])*"', 'g');
                        if (aFv && azz.test(anl.replace(aAt, ''))) {
                            throw null;
                        }
                        return eval('(' + anl + ')');
                    }
                } catch (e) {
                    throw new IPCC.Web.UI.ImGearArgumentException('str', 'Cannot deserialize. The data does not correspond to valid JSON.');
                }
            };
            ce.LL = [];
            ce.GT = [];
            ce.CT = {};
            ce.aBS = new RegExp('["\\\\\\x00-\\x1F]', 'i');
            ce.aBk = new RegExp('["\\\\\\x00-\\x1F]', 'g');
            ce.aCr = '__type';
            ce.RG = function() {
                var replaceChars = ['\\u0000', '\\u0001', '\\u0002', '\\u0003', '\\u0004', '\\u0005', '\\u0006', '\\u0007', '\\b', '\\t', '\\n', '\\u000b', '\\f', '\\r', '\\u000e', '\\u000f', '\\u0010', '\\u0011', '\\u0012', '\\u0013', '\\u0014', '\\u0015', '\\u0016', '\\u0017', '\\u0018', '\\u0019', '\\u001a', '\\u001b', '\\u001c', '\\u001d', '\\u001e', '\\u001f'];
                IPCC.ce.GT[0] = '\\';
                IPCC.ce.LL['\\'] = new RegExp('\\\\', 'g');
                IPCC.ce.CT['\\'] = '\\\\';
                IPCC.ce.GT[1] = '"';
                IPCC.ce.LL['"'] = new RegExp('"', 'g');
                IPCC.ce.CT['"'] = '\\"';
                for (var i = 0; i < 32; i++) {
                    var c = String.fromCharCode(i);
                    IPCC.ce.GT[i + 2] = c;
                    IPCC.ce.LL[c] = new RegExp(c, 'g');
                    IPCC.ce.CT[c] = replaceChars[i];
                }
            };
            ce.aac = function(object, fX) {
                fX.nc(object.toString());
            };
            ce.acR = function(object, fX) {
                if (isFinite(object)) {
                    fX.nc(String(object));
                } else {
                    throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize non finite numbers.');
                }
            };
            ce.aaU = function(string, fX) {
                fX.nc('"');
                if (IPCC.ce.aBS.test(string)) {
                    if (IPCC.ce.GT.length === 0) {
                        IPCC.ce.RG();
                    }
                    if (string.length < 128) {
                        string = string.replace(IPCC.ce.aBk, function(x) {
                            return IPCC.ce.CT[x];
                        });
                    } else {
                        for (var i = 0; i < 34; i++) {
                            var c = IPCC.ce.GT[i];
                            if (string.indexOf(c) !== -1) {
                                if (IPCC.dU.agent === IPCC.dU.Opera || IPCC.dU.agent === IPCC.dU.FireFox) {
                                    string = string.split(c).join(IPCC.ce.CT[c]);
                                } else {
                                    string = string.replace(IPCC.ce.LL[c], IPCC.ce.CT[c]);
                                }
                            }
                        }
                    }
                }
                fX.nc(string);
                fX.nc('"');
            };
            ce.NR = function(object, fX, sort, prevObjects) {
                var i;
                switch (typeof object) {
                    case 'object':
                        if (object) {
                            if (prevObjects) {
                                for (var j = 0; j < prevObjects.length; j++) {
                                    if (prevObjects[j] === object) {
                                        throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize object with cyclic reference within child properties.');
                                    }
                                }
                            } else {
                                prevObjects = [];
                            }
                            try {
                                prevObjects[prevObjects.length] = object;
                                if (typeof(object) === "number") {
                                    IPCC.ce.acR(object, fX);
                                } else if (typeof(object) === "boolean") {
                                    IPCC.ce.aac(object, fX);
                                } else if (typeof(object) === "string") {
                                    IPCC.ce.aaU(object, fX);
                                } else if (object instanceof Array) {
                                    fX.nc('[');
                                    for (i = 0; i < object.length; ++i) {
                                        if (i > 0) {
                                            fX.nc(',');
                                        }
                                        IPCC.ce.NR(object[i], fX, false, prevObjects);
                                    }
                                    fX.nc(']');
                                } else {
                                    var properties = [];
                                    var propertyCount = 0;
                                    for (var name in object) {
                                        if (object.hasOwnProperty(name)) {
                                            var dX = "" + name;
                                            var ub = '$';
                                            if ((dX.substr(0, ub.length) === ub)) {
                                                continue;
                                            }
                                            if (name === IPCC.ce.aCr && propertyCount !== 0) {
                                                properties[propertyCount++] = properties[0];
                                                properties[0] = name;
                                            } else {
                                                properties[propertyCount++] = name;
                                            }
                                        }
                                    }
                                    if (sort) {
                                        properties.sort();
                                    }
                                    fX.nc('{');
                                    var needComma = false;
                                    for (i = 0; i < propertyCount; i++) {
                                        var value = object[properties[i]];
                                        if (typeof value !== 'undefined' && typeof value !== 'function') {
                                            if (needComma) {
                                                fX.nc(',');
                                            } else {
                                                needComma = true;
                                            }
                                            IPCC.ce.NR(properties[i], fX, sort, prevObjects);
                                            fX.nc(':');
                                            IPCC.ce.NR(value, fX, sort, prevObjects);
                                        }
                                    }
                                    fX.nc('}');
                                }
                            } finally {
                                prevObjects.splice(prevObjects.length - 1);
                            }
                        } else {
                            fX.nc('null');
                        }
                        break;
                    case 'number':
                        IPCC.ce.acR(object, fX);
                        break;
                    case 'string':
                        IPCC.ce.aaU(object, fX);
                        break;
                    case 'boolean':
                        IPCC.ce.aac(object, fX);
                        break;
                    default:
                        fX.nc('null');
                        break;
                }
            };
            ce.acs = function(object) {
                var fX = new IPCC.xc();
                IPCC.ce.NR(object, fX, false);
                return fX.auI();
            };
            module.exports = ce;
        }, {}],
        35: [function(require, module, exports) {
            var qx = function() {
                this.bG = false;
                this.J = false;
            };
            qx.prototype.mq = function(J) {
                J.bV().set_cursor(IPCC.ar.Magnifier);
                this.J = J;
            };
            qx.prototype.ek = function() {
                this.J = false;
            };
            qx.prototype.aB = function() {
                if (this.bG) {
                    this.J.bV().hideMagnifier();
                    this.J.bV().set_cursor(this.iW);
                    this.bG = false;
                }
            };
            qx.prototype.rG = function() {
                this.aB();
            };
            qx.prototype.lq = function(F) {
                this.aB();
                if (F.domEvent.button === 0) {
                    this.iW = this.J.bV().get_cursor();
                    this.J.bV().set_cursor(IPCC.ar.None);
                    this.bG = true;
                    this.J.bV().showMagnifier(F.windowPoint);
                    this.J.dv();
                }
            };
            qx.prototype.jV = function(F) {
                if (F.domEvent.button !== 0) {
                    this.aB();
                }
                if (this.bG) {
                    this.J.bV().showMagnifier(F.windowPoint);
                    this.J.dv();
                }
            };
            qx.prototype.lh = function() {
                this.aB();
                this.J.dv();
            };
            qx.prototype.oK = function(F) {
                var bD = this.J.eT();
                if (F.windowPoint.x <= 0 || F.windowPoint.x >= bD.width - 2) {
                    this.aB();
                }
                if (F.windowPoint.y <= 0 || F.windowPoint.y >= bD.height - 2) {
                    this.aB();
                }
            };
            module.exports = qx;
        }, {}],
        36: [function(require, module, exports) {
            var fg = function(gA, hT, jD, gi, dW, fA) {
                if (arguments.length === 0) {
                    gA = gi = 1;
                    hT = jD = dW = fA = 0;
                }
                this.ahC = function() {
                    return gA * gi - hT * jD;
                };
                this.aFe = function() {
                    return gA === 1 && hT === 0 && jD === 0 && gi === 1 && dW === 0 && fA === 0;
                };
                this.pP = function() {
                    return gA;
                };
                this.nK = function() {
                    return hT;
                };
                this.sk = function() {
                    return jD;
                };
                this.sM = function() {
                    return gi;
                };
                this.xt = function() {
                    return dW;
                };
                this.xo = function() {
                    return fA;
                };
                this.append = function(dB) {
                    var Ic = gA * dB.pP() + hT * dB.sk();
                    var Hi = gA * dB.nK() + hT * dB.sM();
                    var Is = jD * dB.pP() + gi * dB.sk();
                    var Hl = jD * dB.nK() + gi * dB.sM();
                    var If = dW * dB.pP() + fA * dB.sk() + dB.xt();
                    var Iw = dW * dB.nK() + fA * dB.sM() + dB.xo();
                    gA = Ic;
                    hT = Hi;
                    jD = Is;
                    gi = Hl;
                    dW = If;
                    fA = Iw;
                };
                this.equals = function(G) {
                    if (gA !== G.pP()) {
                        return false;
                    }
                    if (hT !== G.nK()) {
                        return false;
                    }
                    if (jD !== G.sk()) {
                        return false;
                    }
                    if (gi !== G.sM()) {
                        return false;
                    }
                    if (dW !== G.xt()) {
                        return false;
                    }
                    if (fA !== G.xo()) {
                        return false;
                    }
                    return true;
                };
                this.yW = function() {
                    if (!this.ahN()) {
                        throw new IPCC.Web.UI.ImGearArgumentException(null, 'Matrix has no inverse');
                    }
                    var El = this.ahC();
                    var Ic = gi / El;
                    var Hi = -hT / El;
                    var Is = -jD / El;
                    var Hl = gA / El;
                    var If = (jD * fA - gi * dW) / El;
                    var Iw = (hT * dW - gA * fA) / El;
                    gA = Ic;
                    hT = Hi;
                    jD = Is;
                    gi = Hl;
                    dW = If;
                    fA = Iw;
                };
                this.Hy = function(dB) {
                    var Ic = dB.pP() * gA + dB.nK() * jD;
                    var Hi = dB.pP() * hT + dB.nK() * gi;
                    var Is = dB.sk() * gA + dB.sM() * jD;
                    var Hl = dB.sk() * hT + dB.sM() * gi;
                    var If = dB.xt() * gA + dB.xo() * jD + dW;
                    var Iw = dB.xt() * hT + dB.xo() * gi + fA;
                    gA = Ic;
                    hT = Hi;
                    jD = Is;
                    gi = Hl;
                    dW = If;
                    fA = Iw;
                };
                this.vU = function(lA, qL, oT, lY) {
                    dW -= oT;
                    fA -= lY;
                    this.scale(lA, qL);
                    dW += oT;
                    fA += lY;
                };
                this.aCL = function() {
                    gA = gi = 1;
                    hT = jD = dW = fA = 0;
                };
                this.transform = function(al) {
                    var aM = al.x * gA + al.y * jD + dW;
                    var di = al.y * gi + al.x * hT + fA;
                    return new IPCC.Web.UI.Point(aM, di);
                };
                this.mH = function(Uu, aai) {
                    dW += Uu;
                    fA += aai;
                };
                this.ayv = function(G) {
                    if (Math.abs(gA - G.pP()) > 1e-8) {
                        return false;
                    }
                    if (Math.abs(hT - G.nK()) > 1e-8) {
                        return false;
                    }
                    if (Math.abs(jD - G.sk()) > 1e-8) {
                        return false;
                    }
                    if (Math.abs(gi - G.sM()) > 1e-8) {
                        return false;
                    }
                    if (Math.abs(dW - G.xt()) > 1e-8) {
                        return false;
                    }
                    if (Math.abs(fA - G.xo()) > 1e-8) {
                        return false;
                    }
                    return true;
                };
                this.toString = function() {
                    return '{' + gA.toFixed(6) + ', ' + hT.toFixed(6) + ', ' + jD.toFixed(6) + ', ' + gi.toFixed(6) + ', ' + dW.toFixed(3) + ', ' + fA.toFixed(3) + '}';
                };
                this.parse = function() {};
                this.clone = function() {
                    return new IPCC.fg(gA, hT, jD, gi, dW, fA);
                };
                this.Nf = function(gz) {
                    gA = gz.pP();
                    hT = gz.nK();
                    jD = gz.sk();
                    gi = gz.sM();
                    dW = gz.xt();
                    fA = gz.xo();
                };
                this.aBg = function(bz, bD) {
                    gA = 1;
                    gi = bD.gO * bz.fS / (bz.gO * bD.fS);
                    hT = jD = dW = fA = 0;
                };
                this.Vd = function(an, bz, bD) {
                    switch (an) {
                        case IPCC.Web.UI.FitType.FullImage:
                            this.aqI(bz, bD);
                            break;
                        case IPCC.Web.UI.FitType.FullWidth:
                            this.acb(bz, bD);
                            break;
                        case IPCC.Web.UI.FitType.FullHeight:
                            this.acP(bz, bD);
                            break;
                        case IPCC.Web.UI.FitType.ActualSize:
                            this.afM(bz, bD);
                            break;
                        case IPCC.Web.UI.FitType.OneToOne:
                            if (!(bz.qY)) {
                                this.afM(bz, bD);
                            } else {
                                this.aqU(bz, bD);
                            }
                            break;
                    }
                };
                this.acb = function(bz, bD) {
                    var mf = this.qV(bz);
                    var xZ = bD.width - 2;
                    if (xZ < 1) {
                        xZ = 1;
                    }
                    var aD = xZ / mf.width;
                    this.scale(aD, aD);
                    mf = this.qV(bz);
                    if (mf.y < 0) {
                        this.mH(0, -mf.y);
                    }
                };
                this.acP = function(bz, bD) {
                    var mf = this.qV(bz);
                    var xZ = bD.height - 2;
                    if (xZ < 1) {
                        xZ = 1;
                    }
                    var aD = xZ / mf.height;
                    this.scale(aD, aD);
                    mf = this.qV(bz);
                    if (mf.x < 0) {
                        this.mH(-mf.x, 0);
                    }
                };
                this.aqI = function(bz, bD) {
                    var mn = this.clone();
                    mn.acb(bz, bD);
                    this.acP(bz, bD);
                    if (Math.max(Math.abs(gA), Math.abs(hT)) > Math.max(Math.abs(mn.pP()), Math.abs(mn.nK()))) {
                        this.Nf(mn);
                    }
                };
                this.afM = function(bz, bD) {
                    var mf = this.qV({
                        x: 0,
                        y: 0,
                        width: bz.fS,
                        height: bz.gO
                    });
                    var aD = bD.fS / mf.width;
                    this.scale(aD, aD);
                };
                this.aqU = function(bz, bD) {
                    var mf = this.qV({
                        x: 0,
                        y: 0,
                        width: 1,
                        height: 1
                    });
                    var aD = 1 / Math.min(mf.width, mf.height);
                    this.scale(aD, aD);
                    if (Math.abs(gA - 1) < 0.0001) {
                        gA = 1;
                    }
                    if (Math.abs(gi - 1) < 0.0001) {
                        gi = 1;
                    }
                };
                return this;
            };
            fg.prototype.ahN = function() {
                return Math.abs(this.ahC()) > 1e-14;
            };
            fg.prototype.rotate = function(xO) {
                this.aeR(xO, 0, 0);
            };
            fg.prototype.aeR = function(xO, oT, lY) {
                var Iz = xO * Math.PI * 2 / 360;
                var iK = Math.sin(Iz);
                var fH = Math.cos(Iz);
                var dB = new IPCC.fg(fH, iK, -iK, fH, oT * (1 - fH) + lY * iK, lY * (1 - fH) - oT * iK);
                this.append(dB);
            };
            fg.prototype.axp = function(xO, oT, lY) {
                var Iz = xO * Math.PI * 2 / 360;
                var iK = Math.sin(Iz);
                var fH = Math.cos(Iz);
                var dB = new IPCC.fg(fH, iK, -iK, fH, oT * (1 - fH) + lY * iK, lY * (1 - fH) - oT * iK);
                this.Hy(dB);
            };
            fg.prototype.aGT = function(xO) {
                this.axp(xO, 0, 0);
            };
            fg.prototype.scale = function(lA, qL) {
                var dB = new IPCC.fg(lA, 0, 0, qL, 0, 0);
                this.append(dB);
            };
            fg.prototype.aIq = function(lA, qL, oT, lY) {
                var dB = new IPCC.fg(lA, 0, 0, qL, oT * (1 - lA), lY * (1 - qL));
                this.Hy(dB);
            };
            fg.prototype.aFi = function(lA, qL) {
                var dB = new IPCC.fg(lA, 0, 0, qL, 0, 0);
                this.Hy(dB);
            };
            fg.prototype.skew = function(qy, ou) {
                var dB = new IPCC.fg(1, Math.tan(ou * Math.PI * 2 / 360), Math.tan(qy * Math.PI * 2 / 360), 1, 0, 0);
                this.append(dB);
            };
            fg.prototype.aET = function(qy, ou) {
                var dB = new IPCC.fg(1, Math.tan(ou * Math.PI * 2 / 360), Math.tan(qy * Math.PI * 2 / 360), 1, 0, 0);
                this.Hy(dB);
            };
            fg.prototype.aHO = function(Uu, aai) {
                var dB = new IPCC.fg(1, 0, 0, 1, Uu, aai);
                this.Hy(dB);
            };
            fg.prototype.zL = function(R) {
                var eK = this.transform({
                    x: R.x,
                    y: R.y
                });
                var mP = eK.x;
                var mK = eK.x;
                var mJ = eK.y;
                var mC = eK.y;
                eK = this.transform({
                    x: R.x + R.width,
                    y: R.y
                });
                mP = Math.min(mP, eK.x);
                mK = Math.max(mK, eK.x);
                mJ = Math.min(mJ, eK.y);
                mC = Math.max(mC, eK.y);
                eK = this.transform({
                    x: R.x + R.width,
                    y: R.y + R.height
                });
                mP = Math.min(mP, eK.x);
                mK = Math.max(mK, eK.x);
                mJ = Math.min(mJ, eK.y);
                mC = Math.max(mC, eK.y);
                eK = this.transform({
                    x: R.x,
                    y: R.y + R.height
                });
                mP = Math.min(mP, eK.x);
                mK = Math.max(mK, eK.x);
                mJ = Math.min(mJ, eK.y);
                mC = Math.max(mC, eK.y);
                return new IPCC.Web.UI.Rectangle(mP, mJ, mK - mP, mC - mJ);
            };
            fg.prototype.aqt = function(bz, bD, fo) {
                var aec = this.clone();
                aec.yW();
                var aCP = aec.transform({
                    x: fo.x + fo.width / 2,
                    y: fo.y + fo.height / 2
                });
                var aD = Math.min(bD.width / fo.width, bD.height / fo.height);
                aD -= 1e-10;
                var lg = this.nR();
                if (lg * aD > bz.pF) {
                    aD = bz.pF / lg;
                }
                if (lg * aD < bz.rZ) {
                    aD = bz.rZ / lg;
                }
                this.scale(aD, aD);
                this.ads(bD, aCP);
            };
            fg.prototype.OG = function(bz, bD, dE) {
                this.aqt(bz, bD, this.zL(dE));
            };
            fg.prototype.aIc = function(bD) {
                this.vU(1, -1, bD.width / 2, bD.height / 2);
            };
            fg.prototype.apE = function(bD) {
                this.vU(-1, 1, bD.width / 2, bD.height / 2);
            };
            fg.prototype.SO = function(amM, aiL) {
                var amz = this.transform(amM);
                this.mH(aiL.x - amz.x, aiL.y - amz.y);
            };
            fg.prototype.ads = function(bD, cD) {
                var ahA = this.transform(cD);
                this.mH(bD.width / 2 - ahA.x, bD.height / 2 - ahA.y);
            };
            fg.prototype.la = function(bE, bD) {
                var aM = 0,
                    di = 0,
                    end;
                var nr = this.qV(bE);
                if (nr.width < bD.width) {
                    aM = (bD.width - nr.width) / 2 - nr.x;
                } else {
                    end = nr.x + nr.width;
                    if (end < bD.width) {
                        aM = bD.width - end;
                    }
                    if (nr.x > 0) {
                        aM = -nr.x;
                    }
                }
                if (nr.height < bD.height) {
                    di = (bD.height - nr.height) / 2 - nr.y;
                } else {
                    end = nr.y + nr.height;
                    if (end < bD.height) {
                        di = bD.height - end;
                    }
                    if (nr.y > 0) {
                        di = -nr.y;
                    }
                }
                this.mH(aM, di);
            };
            fg.prototype.qV = function(bE) {
                return this.zL({
                    x: 0,
                    y: 0,
                    width: bE.width,
                    height: bE.height
                });
            };
            fg.prototype.aFA = function() {
                var hY, zS, hX, wA, afa, iQ;
                hY = this.transform({
                    x: 0,
                    y: 0
                });
                zS = this.transform({
                    x: 0,
                    y: 1
                });
                hX = this.transform({
                    x: 1,
                    y: 0
                });
                wA = Math.atan2(zS.y - hY.y, zS.x - hY.x);
                afa = Math.atan2(hX.y - hY.y, hX.x - hY.x);
                iQ = wA - afa;
                if (iQ > Math.PI) {
                    iQ = iQ - 2 * Math.PI;
                }
                if (iQ < -Math.PI) {
                    iQ = iQ + 2 * Math.PI;
                }
                return iQ < 0;
            };
            fg.prototype.aiy = function() {
                var hY, zS, wA;
                hY = this.transform({
                    x: 0,
                    y: 0
                });
                zS = this.transform({
                    x: 0,
                    y: 1
                });
                wA = Math.atan2(zS.y - hY.y, zS.x - hY.x) - Math.PI / 2;
                if (wA < 0) {
                    wA = wA + 2 * Math.PI;
                }
                return wA * 360 / (Math.PI * 2);
            };
            fg.prototype.nR = function() {
                var hG;
                var hY, qn;
                var ew, et, cO;
                hY = this.transform({
                    x: 0,
                    y: 0
                });
                qn = this.transform({
                    x: 1,
                    y: 0
                });
                ew = qn.x - hY.x;
                et = qn.y - hY.y;
                hG = ew * ew + et * et;
                qn = this.transform({
                    x: 0,
                    y: 1
                });
                ew = qn.x - hY.x;
                et = qn.y - hY.y;
                cO = Math.min(hG, ew * ew + et * et);
                qn = this.transform({
                    x: 1,
                    y: 1
                });
                ew = qn.x - hY.x;
                et = qn.y - hY.y;
                cO = Math.min(hG, ew * ew + et * et);
                qn = this.transform({
                    x: 1,
                    y: -1
                });
                ew = qn.x - hY.x;
                et = qn.y - hY.y;
                cO = Math.min(hG, ew * ew + et * et);
                return Math.sqrt(hG);
            };
            fg.aFW = function() {
                return new IPCC.fg(1, 0, 0, 1, 0, 0);
            };
            module.exports = fg;
        }, {}],
        37: [function(require, module, exports) {
            var eV = {
                aaQ: 1,
                adr: 2,
                XZ: 3,
                agR: 4,
                amt: 5,
                Hx: 6,
                ND: 7,
                anb: 8,
                ann: 9,
                akB: 10,
                aki: 11,
                akf: 12,
                akM: 13,
                amO: 14,
                abp: 15,
                aaA: 16
            };
            module.exports = eV;
        }, {}],
        38: [function(require, module, exports) {
            var dO = function() {
                this.J = false;
                this.aog = 1.5;
            };
            dO.prototype.mq = function(J) {
                this.J = J;
            };
            dO.prototype.ek = function() {
                this.J = false;
            };
            dO.prototype.aB = function() {};
            dO.prototype.mh = function(F) {
                var bM = this.J.bV();
                var bz = this.J.cE();
                var bD = this.J.eT();
                var ak = bM.ec();
                var KE = F.wheelDelta / 120;
                if (F.domEvent.ctrlKey) {
                    F.domEvent.preventDefault();
                    var aD = ((this.aog - 1) / 2) + 1;
                    if (KE < 0) {
                        aD = 1 / aD;
                    }
                    var lg = ak.nR();
                    if (lg * aD > bz.pF) {
                        aD = bz.pF / lg;
                    }
                    if (lg * aD < bz.rZ) {
                        aD = bz.rZ / lg;
                    }
                    ak.vU(aD, aD, F.windowPoint.x, F.windowPoint.y);
                    ak.la(bz, bD);
                    this.J.aQ('userModifiedViewState', {});
                    bM.jr(ak);
                } else {
                    var adm = ak.transform({
                        x: 0,
                        y: 0
                    });
                    ak.mH(0, KE * bD.gO);
                    ak.la(bz, bD);
                    var adO = ak.transform({
                        x: 0,
                        y: 0
                    });
                    if (Math.abs(adm.x - adO.x) > 0.001 || Math.abs(adm.y - adO.y) > 0.001) {
                        F.domEvent.preventDefault();
                        this.J.aQ('userModifiedViewState', {});
                        bM.jr(ak);
                    }
                }
                this.J.dv();
            };
            module.exports = dO;
        }, {}],
        39: [function(require, module, exports) {
            var co = function(air) {
                this.air = air;
                this.Tp = 0;
                this.Ov = 1;
                this.KF = 2;
                this.So = 3;
                this.TP = 4;
                this.cL = this.Tp;
                this.J = false;
                this.tY = 0;
            };
            co.prototype.mq = function(J) {
                this.J = J;
                this.bM = J.bV();
            };
            co.prototype.ek = function() {
                this.J = false;
            };
            co.prototype.aB = function() {
                if (this.cL === this.KF) {
                    this.J.bV().hideMagnifier();
                }
                this.cL = this.Tp;
            };
            co.prototype.Qm = function(F) {
                var bS = F.domEvent.rawEvent;
                switch (this.cL) {
                    case this.Tp:
                        if (bS.touches.length === 1) {
                            this.aEj(F);
                        } else if (bS.touches.length === 2) {
                            this.akg(F);
                        } else if (bS.touches.length === 3) {
                            this.YQ(F);
                        } else {
                            this.aB();
                        }
                        break;
                    case this.Ov:
                        if (bS.touches.length === 2) {
                            this.akg(F);
                        } else if (bS.touches.length === 3) {
                            this.YQ(F);
                        } else {
                            this.aB();
                        }
                        break;
                    case this.TP:
                        if (bS.touches.length !== 3) {
                            this.aB();
                        }
                        break;
                    case this.KF:
                        this.aB();
                        break;
                    case this.So:
                        if (bS.touches.length === 3) {
                            this.YQ(F);
                        } else if (bS.touches.length !== 2) {
                            this.aB();
                        }
                        break;
                }
            };
            co.prototype.PK = function(F) {
                switch (this.cL) {
                    case this.Ov:
                        this.tY++;
                        break;
                    case this.KF:
                        this.afD(F);
                        break;
                    case this.So:
                        this.awr(F);
                        break;
                    case this.TP:
                        this.aBD(F);
                        break;
                }
            };
            co.prototype.PH = function() {
                this.aB();
            };
            co.prototype.Kt = function() {
                this.aB();
            };
            co.prototype.aEj = function(F) {
                this.cL = this.Ov;
                this.tY++;
                var aAl = this.tY;
                var V = this;

                function auP() {
                    if (V.cL === this.Ov && aAl === V.tY) {
                        V.aCY(F);
                    }
                };
                setTimeout(auP, 1000);
            };
            co.prototype.aCY = function(F) {
                this.J.gw('rG', F);
                this.afD(F);
                this.cL = this.KF;
            };
            co.prototype.YQ = function(F) {
                var bS = F.domEvent.rawEvent;
                if (bS.touches.length !== 3) {
                    this.aB();
                    return;
                }
                var ha = bS.touches[0];
                var cn = {
                    x: ha.screenX,
                    y: ha.screenY
                };
                var dB = this.bM.ec();
                dB.yW();
                this.QG = cn;
                this.ayt = cn;
                this.Wu = dB.transform(cn);
                this.cL = this.TP;
                this.aGL = this.bM.ec();
                this.amX = true;
                this.alO = true;
            };
            co.prototype.aBD = function(F) {
                var bS = F.domEvent.rawEvent;
                if (bS.touches.length !== 3) {
                    this.aB();
                    return;
                }
                var ha = bS.touches[0];
                var cn = {
                    x: ha.screenX,
                    y: ha.screenY
                };
                var avc = Math.abs(cn.x - this.QG.x);
                var atw = Math.abs(cn.y - this.QG.y);
                if (avc > 35) {
                    this.alO = false;
                }
                if (atw > 35) {
                    this.amX = false;
                }
                if (this.amX) {
                    cn.y = this.QG.y;
                }
                if (this.alO) {
                    cn.x = this.QG.x;
                }
                this.ayt = cn;
                var ak = this.bM.ec();
                var bD = this.J.eT();
                var bz = this.J.cE();
                ak.SO(this.Wu, cn);
                ak.la(bz, bD);
                this.bM.jr(ak);
            };
            co.prototype.aGY = function() {};
            co.prototype.agl = function(F) {
                var bS = F.domEvent.rawEvent;
                if (bS.touches.length !== 2) {
                    this.aB();
                    return {};
                }
                var Np = bS.touches[0];
                var Oh = bS.touches[1];
                var ew = Np.screenX - Oh.screenX;
                var et = Np.screenY - Oh.screenY;
                var wL = Math.sqrt(ew * ew + et * et);
                var iQ = Math.atan2(ew, et) * 180 / Math.PI;
                var al = {
                    x: (Np.screenX + Oh.screenX) / 2,
                    y: (Np.screenY + Oh.screenY) / 2
                };
                return {
                    wL: wL,
                    iQ: iQ,
                    amP: al
                };
            };
            co.prototype.akg = function(F) {
                this.cL = this.So;
                this.awW = this.agl(F);
                this.LO = this.awW;
                var dB = this.bM.ec();
                dB.yW();
                this.Wu = dB.transform(this.LO.amP);
                this.GX = this.LO.iQ;
            };
            co.prototype.afD = function(F) {
                var bS = F.domEvent.rawEvent;
                var ha = bS.touches[0];
                var cn = {
                    x: ha.screenX,
                    y: ha.screenY
                };
                this.bM.showMagnifier(cn);
            };
            co.prototype.awr = function(F) {
                var vC = this.agl(F);
                var cO = vC.wL / this.LO.wL;
                var ak = this.bM.ec();
                var bD = this.J.eT();
                var bz = this.J.cE();
                ak.scale(cO, cO);
                var Dq = this.GX - vC.iQ;
                var alE = this.GX - vC.iQ - 360;
                var ajS = this.GX - vC.iQ + 360;
                if (Math.abs(Dq) > Math.abs(alE)) {
                    Dq = alE;
                }
                if (Math.abs(Dq) > Math.abs(ajS)) {
                    Dq = ajS;
                }
                if (Dq < -40) {
                    ak.rotate(-90);
                    this.GX = vC.iQ;
                } else if (Dq > 40) {
                    ak.rotate(90);
                    this.GX = vC.iQ;
                }
                ak.SO(this.Wu, vC.amP);
                ak.la(bz, bD);
                this.bM.jr(ak);
                this.LO = vC;
            };
            co.prototype.aFu = function(F) {
                var ak = this.bM.ec();
                var bD = this.J.eT();
                var bz = this.J.cE();
                ak.Vd(IPCC.Web.UI.FitType.FullImage, bz, bD);
                ak.la(bz, bD);
                this.bM.jr(ak);
            };
            co.prototype.mh = function() {
                this.aB();
            };
            module.exports = co;
        }, {}],
        40: [function(require, module, exports) {
            var cV = require('./IPCC.Util').regClass;
            var QH = function() {
                return this;
            };
            QH.registerClass = cV;
            QH.prototype = {};
            QH.registerClass('IPCC.OpenPageEventArgs');
            module.exports = QH;
        }, {
            "./IPCC.Util": 29
        }],
        41: [function(require, module, exports) {
            var cV = require('./IPCC.Util').regClass;
            var Mc = function() {
                return this;
            };
            Mc.registerClass = cV;
            Mc.prototype = {};
            Mc.registerClass('IPCC.PageEventArgs');
            module.exports = Mc;
        }, {
            "./IPCC.Util": 29
        }],
        42: [function(require, module, exports) {
            var bf = function(be) {
                this.fs = be.page;
                this.bL = 0;
                this.aS = 0;
                this.gN = 0;
                this.gn = 0;
                var ax = new IPCC.Web.UI.gV();
                this.amL = undefined;
                this.gu = false;
                this.atu = false;
                this.GD = 0;
                this.aFD = undefined;
                this.zx = false;
                this.xL = false;
                this.DX = false;
                this.hc = 0;
                this.Da = 0;
                this.Bl = false;
                this.Gr = false;
                this.au = new IPCC.Web.UI.ArtPage();
                this.fe = new IPCC.Web.UI.ArtPage();
                this.cF = this.fs.get_pageNumber();
                this.ac = this.fs.bQ.OZ + '_' + this.cF + '__pViewId';
                this.bQ = this.fs.bQ;
                this.cG = function(dI) {
                    var H = ax.getHandler('propertyChanged');
                    if (H) {
                        H(this, new IPCC.nP(dI));
                    }
                };
                return this;
            };
            bf.prototype.ko = function() {
                if (this.fs) {
                    return this.fs.kt() || this.bL;
                }
                return this.bL;
            };
            bf.prototype.qi = function() {
                if (this.fs) {
                    return this.fs.jk() || this.aS;
                }
                return this.aS;
            };
            bf.prototype.Zr = function(bool) {
                bool = !!bool;
                if (this.fs) {
                    this.fs.Bl = bool;
                }
                this.Bl = bool;
            };
            bf.prototype.aii = function() {
                if (this.fs) {
                    return this.fs.Bl || this.Bl;
                }
                return this.Bl;
            };
            module.exports = bf;
        }, {}],
        43: [function(require, module, exports) {
            var eP = require('./IPCC.Util').regEnum;
            var Cv = function() {};
            Cv.registerEnum = eP;
            Cv.prototype = {
                VerticalScrollDirection: 0,
                HorizontalScrollDirection: 1
            };
            Cv.registerEnum('IPCC.PageLayout', false);
            module.exports = Cv;
        }, {
            "./IPCC.Util": 29
        }],
        44: [function(require, module, exports) {
            var cV = require('./IPCC.Util').regClass;
            var anR = function() {
                this.cr = undefined;
                return this;
            };
            var MB = function(element) {
                var V = this;
                var Fj = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function(func) {
                    return setTimeout(func, 16);
                };
                var alU = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || function(id) {
                    return clearTimeout(id);
                };
                var ax = new IPCC.Web.UI.gV();
                var bJ = [];
                var ass;
                var bj = '';
                var CD = '';
                var aO = '';
                var kj = '';
                var IP = '';
                var Jy = 0;
                this.zh = new IPCC.Web.UI.ImGearDocumentCollection();
                var Jx = [];
                this.aGB = 0;
                this.aFB = {
                    x: 0,
                    y: 0
                };
                var ke = 0;
                var oh = IPCC.Web.UI.DebugErrorLevel.Production;
                var _debug = false;
                var mX = false;
                var cY = 0;
                var vg = false;
                var ME = [];
                var Ih = '';
                var dA = 1;
                var pZ = 0;
                var lm = 1;
                var qF = 1;
                var cJ = IPCC.Web.UI.MouseTool.None;
                var ys = false;
                var rz = true;
                var ai = IPCC.ar.None;
                var iv;
                var gH = 0;
                var iw = 0;
                var ahs = 0;
                var fK = 0;
                var gk = 15;
                var jx = 0;
                var gW = 15;
                var nF = 0;
                var mT = 0;
                var oz = 0;
                var pd = 0;
                var aCK = 0;
                var fP = 0;
                var ho = 0;
                var ob = 1;
                var fN = IPCC.PageLayout.VerticalScrollDirection;
                var dJ = IPCC.ViewMode.Document;
                var me = null;
                var VK = null;
                var Lk = 0;
                var TA = 0;
                var vI = 0;
                var BE = false;
                var kv = null;
                var Jj = 0;
                var HL = '';
                var DH = '';
                var pV = [];
                var En = 0;
                var tw = 3;
                var Sc = 0.5;
                var Kg = true;
                var Qy = false;
                var Qj = false;
                var Zb;
                var sy = IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;
                var uD = true;
                var jP;
                var dH = {};
                var rY = false;
                var lK = function() {
                    return null;
                };
                var jt = null;
                var agO = "font-size:11px;color:#888;text-align:center;cursor:pointer;";
                var aCz = agO + "padding:18px 0 20px;display:table-caption;caption-side:bottom;";
                var aCs = agO + "white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";
                var dn = 96;
                var bd;

                function ny(IK) {
                    if (!_debug) {
                        return false;
                    }
                    return oh >= IK;
                };
                this.bw = function(ir, iL) {
                    if (!ny(IPCC.Web.UI.DebugErrorLevel.Production)) {
                        return;
                    }
                    var cQ = ir + '() threw an exception (' + iL.name + '), "' + iL.message + '"';
                    cQ = cQ.replace(/\n/g, " ");
                    IPCC.iU.nf(cQ, IPCC.Web.UI.DebugItemCause.Exception, IPCC.Web.UI.DebugErrorLevel.Production, 'PageList', this.mN().id);
                    var lZ = new IPCC.ExceptionEventArgs();
                    lZ.functionName = ir;
                    lZ.exception = iL;
                    this.aQ('exceptionThrown', lZ);
                };
                this.as = function(ir, jK, rf) {
                    if (!ny(IPCC.Web.UI.DebugErrorLevel.Development)) {
                        return;
                    }
                    var cQ = ir + '(';
                    var C;
                    for (C = 0; C < jK.length; C++) {
                        if (C > 0) {
                            cQ += ', ';
                        }
                        cQ += IPCC.iU.rg(jK[C], (rf ? rf : 0));
                    }
                    cQ += ')';
                    this.uz(cQ, IPCC.Web.UI.DebugErrorLevel.Development);
                };
                this.CC = function(ir, jK, lL, rf) {
                    if (!ny(IPCC.Web.UI.DebugErrorLevel.Development)) {
                        return;
                    }
                    var cQ = ir + '(';
                    var C;
                    for (C = 0; C < jK.length; C++) {
                        if (C > 0) {
                            cQ += ', ';
                        }
                        cQ += IPCC.iU.rg(jK[C], (rf ? rf : 0));
                    }
                    cQ += ') = ';
                    cQ += IPCC.iU.rg(lL, 1);
                    this.uz(cQ, IPCC.Web.UI.DebugErrorLevel.Development);
                };
                this.de = function(ir, jK, lL) {
                    if (!ny(IPCC.Web.UI.DebugErrorLevel.Detailed)) {
                        return;
                    }
                    var cQ = ir + '(';
                    var C;
                    for (C = 0; C < jK.length; C++) {
                        if (C > 0) {
                            cQ += ', ';
                        }
                        cQ += IPCC.iU.rg(jK[C], 0);
                    }
                    cQ += ') = ';
                    cQ += IPCC.iU.rg(lL, 1);
                    this.uz(cQ, IPCC.Web.UI.DebugErrorLevel.Detailed);
                };
                this.uz = function(iq, av) {
                    IPCC.iU.nf(iq, IPCC.Web.UI.DebugItemCause.FunctionCall, av, 'PageList', this.mN().id);
                };
                this.nf = function(iq) {
                    IPCC.iU.nf(iq, IPCC.Web.UI.DebugItemCause.Custom, IPCC.Web.UI.DebugErrorLevel.Production, 'PageList', this.mN().id);
                };
                this.Kl = function() {
                    return _debug;
                };
                this.Xv = function(G) {
                    var Ir = !!G;
                    if (_debug === Ir) {
                        return;
                    }
                    _debug = Ir;
                    var cf = iE();
                    var cj = [];
                    if (cf) {
                        cj = pE(cf);
                    }
                    var C = 0;
                    for (C = 0; C < cj.length; C++) {
                        var by;
                        if (bJ[cj[C]].ac) {
                            by = document.getElementById(bJ[cj[C]].ac).bg;
                        }
                        if (by) {
                            by.set_debug(_debug);
                        }
                    }
                    this.cG('debug');
                };
                this.xH = function() {
                    return oh;
                };
                this.JC = function(G) {
                    IPCC.aR.kd(G, 'value', IPCC.Web.UI.DebugErrorLevel);
                    if (oh === G) {
                        return;
                    }
                    oh = G;
                    var cf = iE();
                    var cj = [];
                    if (cf) {
                        cj = pE(cf);
                    }
                    var C = 0;
                    for (C = 0; C < cj.length; C++) {
                        var by;
                        if (bJ[cj[C]].ac) {
                            by = document.getElementById(bJ[cj[C]].ac).bg;
                        }
                        if (by) {
                            by.set_debugErrorLevel(oh);
                        }
                    }
                    this.cG('debugErrorLevel');
                };

                function da(cZ, H) {
                    ax.addHandler(cZ, H);
                };

                function cP(cZ, H) {
                    ax.removeHandler(cZ, H);
                };
                this.LH = function(H) {
                    da('mouseDown', H);
                };
                this.XJ = function(H) {
                    cP('mouseDown', H);
                };
                this.Lf = function(H) {
                    da('mouseMove', H);
                };
                this.Wx = function(H) {
                    cP('mouseMove', H);
                };
                this.LJ = function(H) {
                    da('mouseUp', H);
                };
                this.Ws = function(H) {
                    cP('mouseUp', H);
                };
                this.Tn = function(H) {
                    da('selectTextMouseToolCompleted', H);
                };
                this.Wv = function(H) {
                    cP('selectTextMouseToolCompleted', H);
                };
                this.xN = function(H) {
                    da('textPageReady', H);
                };
                this.Du = function(H) {
                    cP('textPageReady', H);
                };
                this.RE = function(H) {
                    da('hyperlinkPageReady', H);
                };
                this.acV = function(H) {
                    cP('hyperlinkPageReady', H);
                };
                this.asV = function(H) {
                    da('allPagesAdded', H);
                };
                this.avT = function(H) {
                    cP('allPagesAdded', H);
                };
                this.Uc = function(H) {
                    da('pageOpening', H);
                };
                this.XG = function(H) {
                    cP('pageOpening', H);
                };
                this.SN = function(H) {
                    da('pageOpened', H);
                };
                this.Xr = function(H) {
                    cP('pageOpened', H);
                };
                this.HB = function(H) {
                    da('pageOpenFailed', H);
                };
                this.Gb = function(H) {
                    cP('pageOpenFailed', H);
                };
                this.SH = function(H) {
                    da('pageDisplayed', H);
                };
                this.Ww = function(H) {
                    cP('pageDisplayed', H);
                };
                this.jM = function(H) {
                    da('propertyChanged', H);
                };
                this.mR = function(H) {
                    cP('propertyChanged', H);
                };
                this.RJ = function(H) {
                    da('exceptionThrown', H);
                };
                this.WY = function(H) {
                    cP('exceptionThrown', H);
                };
                this.xr = function(H) {
                    da('textExtractionFailed', H);
                };
                this.Ed = function(H) {
                    cP('textExtractionFailed', H);
                };
                this.As = function(H) {
                    da('markAdded', H);
                };
                this.zV = function(H) {
                    cP('markAdded', H);
                };
                this.RV = function(H) {
                    da('markCreating', H);
                };
                this.WO = function(H) {
                    cP('markCreating', H);
                };
                this.IC = function(H) {
                    da('markChanged', H);
                };
                this.HH = function(H) {
                    cP('markChanged', H);
                };
                this.Ht = function(H) {
                    da('markReordered', H);
                };
                this.ET = function(H) {
                    cP('markReordered', H);
                };
                this.Hj = function(H) {
                    da('markSelectionChanged', H);
                };
                this.GG = function(H) {
                    cP('markSelectionChanged', H);
                };
                this.Ie = function(H) {
                    da('markTextSelectionChanged', H);
                };
                this.GI = function(H) {
                    cP('markTextSelectionChanged', H);
                };
                this.AQ = function(H) {
                    da('markRemoved', H);
                };
                this.zI = function(H) {
                    cP('markRemoved', H);
                };
                this.asG = function(H) {
                    da('commentAdding', H);
                };
                this.avq = function(H) {
                    cP('commentAdding', H);
                };
                this.yp = function(H) {
                    da('commentAdded', H);
                };
                this.Bn = function(H) {
                    cP('commentAdded', H);
                };
                this.yF = function(H) {
                    da('commentRemoved', H);
                };
                this.Cr = function(H) {
                    cP('commentRemoved', H);
                };
                this.sY = function(H) {
                    da('commentChanged', H);
                };
                this.vE = function(H) {
                    cP('commentChanged', H);
                };
                this.SS = function(H) {
                    da('scaleChanged', H);
                };
                this.XL = function(H) {
                    cP('scaleChanged', H);
                };
                this.MX = function() {
                    var bg = document.getElementById(bJ[cY].ac).bg;
                    if (bg) {
                        return bg.get_currentState();
                    } else {
                        return null;
                    }
                };
                this.ahi = function() {
                    var aP = IPCC.T.find(bJ, function(eK) {
                        return eK.cF === cY;
                    });
                    if (!aP) {
                        return;
                    }
                    return aP.fs;
                };
                this.aCX = function(aw) {
                    var aP = IPCC.T.find(bJ, function(eK) {
                        return eK.cF === cY;
                    });
                    if (!aP) {
                        return;
                    }
                    return aP.ac;
                };
                this.nR = function() {
                    return dA;
                };
                this.aBp = function(cO) {
                    iy(cO, undefined, undefined, undefined, undefined, undefined, IPCC.ScaleTrigger.Zoom);
                };
                this.MF = function(aD, qs, UT, fh) {
                    fh = fh || IPCC.ScaleTrigger.Zoom;
                    iy(dA * aD, UT, undefined, undefined, undefined, qs, fh);
                };
                this.asS = function(aD, aM, di, FW, fh) {
                    fh = fh || IPCC.ScaleTrigger.Zoom;
                    if (dA * aD < 8) {
                        iy(dA * aD, false, aM, di, FW, undefined, fh);
                    } else {
                        iy(8, false, aM, di, FW);
                    }
                };
                this.Qw = function(aD, fh) {
                    fh = fh || IPCC.ScaleTrigger.Zoom;
                    iy(dA / aD, false, undefined, undefined, undefined, undefined, fh);
                };
                this.aEk = function() {
                    return Vm();
                };
                this.aeV = function(fh, eW, aav) {
                    var Jd, Km, bL, aS;
                    var Xq = 0;
                    var C = 0;
                    for (C = 0; C < bJ.length; C++) {
                        bL = bJ[C].ko();
                        aS = bJ[C].qi();
                        if (iH(bJ[C].hc) === true) {
                            var GV = bL;
                            bL = aS;
                            aS = GV;
                        }
                        if (bL > 0 && aS > 0) {
                            var EZ = bL / aS;
                            if (EZ > Xq) {
                                Xq = EZ;
                                Jd = aS;
                                Km = bL;
                            }
                        }
                    }
                    if (Xq > 0) {
                        var aqo = (bj.offsetWidth - IPCC.Web.nH() - wx() - (gk + gW + mT + pd));
                        var apM = aqo / (Km * dn / bJ[0].gN);
                        var eO = gH;
                        var fB = iw;
                        if (iH(bJ[0].hc) === true) {
                            eO = iw;
                            fB = gH;
                        }
                        var aiY = Jd / fB * apM;
                        var kf = (bj.clientHeight - (fK + jx + nF + oz)) / (fB * dn / bJ[0].gn);
                        var HC = aiY;
                        if (aav === true && aiY > kf) {
                            HC = kf;
                        }
                        iy(HC, true, undefined, undefined, undefined, undefined, fh, eW);
                    }
                };
                this.aff = function(fh, eW, aav) {
                    var Jd, Km, bL, aS;
                    var VP = 0;
                    var C = 0;
                    for (C = 0; C < bJ.length; C++) {
                        bL = bJ[C].ko();
                        aS = bJ[C].qi();
                        if (iH(bJ[C].hc) === true) {
                            var GV = bL;
                            bL = aS;
                            aS = GV;
                        }
                        if (bL > 0 && aS > 0) {
                            var EZ = aS / bL;
                            if (EZ > VP) {
                                VP = EZ;
                                Jd = aS;
                                Km = bL;
                            }
                        }
                    }
                    if (VP > 0) {
                        var aqC = (bj.offsetHeight - IPCC.Web.nH() - (fK + jx + nF + oz));
                        var arl = aqC / (Jd * dn / bJ[0].gn);
                        var eO = gH;
                        var fB = iw;
                        if (iH(bJ[0].hc) === true) {
                            eO = iw;
                            fB = gH;
                        }
                        var aiQ = Km / eO * arl;
                        var kf = (bj.clientWidth - wx() - (gk + gW + mT + pd)) / (eO * dn / bJ[0].gN);
                        var HC = aiQ;
                        if (aav === true && aiQ > kf) {
                            HC = kf;
                        }
                        iy(HC, true, undefined, undefined, undefined, undefined, fh, eW);
                    }
                };
                this.azK = function(eW, fh) {
                    if (V.xe && typeof V.xe === 'function') {
                        V.xe();
                    }
                    var bL;
                    var aS;
                    var fF;
                    var jI = 1;
                    fh = fh || IPCC.ScaleTrigger.Fit;
                    if (eW === IPCC.FitType.FitToWidth) {
                        if (dJ === IPCC.ViewMode.Document) {
                            jI = (bj.offsetWidth - IPCC.Web.nH() - wx() - (gk + gW + mT + pd)) / (fP / dA);
                            iy(jI, true, undefined, undefined, undefined, undefined, fh, eW);
                        } else if (dJ === IPCC.ViewMode.SinglePage) {
                            if (iH(bJ[cY].hc) === true) {
                                bL = bJ[cY].qi();
                                fF = dn / bJ[cY].gn;
                            } else {
                                bL = bJ[cY].ko();
                                fF = dn / bJ[cY].gN;
                            }
                            jI = (bj.offsetWidth - IPCC.Web.nH() - wx() - (gk + gW + mT + pd)) / (bL * fF);
                            iy(jI, true, undefined, undefined, undefined, undefined, fh, eW);
                        } else {
                            if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                                St(fh, eW);
                            } else {
                                V.aeV(fh, eW);
                            }
                        }
                    } else if (eW === IPCC.FitType.ShrinkToWidth) {
                        var arX = bj.clientWidth - wx();
                        var auu = 20;
                        var VQ = arX - auu;
                        if (dJ === IPCC.ViewMode.SinglePage) {
                            if (iH(bJ[cY].hc) === true) {
                                bL = bJ[cY].qi();
                                fF = dn / bJ[cY].gn;
                            } else {
                                bL = bJ[cY].ko();
                                fF = dn / bJ[cY].gN;
                            }
                            if (VQ < dA * bL * fF) {
                                jI = (bj.offsetWidth - IPCC.Web.nH() - wx() - (gk + gW + mT + pd)) / (bL * fF);
                                iy(jI, true, undefined, undefined, undefined, undefined, fh, eW);
                            }
                        } else {
                            if (VQ < fP) {
                                iy(dA * VQ / fP, true, undefined, undefined, undefined, undefined, fh, eW);
                            }
                        }
                    } else if (eW === IPCC.FitType.ActualSize) {
                        if (dJ === IPCC.ViewMode.Document || dJ === IPCC.ViewMode.SinglePage) {
                            iy(1, true, undefined, undefined, undefined, undefined, fh, eW);
                        }
                    } else if (eW === IPCC.FitType.FitToHeight) {
                        if (dJ === IPCC.ViewMode.Document) {
                            jI = (bj.offsetHeight - IPCC.Web.nH() - (fK + jx + nF + oz)) / (ho / dA);
                            iy(jI, true, undefined, undefined, undefined, undefined, fh, eW);
                        } else if (dJ === IPCC.ViewMode.SinglePage) {
                            if (iH(bJ[cY].hc) === true) {
                                aS = bJ[cY].ko();
                                fF = dn / bJ[cY].gN;
                            } else {
                                aS = bJ[cY].qi();
                                fF = dn / bJ[cY].gn;
                            }
                            jI = (bj.offsetHeight - IPCC.Web.nH() - (fK + jx + nF + oz)) / (aS * fF);
                            iy(jI, true, undefined, undefined, undefined, undefined, fh, eW);
                        } else {
                            if (fN === IPCC.PageLayout.HorizontalScrollDirection) {
                                St(fh, eW);
                            } else {
                                V.aff(fh, eW);
                            }
                        }
                    } else if (eW === IPCC.FitType.BestFit) {
                        var DW;
                        if (dJ === IPCC.ViewMode.Document) {
                            jI = (bj.offsetWidth - IPCC.Web.nH() - (gk + gW + mT + pd)) / (fP / dA);
                            DW = (bj.offsetHeight - IPCC.Web.nH() - (fK + jx + nF + oz)) / (ho / dA);
                            if (DW < jI) {
                                jI = DW;
                            }
                            iy(jI, true, undefined, undefined, undefined, undefined, fh, eW);
                        } else if (dJ === IPCC.ViewMode.SinglePage) {
                            if (iH(bJ[cY].hc) === true) {
                                bL = bJ[cY].qi();
                                aS = bJ[cY].ko();
                                fF = dn / bJ[cY].gN;
                            } else {
                                bL = bJ[cY].ko();
                                aS = bJ[cY].qi();
                                fF = dn / bJ[cY].gn;
                            }
                            jI = (bj.offsetWidth - IPCC.Web.nH() - wx() - (gk + gW + mT + pd)) / (bL * fF);
                            DW = (bj.offsetHeight - IPCC.Web.nH() - (fK + jx + nF + oz)) / (aS * fF);
                            if (DW < jI) {
                                jI = DW;
                            }
                            iy(jI, true, undefined, undefined, undefined, undefined, fh, eW);
                        } else {
                            if (fN === IPCC.PageLayout.HorizontalScrollDirection) {
                                V.aeV(fh, eW, true);
                            } else {
                                V.aff(fh, eW, true);
                            }
                        }
                    }
                };
                this.axb = function(aY, bF) {
                    var aP = bJ[aY - 1];
                    var aE = document.getElementById(aP.ac);
                    var Dz = [];
                    if (aE) {
                        var fG, Eu, al;
                        try {
                            fG = VN(aE);
                        } catch (e) {
                            return null;
                        }
                        Dz = IPCC.T.map(bF, function(eK) {
                            Eu = aE.bg.transformPagePointToWindow(new IPCC.Web.UI.Point(eK.x, eK.y), true);
                            al = akk(aE, Eu.x, Eu.y, fG);
                            return {
                                clientX: al.x,
                                clientY: al.y
                            };
                        });
                        return Dz;
                    } else {
                        return null;
                    }
                };
                this.anX = function() {
                    var C = 0;
                    for (C = 0; C < bJ.length; C++) {
                        V.dv(C);
                    }
                    iE();
                    pq();
                };
                this.dv = function(aw) {
                    var bp;
                    if (bJ[aw].ac) {
                        bp = document.getElementById(bJ[aw].ac);
                    }
                    V.vl(bp, aw);
                };
                this.Kv = function(aw) {
                    var bp;
                    if (bJ[aw].ac) {
                        bp = document.getElementById(bJ[aw].ac);
                    }
                    if (bp) {
                        var by = bp.bg;
                        by.Kv();
                    }
                };
                this.vl = function(bp, aw) {
                    if (bp && bp.bg && bp.bg.dZ() === true) {
                        var by = bp.bg;
                        by.display();
                        bJ[aw].gu = true;
                        if (dJ === IPCC.ViewMode.SinglePage) {
                            var nD = -1;
                            if (Array.prototype.indexOf) {
                                nD = pV.indexOf(aw);
                            } else {
                                nD = IPCC.Web.jA(pV, aw);
                            }
                            if (nD !== -1) {
                                pV.splice(nD, 1);
                            }
                        }
                    }
                };

                function akH(cj) {
                    var bp;
                    for (var C = 0; C < cj.get_length(); C++) {
                        var aP = cj.getPage(C);
                        var aw = aP.get_pageNumber();
                        if (bJ[aw].ac) {
                            bp = document.getElementById(bJ[aw].ac);
                        }
                        if (bp && bp.bg && bp.bg.Cz() !== null) {
                            return bp.bg;
                        }
                    }
                    return null;
                };
                this.JN = function() {
                    var cj = this.get_displayedPages();
                    var QU = akH(cj);
                    QU.JN();
                };
                this.CS = function(aD) {
                    var hy = 0;
                    var hw = bJ.length - 1;
                    for (var ad = hy; ad <= hw; ad++) {
                        var by;
                        var bp = document.getElementById(bJ[ad].ac);
                        if (bp) {
                            by = bp.bg;
                        } else {
                            continue;
                        }
                        by.set_sharpening(aD);
                        if (by && bJ[ad].gu === true && by.dZ() === true) {
                            by.display();
                        }
                    }
                    pZ = aD;
                };
                this.avK = function() {
                    return pZ;
                };
                this.FF = function(aD) {
                    var hy = 0;
                    var hw = bJ.length - 1;
                    for (var ad = hy; ad <= hw; ad++) {
                        var by;
                        var bp = document.getElementById(bJ[ad].ac);
                        if (bp) {
                            by = bp.bg;
                        } else {
                            continue;
                        }
                        by.set_gamma(aD);
                        if (by && bJ[ad].gu === true && by.dZ() === true) {
                            by.display();
                        }
                    }
                    qF = aD;
                };
                this.aDt = function() {
                    return qF;
                };
                this.ED = function(aD) {
                    var hy = 0;
                    var hw = bJ.length - 1;
                    for (var ad = hy; ad <= hw; ad++) {
                        var by;
                        var bp = document.getElementById(bJ[ad].ac);
                        if (bp) {
                            by = bp.bg;
                        } else {
                            continue;
                        }
                        by.set_svgLineWidthMultiplier(aD);
                        if (by && bJ[ad].gu === true && by.dZ() === true) {
                            by.display();
                        }
                    }
                    lm = aD;
                };
                this.awS = function() {
                    return lm;
                };
                this.Cz = function() {
                    var cj = this.get_displayedPages();
                    var QU = akH(cj);
                    if (QU) {
                        return QU.Cz();
                    }
                    return null;
                };
                this.yq = function(aw, L) {
                    var bp;
                    if (bJ[aw].ac) {
                        bp = document.getElementById(bJ[aw].ac);
                    }
                    if (bp && bp.bg) {
                        bp.bg.yq(L);
                    }
                };
                this.qW = function(aw) {
                    var bp;
                    if (bJ[aw].ac) {
                        bp = document.getElementById(bJ[aw].ac);
                    }
                    if (bp && bp.bg) {
                        bp.bg.qW();
                    }
                };
                var vv = '';
                this.tq = function(G) {
                    vv = G;
                };
                this.mN = function() {
                    return vv;
                };
                this.aQ = function(cZ, F) {
                    try {
                        var H = ax.getHandler(cZ);
                        if (H !== null) {
                            H(V, F);
                        }
                    } catch (e) {
                        V.bw(cZ + 'Event', e);
                    }
                };
                this.cG = function(dI) {
                    var H = ax.getHandler('propertyChanged');
                    if (H) {
                        H(this, new IPCC.nP(dI));
                    }
                };
                this.auU = function(H) {
                    ax.addHandler('currentPageChanged', H);
                };
                this.avW = function(H) {
                    ax.removeHandler('currentPageChanged', H);
                };
                this.aiB = function() {
                    return aO.style.cursor || 'auto';
                };
                this.azU = function(G) {
                    aO.style.cursor = G || 'auto';
                };
                this.ZJ = function() {
                    return cJ;
                };
                this.Kr = function(G) {
                    IPCC.aR.kd(G, 'value', IPCC.Web.UI.MouseTool);
                    var mu = false;
                    if (cJ !== G) {
                        iv = null;
                        cJ = G;
                        switch (cJ) {
                            case IPCC.Web.UI.MouseTool.HandPan:
                                ai = IPCC.ar.HandOpen;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                break;
                            case IPCC.Web.UI.MouseTool.SelectText:
                            case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:
                            case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:
                            case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:
                            case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:
                                V.xj();
                                ai = IPCC.ar.Text;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                break;
                            case IPCC.Web.UI.MouseTool.None:
                                ai = IPCC.ar.None;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                break;
                            case IPCC.Web.UI.MouseTool.Magnifier:
                                ai = IPCC.ar.Magnifier;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                break;
                            case IPCC.Web.UI.MouseTool.RectangleZoom:
                                ai = IPCC.ar.RectangleZoom;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                break;
                            case IPCC.Web.UI.MouseTool.CreateRectangleMark:
                                ai = IPCC.ar.AddRectangleMark;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                mu = true;
                                iv = function() {
                                    return [new IPCC.fJ(IPCC.Web.UI.MarkType.Rectangle)];
                                };
                                break;
                            case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:
                                ai = IPCC.ar.AddRectangleRedactionMark;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                mu = true;
                                iv = function() {
                                    return [new IPCC.fJ(IPCC.Web.UI.MarkType.RectangleRedaction)];
                                };
                                break;
                            case IPCC.Web.UI.MouseTool.CreateEllipseMark:
                                ai = IPCC.ar.AddEllipseMark;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                mu = true;
                                iv = function() {
                                    return [new IPCC.fJ(IPCC.Web.UI.MarkType.Ellipse)];
                                };
                                break;
                            case IPCC.Web.UI.MouseTool.CreateLineMark:
                                ai = IPCC.ar.AddLineMark;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                mu = true;
                                iv = function() {
                                    return [new IPCC.na()];
                                };
                                break;
                            case IPCC.Web.UI.MouseTool.CreateStampMark:
                                ai = IPCC.ar.AddStampMark;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                mu = true;
                                iv = function() {
                                    return [new IPCC.fJ(IPCC.Web.UI.MarkType.Stamp)];
                                };
                                break;
                            case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:
                                ai = IPCC.ar.AddImageStampMark;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                mu = true;
                                iv = function() {
                                    return [new IPCC.fJ(IPCC.Web.UI.MarkType.ImageStampAnnotation)];
                                };
                                break;
                            case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:
                                ai = IPCC.ar.AddImageStampMark;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                mu = true;
                                iv = function() {
                                    return [new IPCC.fJ(IPCC.Web.UI.MarkType.ImageStampRedaction)];
                                };
                                break;
                            case IPCC.Web.UI.MouseTool.CreateTextMark:
                                ai = IPCC.ar.AddTextMark;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                mu = true;
                                iv = function() {
                                    return [new IPCC.fJ(IPCC.Web.UI.MarkType.Text)];
                                };
                                break;
                            case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:
                                ai = IPCC.ar.AddTextMark;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                mu = true;
                                iv = function() {
                                    return [new IPCC.fJ(IPCC.Web.UI.MarkType.TextLine)];
                                };
                                break;
                            case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:
                                ai = IPCC.ar.AddTextMark;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                mu = true;
                                iv = function() {
                                    return [new IPCC.fJ(IPCC.Web.UI.MarkType.TextAreaSignature)];
                                };
                                break;
                            case IPCC.Web.UI.MouseTool.CreateFreehandMark:
                                ai = IPCC.ar.AddFreehandLineMark;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                mu = true;
                                iv = function() {
                                    return [new IPCC.mF()];
                                };
                                break;
                            case IPCC.Web.UI.MouseTool.CreatePolylineMark:
                                ai = IPCC.ar.AddPolylineMark;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                mu = true;
                                iv = function() {
                                    return [new IPCC.kR(IPCC.Web.UI.MarkType.Polyline)];
                                };
                                break;
                            case IPCC.Web.UI.MouseTool.EditMarks:
                                ai = IPCC.ar.EditMarks;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                mu = true;
                                iv = function() {
                                    return [new IPCC.kb(IPCC.Web.UI.MarkType.Text)];
                                };
                                break;
                            default:
                                ai = IPCC.ar.None;
                                aO.style.cursor = IPCC.ar.ei(ai);
                                break;
                        }
                        var C = 0;
                        for (C = 0; C < bJ.length; C++) {
                            var by;
                            if (bJ[C].ac) {
                                var bp = document.getElementById(bJ[C].ac);
                                if (bp) {
                                    by = bp.bg;
                                }
                            }
                            if (by) {
                                if (mu === true) {
                                    by.IX(iv());
                                } else {
                                    by.set_mouseTool(IPCC.Web.UI.MouseTool.None);
                                }
                            }
                        }
                        this.cG('mouseTool');
                    }
                };
                this.aGz = function() {
                    return ys;
                };
                this.aBq = function(bool) {
                    ys = !!bool;
                };
                this.xv = function() {
                    return sy;
                };
                this.Kd = function(G) {
                    if (sy !== G) {
                        sy = G;
                        var cf = iE();
                        var cj = [];
                        if (cf) {
                            cj = pE(cf);
                        }
                        var C = 0;
                        for (C = 0; C < cj.length; C++) {
                            var bp;
                            var by;
                            bp = document.getElementById(bJ[cj[C]].ac);
                            by = bp.bg;
                            if (by) {
                                by.set_markHandleMode(sy);
                                this.vl(bp, C);
                            }
                        }
                        this.cG('markHandleMode');
                    }
                };
                this.lj = function() {
                    return rz;
                };
                this.Kf = function(G) {
                    if (rz !== G) {
                        rz = G;
                        var cf = iE();
                        var cj = [];
                        if (cf) {
                            cj = pE(cf);
                        }
                        var C = 0;
                        for (C = 0; C < cj.length; C++) {
                            var by;
                            if (bJ[cj[C]].ac) {
                                by = document.getElementById(bJ[cj[C]].ac).bg;
                            }
                            if (by) {
                                by.set_textRequired(rz);
                            }
                        }
                        this.cG('textRequired');
                    }
                };
                this.aDh = function() {
                    return tw;
                };
                this.aAa = function(G) {
                    if (G < 0) {
                        G = 0;
                    }
                    if (tw !== G) {
                        tw = G;
                        this.cG('maxPrefetch');
                    }
                };
                this.aEa = function() {
                    return Kg;
                };
                this.azs = function(G) {
                    if (Kg !== G) {
                        Kg = G;
                        this.cG('displayPagesWhenScrolling');
                    }
                };
                this.aDI = function() {
                    return En;
                };
                this.aAO = function(G) {
                    if (G < 0) {
                        G = 0;
                    }
                    if (En !== G) {
                        En = G;
                        this.cG('maxOutOfViewDisplay');
                    }
                };
                this.aEB = function() {
                    return Qy;
                };
                this.aCR = function(G) {
                    if (Qy !== G) {
                        Qy = !!G;
                        this.cG('discardOutOfViewText');
                    }
                };
                this.aDn = function() {
                    return Qj;
                };
                this.aCt = function(G) {
                    if (Qj !== G) {
                        Qj = !!G;
                        this.cG('retainPageText');
                    }
                };
                this.aEH = function() {
                    return Sc;
                };
                this.aBw = function(G) {
                    if (G < 0) {
                        G = 0;
                    }
                    if (Sc !== G) {
                        Sc = G;
                        this.cG('scrollDisplayThreshold');
                    }
                };
                this.aEz = function() {
                    return fN;
                };
                this.aCu = function(G) {
                    if (fN === G) {
                        return;
                    }
                    fN = G;
                    if (bj === '' || bj.clientHeight <= 0 || dJ === IPCC.ViewMode.SinglePage) {
                        this.cG('pageLayout');
                        return;
                    }
                    var uW = cY;
                    var FY = dJ;
                    if (dJ === IPCC.ViewMode.EqualWidthPages || dJ === IPCC.ViewMode.EqualFitPages) {
                        V.Ld(IPCC.ViewMode.Document);
                    }
                    bj.scrollLeft = 0;
                    bj.scrollTop = 0;
                    var C = 0;
                    var bp;
                    if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                        if (IP) {
                            IP.setAttribute('style', aCz);
                        }
                        CD.insertBefore(kj, IP);
                        for (C = 0; C < bJ.length; C++) {
                            bp = document.getElementById(bJ[C].ac);
                            bp.style.display = 'block';
                            if (gH > 0) {
                                bp.style.margin = fK + 'px auto ' + jx + 'px auto';
                            }
                        }
                        aO.style.margin = '0px ' + gk + 'px 0px ' + gW + 'px';
                        bj.scrollLeft = (fP - bj.clientWidth) / 2 + gk + mT;
                    } else {
                        if (IP) {
                            IP.setAttribute('style', aCs);
                        }
                        CD.removeChild(kj);
                        for (C = 0; C < bJ.length; C++) {
                            bp = document.getElementById(bJ[C].ac);
                            if (bp) {
                                bp.style.display = 'inline-block';
                                if (gH > 0) {
                                    bp.style.margin = fK + 'px ' + gk + 'px ' + jx + 'px ' + gW + 'px';
                                }
                            }
                        }
                        aO.style.margin = '0px';
                        bj.scrollTop = (ho - bj.clientHeight) / 2 + fK + nF;
                    }
                    if (FY === IPCC.ViewMode.EqualWidthPages) {
                        V.Ld(IPCC.ViewMode.EqualWidthPages);
                    } else if (FY === IPCC.ViewMode.EqualFitPages) {
                        V.Ld(IPCC.ViewMode.EqualFitPages);
                    }
                    this.pK(uW);
                    pq();
                    this.cG('layout');
                };
                this.aEd = function() {
                    return dJ;
                };
                this.Ld = function(G, fh) {
                    fh = fh || IPCC.ScaleTrigger.ViewMode;
                    if (dJ === G) {
                        return;
                    }
                    dJ = G;
                    if (bj === '' || bj.clientHeight <= 0) {
                        this.cG('viewMode');
                        return;
                    }
                    var uW = cY;
                    this.pK(uW);
                    if (dJ === IPCC.ViewMode.Document) {
                        var kf = 1;
                        var bL = gH;
                        var aS = iw;
                        if (iH(pn) === true) {
                            bL = iw;
                            aS = gH;
                        }
                        if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                            kf = (bj.clientWidth - (gk + gW + mT + pd)) / bL;
                        } else {
                            kf = (bj.clientHeight - (fK + jx + nF + oz)) / aS;
                        }
                        iy(kf, true, undefined, undefined, undefined, undefined, fh);
                    } else {
                        St(fh);
                    }
                    this.pK(uW);
                    this.cG('viewMode');
                    AI(dH, true);
                    nu(dH, true);
                };
                var pn = 0;
                this.aCW = function() {
                    return pn;
                };
                this.aBU = function(G) {
                    if (pn !== G) {
                        pn = G;
                        var C = 0;
                        for (C = 0; C < bJ.length; C++) {
                            if (bJ[C].Da === 0) {
                                bJ[C].hc = pn;
                            }
                        }
                        this.cG('pageRotation');
                    }
                };
                this.Yk = function(aY) {
                    var cF;
                    if (arguments.length > 0) {
                        if (!isNaN(aY)) {
                            cF = aY;
                        } else {
                            cF = cY;
                        }
                    } else {
                        cF = cY;
                    }
                    for (var C = 0; C < bJ.length; C++) {
                        if (cF === C) {
                            return bJ[C].hc;
                        }
                    }
                    return 0;
                };
                var nM = false;
                this.ip = function() {
                    return nM;
                };
                this.nT = function(G) {
                    if (typeof G !== "boolean") {
                        return;
                    }
                    if (G === nM) {
                        return;
                    }
                    nM = G;
                };
                this.aGu = function() {
                    return Zb;
                };
                this.aBW = function(G, pr, yH, uK) {
                    if (Zb !== G) {
                        Zb = G;
                        for (var C = 0; C < bJ.length; C++) {
                            bJ[C].au.azV(G, C, bJ[C].ko(), bJ[C].qi(), bJ[C].fs, pr, yH, uK);
                            var aCT = !bJ[C].ko();
                            bJ[C].Zr(aCT);
                        }
                        this.cG('annotationXmlDom');
                    }
                };
                var qX;
                this.JQ = function(G) {
                    qX = G;
                };
                this.vm = function() {
                    return qX;
                };
                var oD = false;
                this.oA = function() {
                    return oD;
                };
                this.qZ = function(G) {
                    if (typeof G !== "boolean") {
                        return;
                    }
                    if (G === oD) {
                        return;
                    }
                    oD = G;
                    IPCC.T.forEach(bJ, function(bf, C) {
                        var by;
                        if (bJ[C].ac) {
                            var bp = document.getElementById(bJ[C].ac);
                            if (bp) {
                                by = bp.bg;
                            }
                        }
                        if (by) {
                            by.qZ(oD);
                            by = undefined;
                        }
                    });
                };
                this.aBX = function(G) {
                    if (Ih !== G) {
                        Ih = G;
                        this.cG('loadingContent');
                    }
                };
                this.aDu = function() {
                    return Ih;
                };
                this.aEF = function() {
                    var cf = iE();
                    var cj = [];
                    if (cf) {
                        cj = pE(cf);
                    }
                    var abd = new IPCC.Web.UI.ImGearPageCollection();
                    var C = 0;
                    for (C = 0; C < cj.length; C++) {
                        abd.ali(bJ[cj[C]].fs);
                    }
                    return abd;
                };
                this.aDJ = function(aw) {
                    if (bJ[aw]) {
                        return bJ[aw].ac;
                    }
                };
                this.yJ = function() {
                    return uD;
                };
                this.Kk = function(G) {
                    uD = G;
                };
                this.kW = function() {
                    return jP;
                };
                this.wX = function(G) {
                    jP = G;
                };
                this.Rr = function(aP, zk, AP) {
                    var V = this;
                    if (aP.kt() > 0 || aP.jk() > 0) {
                        zk(aP.kt(), aP.jk());
                        return;
                    }
                    aP.requestPageAttributes(function(ag, aH) {
                        if (bJ[aP.get_pageNumber()].aii() === true) {
                            var gJ = ag / aP.ahW();
                            if (gJ !== 1) {
                                var au = V.gZ(aP);
                                if (au) {
                                    ahk(au, gJ);
                                }
                            }
                        }
                        bJ[aP.get_pageNumber()].Zr(false);
                        zk(ag, aH);
                    }, function(eN) {
                        AP(eN);
                    });
                };
                this.aDw = function() {
                    if (rY === true) {
                        return;
                    }
                    rY = true;
                    this.eU(kj, 'pccHidden');
                    AI(dH, true);
                    nu(dH, true);
                };
                this.aoE = function() {
                    if (rY === false) {
                        return;
                    }
                    rY = false;
                    this.lv(kj, 'pccHidden');
                };
                this.aFQ = function() {
                    return rY;
                };
                this.lv = function(db, st) {
                    var Hw = new RegExp('(?:^|\\s)' + st + '(?!\\S)', 'g');
                    if (db.className.match(Hw) === null) {
                        db.className = db.className + ' ' + st;
                    }
                };
                this.eU = function(db, st) {
                    var Hw = new RegExp('(?:^|\\s)' + st + '(?!\\S)', 'g');
                    db.className = db.className.replace(Hw, '');
                };
                this.aEp = function() {
                    return lK;
                };
                this.aBG = function(G) {
                    lK = G;
                };
                this.aEf = function() {
                    return jt;
                };
                this.aBF = function(G) {
                    if (jt === G) {
                        return;
                    }
                    var L, cr, uw;
                    if (jt) {
                        L = jt.get_mark();
                        uw = dH[L.get_markID()];
                        cr = lK(L, {
                            isSelected: true
                        }, (uw) ? uw.cr : undefined);
                        if (uw) {
                            Dc(L, dH, cr);
                        }
                    }
                    L = cr = uw = undefined;
                    jt = G;
                    if (jt) {
                        L = jt.get_mark();
                        uw = dH[L.get_markID()];
                        cr = lK(L, {
                            isSelected: true
                        }, (uw) ? uw.cr : undefined);
                        if (uw) {
                            Dc(L, dH, cr);
                        }
                    }
                    nu(dH, true);
                };
                this.awp = function(aau) {
                    var iF = wd();
                    IPCC.T.forEach(aau, function(NK) {
                        var cW = dH[NK];
                        if (cW) {
                            var kN = lK(cW.L, {
                                isSelected: (cW.L.get_conversation() === jt)
                            }, cW.cr);
                            if (!IPCC.T.xa(kN)) {
                                throw new Error(kN + ' is not a valid HTMLElement');
                            }
                            if (kN !== cW.cr) {
                                Dc(cW.L, dH, kN);
                            }
                        }
                    });
                    nu(dH, false, iF);
                };
                this.initialize = function() {
                    var cg = this.mN();
                    var C;
                    for (C = cg.childNodes.length - 1; C >= 0; C--) {
                        if (cg.childNodes[C].tagName !== 'INPUT') {
                            cg.removeChild(cg.childNodes[C]);
                        }
                    }
                    this.zh.add_documentAdded(aqA);
                    this.zh.add_pageAdded(Tf);
                    this.zh.add_pageRemoved(VB);
                    this.acH(true);
                    cg.bg = this;
                    ajW();
                    var Zw = 'webkit moz o'.split(' '),
                        ub = '';
                    if (aO.style.animationName !== undefined) {
                        HL = 'animationend';
                        DH = 'transitionend';
                        return;
                    }
                    for (C = 0; C < Zw.length; C++) {
                        if (aO.style[Zw[C] + 'Animation'] !== undefined) {
                            ub = Zw[C];
                            HL = ub + 'AnimationEnd';
                            DH = ub + 'TransitionEnd';
                            break;
                        }
                    }
                };
                this.aFZ = function() {
                    return mX;
                };
                this.acH = function(G) {
                    mX = G;
                    this.cG('enabled');
                };
                this.aEh = function() {
                    if (cY + 1 < bJ.length) {
                        V.pK(cY + 1);
                    }
                };
                this.aDB = function() {
                    var Wb = cY - 1;
                    if (Wb < 0) {
                        Wb = 0;
                    }
                    V.pK(Wb);
                };

                function EC(F) {
                    IPCC.Web.UI.ao.removeHandler(F.target, HL, EC);
                    IPCC.Web.UI.ao.removeHandler(F.target, DH, EC);
                    if (Jj > cY) {
                        V.eU(F.target, 'pccNextPageIn');
                        V.eU(F.target, 'pccPreviousPageIn');
                        V.eU(F.target, 'pccCurrentPage');
                        V.eU(F.target, 'pccPageBack');
                        V.eU(F.target, 'pccPageForward');
                        V.lv(F.target, 'pccNextPage');
                    } else if (Jj < cY) {
                        V.eU(F.target, 'pccNextPageIn');
                        V.eU(F.target, 'pccPreviousPageIn');
                        V.eU(F.target, 'pccCurrentPage');
                        V.eU(F.target, 'pccPageBack');
                        V.eU(F.target, 'pccPageForward');
                        V.lv(F.target, 'pccPreviousPage');
                    }
                    V.eU(aO, 'pccPageListContainerPageChanging');
                    bj.style.overflow = 'auto';
                    kv = null;
                    aO.style.overflow = 'hidden';
                    var lJ = IPCC.T.filter(dH, function(bx) {
                        return bx.aY === cY + 1;
                    });
                    KC(lJ);
                    setTimeout(function() {
                        pq();
                    }, 60);
                };
                this.pK = function aIi(aw) {
                    var IF = cY;
                    var lJ;
                    if (dJ === IPCC.ViewMode.SinglePage) {
                        lJ = IPCC.T.filter(dH, function(bx) {
                            return bx.aY !== aw + 1;
                        });
                        JA(lJ);
                    } else {
                        vg = true;
                        var aab = ajO(aw);
                        if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                            bj.scrollTop = aab;
                        } else {
                            bj.scrollLeft = aab;
                        }
                    }
                    var zP = [];
                    if (cY !== aw) {
                        cY = aw;
                        var bf = bJ[cY];
                        var F = new IPCC.PageEventArgs();
                        F.imGearPage = V.get_currentPage();
                        F.pageIndex = cY;
                        F.pageNodeID = bf.ac;
                        V.aQ('currentPageChanged', F);
                        if (dJ === IPCC.ViewMode.SinglePage) {
                            var hi = document.getElementById(bJ[cY].ac);
                            var rN = document.getElementById(bJ[IF].ac);
                            if (hi === null) {
                                hi = Jg(bJ[cY].fs);
                                zP.push(bJ[cY]);
                                hi.className = 'pccPageListItem pccCurrentPage';
                                pV.push(cY);
                                if (gH > 0) {
                                    var hl = Vy(bJ[cY]);
                                    hi.style.width = hl.ag + 'px';
                                    hi.style.height = hl.aH + 'px';
                                } else {
                                    hi.style.width = aO.clientWidth - gk - gW + 'px';
                                    hi.style.height = aO.clientWidth * 0.8 + 'px';
                                }
                                hi.style.display = 'block';
                                hi.setAttribute('id', bJ[cY].ac);
                                aO.appendChild(hi);
                            }
                            if (DH.length > 0) {
                                bj.style.overflow = 'hidden';
                                aO.style.width = hi.style.width;
                                aO.style.height = hi.style.height;
                                aO.style.overflow = 'visible';
                                if (kv !== null) {
                                    IPCC.Web.UI.ao.removeHandler(kv, HL, EC);
                                    IPCC.Web.UI.ao.removeHandler(kv, DH, EC);
                                    if (Jj > cY) {
                                        this.eU(kv, 'pccNextPageIn');
                                        this.eU(kv, 'pccPreviousPageIn');
                                        this.eU(kv, 'pccCurrentPage');
                                        this.eU(kv, 'pccPageForward');
                                        this.eU(kv, 'pccPageBack');
                                        this.lv(kv, 'pccNextPage');
                                    } else if (Jj < cY) {
                                        this.eU(kv, 'pccNextPageIn');
                                        this.eU(kv, 'pccPreviousPageIn');
                                        this.eU(kv, 'pccCurrentPage');
                                        this.eU(kv, 'pccPageForward');
                                        this.eU(kv, 'pccPageBack');
                                        this.lv(kv, 'pccPreviousPage');
                                    }
                                }
                                IPCC.Web.UI.ao.addHandler(rN, HL, EC);
                                IPCC.Web.UI.ao.addHandler(rN, DH, EC);
                                kv = rN;
                                Jj = IF;
                                this.lv(aO, 'pccPageListContainerPageChanging');
                                if (cY > IF) {
                                    this.lv(rN, 'pccPageForward');
                                    this.eU(hi, 'pccPageBack');
                                    this.eU(hi, 'pccPreviousPage');
                                    this.eU(hi, 'pccPreviousPageIn');
                                    this.eU(hi, 'pccNextPage');
                                    this.lv(hi, 'pccCurrentPage');
                                    this.lv(hi, 'pccNextPageIn');
                                } else {
                                    this.lv(rN, 'pccPageBack');
                                    this.eU(hi, 'pccPageForward');
                                    this.eU(hi, 'pccPreviousPage');
                                    this.eU(hi, 'pccNextPage');
                                    this.eU(hi, 'pccNextPageIn');
                                    this.lv(hi, 'pccCurrentPage');
                                    this.lv(hi, 'pccPreviousPageIn');
                                }
                            } else {
                                aO.style.width = hi.style.width;
                                aO.style.height = hi.style.height;
                                if (cY > IF) {
                                    this.eU(rN, 'pccNextPage');
                                    this.eU(rN, 'pccCurrentPage');
                                    this.lv(rN, 'pccPreviousPage');
                                } else {
                                    this.eU(rN, 'pccPreviousPage');
                                    this.eU(rN, 'pccCurrentPage');
                                    this.lv(rN, 'pccNextPage');
                                }
                                this.eU(hi, 'pccPreviousPage');
                                this.eU(hi, 'pccNextPage');
                                this.lv(hi, 'pccCurrentPage');
                                lJ = IPCC.T.filter(dH, function(el) {
                                    return el.aY === aw + 1;
                                });
                                KC(lJ);
                                setTimeout(function() {
                                    pq();
                                }, 60);
                            }
                            IPCC.T.forEach(zP, ajY);
                        }
                    }
                };
                this.aEI = function() {
                    if (bJ.length > 0) {
                        V.pK(0);
                    }
                };
                this.aDM = function() {
                    if (cY < bJ.length - 1) {
                        V.pK(bJ.length - 1);
                    }
                };
                this.aEw = function(dq) {
                    if (rY === false) {
                        return "CommentsPanelClosed";
                    }
                    var ep = dH[dq.get_mark().get_markID()];
                    if (!ep) {
                        return "ConversationDivDoesNotExist";
                    }
                    if (dJ === IPCC.ViewMode.SinglePage && ep.aY - 1 !== cY) {
                        return "SinglePageModePageNotShown";
                    }
                    var aP = document.getElementById(bJ[ep.aY - 1].ac);
                    if (bJ[ep.aY - 1].gu === false || aP === undefined || aP.bg === undefined || aP.bg === null || aP.bg.dZ() === false) {
                        return "PageOutOfView";
                    }
                    var R = dq.get_mark().get_boundingRectangle();
                    var sg = aP.bg.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x, R.y), true);
                    var Ax = aP.bg.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x + R.width, R.y), true);
                    sg.x = aO.offsetWidth;
                    Ax.x = aO.offsetWidth + wx();
                    V.adt(aP.offsetTop, aP.offsetLeft, sg, Ax);
                    return "Success";
                };
                this.aDN = function(aw, R) {
                    if (dJ === IPCC.ViewMode.SinglePage && aw !== cY) {
                        return true;
                    }
                    var aP = document.getElementById(bJ[aw].ac);
                    if (bJ[aw].gu === false || aP === undefined || aP.bg === undefined || aP.bg === null || aP.bg.dZ() === false) {
                        return false;
                    }
                    var sg = aP.bg.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x, R.y), true);
                    var Ax = aP.bg.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x + R.width, R.y + R.height), true);
                    V.adt(aP.offsetTop, aP.offsetLeft, sg, Ax);
                    return true;
                };
                this.aEc = function(asO, atg) {
                    bj.scrollTop += Math.round(atg);
                    bj.scrollLeft += Math.round(asO);
                };
                this.adt = function(aBt, aCG, sg, Ax) {
                    var abn = Ax.x - sg.x;
                    var aeg = Ax.y - sg.y;
                    var cn = new IPCC.Web.UI.Point(0, 0);
                    if (abn > bj.clientWidth) {
                        cn.x = sg.x;
                    } else {
                        cn.x = sg.x + (abn / 2);
                    }
                    if (aeg > bj.clientHeight) {
                        cn.y = sg.y;
                    } else {
                        cn.y = sg.y + (aeg / 2);
                    }
                    if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                        bj.scrollTop = aBt + cn.y - bj.clientHeight / 2;
                        bj.scrollLeft = cn.x - bj.clientWidth / 2;
                    } else {
                        bj.scrollLeft = aCG + cn.x - bj.clientWidth / 2;
                        bj.scrollTop = cn.y - bj.clientHeight / 2;
                    }
                };
                this.apr = function() {
                    var cf = iE();
                    var cj = [];
                    if (cf) {
                        cj = pE(cf);
                    }
                    var C = 0;
                    for (C = 0; C < cj.length; C++) {
                        KB(cj[C]);
                    }
                    if (V.zh.get_length() > 0) {
                        V.zh.removeAllDocuments();
                    }
                };
                this.XI = function(aw, aT, dr, cl) {
                    if (bJ[aw] && bJ[aw].gu === true) {
                        var bp = document.getElementById(bJ[aw].ac);
                        if (bp && bp.bg && bp.bg.dZ() === true) {
                            if (cl) {
                                IPCC.aR.cl(cl, "selectText");
                                var hh = bp.bg.Bg();
                                var aAL = hh.kL;
                                var aEn = hh.dR;
                                hh.kL = cl;
                                hh.dR = cl;
                                bp.bg.showTextSelection(aT, dr);
                                hh.kL = aAL;
                                hh.dR = aEn;
                            } else {
                                bp.bg.showTextSelection(aT, dr);
                            }
                        }
                    }
                };
                this.aov = function() {
                    var cf = iE();
                    var cj = [];
                    if (cf) {
                        cj = pE(cf);
                    }
                    var C;
                    for (C = 0; C < cj.length; C++) {
                        if (bJ[cj[C]].gu === true) {
                            var eC = document.getElementById(bJ[cj[C]].ac),
                                bg = eC ? eC.bg : undefined;
                            if (bg && bg.dZ() === true) {
                                bg.showEmptyTextSelection(0);
                                bg.extendTextSelection(undefined);
                                bg.display();
                            }
                        }
                    }
                };
                this.anL = function(aw) {
                    if (bJ[aw] && bJ[aw].gu === true) {
                        var eC = document.getElementById(bJ[aw].ac),
                            bg = eC ? eC.bg : undefined;
                        if (bg && bg.dZ() === true) {
                            bg.showEmptyTextSelection(0);
                            bg.extendTextSelection(undefined);
                            bg.display();
                        }
                    }
                };
                this.xj = function() {
                    var aP, aZ, bg;
                    bd = null;
                    IPCC.T.forEach(ME, function(C) {
                        aP = bJ[C];
                        aZ = document.getElementById(aP.ac);
                        if (aZ) {
                            bg = aZ.bg;
                        }
                        if (bg) {
                            if (bg.dZ() && bg.BB()) {
                                bg.showEmptyTextSelection(0);
                                bg.extendTextSelection(undefined);
                                if (aP.gu) {
                                    bg.display();
                                }
                            }
                        }
                        aP = aZ = bg = undefined;
                    });
                };
                this.wI = function(aw, rQ) {
                    var bp;
                    var by;
                    var aez = function(aqx, ayC) {
                        return (aqx + ayC) % 360;
                    };
                    bJ[aw].hc = aez(bJ[aw].hc, rQ);
                    if (bJ[aw].ac) {
                        bp = document.getElementById(bJ[aw].ac);
                    }
                    if (bp === undefined || bp === null) {
                        return;
                    }
                    by = bp.bg;
                    if (by && by.dZ() === false) {
                        bJ[aw].Da = aez(bJ[aw].Da, rQ);
                        return;
                    }
                    vg = true;
                    if (by && by.dZ() === true) {
                        by.rotate(rQ);
                    }
                    var bL = 0;
                    var aS = 0;
                    var eO = gH;
                    var fB = iw;
                    if (iH(pn) === true) {
                        eO = iw;
                        fB = gH;
                    }
                    if (iH(bJ[aw].hc) === true) {
                        if (by && by.dZ() === true) {
                            bL = by.get_pageHeight();
                            aS = by.get_pageWidth();
                        } else {
                            bL = iw;
                            aS = gH;
                        }
                    } else {
                        if (by && by.dZ() === true) {
                            bL = by.get_pageWidth();
                            aS = by.get_pageHeight();
                        } else {
                            bL = gH;
                            aS = iw;
                        }
                    }
                    vg = true;
                    if (dJ === IPCC.ViewMode.SinglePage) {
                        bp.style.width = bL * dA * dn / bJ[aw].gN + 'px';
                        bp.style.height = aS * dA * dn / bJ[aw].gn + 'px';
                        if (aw === cY) {
                            aO.style.width = bL * dA * dn / bJ[aw].gN + 'px';
                            aO.style.height = aS * dA * dn / bJ[aw].gn + 'px';
                        }
                    } else if (dJ === IPCC.ViewMode.Document) {
                        bp.style.width = bL * dA * dn / bJ[aw].gN + 'px';
                        bp.style.height = aS * dA * dn / bJ[aw].gn + 'px';
                        var C = 0;
                        if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                            if (bL * dA * dn / bJ[aw].gN > fP) {
                                fP = bL * dA * dn / bJ[aw].gN;
                            } else if (bp.clientHeight >= fP - 10) {
                                fP = 0;
                                for (C = 0; C < bJ.length; C++) {
                                    bp = document.getElementById(bJ[C].ac);
                                    if (bp && bp.clientWidth > fP) {
                                        fP = bp.clientWidth;
                                    }
                                }
                            }
                            if (aS * dA * dn / bJ[aw].gn > ho) {
                                ho = aS * dA * dn / bJ[aw].gn;
                            }
                        } else {
                            if (aS * dA * dn / bJ[aw].gn > ho) {
                                ho = aS * dA * dn / bJ[aw].gn;
                            } else if (bp.clientWidth >= ho - 10) {
                                ho = 0;
                                for (C = 0; C < bJ.length; C++) {
                                    bp = document.getElementById(bJ[C].ac);
                                    if (bp && bp.clientHeight > ho) {
                                        ho = bp.clientHeight;
                                    }
                                }
                            }
                            if (bL * dA * dn / bJ[aw].gN > fP) {
                                fP = bL * dA * dn / bJ[aw].gN;
                            }
                        }
                    } else {
                        var hn;
                        if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                            hn = eO / bL * dA * dn / bJ[aw].gn;
                            if (by && by.dZ() === true) {
                                by.zoom(hn);
                            }
                            vg = true;
                            bp.style.width = eO * dA * dn / bJ[aw].gN + 'px';
                            bp.style.height = hn * aS + 'px';
                        } else {
                            hn = fB / aS * dA * dn / bJ[aw].gn;
                            if (by && by.dZ() === true) {
                                by.zoom(hn);
                            }
                            vg = true;
                            bp.style.height = fB * dA * dn / bJ[aw].gn + 'px';
                            bp.style.width = hn * bL + 'px';
                        }
                        if (eO * dA * dn / bJ[aw].gN > fP) {
                            fP = eO * dA * dn / bJ[aw].gN;
                        }
                        if (fB * dA * dn / bJ[aw].gn > ho) {
                            ho = fB * dA * dn / bJ[aw].gn;
                        }
                    }
                    if (by && by.dZ() === true) {
                        vg = true;
                        this.vl(bp, aw);
                        setTimeout(function() {
                            if (rY === false) {
                                return;
                            }
                            var iF = wd();
                            var lJ = IPCC.T.filter(dH, function(el) {
                                return aw === el.aY - 1;
                            });
                            AI(lJ);
                            nu(lJ, true, iF);
                        }, 0);
                    }
                };
                this.axI = function(rQ) {
                    var uW = cY;
                    this.wI(cY, rQ);
                    if (dJ !== IPCC.ViewMode.SinglePage) {
                        var V = this;
                        setTimeout(function() {
                            V.pK(uW);
                        }, 10);
                    }
                };
                this.aet = function(rQ) {
                    var uW = cY;
                    var cf = iE();
                    if (dJ !== IPCC.ViewMode.SinglePage) {
                        this.pK(uW);
                    }
                    var hy = 0;
                    var hw = bJ.length - 1;
                    var C;
                    for (C = hy; C <= hw; C++) {
                        this.wI(C, rQ);
                    }
                    if (dJ !== IPCC.ViewMode.SinglePage) {
                        var V = this;
                        setTimeout(function() {
                            agp(cf);
                            V.pK(uW);
                        }, 10);
                    }
                };

                function ale(An, lC) {
                    var ph = 0;
                    var qI = 0;
                    var Bx = false;
                    vg = true;
                    var cf = iE();
                    if (cf) {
                        IPCC.T.forEach(cf.Ha, function(az) {
                            var gS = fN === IPCC.PageLayout.VerticalScrollDirection ? az.aH + fK : az.ag + gk + gW;
                            var axi = An.Ha[az.aj];
                            if (axi.wR) {
                                Bx = true;
                                return;
                            }
                            if (lC && az.aj >= lC.jd && az.aj <= lC.iV) {
                                var bp = document.getElementById(bJ[az.aj].ac);
                                if (bp) {
                                    return;
                                }
                            }
                            if (Bx) {
                                qI += gS;
                            } else {
                                ph += gS;
                            }
                        });
                    }
                    return {
                        qI: qI,
                        ph: ph
                    };
                };

                function agp(An) {
                    if (dJ === IPCC.ViewMode.SinglePage) {
                        return;
                    }
                    var lC = NB(An);
                    var ra = ale(An, lC);
                    if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                        aO.style.paddingTop = ra.ph + 'px';
                        aO.style.paddingBottom = ra.qI + 'px';
                    } else {
                        aO.style.paddingLeft = ra.ph + 'px';
                        aO.style.paddingRight = ra.qI + 'px';
                    }
                };

                function aux(An) {
                    if (dJ === IPCC.ViewMode.SinglePage) {
                        return;
                    }
                    var IG;
                    var lC;
                    if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                        IG = parseInt(window.getComputedStyle(aO, null).getPropertyValue('padding-top'), 10);
                    } else {
                        IG = parseInt(window.getComputedStyle(aO, null).getPropertyValue('padding-left'), 10);
                    }
                    lC = NB(An);
                    var ra = ale(An, lC);
                    if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                        aO.style.paddingTop = ra.ph + 'px';
                        aO.style.paddingBottom = ra.qI + 'px';
                        bj.scrollTop = bj.scrollTop + ra.ph - IG;
                    } else {
                        aO.style.paddingLeft = ra.ph + 'px';
                        aO.style.paddingRight = ra.qI + 'px';
                        bj.scrollLeft = bj.scrollLeft + ra.ph - IG;
                    }
                };
                this.QM = function(aw) {
                    IPCC.aR.kA(aw, 'pageIndex', 0, bJ.length - 1);
                    var aP = bJ[aw];
                    if (aP && aP.ac && (aP.DX === true || aP.xL === false)) {
                        var af;
                        var bp = document.getElementById(aP.ac);
                        if (bp.bg) {
                            bp.bg.dispose();
                        }
                        ahb(bp);
                        af = new IPCC.Web.UI.PageView(bp, false, bj);
                        if (af) {
                            af.set_autoUpdate(false);
                            af.tq(bp);
                            af.initialize();
                            af.set_imageHandlerUrl(aP.bQ.qf);
                            af.set_requireRequestsOptimize(uD);
                            if (jP !== undefined) {
                                af.set_serviceResponseTimeout(jP);
                            }
                            af.set_scrollBars(IPCC.Web.UI.ScrollBars.None);
                            Sa(af, aP);
                            Tk(af);
                            QN(af);
                            Sb(af);
                            Ri(af);
                        }
                        af.set_textRequired(rz);
                        af.set_markHandleMode(sy);
                        af.set_cursor(-1);
                        af.set_debug(_debug);
                        af.set_gamma(qF);
                        af.set_sharpening(pZ);
                        af.set_svgLineWidthMultiplier(lm);
                        af.set_debugErrorLevel(oh);
                        af.nT(V.ip());
                        if (qX) {
                            af.set_resourcePath(qX);
                        }
                        if (iv) {
                            af.IX(iv());
                        } else {
                            af.set_mouseTool(IPCC.Web.UI.MouseTool.None);
                        }
                        af.qZ(V.oA());
                        aP.DX = false;
                        aP.zx = false;
                        var AR = {
                            encodedDocumentIdentifier: aP.bQ.get_encodedDocumentIdentifier(),
                            pageNumber: aw,
                            artServiceOption: 0,
                            documentArtPage: aP.fe,
                            viewRotationDegreesClockwise: aP.hc
                        };
                        if (aP.au) {
                            AR.artPage = aP.au;
                        }
                        if (aP.fe) {
                            AR.documentArtPage = aP.fe;
                        }
                        af.openPage(AR);
                        aP.xL = true;
                        ke++;
                    }
                };

                function St(fh, eW) {
                    if (gH <= 0) {
                        return;
                    }
                    var eO = gH;
                    var fB = iw;
                    var fF = dn / bJ[0].gN;
                    if (iH(pn) === true) {
                        eO = iw;
                        fB = gH;
                        fF = dn / bJ[0].gn;
                    }
                    var kf = 1;
                    if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                        kf = (bj.clientWidth - wx() - (gk + gW + mT + pd)) / (eO * fF);
                    } else {
                        kf = (bj.clientHeight - (fK + jx + nF + oz)) / (fB * fF);
                    }
                    var vK;
                    if (dA <= kf) {
                        vK = false;
                    } else if (dA > kf) {
                        vK = true;
                    }
                    if (isNaN(kf) || kf <= 0 || Math.abs(kf) === Infinity) {
                        return;
                    }
                    dA = kf;
                    fP = 0;
                    ho = 0;
                    var hy = 0;
                    var hw = bJ.length - 1;
                    var ad = 0;
                    var by;
                    for (ad = hy; ad <= hw; ad++, by = undefined) {
                        var bp = document.getElementById(bJ[ad].ac);
                        if (bp) {
                            by = bp.bg;
                        }
                        if (by === undefined) {
                            continue;
                        }
                        var bL = eO;
                        var aS = fB;
                        if (bJ[ad].ko() > 0) {
                            if (iH(bJ[ad].hc) === true) {
                                bL = bJ[ad].qi();
                                aS = bJ[ad].ko();
                            } else {
                                bL = bJ[ad].ko();
                                aS = bJ[ad].qi();
                            }
                        }
                        var hn = 1;
                        if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                            hn = eO / bL * dA * fF;
                            bp.style.width = eO * dA * fF + 'px';
                            bp.style.height = aS * hn + 'px';
                            if (eO * dA * fF > fP) {
                                fP = eO * dA * fF;
                            }
                            if (aS * hn * dn / bJ[ad].gn > ho) {
                                ho = aS * hn * fF;
                            }
                        } else {
                            hn = fB / aS * dA;
                            bp.style.height = fB * dA * fF + 'px';
                            bp.style.width = bL * hn * fF + 'px';
                            if (bL * dA * dn / bJ[ad].gN > fP) {
                                fP = bL * dA * fF;
                            }
                            if (fB * hn * fF > ho) {
                                ho = fB * hn * fF;
                            }
                        }
                        if (by && bJ[ad].gu === true && by.dZ() === true) {
                            by.zoom(hn);
                        }
                        if (by && bJ[ad].gu === true && by.dZ() === true) {
                            by.display();
                        }
                        by = undefined;
                    }
                    iE();
                    pq();
                    setTimeout(function() {
                        AI(dH);
                        nu(dH);
                    }, 0);
                    V.aQ('scaleChanged', {
                        scaleType: (vK) ? "scaledDown" : "scaledUp",
                        scaleTrigger: fh,
                        fitType: eW,
                        scaleFactor: dA
                    });
                };

                function iH(hk) {
                    switch (hk) {
                        case 90:
                        case 270:
                        case -90:
                        case -270:
                            return true;
                        default:
                            return false;
                    }
                };

                function fT(pM) {
                    var wV = document.createElement('div');
                    var C;
                    for (C in pM) {
                        if (pM.hasOwnProperty(C)) {
                            wV.style[C] = pM[C];
                        }
                    }
                    return wV;
                };
                this.apd = function() {
                    if (Jy === undefined || Jy === null) {
                        Jy = 1;
                    }
                    var cB = this.mN().id.toString() + '_' + Jy.toString();
                    Jy++;
                    return cB;
                };
                this.Xp = function() {
                    return this.zh;
                };
                this.gZ = function(avw) {
                    for (var qt = 0; qt < bJ.length; qt++) {
                        var auY = bJ[qt];
                        if (avw === auY.fs) {
                            return bJ[qt].au;
                        }
                    }
                    return null;
                };
                this.aGK = function(ix) {
                    var bp = document.getElementById(bJ[ix.get_pageNumber()].ac);
                    if (bp) {
                        return bp.bg.lX();
                    }
                    return null;
                };

                function aqA(bC, F) {
                    SP(F);
                };

                function SP(be) {
                    var hv = be.imGearDocument;
                    var aBd = V.apd();
                    hv.OZ = aBd;
                    var dQ = hv.get_pages();
                    var ds = dQ.get_length();
                    if (ds > 0) {
                        var PW = document.createDocumentFragment();
                        for (var ad = 0; ad < ds; ad++) {
                            var aP = dQ.getPage(ad);
                            if (!aP.bQ) {
                                aP.bQ = hv;
                            }
                            Jg(aP, aP.get_pageNumber() === 0 ? null : PW);
                        }
                        aO.appendChild(PW);
                    }
                };
                var ape = IPCC.T.akI(function() {
                    if (Jx.length > 0 && mX) {
                        var cF;
                        var JD;
                        var Jk = 0;
                        IPCC.T.forEach(Jx, aks);
                        var aaT = iE();
                        if (!aaT) {
                            return;
                        }
                        var hl = aaT.Ha;
                        IPCC.T.forEach(Jx, function(aP, aj) {
                            cF = aP.pa();
                            JD = hl[cF];
                            if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                                Jk += JD.aH + fK;
                            } else {
                                Jk += JD.ag + gk;
                            }
                        });
                        if (Jk && dJ !== IPCC.ViewMode.SinglePage) {
                            if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                                aO.style.paddingBottom = Jk + 'px';
                            } else {
                                aO.style.paddingRight = Jk + 'px';
                            }
                        }
                        AI(dH, true);
                        nu(dH, true);
                        if (V.zh.Qd(0).ee === bJ.length) {
                            V.aQ('allPagesAdded');
                        }
                        pq();
                    }
                    Jx = [];
                }, 10);

                function Tf(bC, F) {
                    if (F.imGearPage.get_pageNumber() === 0) {
                        Jg(F.imGearPage);
                        return;
                    }
                    Jx.push(F.imGearPage);
                    ape();
                };

                function VB(bC, F) {
                    var cF = F.imGearPage.get_pageNumber();
                    var Yt = F.imGearPage.bQ.get_documentIdentifier();
                    for (var ad = 0; ad < bJ.length; ad++) {
                        if (bJ[ad].fs.get_pageNumber() === cF && bJ[ad].fs.bQ.get_documentIdentifier() === Yt) {
                            var bp = document.getElementById(bJ[ad].ac);
                            if (bp) {
                                aO.removeChild(bp);
                                if (bp.bg) {
                                    bp.bg.dispose();
                                    var lJ = IPCC.T.filter(dH, function(el) {
                                        return el.aY === bJ[ad].cF + 1;
                                    });
                                    JA(lJ);
                                }
                            }
                            bJ.splice(ad, 1);
                        }
                    }
                };

                function aks(ix) {
                    if (!IPCC.T.contains(bJ, ix)) {
                        var bf = new IPCC.bf({
                            page: ix
                        });
                        if (pn) {
                            bf.hc = pn;
                        }
                        if (!bf.bQ) {
                            bf.bQ = ix.bQ;
                        }
                        bJ.push(bf);
                        IPCC.Pagecounter++;
                        bJ = bJ.sort(function(dG, fb) {
                            return dG.cF - fb.cF;
                        });
                        arY(ix);
                        arJ(ix);
                        asN(ix);
                        bf.atu = false;
                        bf.zx = false;
                        asM(bf);
                        asg(bf);
                        QZ(bf);
                        asB(bf);
                        asA(bf);
                        arI(bf);
                        arw(bf);
                        arE(bf);
                        asY(bf);
                        asm(bf);
                        return bf;
                    }
                };

                function Jg(aP, PW) {
                    var NL = aP.get_pageNumber();
                    var cg = V.mN();
                    var hv = null;
                    var Zj;
                    var ds = V.get_documents().get_length();
                    for (var ba = 0; ba < ds; ba++) {
                        hv = V.get_documents().getDocument(ba);
                        if (hv !== null) {
                            Zj = hv.OZ;
                            if (Zj === aP.bQ.OZ) {
                                break;
                            }
                        }
                    }
                    var gp = IPCC.T.find(bJ, function(bf) {
                        return bf.fs && bf.fs === aP;
                    });
                    if (!gp) {
                        gp = aks(aP);
                    }
                    gp.Gr = true;
                    var acr = gp.ac;
                    if (gp.GD === 1) {
                        return document.getElementById(acr);
                    }
                    gp.GD = 1;
                    if (aO === '') {
                        ajW();
                    }
                    var kZ = (function() {
                        var bN;
                        if (dJ !== IPCC.ViewMode.SinglePage) {
                            bN = fT({
                                overflow: 'hidden',
                                position: 'relative'
                            });
                        } else {
                            bN = fT({
                                overflow: 'hidden',
                                position: 'absolute',
                                margin: '0px'
                            });
                            if (gp.cF > cY) {
                                V.lv(bN, 'pccNextPage');
                            } else if (gp.cF < cY) {
                                V.lv(bN, 'pccPreviousPage');
                            } else {
                                V.lv(bN, 'pccCurrentPage');
                            }
                        }
                        pV.push(aP.cF);
                        V.lv(bN, 'pccPageListItem');
                        ahb(bN);
                        var Et = Vy(gp);
                        bN.style.width = Et.ag + 'px';
                        bN.style.height = Et.aH + 'px';
                        var cf = iE();
                        var KT;
                        if (fN === IPCC.PageLayout.VerticalScrollDirection || dJ === IPCC.ViewMode.SinglePage) {
                            bN.style.display = 'block';
                            if (gH > 0) {
                                bN.style.margin = fK + 'px auto ' + jx + 'px auto';
                            }
                            if (cf.bX.length > 0 && dJ !== IPCC.ViewMode.SinglePage) {
                                KT = cf.bX[0];
                                if (NL < KT.aj) {
                                    var aqT = IPCC.T.RS(aO, 'padding-top');
                                    var apD = IPCC.T.OP(aqT);
                                    var Uf = apD - Et.aH - fK;
                                    if (Uf < 0) {
                                        Uf = 0;
                                    }
                                    aO.style.paddingTop = Uf + 'px';
                                } else {
                                    var aoD = IPCC.T.RS(aO, 'padding-bottom');
                                    var aoS = IPCC.T.OP(aoD);
                                    var Ub = aoS - Et.aH - fK;
                                    if (Ub < 0) {
                                        Ub = 0;
                                    }
                                    aO.style.paddingBottom = Ub + 'px';
                                }
                            }
                        } else {
                            bN.style.display = 'inline-block';
                            if (gH > 0) {
                                bN.style.margin = fK + 'px ' + gk + 'px ' + jx + 'px ' + gW + 'px';
                            }
                            if (cf.bX.length > 0 && dJ !== IPCC.ViewMode.SinglePage) {
                                KT = cf.bX[0];
                                if (NL < KT.aj) {
                                    var aoc = IPCC.T.RS(aO, 'padding-left');
                                    var anC = IPCC.T.OP(aoc);
                                    var SY = anC - Et.ag - gk;
                                    if (SY < 0) {
                                        SY = 0;
                                    }
                                    aO.style.paddingLeft = SY + 'px';
                                } else {
                                    var ark = IPCC.T.RS(aO, 'padding-right');
                                    var anV = IPCC.T.OP(ark);
                                    var TO = anV - Et.ag - gk;
                                    if (TO < 0) {
                                        TO = 0;
                                    }
                                    aO.style.paddingRight = TO + 'px';
                                }
                            }
                        }
                        bN.setAttribute('id', acr);
                        return bN;
                    }());
                    gp.fs = gp.fs || aP;
                    gp.amL = gp.amL || Zj;
                    gp.hc = gp.hc !== undefined ? gp.hc : pn;
                    gp.gu = false;

                    function aqr(eC) {
                        var aae = eC.childNodes;
                        var awq = IPCC.T.find(bJ, function(bf) {
                            if (bf.cF <= NL) {
                                return;
                            }
                            var jB = IPCC.T.find(aae, function(jB) {
                                return jB.id && jB.id === bf.ac;
                            });
                            if (!jB) {
                                return;
                            }
                            if (bf.cF > NL) {
                                jB.parentElement.insertBefore(kZ, jB);
                                return true;
                            }
                        });
                        if (!awq) {
                            eC.appendChild(kZ);
                        }
                    }(function aER() {
                        if (bJ.length === 1) {
                            aO.appendChild(kZ);
                        } else {
                            return aqr(PW || aO);
                        }
                    }());
                    var aum = false;
                    if (kZ && cg.clientWidth > 0) {
                        var aqN = cg.clientWidth / (kZ.clientWidth + (kZ.clientLeft * 2));
                        var ayH = cg.clientHeight / (kZ.clientHeight + (kZ.clientTop * 2));
                        if (bJ.length < (aqN * ayH)) {
                            aum = true;
                        }
                    }
                    if (bJ.length < 2) {
                        var af = new IPCC.Web.UI.PageView(kZ, false, bj);
                        if (af) {
                            af.set_autoUpdate(false);
                            af.tq(kZ);
                            af.initialize();
                            af.set_imageHandlerUrl(aP.bQ.qf);
                            af.set_imGearPage(gp.fs);
                            af.set_artPage(gp.au);
                            af.set_documentArtPage(gp.fe);
                            af.set_requireRequestsOptimize(uD);
                            if (jP !== undefined) {
                                af.set_serviceResponseTimeout(jP);
                            }
                            af.set_scrollBars(IPCC.Web.UI.ScrollBars.None);
                            af.set_textRequired(rz);
                            af.set_markHandleMode(sy);
                            af.set_cursor(-1);
                            af.set_debug(_debug);
                            af.set_gamma(qF);
                            af.set_sharpening(pZ);
                            af.set_svgLineWidthMultiplier(lm);
                            af.set_debugErrorLevel(oh);
                            af.nT(V.ip());
                            if (qX) {
                                af.set_resourcePath(qX);
                            }
                            if (iv) {
                                af.IX(iv());
                            } else {
                                af.set_mouseTool(IPCC.Web.UI.MouseTool.None);
                            }
                            af.qZ(V.oA());
                        }
                        Sa(af, gp);
                        QN(af);
                        Sb(af);
                        Tk(af);
                        Ri(af);
                        af.openPage({
                            encodedDocumentIdentifier: aP.bQ.get_encodedDocumentIdentifier(),
                            pageNumber: aP.get_pageNumber(),
                            artServiceOption: 0,
                            imGearPage: gp.fs,
                            artPage: gp.au,
                            documentArtPage: gp.fe,
                            viewRotationDegreesClockwise: gp.hc
                        });
                        gp.xL = true;
                        ke++;
                    }
                    return kZ;
                };

                function amj(bf) {
                    return bf.Gr;
                };

                function pq() {
                    if (ke > 0 || mX === false || kv !== null) {
                        return;
                    }
                    if (BE) {
                        return;
                    }
                    var cf = iE();
                    if (!cf) {
                        return;
                    }
                    bJ.forEach(function(aP, aj) {
                        if (!aP.gu) {
                            return;
                        }
                        V.Kv(aj);
                    });
                    var zP = apF(cf);
                    IPCC.T.forEach(zP || [], function(aj) {
                        var aP = bJ[aj];
                        if (aP) {
                            ajY(aP);
                        }
                    });
                    IPCC.T.forEach(cf.bX, function(JD) {
                        var bf = bJ[JD.aj];
                        if (amj(bf) && !bf.gu && bf.GD) {
                            Nx(bf);
                        }
                    });
                    var lC = NB(cf);
                    for (var aj = lC.jd; aj <= lC.iV; aj++) {
                        var bf = bJ[aj];
                        if (!amj(bf)) {
                            bf.Gr = true;
                            var Yx = V.Xp();
                            var hv = Yx.Qd(0);
                            var ix = hv.dQ.jq(aj);
                            Jg(ix);
                            akd(bf, false);
                        }
                    }
                    asE();
                };

                function apF(cf) {
                    var avz = pE(cf);
                    var zP = [];
                    IPCC.T.forEach(avz, function(aj) {
                        var aP = bJ[aj];
                        if (aP && aP.GD === 0) {
                            var Yx = V.Xp();
                            var hv = Yx.Qd(0);
                            var ix = hv.dQ.jq(aj);
                            Jg(ix);
                            zP.push(aj);
                        }
                    });
                    return zP;
                };

                function asE() {
                    var um = bj.scrollTop;
                    var tp = bj.scrollLeft;
                    var vb = bj.clientHeight;
                    var uq = bj.clientWidth;
                    var uc = bj.scrollWidth;
                    var ts = bj.scrollHeight;
                    var cf = Vp({
                        um: um,
                        tp: tp,
                        vb: vb,
                        uq: uq,
                        uc: uc,
                        ts: ts
                    });
                    var lC = NB(cf);
                    var amN = ata(cf);
                    var ph = 0;
                    var qI = 0;
                    var Bx = false;
                    IPCC.T.forEach(cf.Ha, function(az) {
                        var gS = fN === IPCC.PageLayout.VerticalScrollDirection ? az.aH + fK : az.ag + gk + gW;
                        var aj = +az.aj;
                        if (az.wR || (dJ === IPCC.ViewMode.SinglePage && aj === cY)) {
                            Bx = true;
                            return;
                        }
                        if (aj >= lC.jd && aj <= lC.iV) {
                            if (aj >= amN.jd && aj <= amN.iV) {
                                return;
                            }
                            if (Bx) {
                                if (KB(aj, true) > -1) {
                                    qI += gS;
                                }
                            } else {
                                if (KB(aj, true) > -1) {
                                    ph += gS;
                                }
                            }
                            return;
                        }
                        if (Bx) {
                            qI += gS;
                            KB(aj);
                        } else {
                            ph += gS;
                            KB(aj);
                        }
                    });
                    if (dJ === IPCC.ViewMode.SinglePage) {
                        return;
                    }
                    if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                        aO.style.paddingTop = ph + 'px';
                        aO.style.paddingBottom = qI + 'px';
                    } else {
                        aO.style.paddingLeft = ph + 'px';
                        aO.style.paddingRight = qI + 'px';
                    }
                };

                function KB(ad, avx) {
                    var aP = bJ[ad];
                    if (!aP) {
                        return -1;
                    }
                    var cF = aP.cF;
                    if (avx === true && !aP.gu) {
                        return -1;
                    }
                    aP.zx = false;
                    aP.xL = false;
                    aP.gu = false;
                    aP.GD = 0;
                    aP.Gr = false;
                    if (Qy && !aP.fs.ca().aEQ() && Qj !== true) {
                        aP.fs.alP();
                    }
                    var AL = document.getElementById(aP.ac);
                    if (!AL) {
                        return -1;
                    }
                    if (AL.bg) {
                        AL.bg.dispose();
                        var lJ = IPCC.T.filter(dH, function(el) {
                            return el.aY === cF + 1;
                        });
                        JA(lJ);
                        AL.parentElement.removeChild(AL);
                        return ad;
                    } else {
                        AL.parentElement.removeChild(AL);
                    }
                    return -1;
                };

                function Nx(bf) {
                    var bN = document.getElementById(bf.ac);
                    V.vl(bN, bf.cF);
                };

                function ajY(bf) {
                    akd(bf, true);
                    Nx(bf);
                };

                function akd(aP, arN) {
                    var bN = document.getElementById(aP.ac);
                    if (bN === null) {
                        return;
                    }
                    var af = new IPCC.Web.UI.PageView(bN, false, bj);
                    af.set_autoUpdate(false);
                    af.tq(document.getElementById(aP.ac));
                    af.initialize();
                    af.set_imageHandlerUrl(aP.bQ.qf);
                    af.set_imGearPage(aP.fs);
                    af.set_artPage(aP.au);
                    af.set_requireRequestsOptimize(uD);
                    if (jP !== undefined) {
                        af.set_serviceResponseTimeout(jP);
                    }
                    af.set_scrollBars(IPCC.Web.UI.ScrollBars.None);
                    af.set_textRequired(rz);
                    af.set_markHandleMode(sy);
                    af.set_cursor(-1);
                    af.set_debug(_debug);
                    af.set_gamma(qF);
                    af.set_sharpening(pZ);
                    af.set_svgLineWidthMultiplier(lm);
                    af.set_debugErrorLevel(oh);
                    af.nT(V.ip());
                    if (qX) {
                        af.set_resourcePath(qX);
                    }
                    if (iv) {
                        af.IX(iv());
                    } else {
                        af.set_mouseTool(IPCC.Web.UI.MouseTool.None);
                    }
                    af.qZ(V.oA());
                    Sa(af, aP);
                    QN(af);
                    Sb(af);
                    Tk(af);
                    Ri(af);
                    if (arN === true) {
                        af.add_pageOpened(function aFR(bb) {
                            V.vl(bN, aP.cF);
                        });
                    }
                    if (aP.zx === false && aP.fs) {
                        aP.Gr = true;
                        var AR = {
                            encodedDocumentIdentifier: aP.fs.bQ.get_encodedDocumentIdentifier(),
                            pageNumber: aP.fs.get_pageNumber(),
                            imGearPage: aP.fs,
                            viewRotationDegreesClockwise: aP.hc
                        };
                        if (aP.au) {
                            AR.artPage = aP.au;
                        }
                        if (aP.fe) {
                            AR.documentArtPage = aP.fe;
                        }
                        af.openPage(AR);
                        aP.xL = true;
                        ke++;
                    }
                };

                function ahk(au, gJ) {
                    var ap;
                    au.forEachMark(function(L) {
                        switch (L.get_type()) {
                            case IPCC.Web.UI.MarkType.Line:
                                var bF = L.get_points();
                                var al = bF.Ai(0);
                                var nv = bF.Ai(1);
                                bF.setPoint(0, new IPCC.Web.UI.Point(al.x * gJ, al.y * gJ));
                                bF.setPoint(1, new IPCC.Web.UI.Point(nv.x * gJ, nv.y * gJ));
                                break;
                            case IPCC.Web.UI.MarkType.Text:
                            case IPCC.Web.UI.MarkType.Rectangle:
                            case IPCC.Web.UI.MarkType.RectangleRedaction:
                            case IPCC.Web.UI.MarkType.Ellipse:
                            case IPCC.Web.UI.MarkType.Stamp:
                            case IPCC.Web.UI.MarkType.ImageStampAnnotation:
                            case IPCC.Web.UI.MarkType.ImageStampRedaction:
                            case IPCC.Web.UI.MarkType.RectangleRedaction:
                            case IPCC.Web.UI.MarkType.Freehand:
                            case IPCC.Web.UI.MarkType.SignaturePath:
                            case IPCC.Web.UI.MarkType.SignatureText:
                            case IPCC.Web.UI.MarkType.TextLine:
                            case IPCC.Web.UI.MarkType.TextAreaSignature:
                            case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                                ap = L.get_rectangle();
                                L.set_rectangle({
                                    x: ap.x * gJ,
                                    y: ap.y * gJ,
                                    width: ap.width * gJ,
                                    height: ap.height * gJ
                                });
                                break;
                            case IPCC.Web.UI.MarkType.HighlightText:
                            case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:
                            case IPCC.Web.UI.MarkType.Strikethrough:
                                ap = L.get_rectangle();
                                L.set_rectangle({
                                    x: ap.x * gJ,
                                    y: ap.y * gJ,
                                    width: ap.width * gJ,
                                    height: ap.height * gJ
                                });
                                var bA = L.bA,
                                    gb;
                                for (var i = 0; i < bA.length; i++) {
                                    gb = bA[i];
                                    gb.x = gb.x * gJ;
                                    gb.y = gb.y * gJ;
                                    gb.width = gb.width * gJ;
                                    gb.height = gb.height * gJ;
                                }
                                break;
                            default:
                                break;
                        }
                    });
                };

                function Sa(af, aP) {
                    function aqG(sender, evnt) {
                        var abQ = function(ag, aH, aY) {
                            var SD = {
                                'width': ag,
                                'height': aH,
                                'pageNumber': aY
                            };
                            V.aQ('pageOpening', SD);
                        };
                        var cF = evnt.pageNumber;
                        var Yt = evnt.documentIdentifier;
                        aP.bL = af.get_pageWidth();
                        aP.aS = af.get_pageHeight();
                        var fS = af.get_pageXResolution();
                        var gO = af.get_pageYResolution();
                        if (!isNaN(parseFloat(fS)) && isFinite(fS)) {
                            aP.gN = fS;
                        }
                        if (!isNaN(parseFloat(gO)) && isFinite(gO)) {
                            aP.gn = gO;
                        }
                        af = null;
                        for (var ad = 0; ad < bJ.length; ad++) {
                            if (mX && bJ[ad].fs.get_pageNumber() === cF && bJ[ad].fs.bQ.get_documentIdentifier() === Yt) {
                                bJ[ad].xL = false;
                                bJ[ad].zx = true;
                                bJ[ad].DX = false;
                                if (dJ === IPCC.ViewMode.SinglePage) {
                                    var nD = -1;
                                    if (Array.prototype.indexOf) {
                                        nD = pV.indexOf(ad);
                                    } else {
                                        nD = IPCC.Web.jA(pV, ad);
                                    }
                                    if (nD !== -1) {
                                        pV.splice(nD, 1);
                                    }
                                }
                                var ajw = false;
                                for (var ba = 0; ba < ME.length; ba++) {
                                    if (ME[ba] === ad) {
                                        ajw = true;
                                    }
                                }
                                if (ajw === false) {
                                    ME.push(ad);
                                }
                                var nn = 0;
                                var mD = 0;
                                var bp = document.getElementById(bJ[ad].ac);
                                var by = bp.bg;
                                var eO;
                                var fB;
                                var Vz;
                                if (gH === 0 && (ad === 0 || bJ[0].DX === true)) {
                                    if (bp.currentStyle) {
                                        nF = parseInt(bp.currentStyle.borderTopWidth, 10) || 0;
                                        fK = parseInt(bp.currentStyle.marginTop, 10) || 0;
                                        mT = parseInt(bp.currentStyle.borderLeftWidth, 10) || 0;
                                        gk = parseInt(bp.currentStyle.marginLeft, 10) || 0;
                                        oz = parseInt(bp.currentStyle.borderBottomWidth, 10) || 0;
                                        jx = parseInt(bp.currentStyle.marginBottom, 10) || 0;
                                        pd = parseInt(bp.currentStyle.borderRightWidth, 10) || 0;
                                        gW = parseInt(bp.currentStyle.marginRight, 10) || 0;
                                    } else if (document.defaultView && document.defaultView.getComputedStyle) {
                                        var xI = document.defaultView.getComputedStyle(bp);
                                        nF = parseInt(xI.borderTopWidth, 10) || 0;
                                        fK = parseInt(xI.marginTop, 10) || 0;
                                        mT = parseInt(xI.borderLeftWidth, 10) || 0;
                                        gk = parseInt(xI.marginLeft, 10) || 0;
                                        oz = parseInt(xI.borderBottomWidth, 10) || 0;
                                        jx = parseInt(xI.marginBottom, 10) || 0;
                                        pd = parseInt(xI.borderRightWidth, 10) || 0;
                                        gW = parseInt(xI.marginRight, 10) || 0;
                                    }
                                    if (dJ === IPCC.ViewMode.SinglePage) {
                                        bp.style.margin = fK + 'px 0px ' + jx + 'px 0px';
                                        aO.style.margin = "0px auto";
                                    } else {
                                        if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                                            bp.style.margin = fK + 'px auto ' + jx + 'px auto';
                                        } else {
                                            bp.style.margin = fK + 'px ' + gW + 'px ' + jx + 'px ' + gk + 'px';
                                            aO.style.margin = '0px ' + gW + 'px 0px ' + gk + 'px';
                                        }
                                    }
                                    gH = by.get_pageWidth();
                                    iw = by.get_pageHeight();
                                    ahs = fS;
                                    eO = gH;
                                    fB = iw;
                                    var fF = dn / bJ[ad].gN;
                                    if (iH(bJ[ad].hc) === true) {
                                        fB = gH;
                                        eO = iw;
                                        fF = dn / bJ[ad].gn;
                                    }
                                    if (dJ === IPCC.ViewMode.SinglePage) {
                                        var aqY = (bj.offsetWidth - (gk + gW + mT + pd));
                                        var aqP = (bj.offsetHeight - (fK + jx + nF + oz + aCK));
                                        ob = aqY / (eO * fF);
                                        Vz = aqP / (fB * fF);
                                        if (Vz < ob) {
                                            ob = Vz;
                                        }
                                        by.zoom(ob * fF);
                                    } else if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                                        ob = (bj.offsetWidth - IPCC.Web.nH() - (gk + gW + mT + pd)) / (eO * fF);
                                        by.zoom(ob * fF);
                                    } else {
                                        ob = (bj.offsetHeight - IPCC.Web.nH() - (fK + jx + nF + oz)) / (fB * fF);
                                        by.zoom(ob * fF);
                                    }
                                    nn = eO * ob * fF;
                                    mD = fB * ob * fF;
                                    bp.style.width = nn + 'px';
                                    bp.style.height = mD + 'px';
                                    if (dJ === IPCC.ViewMode.SinglePage) {
                                        aO.style.width = nn + 'px';
                                        aO.style.height = mD + 'px';
                                    }
                                    if (dJ !== IPCC.ViewMode.SinglePage) {
                                        for (var qt = 0; qt < bJ.length; qt++) {
                                            if (bJ[qt].gu === false && qt !== ad) {
                                                if (bJ[qt].ac) {
                                                    bp = document.getElementById(bJ[qt].ac);
                                                    bp.style.width = eO * ob + 'px';
                                                    bp.style.height = fB * ob + 'px';
                                                    if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                                                        bp.style.margin = fK + 'px auto ' + jx + 'px auto';
                                                    } else {
                                                        bp.style.margin = fK + 'px ' + gW + 'px ' + jx + 'px ' + gk + 'px';
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    dA = ob;
                                    abQ(aP.bL, aP.aS, cF + 1);
                                    bp.bg.display();
                                } else {
                                    if (dJ === IPCC.ViewMode.Document || dJ === IPCC.ViewMode.SinglePage) {
                                        if (iH(bJ[ad].hc) === true) {
                                            nn = by.get_pageHeight() * dA * dn / bJ[ad].gN;
                                            mD = by.get_pageWidth() * dA * dn / bJ[ad].gn;
                                        } else {
                                            nn = by.get_pageWidth() * dA * dn / bJ[ad].gN;
                                            mD = by.get_pageHeight() * dA * dn / bJ[ad].gn;
                                        }
                                    } else {
                                        var hn;
                                        var bL = by.get_pageWidth();
                                        var aS = by.get_pageHeight();
                                        eO = gH;
                                        fB = iw;
                                        if (iH(pn) === true) {
                                            eO = iw;
                                            fB = gH;
                                        }
                                        if (iH(bJ[ad].hc) === true) {
                                            bL = by.get_pageHeight();
                                            aS = by.get_pageWidth();
                                        }
                                        if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                                            hn = eO / bL * dA * dn / bJ[0].gn;
                                            nn = eO * dA * dn / bJ[0].gN;
                                            mD = aS * hn;
                                        } else {
                                            hn = fB / aS * dA * dn / bJ[0].gN;
                                            mD = fB * dA * dn / bJ[0].gn;
                                            nn = bL * hn;
                                        }
                                    }
                                    if (nn !== Math.round(nn)) {
                                        nn = Math.floor(nn * 100) / 100;
                                    }
                                    if (mD !== Math.round(mD)) {
                                        mD = Math.floor(mD * 100) / 100;
                                    }
                                    if (bp.style.width !== nn + 'px' || bp.style.height !== mD + 'px') {
                                        if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                                            bp.style.width = nn + 'px';
                                            bp.style.height = mD + 'px';
                                        } else {
                                            bp.style.width = nn + 'px';
                                            bp.style.height = mD + 'px';
                                        }
                                        AI(dH, true);
                                        nu(dH, true);
                                    }
                                    abQ(aP.bL, aP.aS, cF + 1);
                                }
                                if (nn > fP) {
                                    fP = nn;
                                    if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                                        bj.scrollLeft = (fP - bj.clientWidth) / 2;
                                    }
                                }
                                if (mD > ho) {
                                    ho = mD;
                                    if (fN === IPCC.PageLayout.HorizontalScrollDirection) {
                                        bj.scrollTop = (ho - bj.clientHeight) / 2;
                                    }
                                }
                                if (bJ[ad].Da > 0) {
                                    var YJ = document.getElementById(bJ[ad].ac).bg;
                                    if (YJ) {
                                        YJ.rotate(bJ[ad].Da);
                                        YJ.display();
                                        bJ[ad].Da = 0;
                                    }
                                }
                                if (ke > 0) {
                                    ke = ke - 1;
                                }
                                if (bJ[ad].aii() === true) {
                                    var ix = bJ[ad].fs;
                                    var gJ = bJ[ad].ko() / ix.ahW();
                                    if (gJ !== 1) {
                                        var au = V.gZ(ix);
                                        if (au) {
                                            ahk(au, gJ);
                                        }
                                    }
                                }
                                bJ[ad].Zr(false);
                                iE();
                                var JI = new IPCC.OpenPageEventArgs();
                                JI.pageIndex = evnt.pageNumber;
                                JI.imGearPage = evnt.imGearPage;
                                JI.viewRotationDegreesClockwise = evnt.viewRotationDegreesClockwise;
                                JI.pageNodeID = bJ[ad].ac;
                                V.aQ('pageOpened', JI);
                                break;
                            }
                        }
                        if (ke === 0 && me === null && kv === null) {
                            setTimeout(function() {
                                pq();
                            }, 60);
                        }
                    };
                    af.add_pageOpened(aqG);
                };

                function QN(af) {
                    function aqw(bC, aA) {
                        if (mX === false) {
                            return;
                        }
                        var ww;
                        if (aA.pageNumber >= 0) {
                            if (bJ[aA.pageNumber].ac) {
                                ww = bJ[aA.pageNumber].ac;
                            }
                        }
                        bJ[aA.pageNumber].DX = true;
                        bJ[aA.pageNumber].xL = false;
                        bJ[aA.pageNumber].zx = false;
                        bJ[aA.pageNumber].gu = false;
                        var lZ = new IPCC.ExceptionEventArgs();
                        lZ.exception = aA.exception;
                        lZ.pageIndex = aA.pageNumber;
                        lZ.pageNodeID = ww;
                        V.aQ('pageOpenFailed', lZ);
                        if (ke > 0) {
                            ke = ke - 1;
                            if (ke === 0) {
                                setTimeout(function() {
                                    pq();
                                }, 60);
                            }
                        }
                    };
                    af.add_pageOpenFailed(aqw);
                };

                function Sb(af) {
                    function aqH(bC, aA) {
                        if (mX === false) {
                            return;
                        }
                        var F = new IPCC.PageEventArgs();
                        F.pageIndex = aA.aY;
                        F.imGearPage = bJ[aA.aY].fs;
                        F.pageNodeID = bJ[aA.aY].ac;
                        bJ[aA.aY].gu = true;
                        if (dJ === IPCC.ViewMode.SinglePage) {
                            var nD = -1;
                            if (Array.prototype.indexOf) {
                                nD = pV.indexOf(aA.aY);
                            } else {
                                nD = IPCC.Web.jA(pV, aA.aY);
                            }
                            if (nD !== -1) {
                                pV.splice(nD, 1);
                            }
                        }
                        V.aQ('pageDisplayed', F);
                        setTimeout(function() {
                            var lJ = IPCC.T.filter(dH, function(el) {
                                if (dJ === IPCC.ViewMode.SinglePage) {
                                    return aA.aY === el.aY - 1 && el.aY - 1 === cY;
                                } else {
                                    return aA.aY === el.aY - 1;
                                }
                            });
                            AI(lJ);
                            nu(lJ);
                        }, 0);
                    };
                    af.add_pageDisplayed(aqH);
                };

                function arJ(aP) {
                    function Fq(bC, aA) {
                        if (mX === false) {
                            return;
                        }
                        V.aQ('textPageReady', {
                            pageIndex: aA.pageNumber,
                            containsText: aA.containsText
                        });
                        var cf = iE();
                        var cj = [];
                        if (cf) {
                            cj = pE(cf);
                        }
                        if (aA.containsText === true && aA.pageNumber >= cj[0] && aA.pageNumber <= cj[cj.length - 1]) {
                            if (bJ[aA.pageNumber].au && bJ[aA.pageNumber].au.get_markCount() > 0) {
                                var bp = document.getElementById(bJ[aA.pageNumber].ac);
                                V.vl(bp, aA.pageNumber);
                            }
                        }
                    };
                    aP.xN(Fq);
                };

                function asN(aP) {
                    function asw(bC, aA) {
                        if (mX === false) {
                            return;
                        }
                        var fe = bJ[aA.pageNumber].fe;
                        aP.ais().KA().ld(function(fO) {
                            var L = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),
                                ap = fO.eA();
                            L.set_rectangle(new IPCC.Web.UI.Rectangle(ap.x, ap.y, ap.width, ap.height));
                            L.set_href(fO.ait());
                            L.set_lineColor(fO.aEZ());
                            L.set_lineWidth(fO.aGt());
                            L.set_borderPattern(fO.aDC());
                            L.set_borderType(fO.aFl());
                            L.set_borderHorizontalRadius(fO.aDP());
                            L.set_borderVerticalRadius(fO.aES());
                            L.set_borderOpacity(fO.aEu());
                            fe.addMark(L);
                            fO.aBj(L);
                        });
                        V.aQ('hyperlinkPageReady', {
                            pageIndex: aA.pageNumber
                        });
                        var cf = iE();
                        var cj = [];
                        if (cf) {
                            cj = pE(cf);
                        }
                        if (aA.pageNumber >= cj[0] && aA.pageNumber <= cj[cj.length - 1]) {
                            var bp = document.getElementById(bJ[aA.pageNumber].ac);
                            V.vl(bp, aA.pageNumber);
                        }
                    };
                    aP.RE(asw);
                };

                function arY(aP) {
                    function FG(bC, aA) {
                        if (mX === false) {
                            return;
                        }
                        var ww;
                        if (aA.pageNumber >= 0) {
                            if (bJ[aA.pageNumber].ac) {
                                ww = bJ[aA.pageNumber].ac;
                            }
                        }
                        V.aQ('textExtractionFailed', {
                            'exception': aA.exception,
                            'pageIndex': aA.pageNumber,
                            'pageNodeID': ww
                        });
                    };
                    aP.xr(FG);
                };

                function Tk(af) {
                    function ari(bC, aA) {
                        if (mX === false) {
                            return;
                        }
                        var ww;
                        if (isNaN(aA.pageNumber) === false) {
                            if (aA.pageNumber >= 0) {
                                if (bJ[aA.pageNumber].ac) {
                                    ww = bJ[aA.pageNumber].ac;
                                }
                            }
                            bJ[aA.pageNumber].DX = true;
                            bJ[aA.pageNumber].xL = false;
                            bJ[aA.pageNumber].zx = false;
                            bJ[aA.pageNumber].gu = false;
                        }
                        var lZ = new IPCC.ExceptionEventArgs();
                        lZ.functionName = aA.function_name;
                        lZ.exception = aA.exception;
                        lZ.pageIndex = aA.pageNumber;
                        lZ.pageNodeID = ww;
                        V.aQ('exceptionThrown', lZ);
                        if (ke > 0) {
                            ke = ke - 1;
                            if (ke === 0) {
                                setTimeout(function() {
                                    pq();
                                }, 60);
                            }
                        }
                    };
                    af.add_exceptionThrown(ari);
                };

                function Ri(af) {
                    function FU(bC, aA) {
                        V.aQ('markCreating', aA);
                    };
                    af.add_markCreating(FU);
                };

                function asM(bf) {
                    function anq() {
                        if (mX === false) {
                            return;
                        }
                        var cf = iE();
                        var cj = [];
                        if (cf) {
                            cj = pE(cf);
                        }
                        if (bf.cF >= cj[0] && bf.cF <= cj[cj.length - 1]) {
                            var bp = document.getElementById(bf.ac);
                            V.vl(bp, bf.cF);
                        }
                        var F = new IPCC.Web.UI.MarkEventArgs();
                        F.pageIndex = bf.cF;
                        V.aQ('marksLoaded', F);
                    };
                    bf.au.add_marksLoaded(anq);
                };

                function asg(bf) {
                    function hK(bC, aA) {
                        var F = new IPCC.Web.UI.MarkEventArgs();
                        F.pageIndex = bf.cF;
                        F.mark = aA.mark;
                        F.zIndex = aA.zIndex;
                        F.clientX = aA.clientX;
                        F.clientY = aA.clientY;
                        V.aQ('markAdded', F);
                    };
                    bf.au.add_markAdded(hK);
                };

                function QZ(bf) {
                    var WJ, qr = false,
                        aaM, Zi;

                    function Ku(K, ep) {
                        if (rY === false) {
                            return;
                        }
                        var iF = wd();
                        agG(K, ep, iF);
                        nu(dH, true, iF);
                    };

                    function auD(K, ep) {
                        aaM = K;
                        Zi = ep;
                        if (qr && !WJ) {
                            WJ = Fj(function() {
                                qr = false;
                                WJ = undefined;
                                if (aaM && Zi) {
                                    Ku(aaM, Zi);
                                } else {
                                    Ku(K, ep);
                                }
                            });
                        }
                    };

                    function nj(bC, aA) {
                        if (aA.mark.yX === true) {
                            return;
                        }
                        var F = new IPCC.Web.UI.MarkEventArgs();
                        F.pageIndex = bf.cF;
                        F.mark = aA.mark;
                        F.zIndex = aA.zIndex;
                        F.propertyName = aA.propertyName;
                        V.aQ('markChanged', F);
                        var ep = dH[aA.mark.get_markID()];
                        if (ep && (aA.propertyName === 'rectangle' || aA.propertyName === 'points' || aA.propertyName === 'startPoint' || aA.propertyName === 'endPoint')) {
                            qr = true;
                            auD(aA.mark, ep);
                        } else if (ep && aA.propertyName === 'visible') {
                            var aAj = aA.mark.get_visible();
                            var TG = (function(cW) {
                                return IPCC.T.inArray(LD(), cW.aY - 1);
                            })(ep);
                            if (aAj && TG) {
                                KC([ep]);
                                nu(dH, true, wd());
                            } else {
                                JA([ep]);
                            }
                        }
                    };
                    bf.au.add_markChanged(nj);
                };

                function asB(bf) {
                    function alJ(bC, aA) {
                        var F = new IPCC.Web.UI.MarkEventArgs();
                        F.pageIndex = bf.cF;
                        F.mark = aA.mark;
                        F.zIndex = aA.zIndex;
                        F.oldZIndex = aA.oldZIndex;
                        V.aQ('markReordered', F);
                    };
                    bf.au.add_markReordered(alJ);
                };

                function asA(bf) {
                    function EJ(bC, aA) {
                        if (aA.mark.yX === true) {
                            return;
                        }
                        var F = new IPCC.Web.UI.MarkEventArgs();
                        F.pageIndex = bf.cF;
                        F.mark = aA.mark;
                        F.zIndex = aA.zIndex;
                        V.aQ('markSelectionChanged', F);
                    };
                    bf.au.add_markSelectionChanged(EJ);
                };

                function arw(bf) {
                    function Dx(bC, aA) {
                        if (aA.mark) {
                            var F = new IPCC.Web.UI.MarkEventArgs();
                            F.pageIndex = bf.cF;
                            F.mark = aA.mark;
                            F.zIndex = aA.zIndex;
                            V.aQ('markRemoved', F);
                            var ep = dH[aA.mark.get_markID()];
                            if (ep) {
                                if (aA.mark.get_conversation() === jt) {
                                    jt = null;
                                }
                                ep.cr.parentElement.removeChild(ep.cr);
                                delete dH[aA.mark.get_markID()];
                                nu(dH, true);
                            }
                        }
                    };
                    bf.au.add_markRemoved(Dx);
                };

                function arI(bf) {
                    function zu(bC, aA) {
                        var F = new IPCC.Web.UI.MarkEventArgs();
                        F.pageIndex = bf.cF;
                        F.mark = aA.mark;
                        F.zIndex = aA.zIndex;
                        V.aQ('markTextSelectionChanged', F);
                    };
                    bf.au.add_markTextSelectionChanged(zu);
                };

                function agG(K, ep, Pj) {
                    var bf = bJ[ep.aY - 1],
                        aP = document.getElementById(bf.ac),
                        Bc = Sq(K, bf.cF + 1);
                    if (aP.bg) {
                        var cn = aP.bg.transformPagePointToWindow(new IPCC.Web.UI.Point(Bc.x, Bc.y), true);
                        var qq = (fK * bf.cF);
                        var GU = (aP.offsetTop - qq + cn.y) / (Pj - (fK * bJ.length));
                        ep.ap = Bc;
                        ep.Ud = GU;
                    }
                };

                function JA(jv, aY) {
                    var axJ = typeof aY === 'undefined';
                    IPCC.T.forEach(jv, function(bx) {
                        if (bx && (axJ || bx.pageNumber === aY)) {
                            bx.cr.style.display = 'none';
                            bx.wR = false;
                        }
                    });
                };

                function wx() {
                    if (kj.currentStyle && kj.currentStyle.display === 'none') {
                        return 0;
                    }
                    return kj.clientWidth;
                };

                function wd() {
                    if (kj.currentStyle && kj.currentStyle.display === 'none') {
                        return 0;
                    }
                    return kj.offsetHeight;
                };

                function KC(jv, aY) {
                    var aBn = typeof aY === 'undefined';
                    IPCC.T.forEach(jv, function(el) {
                        if (aBn || el.pageNumber === aY) {
                            el.cr.style.display = '';
                            el.wR = true;
                            if (el && el.L && el.L.get_visible() === false) {
                                el.cr.style.display = 'none';
                                el.wR = false;
                            }
                        }
                    });
                };

                function AI(jv, WK) {
                    if (rY === false) {
                        return;
                    }
                    var Ry = (!!WK) ? IPCC.T.filter(dH, function(cW) {
                        return IPCC.T.contains(LD(), cW.aY - 1);
                    }) : jv;
                    var iF = wd();
                    IPCC.T.forEach(Ry, function(el) {
                        agG(el.L, el, iF);
                    });
                };

                function aut(a, b) {
                    return (a.ap.y !== b.ap.y) ? (a.ap.y - b.ap.y) : (a.ap.x !== b.ap.x) ? (a.ap.x - b.ap.x) : (a.we - b.we);
                };

                function ave(a, b) {
                    return (a.ap.x !== b.ap.x) ? (a.ap.x - b.ap.x) : (a.ap.y !== b.ap.y) ? (b.ap.y - a.ap.y) : (a.we - b.we);
                };

                function auG(a, b) {
                    return (a.ap.y !== b.ap.y) ? (b.ap.y - a.ap.y) : (a.ap.x !== b.ap.x) ? (b.ap.x - a.ap.x) : (a.we - b.we);
                };

                function aua(a, b) {
                    return (a.ap.x !== b.ap.x) ? (b.ap.x - a.ap.x) : (a.ap.y !== b.ap.y) ? (a.ap.y - b.ap.y) : (a.we - b.we);
                };

                function aqJ(Xh, iF, zi) {
                    zi = zi || 0;
                    var _top, anj, Fc, VR = (fK * bJ.length),
                        Wa = iF - VR;
                    IPCC.T.forEach(Xh, function(cW) {
                        Fc = (fK * (cW.aY - 1));
                        anj = (cW.Ud * Wa) + Fc;
                        _top = Math.max(zi + 5, anj);
                        if (cW.cr.style.top !== _top + 'px') {
                            cW.cr.style.top = _top + 'px';
                        }
                        zi = _top + cW.abo;
                    });
                };

                function arv(Xh, iF) {
                    var Ns, _top, OB, Fc, agQ, VR = (fK * bJ.length),
                        Wa = iF - VR;
                    IPCC.T.forEach(Xh, function(cW) {
                        Fc = (fK * (cW.aY - 1));
                        OB = (cW.Ud * Wa) + Fc;
                        if (Ns === undefined) {
                            Ns = OB;
                        }
                        if (cW.L.get_conversation() === jt) {
                            _top = OB;
                            agQ = _top + cW.abo;
                        } else {
                            _top = Math.min(Ns - 5 - cW.abo, OB);
                        }
                        if (cW.cr.style.top !== _top + 'px') {
                            cW.cr.style.top = _top + 'px';
                        }
                        Ns = _top;
                    });
                    return agQ;
                };

                function nu(jv, WK, iF) {
                    if (rY === false) {
                        return;
                    }
                    if (!iF) {
                        iF = wd();
                    }
                    var apb = function(a, b) {
                        if (a.aY !== b.aY) {
                            return (a.aY - b.aY);
                        }
                        var aP = bJ[a.aY - 1],
                            hk = aP.hc;
                        switch (hk) {
                            case 90:
                                return ave(a, b);
                            case 180:
                                return auG(a, b);
                            case 270:
                                return aua(a, b);
                            default:
                                return aut(a, b);
                        }
                    };
                    var Ry = (!!WK) ? IPCC.T.filter(dH, function(cW) {
                        return IPCC.T.inArray(LD(), cW.aY - 1);
                    }) : jv;
                    KC(Ry);
                    var atv = IPCC.T.map(Ry, function(cW, bu) {
                        cW.abo = cW.cr.offsetHeight;
                        return cW;
                    });
                    var Xd = atv.sort(apb);
                    var QF = [],
                        aay = [],
                        XR = false;
                    if (jt) {
                        var aEO = dH[jt.get_mark().get_markID()];
                        if (!IPCC.T.inArray(Xd, aEO)) {
                            XR = true;
                        }
                        IPCC.T.forEach(Xd, function(cW) {
                            if (XR) {
                                aay.push(cW);
                            } else if (cW.L.get_conversation() === jt) {
                                QF.unshift(cW);
                                XR = true;
                            } else {
                                QF.unshift(cW);
                            }
                        });
                    } else {
                        aay = Xd;
                    }
                    var zi = 0;
                    if (QF.length) {
                        zi = arv(QF, iF);
                    }
                    aqJ(aay, iF, zi);
                };

                function avg(jv, K, cF) {
                    var cW = jv[K.km()];
                    cW.aY = cF;
                    cW.L = K;
                    cW.ap = Sq(K, cF);
                    cW.we = K.eg().oC(K);
                };

                function Dc(K, jv, kN) {
                    var ep = jv[K.get_markID()];
                    if (ep) {
                        ep.cr.parentElement.replaceChild(kN, ep.cr);
                        ep.cr = kN;
                    }
                    return ep;
                };

                function arL(K, jv, kN, aBe, aFn, GU, cF) {
                    var ep = new anR();
                    ep.cr = kN;
                    dH[K.get_markID()] = ep;
                    avg(dH, K, cF);
                    ep.Ud = GU;
                    aBe.appendChild(kN);
                    return ep;
                };

                function Sq(K, aY) {
                    var ap = (K.get_boundingRectangle) ? K.get_boundingRectangle() : {},
                        hk = bJ[aY - 1].hc;
                    switch (hk) {
                        case 90:
                            return {
                                x: ap.x,
                                y: ap.y + (ap.height || 0)
                            };
                        case 180:
                            return {
                                x: ap.x + (ap.width || 0),
                                y: ap.y + (ap.height || 0)
                            };
                        case 270:
                            return {
                                x: ap.x + (ap.width || 0),
                                y: ap.y
                            };
                        default:
                            return {
                                x: ap.x,
                                y: ap.y
                            };
                    }
                };

                function arE(bf) {
                    function Rk(bC, aA) {
                        var F = new IPCC.Web.UI.CommentEventArgs();
                        F.pageIndex = bf.cF;
                        F.mark = aA.mark;
                        F.index = aA.index;
                        F.comment = aA.comment;
                        var aP = document.getElementById(bf.ac);
                        V.aQ('commentAdding', F);
                        setTimeout(function() {
                            var Pj = wd(),
                                ep, cr;
                            if (aA.index === 0) {
                                cr = lK(aA.mark, {
                                    isSelected: false
                                }, null);
                                if (!cr) {
                                    return;
                                } else if (!IPCC.T.xa(cr)) {
                                    throw new Error(cr + ' is not a valid HTMLElement');
                                }
                                var Bc = Sq(aA.mark, bf.cF + 1),
                                    aDi = Bc.x,
                                    aBu = Bc.y;
                                var cn;
                                if (aP && aP.bg) {
                                    cn = aP.bg.transformPagePointToWindow(new IPCC.Web.UI.Point(aDi, aBu), true);
                                } else {
                                    cn = new IPCC.Web.UI.Point(0, 0);
                                }
                                var qq = (fK * (bf.cF));
                                var GU = (ajO(bf.cF) - qq + cn.y) / (Pj - (fK * bJ.length));
                                ep = arL(aA.mark, dH, cr, kj, cn, GU, bf.cF + 1);
                            } else {
                                var Jo = aA.mark.get_conversation() === jt;
                                var currentConversationDiv = dH[aA.mark.get_markID()];
                                if (!currentConversationDiv) {
                                    return;
                                }
                                cr = lK(aA.mark, {
                                    isSelected: Jo
                                }, currentConversationDiv.cr);
                                if (!cr) {
                                    return;
                                } else if (!IPCC.T.xa(cr)) {
                                    throw new Error(cr + ' is not a valid HTMLElement');
                                }
                                ep = Dc(aA.mark, dH, cr);
                            }
                            if (IPCC.T.contains(LD(), bf.cF)) {
                                nu(dH, true, Pj);
                            } else {
                                JA([ep]);
                            }
                            V.aQ('commentAdded', F);
                        }, 0);
                    };
                    bf.au.add_commentAdded(Rk);
                };

                function asY(bf) {
                    function Re(bC, aA) {
                        var cr = null;
                        if (dH[aA.mark.get_markID()]) {
                            cr = dH[aA.mark.get_markID()].cr;
                            var Jo = aA.mark.get_conversation() === jt;
                            cr = lK(aA.mark, {
                                isSelected: Jo
                            }, cr);
                        }
                        if (!cr) {
                            V.aQ('commentChanged', aA);
                            return;
                        } else if (!IPCC.T.xa(cr)) {
                            throw new Error(cr + ' is not a valid HTMLElement');
                        }
                        if (cr) {
                            var iF = wd();
                            Dc(aA.mark, dH, cr);
                            nu(dH, true, iF);
                        }
                        V.aQ('commentChanged', aA);
                    };
                    bf.au.add_commentChanged(Re);
                };

                function asm(bf) {
                    function Qp(bC, aA) {
                        var cr = null;
                        if (dH[aA.mark.get_markID()]) {
                            cr = dH[aA.mark.get_markID()].cr;
                        }
                        var Jo = aA.mark.get_conversation() === jt;
                        cr = lK(aA.mark, {
                            isSelected: Jo
                        }, cr);
                        if (IPCC.T.xa(cr)) {
                            Dc(aA.mark, dH, cr);
                        } else {
                            var ep = dH[aA.mark.get_markID()];
                            if (ep) {
                                if (aA.mark.get_conversation() === jt) {
                                    jt = null;
                                }
                                ep.cr.parentElement.removeChild(ep.cr);
                                delete dH[aA.mark.get_markID()];
                            }
                        }
                        nu(dH, true);
                        V.aQ('commentRemoved', aA);
                    };
                    bf.au.add_commentRemoved(Qp);
                };

                function Vm() {
                    var aH = iw;
                    var ag = gH;
                    var apL = function(jc) {
                        return {
                            width: jc.width || (jc.right - jc.left),
                            height: jc.height || (jc.bottom - jc.top),
                            top: jc.top,
                            bottom: jc.bottom,
                            left: jc.left,
                            right: jc.right
                        };
                    };
                    var aeu = apL(bj.getBoundingClientRect());
                    var ml = {
                        height: aeu.height / 2
                    };
                    ml.width = ml.height * ag / aH;
                    if (ml.width > ag / 2) {
                        ml.width = ag / 2;
                    }
                    if (ml.height > aH / 2) {
                        ml.height = aH / 2;
                    }
                    var YE = 8;
                    var ams = {
                        height: aH * YE,
                        width: ag * YE
                    };
                    var avf = ag * dA < ml.width + 5;
                    var auS = ag * dA > ams.width - 5;
                    return {
                        min: ml,
                        max: ams,
                        page: {
                            width: ag,
                            height: aH
                        },
                        viewport: aeu,
                        atMin: avf,
                        atMax: auS,
                        maxFactor: YE,
                        minFactor: ml.width / ag
                    };
                };

                function iy(aD, UT) {
                    if (UT) {
                        agx.apply(this, arguments);
                        return;
                    }
                    var vK = (aD < dA) ? true : false;
                    var oe = Vm();
                    if ((oe.atMin && vK) || (oe.atMax && !vK)) {
                        return;
                    }
                    if (aD > oe.maxFactor) {
                        aD = oe.maxFactor;
                    } else if (aD < oe.minFactor) {
                        aD = oe.minFactor;
                    }
                    if (!oe.atMax || !oe.atMin) {
                        agx.apply(this, arguments);
                    }
                };

                function agx(aD, aGb, aM, di, FW, qs, fh, eW) {
                    if (isNaN(aD) || aD <= 0 || Math.abs(aD) === Infinity) {
                        return;
                    }
                    var Vx = cY;
                    var cf = iE();
                    var vK = (aD < dA) ? true : false;
                    var hy = 0;
                    var hw = bJ.length - 1;
                    if (dJ === IPCC.ViewMode.SinglePage) {
                        if (cY - tw >= 0) {
                            hy = cY - tw;
                        }
                        if (cY + tw < bJ.length - 1) {
                            hw = cY + tw;
                        }
                    }
                    var NT = aD / dA;
                    dA = aD;
                    var BC = bj.getBoundingClientRect();
                    var acl = (qs && qs.x !== undefined) ? qs.x : bj.scrollLeft + (BC.width / 2);
                    var acm = (qs && qs.y !== undefined) ? qs.y : bj.scrollTop + (BC.height / 2);
                    var axn = qs && qs.x !== undefined && qs.y !== undefined;
                    fP = 0;
                    ho = 0;
                    for (var ad = hy; ad <= hw; ad++) {
                        var by;
                        var bp = document.getElementById(bJ[ad].ac);
                        if (bp) {
                            by = bp.bg;
                        } else {
                            continue;
                        }
                        if (ad === Vx) {
                            var Qk = bp.getBoundingClientRect();
                            if (!axn) {
                                if (fN === IPCC.PageLayout.HorizontalScrollDirection && BC.height > Qk.height) {
                                    acm -= ((BC.height - Qk.height) / 2);
                                } else if (fN === IPCC.PageLayout.VerticalScrollDirection && BC.width > Qk.width) {
                                    acl -= ((BC.width - Qk.width) / 2);
                                }
                            }
                        }
                        var hx = aD * dn / bJ[ad].gN;
                        var bL = gH;
                        var aS = iw;
                        var eO = gH;
                        var fB = iw;
                        if (iH(pn) === true) {
                            eO = iw;
                            fB = gH;
                        }
                        if (bJ[ad].ko() > 0) {
                            if (iH(bJ[ad].hc) === true) {
                                bL = bJ[ad].qi();
                                aS = bJ[ad].ko();
                            } else {
                                bL = bJ[ad].ko();
                                aS = bJ[ad].qi();
                            }
                        } else {
                            hx = aD * dn / bJ[0].gN;
                            if (iH(bJ[ad].hc) === true) {
                                var GV = bL;
                                bL = aS;
                                aS = GV;
                                hx = aD * dn / bJ[0].gn;
                            }
                        }
                        var Jw, JT, hn;
                        if (dJ === IPCC.ViewMode.SinglePage) {
                            JT = bL * hx;
                            Jw = aS * hx;
                            bp.style.width = JT + 'px';
                            bp.style.height = Jw + 'px';
                            if (ad === cY) {
                                aO.style.width = JT + 'px';
                                aO.style.height = Jw + 'px';
                            }
                            if (by && bJ[ad].gu === true && by.dZ() === true) {
                                by.zoom(hx);
                            }
                        } else if (dJ === IPCC.ViewMode.Document) {
                            JT = bL * hx;
                            Jw = aS * hx;
                            bp.style.width = JT + 'px';
                            bp.style.height = Jw + 'px';
                            if (by && bJ[ad].gu === true && by.dZ() === true) {
                                by.zoom(hx);
                            }
                            if (bL * hx > fP) {
                                fP = bL * hx;
                            }
                            if (aS * hx > ho) {
                                ho = aS * hx;
                            }
                        } else {
                            hx = aD * dn / bJ[0].gN;
                            if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                                hn = eO / bL * hx;
                                bp.style.width = eO * hx + 'px';
                                bp.style.height = aS * hn + 'px';
                                if (eO * hx > fP) {
                                    fP = eO * hx;
                                }
                                if (aS * hx > ho) {
                                    ho = aS * hx;
                                }
                            } else {
                                hn = fB / aS * hx;
                                bp.style.height = fB * hx + 'px';
                                bp.style.width = bL * hn + 'px';
                                if (bL * hx > fP) {
                                    fP = bL * hx;
                                }
                                if (fB * hx > ho) {
                                    ho = fB * hx;
                                }
                            }
                            if (by && bJ[ad].gu === true && by.dZ() === true) {
                                by.zoom(hn);
                            }
                        }
                        if (by && bJ[ad].gu === true && by.dZ() === true) {
                            by.display();
                            if (IPCC.T.so.tS) {
                                var aCC = bj.style.display;
                                bj.style.display = 'none';
                                bj.style.display = aCC;
                                arK();
                            }
                        }
                    }
                    if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                        Lk = bj.scrollTop;
                    } else {
                        Lk = bj.scrollLeft;
                    }
                    var Sh, Ni, Nt = 0,
                        Mz = 0;
                    if (FW) {
                        Sh = FW.offsetLeft + NT * aM;
                        Ni = FW.offsetTop + NT * di;
                        bj.scrollLeft = Sh - (bj.clientWidth / 2) + Nt;
                        bj.scrollTop = Ni - (bj.clientHeight / 2) + Mz;
                        aux(cf);
                    } else {
                        if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                            Mz = fK * (Vx + 1);
                        } else {
                            Nt = gW + ((gk + gW) * (Vx + 1));
                        }
                        Sh = NT * (acl - Nt);
                        Ni = NT * (acm - Mz);
                        agp(cf);
                        bj.scrollLeft = Sh - (bj.clientWidth / 2) + Nt;
                        bj.scrollTop = Ni - (bj.clientHeight / 2) + Mz;
                    }
                    if (dJ !== IPCC.ViewMode.SinglePage && (fh === IPCC.ScaleTrigger.Pinch || vK === true)) {
                        pq();
                    }
                    nu(dH, true);
                    V.aQ('scaleChanged', {
                        scaleType: (vK) ? "scaledDown" : "scaledUp",
                        scaleTrigger: fh,
                        fitType: eW,
                        scaleFactor: dA
                    });
                };

                function arK() {
                    var dummy = document.createElement('div');
                    setTimeout(function() {
                        bj.appendChild(dummy);
                        bj.removeChild(dummy);
                    }, 0);
                };

                function akk(aE, eo, fp, fG) {
                    var hg = aE.igElements;
                    fG = fG || VN(aE);
                    if (fG && (fG.right - fG.left) > 0 && (fG.bottom - fG.top) > 0) {
                        return new IPCC.Web.UI.Point(eo + fG.left + hg.mO.scrollLeft, fp + fG.top + hg.mO.scrollTop);
                    } else {
                        return;
                    }
                };

                function VN(aE) {
                    var hg = aE.igElements;
                    var fG = null;
                    if (!aE || !hg || !hg.lW) {
                        return null;
                    }
                    if (hg.lW.getBoundingClientRect) {
                        try {
                            fG = hg.lW.getBoundingClientRect();
                        } catch (bS) {
                            return;
                        }
                    } else {
                        var eC = hg.lW;
                        var wD = document.documentElement;
                        fG = {
                            left: wD.clientLeft - wD.scrollLeft,
                            top: wD.clientTop - wD.scrollTop
                        };
                        eC = eC.offsetParent;
                        while (eC) {
                            fG.top += eC.offsetTop - eC.scrollTop;
                            fG.left += eC.offsetLeft - eC.scrollLeft;
                            eC = eC.offsetParent;
                        }
                    }
                    return fG;
                };

                function ajW() {
                    var cg = V.mN();
                    var Pe = cg.id;
                    var wZ;
                    var wz;
                    var mj;
                    var YL;
                    var YD;
                    var bG = false;
                    var aE;
                    var pb = [];
                    var uJ = -1;
                    var gB = 0;
                    var oG;
                    var Cu;
                    var AO;
                    var lx = 0;
                    var cw = 0;
                    var tx = null;
                    var tW = null;
                    if (aO === '') {
                        bj = fT({
                            width: '100%',
                            height: '100%',
                            position: 'relative',
                            margin: '0px',
                            overflow: 'auto',
                            textAlign: 'center'
                        });
                        bj.className = 'pccPageListContainerWrapper';
                        bj.tabIndex = 2;
                        var Zu = function(eo, fp) {
                            return IPCC.T.getPageFromPoint(eo, fp, bj) || false;
                        };
                        var YW = function(aE, eo, fp) {
                            var hg = aE.igElements;
                            var fG = VN(aE);
                            if (fG && (fG.right - fG.left) > 0 && (fG.bottom - fG.top) > 0) {
                                return new IPCC.Web.UI.Point(eo - fG.left - hg.mO.scrollLeft, fp - fG.top - hg.mO.scrollTop);
                            } else {
                                return;
                            }
                        };
                        var aCI = function(pS) {
                            pS.IX([new IPCC.kb(IPCC.Web.UI.MarkType.Text)]);
                        };
                        var aBz = function(pS) {
                            pS.set_mouseTool(IPCC.Web.UI.MouseTool.None);
                        };
                        var KQ = false,
                            axB = "";
                        var alm = function aHK(bS, hQ, aP) {
                            if (hQ.match(/edit/)) {
                                KQ = true;
                                return;
                            }
                            aCI(aP.bg);
                            KQ = true;
                            axB = hQ;
                            aP.bg.HN("touchstart", bS);
                        };
                        var alj = function(aP) {
                            KQ = false;
                            aBz(aP.bg);
                        };
                        var YB = function(bS) {
                            if (bS.target && bS.target.attributes && bS.target.getAttribute('data-pcc-mark')) {
                                return bS.target;
                            } else if (bS.target.parentElement && bS.target.parentElement.attributes && bS.target.parentElement.getAttribute('data-pcc-mark')) {
                                return bS.target.parentElement;
                            } else if (bS.target.parentNode && bS.target.parentNode.attributes && bS.target.parentNode.getAttribute('data-pcc-mark')) {
                                return bS.target.parentNode;
                            } else {
                                return undefined;
                            }
                        };
                        var Yy = function(bS) {
                            var db = YB(bS);
                            if (db) {
                                return db.getAttribute('data-pcc-mark');
                            }
                            return undefined;
                        };
                        var akD = function(pS) {
                            if (pS && pS.eg()) {
                                pS.eg().Cx(function(L) {
                                    L.set_selected(false);
                                });
                                pS.display();
                            }
                        };
                        var KJ, Uv = false;
                        var Ox = function(bS, F) {
                            var mb = {
                                bK: undefined,
                                L: undefined,
                                aw: null
                            };
                            var ka = YB(bS);
                            if (ka) {
                                if (typeof aE !== 'undefined' && aE !== false && aE.bg && aE.igElements && aE.bg.dZ() === true) {
                                    mb.aw = aE.bg.pa();
                                }
                                if (ka.ImGearMarkRelation) {
                                    mb.bK = 'mark';
                                    mb.L = ka.ImGearMarkRelation.L;
                                    mb.ZE = mb.L.get_selected();
                                    return mb;
                                } else {
                                    while (!(ka.ImGearMarkRelation) && ka.parentNode && ka !== document.body) {
                                        ka = ka.parentNode;
                                        if (ka.ImGearMarkRelation) {
                                            mb.bK = 'mark';
                                            mb.L = ka.ImGearMarkRelation.L;
                                            mb.ZE = mb.L.get_selected();
                                            return mb;
                                        }
                                    }
                                }
                            }
                            if (typeof aE !== 'undefined' && aE !== false && aE.bg && aE.igElements && aE.bg.dZ() === true) {
                                mb.aw = aE.bg.pa();
                                var aw = 0;
                                for (aw = 0; aw < bJ.length; aw++) {
                                    if (bJ[aw].ac === aE.id) {
                                        if (typeof F.targetType === 'undefined' || F.targetType === null) {
                                            mb.bK = 'page';
                                            return mb;
                                        }
                                        break;
                                    }
                                }
                            }
                            return mb;
                        };
                        var NC = function(aw, rw, jb, awI) {
                            if (bd === null || bd === undefined) {
                                return;
                            }
                            var Sp = false;
                            if (rw === undefined) {
                                rw = bd.rw;
                                Sp = true;
                            }
                            if (jb === undefined) {
                                jb = bd.jb;
                                Sp = true;
                            }
                            var L;
                            var aP = document.getElementById(bJ[aw].ac);
                            if (awI === true) {
                                L = bd.xP;
                            } else {
                                L = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);
                                L.set_rectangle({
                                    x: 0,
                                    y: 0,
                                    width: 0,
                                    height: 0
                                });
                                L.cT = 127;
                                L.dR = '#3366CC';
                                L.bA = null;
                                aP.bg.lX().addMark(L);
                            }
                            L.set_selected(true);
                            if (Sp === true) {
                                if (bd.hy === bd.hw) {
                                    L.aT = gB;
                                    L.cq = jb - gB + 1;
                                    L.kl = true;
                                    L.lB = true;
                                    aP.bg.display();
                                } else if (aw === bd.hy) {
                                    L.aT = gB;
                                    L.cq = aP.bg.ca().gT().en() - 1 - rw;
                                    L.kl = true;
                                    L.lB = false;
                                    aP.bg.display();
                                } else if (aw === bd.hw) {
                                    L.aT = 0;
                                    L.cq = jb + 1;
                                    L.kl = false;
                                    L.lB = true;
                                    aP.bg.display();
                                } else {
                                    L.aT = 0;
                                    L.cq = aP.bg.ca().gT().en() - 1 - gB;
                                    L.kl = false;
                                    L.lB = false;
                                }
                            } else {
                                if (bd.hy === bd.hw) {
                                    L.kl = true;
                                    L.lB = true;
                                } else if (aw === bd.hy) {
                                    L.kl = true;
                                    L.lB = false;
                                } else if (aw === bd.hw) {
                                    L.kl = false;
                                    L.lB = true;
                                } else {
                                    L.kl = false;
                                    L.lB = false;
                                }
                            }
                            bd.eD[aw] = L;
                        };
                        var ahX = function(db, aM, di, QA) {
                            if (db) {
                                var RA = db.getBoundingClientRect();
                                aM = IPCC.T.Nk(aM, RA.left + QA);
                                aM = IPCC.T.NA(aM, RA.right - QA);
                                di = IPCC.T.Nk(di, RA.top + QA);
                                di = IPCC.T.NA(di, RA.bottom - QA);
                            }
                            return {
                                x: aM,
                                y: di
                            };
                        };
                        var lq = function(bS) {
                            if (AO) {
                                if (AO.clientX === bS.clientX && AO.clientY === bS.clientY) {
                                    if (bS.rawEvent.preventDefault) {
                                        bS.rawEvent.preventDefault();
                                    } else if (bS.preventDefault) {
                                        bS.preventDefault();
                                    }
                                    if (bS.rawEvent.stopPropagation) {
                                        bS.rawEvent.stopPropagation();
                                    } else if (bS.stopPropagation) {
                                        bS.stopPropagation();
                                    }
                                    Uv = true;
                                    AO = undefined;
                                    return false;
                                }
                            }
                            KJ = bS;
                            alw(bS, bS.clientX, bS.clientY, bS.button);
                        };
                        var akX = function(bS, F) {
                            mj = Ox(bS, F);
                        };
                        var alw = function(bS, eo, fp, pp) {
                            var F = new IPCC.Web.UI.MouseEventArgs();
                            aE = Zu(eo, fp);
                            akX(bS, F);
                            var hQ;
                            var ka = YB(bS);
                            if (ka) {
                                hQ = ka.getAttribute('data-pcc-mark');
                            }
                            var aaO = false;
                            var Og = hQ && hQ.substring(0, 10);
                            if (hQ && Og === 'texthandle') {
                                Cu = true;
                                aaO = true;
                                Og = hQ.substring(10, 13);
                                var L = ka.parentNode.ImGearMarkRelation.L;
                                if (bd && L.bA === null) {
                                    pb = bd.rK.slice();
                                    pb[F.pageIndex] = undefined;
                                } else {
                                    bd = null;
                                    pb = [];
                                    V.xj();
                                }
                                var ael = function(axt) {
                                    gB = bd.rw;
                                    var C;
                                    for (C = bd.hw; C >= bd.hy; C--) {
                                        var aP = document.getElementById(bJ[C].ac);
                                        if (aP.bg === undefined || aP.bg === null) {
                                            continue;
                                        }
                                        var zw = gB;
                                        if (C !== bd.hy) {
                                            zw = 0;
                                        }
                                        var pY;
                                        if (C === bd.hw) {
                                            pY = bd.jb;
                                        } else {
                                            pY = aP.bg.get_textPage().gT().en() - 1;
                                        }
                                        axt(aP, zw, pY);
                                        if (C !== bd.oY) {
                                            NC(C);
                                        }
                                    }
                                    tx = cJ;
                                    cJ = IPCC.Web.UI.MouseTool.SelectText;
                                    bG = true;
                                };
                                var C, aw, au, Op, eL, rX, cS;
                                if (Og === 'sta') {
                                    if (bd === null || bd === undefined) {
                                        aw = L.aw;
                                        bd = {};
                                        bd.eD = [];
                                        bd.hy = aw;
                                        bd.rw = L.aT;
                                        gB = L.aT;
                                        while (aw < bJ.length) {
                                            au = bJ[aw].au;
                                            Op = au.get_markCount();
                                            for (C = 0; C < Op; C++) {
                                                eL = au.getMark(C);
                                                if (L.ah === eL.ah && eL.get_type() === L.get_type()) {
                                                    bd.eD[aw] = eL;
                                                    for (rX = eL.bA.length - 1; rX >= 0; rX--) {
                                                        if (eL.bA[rX].set_visible) {
                                                            eL.bA[rX].set_visible(false);
                                                        } else {
                                                            eL.set_visible(false);
                                                            break;
                                                        }
                                                    }
                                                    if (aw === L.aw) {
                                                        tW = eL;
                                                    } else {
                                                        pb[aw] = cS.substring(eL.aT, eL.cq);
                                                        eL.set_selected(false);
                                                    }
                                                    cS = eL.cS.substring(eL.cq);
                                                    if (eL.lB === true) {
                                                        bd.jb = eL.aT + eL.cq - 1;
                                                        bd.hw = aw;
                                                        break;
                                                    }
                                                }
                                            }
                                            aw++;
                                        }
                                    }
                                    oG = bd.jb + 1;
                                    lx = bd.hw;
                                    var aGl = function(aP, zw, pY) {
                                        aP.bg.showEmptyTextSelection(pY + 1);
                                        aP.bg.extendTextSelection(undefined);
                                        aP.bg.extendTextSelection(pY);
                                        aP.bg.extendTextSelection(zw);
                                    };
                                    bd.eD[bd.hy].yX = true;
                                    bd.oY = bd.hy;
                                    bd.xP = bd.eD[bd.hy];
                                    ael(aGl);
                                } else if (Og === 'end') {
                                    if (bd === null || bd === undefined) {
                                        aw = L.aw;
                                        bd = {};
                                        bd.eD = [];
                                        bd.hw = aw;
                                        bd.jb = L.aT + L.cq - 1;
                                        while (aw >= 0) {
                                            au = bJ[aw].au;
                                            Op = au.get_markCount();
                                            for (C = 0; C < Op; C++) {
                                                eL = au.getMark(C);
                                                if (L.ah === eL.ah && eL.get_type() === L.get_type()) {
                                                    bd.eD[aw] = eL;
                                                    for (rX = eL.bA.length - 1; rX >= 0; rX--) {
                                                        if (eL.bA[rX].set_visible) {
                                                            eL.bA[rX].set_visible(false);
                                                        } else {
                                                            eL.set_visible(false);
                                                            break;
                                                        }
                                                    }
                                                    if (aw === L.aw) {
                                                        cS = eL.cS;
                                                    } else {
                                                        pb[aw] = cS.substring(cS.length - eL.cq);
                                                        eL.set_selected(false);
                                                    }
                                                    cS = eL.cS.substring(0, cS.length - eL.cq);
                                                    if (eL.kl === true) {
                                                        bd.rw = eL.aT;
                                                        gB = eL.aT;
                                                        bd.hy = aw;
                                                        tW = eL;
                                                        break;
                                                    }
                                                }
                                            }
                                            aw--;
                                        }
                                    }
                                    oG = bd.rw;
                                    lx = bd.hy;
                                    var aEU = function(aP, zw, pY) {
                                        aP.bg.showEmptyTextSelection(zw);
                                        aP.bg.extendTextSelection(undefined);
                                        aP.bg.extendTextSelection(zw);
                                        aP.bg.extendTextSelection(pY);
                                    };
                                    bd.eD[bd.hw].yX = true;
                                    bd.oY = bd.hw;
                                    bd.xP = bd.eD[bd.hw];
                                    ael(aEU);
                                }
                                if (tW) {
                                    aE.bg.display();
                                }
                            }
                            var BQ = bS.target.tagName && bS.target.tagName.toLowerCase() === 'textarea';
                            if (BQ) {
                                return;
                            }
                            var zG = bS.target.tagName && bS.target.tagName.toLowerCase() === 'input' && bS.target.type && bS.target.type.toLowerCase() === 'text';
                            if (zG) {
                                return;
                            }
                            if (cJ === IPCC.Web.UI.MouseTool.HandPan && ys && hQ && aaO === false) {
                                if (!mj || mj.L.get_interactionMode() !== IPCC.Web.UI.MarkInteractionMode.SelectionDisabled) {
                                    alm(bS, hQ, aE);
                                    return;
                                }
                            }
                            var cD;
                            var eJ;
                            if (aE !== false && aE.bg && aE.igElements && aE.bg.dZ() === true) {
                                var ay = 0;
                                for (ay = 0; ay < bJ.length; ay++) {
                                    if (bJ[ay].ac === aE.id) {
                                        F.pageIndex = ay;
                                        break;
                                    }
                                }
                                F.pointLiesWithinImage = true;
                                eJ = YW(aE, eo, fp);
                                if (eJ) {
                                    cD = aE.bg.NP(eJ, false);
                                    F.imagePoint = cD;
                                    F.constrainedImagePoint = cD;
                                } else {
                                    F.pointLiesWithinImage = false;
                                }
                            } else {
                                F.pointLiesWithinImage = false;
                            }
                            F.domEvent = bS;
                            F.windowPoint = new IPCC.Web.UI.Point(eo, fp);
                            if (aaO === true) {
                                uJ = -1;
                                cw = F.pageIndex;
                                bS.preventDefault();
                                V.aQ('mouseDown', F);
                                return;
                            }
                            switch (cJ) {
                                case IPCC.Web.UI.MouseTool.None:
                                    bS.preventDefault();
                                    break;
                                case IPCC.Web.UI.MouseTool.HandPan:
                                    bS.preventDefault();
                                    wZ = fp;
                                    wz = eo;
                                    YL = bj.scrollTop;
                                    YD = bj.scrollLeft;
                                    bG = true;
                                    aO.style.cursor = IPCC.ar.ei(IPCC.ar.HandClosed);
                                    break;
                                case IPCC.Web.UI.MouseTool.SelectText:
                                case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:
                                case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:
                                case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:
                                case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:
                                    bS.preventDefault();
                                    if (pp === 0 && aE && aE.bg && cD) {
                                        V.xj();
                                        pb = [];
                                        uJ = -1;
                                        Cu = undefined;
                                        var df = aE.bg.transformPagePointToTextIndex(cD);
                                        gB = df;
                                        oG = df;
                                        bG = true;
                                        if (df === undefined) {
                                            V.aQ('mouseDown', F);
                                            return;
                                        }
                                        aE.bg.showEmptyTextSelection(df);
                                        aE.bg.extendTextSelection(undefined);
                                        aE.bg.extendTextSelection(df);
                                        aE.bg.display();
                                        lx = F.pageIndex;
                                        cw = F.pageIndex;
                                    }
                                    break;
                                case IPCC.Web.UI.MouseTool.Magnifier:
                                    bS.preventDefault();
                                    if (pp === 0 && aE && aE.bg && eJ) {
                                        var ju = IPCC.ar.ei(IPCC.ar.None);
                                        aO.style.cursor = ju;
                                        aE.bg.showMagnifier(eJ);
                                        aE.bg.display();
                                    }
                                    bG = true;
                                    break;
                                case IPCC.Web.UI.MouseTool.RectangleZoom:
                                    bS.preventDefault();
                                    if (pp === 0 && aE && aE.bg && cD) {
                                        bG = true;
                                        wZ = eJ.y;
                                        wz = eJ.x;
                                        aE.bg.showEmptySelection(cD);
                                        aE.bg.display();
                                    }
                                    break;
                            }
                            V.aQ('mouseDown', F);
                        };
                        var jV = function(bS) {
                            alu(bS, bS.clientX, bS.clientY, bS.button);
                        };
                        var ajb = function(F, eo, fp, bW) {
                            F.windowPoint = new IPCC.Web.UI.Point(eo, fp);
                            bW = Zu(eo, fp);
                            var cD, eJ;
                            if (bW !== false && bW.bg && bW.igElements && bW.bg.dZ() === true) {
                                F.pointLiesWithinImage = true;
                                eJ = YW(bW, eo, fp);
                                if (eJ) {
                                    cD = bW.bg.NP(eJ, false);
                                    F.imagePoint = cD;
                                    F.constrainedImagePoint = cD;
                                } else {
                                    F.pointLiesWithinImage = false;
                                }
                            } else {
                                F.pointLiesWithinImage = false;
                            }
                            return {
                                F: F,
                                eo: eo,
                                fp: fp,
                                bW: bW,
                                cD: cD,
                                eJ: eJ
                            };
                        };
                        var alu = function(bS, eo, fp, pp) {
                            var BQ = bS.target.tagName && bS.target.tagName.toLowerCase() === 'textarea';
                            if (BQ) {
                                return;
                            }
                            var zG = bS.target.tagName && bS.target.tagName.toLowerCase() === 'input' && bS.target.type && bS.target.type.toLowerCase() === 'text';
                            if (zG) {
                                return;
                            }
                            var F = new IPCC.Web.UI.MouseEventArgs();
                            var cD, eJ, bW;
                            var Kh = function(eo, fp) {
                                var oX = ajb(F, eo, fp, bW);
                                F = oX.F;
                                F.domEvent = bS;
                                eo = oX.eo;
                                fp = oX.fp;
                                bW = oX.bW;
                                cD = oX.cD;
                                eJ = oX.eJ;
                            };
                            Kh(eo, fp);
                            var ka = Ox(bS, F);
                            if (ka && ka.L) {
                                F.mark = ka.L;
                            }
                            var ju;
                            switch (cJ) {
                                case IPCC.Web.UI.MouseTool.None:
                                    bS.preventDefault();
                                    break;
                                case IPCC.Web.UI.MouseTool.HandPan:
                                    bS.preventDefault();
                                    if (bG) {
                                        var anZ = fp;
                                        var anA = eo;
                                        var aFb = wZ - anZ;
                                        var aBE = wz - anA;
                                        bj.scrollTop = YL + aFb;
                                        bj.scrollLeft = YD + aBE;
                                    }
                                    break;
                                case IPCC.Web.UI.MouseTool.SelectText:
                                case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:
                                case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:
                                case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:
                                case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:
                                    bS.preventDefault();
                                    if (bG) {
                                        if (pp !== 0) {
                                            CX();
                                        }
                                        var gs;
                                        if (!bW) {
                                            V.aQ('mouseMove', F);
                                            return;
                                        }
                                        if (gB === undefined) {
                                            aE = bW;
                                        } else if (bW !== aE && bW.bg && eJ) {
                                            uJ = -1;
                                            var kg = 0;
                                            var C = 0;
                                            for (C = 0; C < bJ.length; C++) {
                                                if (bJ[C].ac === bW.id) {
                                                    kg = C;
                                                    break;
                                                }
                                            }
                                            if (kg > cw) {
                                                if (kg > lx) {
                                                    gs = aE.bg.get_textPage().gT().en() - 1;
                                                    if (gs < 0) {
                                                        CX();
                                                        V.aQ('mouseMove', F);
                                                        return;
                                                    }
                                                    aE.bg.extendTextSelection(gs);
                                                    if (bd) {
                                                        gs = aE.bg.get_textPage().gT().en() - 1;
                                                        bd.eD[cw].set_startIndex(aE.bg.OR());
                                                        bd.eD[cw].set_textLength(aE.bg.Cg());
                                                        bd.hw = kg;
                                                        gB = aE.bg.OR();
                                                    }
                                                    pb[cw] = aE.bg.getSelectedText();
                                                    bW.bg.showEmptyTextSelection(0);
                                                    bW.bg.extendTextSelection(undefined);
                                                    uJ = 0;
                                                    aE.bg.display();
                                                    aE = bW;
                                                } else {
                                                    gB = 0;
                                                    pb[cw] = undefined;
                                                    pb[kg] = undefined;
                                                    aE.bg.showEmptyTextSelection(0);
                                                    aE.bg.extendTextSelection(undefined);
                                                    if (bd && bd.eD[cw]) {
                                                        bd.eD[cw].kl = false;
                                                    }
                                                    aE.bg.display();
                                                    aE = bW;
                                                    if (bd && bd.eD[cw]) {
                                                        bd.eD[cw] = undefined;
                                                        bd.hy = kg;
                                                        bd.eD[kg].set_startIndex(0);
                                                        bd.eD[kg].set_textLength(bd.eD[kg].get_startIndex() + bd.eD[kg].get_textLength());
                                                        bd.eD[kg].kl = true;
                                                        aE.bg.display();
                                                    }
                                                }
                                            } else if (kg < cw) {
                                                if (kg < lx) {
                                                    gs = aE.bg.get_currentTextIndex();
                                                    if (gs !== 0) {
                                                        aE.bg.extendTextSelection(0);
                                                    }
                                                    if (bd) {
                                                        bd.eD[cw].set_startIndex(aE.bg.OR());
                                                        bd.eD[cw].set_textLength(aE.bg.Cg());
                                                        bd.hy = kg;
                                                    }
                                                    pb[cw] = aE.bg.getSelectedText();
                                                    aE.bg.display();
                                                    gs = bW.bg.ca().gT().en() - 1;
                                                    uJ = gs;
                                                    gB = 0;
                                                    bW.bg.showEmptyTextSelection(gs + 1);
                                                    bW.bg.extendTextSelection(undefined);
                                                    aE = bW;
                                                    aE.bg.display();
                                                } else {
                                                    pb[cw] = undefined;
                                                    pb[kg] = undefined;
                                                    aE.bg.showEmptyTextSelection(0);
                                                    aE.bg.extendTextSelection(undefined);
                                                    if (bd && bd.eD[cw]) {
                                                        bd.eD[cw].lB = false;
                                                    }
                                                    aE.bg.display();
                                                    aE = bW;
                                                    if (bd && bd.eD[cw]) {
                                                        bd.eD[cw] = undefined;
                                                        bd.hw = kg;
                                                        gs = aE.bg.ca().gT().en() - 1;
                                                        bd.eD[kg].set_textLength(bW.bg.Cg());
                                                        bd.eD[kg].lB = true;
                                                        aE.bg.display();
                                                    }
                                                }
                                            }
                                            cw = kg;
                                        }
                                        var aoH = (cw < lx),
                                            aoj = (cw > lx);
                                        if (aE && aE.bg && aE.bg.dZ() === true && eJ) {
                                            eJ = YW(aE, eo, fp);
                                            cD = aE.bg.NP(eJ, false);
                                            var df = aE.bg.transformPagePointToTextIndex(cD);
                                            if (gB === undefined) {
                                                gB = df;
                                                oG = df;
                                                if (df === undefined) {
                                                    V.aQ('mouseMove', F);
                                                    return;
                                                }
                                                aE.bg.showEmptyTextSelection(df);
                                                aE.bg.extendTextSelection(undefined);
                                                aE.bg.extendTextSelection(df);
                                                aE.bg.display();
                                                var ba = 0;
                                                for (ba = 0; ba < bJ.length; ba++) {
                                                    if (bJ[ba].ac === aE.id) {
                                                        lx = ba;
                                                        cw = ba;
                                                        break;
                                                    }
                                                }
                                            } else {
                                                if (gB === +gB && df === +df) {
                                                    if (aoH) {
                                                        gB = df;
                                                    } else if (!aoj) {
                                                        gB = Math.min(oG, df);
                                                    }
                                                }
                                            }
                                            gs = aE.bg.get_currentTextIndex();
                                            if (gs === df || df === undefined) {
                                                V.aQ('mouseMove', F);
                                                return;
                                            }
                                            if (uJ !== -1) {
                                                if (df !== uJ) {
                                                    aE.bg.extendTextSelection(uJ);
                                                }
                                                uJ = -1;
                                            }
                                            if ((df > oG && cw === lx) || cw > lx) {
                                                if (bd) {
                                                    if (bd.eD[cw] === undefined || bd.eD[cw] === null) {
                                                        NC(cw, 0, 0, cw === bd.oY);
                                                        if (cw - 1 >= 0 && bd.eD[cw - 1]) {
                                                            bd.eD[cw - 1].lB = false;
                                                            document.getElementById(bJ[cw - 1].ac).bg.display();
                                                        }
                                                    }
                                                    bd.eD[cw].lB = true;
                                                }
                                                if (Cu === undefined) {
                                                    Cu = false;
                                                }
                                            } else if (df < oG || cw < lx) {
                                                if (bd) {
                                                    if (bd.eD[cw] === undefined || bd.eD[cw] === null) {
                                                        NC(cw, aE.bg.ca().gT().en() - 1, 0, cw === bd.oY);
                                                        if (bd.eD[cw + 1]) {
                                                            bd.eD[cw + 1].kl = false;
                                                            document.getElementById(bJ[cw + 1].ac).bg.display();
                                                        }
                                                    }
                                                    bd.eD[cw].kl = true;
                                                }
                                                if (Cu === undefined) {
                                                    Cu = true;
                                                    oG++;
                                                    aE.bg.showEmptyTextSelection(oG);
                                                    aE.bg.extendTextSelection(undefined);
                                                    var pY = aE.bg.ca().gT().en();
                                                    if (oG >= pY) {
                                                        aE.bg.extendTextSelection(pY - 1);
                                                    } else {
                                                        aE.bg.extendTextSelection(oG);
                                                    }
                                                }
                                            }
                                            aE.bg.extendTextSelection(df);
                                            if (bd && bd.eD[cw]) {
                                                bd.eD[cw].set_startIndex(aE.bg.OR());
                                                bd.eD[cw].set_textLength(aE.bg.Cg());
                                            }
                                            aE.bg.display();
                                        }
                                    }
                                    break;
                                case IPCC.Web.UI.MouseTool.Magnifier:
                                    bS.preventDefault();
                                    if (bG) {
                                        if (pp !== 0 || (aE && aE.bg && aE !== bW)) {
                                            aE.bg.hideMagnifier();
                                            ju = IPCC.ar.ei(IPCC.ar.Magnifier);
                                            aO.style.cursor = ju;
                                            aE.bg.display();
                                        }
                                        if (bW && bW.bg && eJ) {
                                            aE = bW;
                                            ju = IPCC.ar.ei(IPCC.ar.None);
                                            aO.style.cursor = ju;
                                            bW.bg.showMagnifier(eJ);
                                            bW.bg.display();
                                        }
                                    }
                                    break;
                                case IPCC.Web.UI.MouseTool.RectangleZoom:
                                    bS.preventDefault();
                                    if (bG) {
                                        var FO = ahX(aE, eo, fp, 1);
                                        Kh(FO.x, FO.y);
                                        if (bW && bW.bg && cD && bW === aE) {
                                            if (pp !== 0) {
                                                bW.bg.hideSelection();
                                                bW.bg.display();
                                                bG = false;
                                            } else {
                                                bW.bg.extendSelection(cD);
                                                bW.bg.display();
                                            }
                                        }
                                    }
                                    break;
                            }
                            V.aQ('mouseMove', F);
                        };
                        var lh = function(bS) {
                            if (Uv !== true) {
                                WL(bS, bS.clientX, bS.clientY);
                            } else {
                                Uv = false;
                            }
                        };
                        var alc = function(bS, F) {
                            F.upTargetType = null;
                            var BS = Ox(bS, F);
                            F.originalEvent = bS.rawEvent;
                            F.clientX = bS.clientX;
                            F.clientY = bS.clientY;
                            F.downTarget = {
                                type: undefined,
                                pageIndex: undefined
                            };
                            if (typeof mj !== 'undefined' && typeof mj.bK !== 'undefined') {
                                F.downTarget.type = mj.bK;
                            }
                            if (typeof mj !== 'undefined' && typeof mj.aw !== 'undefined') {
                                F.downTarget.pageIndex = mj.aw;
                            }
                            if (typeof mj !== 'undefined' && typeof mj.ZE !== 'undefined') {
                                F.downTarget.alreadySelected = mj.ZE;
                            }
                            F.downMark = (typeof mj !== 'undefined') ? mj.L : undefined;
                            F.upMark = BS.L;
                            switch (BS.bK) {
                                case 'page':
                                case 'mark':
                                    F.upTarget = {
                                        type: BS.bK,
                                        pageIndex: BS.aw
                                    };
                                    break;
                            }
                            if (F.pointLiesWithinImage === false && BS.bK === 'page') {
                                BS.aw = -1;
                            }
                        };
                        var WL = function(bS, eo, fp) {
                            var F = new IPCC.Web.UI.MouseEventArgs();
                            var bW;
                            var cD;
                            var eJ;
                            var Kh = function(eo, fp) {
                                var oX = ajb(F, eo, fp, bW);
                                F = oX.F;
                                F.domEvent = bS;
                                eo = oX.eo;
                                fp = oX.fp;
                                bW = oX.bW;
                                cD = oX.cD;
                                eJ = oX.eJ;
                            };
                            Kh(eo, fp);
                            if (bS) {
                                alc(bS, F);
                                V.aQ('mouseUp', F);
                            }
                            mj = undefined;
                            var ju;
                            switch (cJ) {
                                case IPCC.Web.UI.MouseTool.None:
                                    bS.preventDefault();
                                    break;
                                case IPCC.Web.UI.MouseTool.HandPan:
                                    bS.preventDefault();
                                    if (bG) {
                                        wz = undefined;
                                        wZ = undefined;
                                        YL = undefined;
                                        YD = undefined;
                                        bG = false;
                                        ai = IPCC.ar.HandOpen;
                                        ju = IPCC.ar.ei(ai);
                                        aO.style.cursor = ju;
                                    }
                                    break;
                                case IPCC.Web.UI.MouseTool.SelectText:
                                case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:
                                case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:
                                case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:
                                case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:
                                    if (bS) {
                                        bS.preventDefault();
                                    }
                                    if (bG) {
                                        var qO = new IPCC.Web.UI.TextSelectedEventArgs(),
                                            kq = [],
                                            C, wH, yT;
                                        var jb;
                                        var JV = aE.bg.getSelectedText();
                                        var rK = pb.slice();
                                        if (JV.length > 0) {
                                            rK[cw] = aE.bg.getSelectedText();
                                        } else {
                                            if (cw > lx) {
                                                cw--;
                                                aE = document.getElementById(bJ[cw].ac);
                                                if (rK[cw]) {
                                                    JV = rK[cw];
                                                }
                                            } else if (cw < lx) {
                                                cw++;
                                                aE = document.getElementById(bJ[cw].ac);
                                                if (rK[cw]) {
                                                    JV = rK[cw];
                                                }
                                            }
                                        }
                                        qO.text = rK.join('');
                                        var Ug = true;
                                        if (cw >= lx) {
                                            if (cw === lx) {
                                                if (aE.bg.get_currentTextIndex() >= oG) {
                                                    Ug = false;
                                                }
                                                jb = gB + JV.length - 1;
                                            } else {
                                                jb = JV.length - 1;
                                            }
                                            if (jb < 0) {
                                                jb = 0;
                                            }
                                            wH = lx;
                                            yT = cw;
                                        } else {
                                            Ug = false;
                                            jb = oG - 1;
                                            wH = cw;
                                            yT = lx;
                                        }
                                        for (C = wH; C <= yT; C++) {
                                            kq.push(C);
                                        }
                                        if (qO.text.length === 0) {
                                            CX();
                                            kq = [];
                                        }
                                        qO.pageNumbers = kq;
                                        qO.clientX = eo;
                                        qO.clientY = fp;
                                        if (gB !== undefined) {
                                            if (cJ === IPCC.Web.UI.MouseTool.SelectText) {
                                                var awe = function(aP, Aw) {
                                                    var Jp = aP.bg.ca();
                                                    var hs = Jp.gT();
                                                    var er = hs.kT(Aw);
                                                    return er.uy();
                                                };
                                                var gs = aE.bg.get_currentTextIndex();
                                                var Lc = awe(aE, gs);
                                                var dW = 0,
                                                    fA = 0;
                                                if (Ug === false) {
                                                    dW = Lc.width;
                                                    fA = Lc.height;
                                                }
                                                var Eu = aE.bg.transformPagePointToWindow(new IPCC.Web.UI.Point(Lc.x + dW, Lc.y + fA), true);
                                                var cn = akk(aE, Eu.x, Eu.y);
                                                qO.handleClientX = cn.x;
                                                qO.handleClientY = cn.y;
                                            }
                                            var atb = bd === undefined || bd === null;
                                            if (tW) {
                                                qO.previousFirstMark = tW;
                                                qO.firstMark = bd.eD[wH];
                                                if (bd.oY < wH || bd.oY > yT) {
                                                    var HF = document.getElementById(bJ[bd.oY].ac);
                                                    if (HF.bg) {
                                                        HF.bg.lX().removeMark(bd.xP);
                                                    }
                                                }
                                                bd.xP.yX = false;
                                                V.xj();
                                                if (tx !== null) {
                                                    cJ = tx;
                                                }
                                                tx = null;
                                            } else if (atb === true) {
                                                if (cJ === IPCC.Web.UI.MouseTool.SelectText) {
                                                    bd = {
                                                        hy: wH,
                                                        rw: gB,
                                                        hw: yT,
                                                        jb: jb,
                                                        rK: rK.slice(),
                                                        eD: []
                                                    };
                                                    for (C = 0; C < kq.length; C++) {
                                                        NC(kq[C]);
                                                    }
                                                } else {
                                                    V.xj();
                                                }
                                            } else {
                                                if (bd.oY < wH || bd.oY > yT) {
                                                    var afN = document.getElementById(bJ[bd.oY].ac);
                                                    if (afN.bg) {
                                                        afN.bg.lX().removeMark(bd.xP);
                                                    }
                                                }
                                                bd.xP.yX = false;
                                                bd.hy = wH;
                                                bd.rw = gB;
                                                bd.hw = yT;
                                                bd.jb = jb;
                                                bd.rK = rK.slice();
                                                if (tx !== null) {
                                                    cJ = tx;
                                                }
                                                tx = null;
                                            }
                                            qO.mouseTool = cJ;
                                            qO.startIndex = gB;
                                            V.aQ('selectTextMouseToolCompleted', qO);
                                            if (tW) {
                                                tW = null;
                                                bd = null;
                                            }
                                        }
                                        bG = false;
                                    }
                                    break;
                                case IPCC.Web.UI.MouseTool.Magnifier:
                                    bS.preventDefault();
                                    if (bW && bW.bg) {
                                        bW.bg.hideMagnifier();
                                        ju = IPCC.ar.ei(IPCC.ar.Magnifier);
                                        aO.style.cursor = ju;
                                        bW.bg.display();
                                    }
                                    bG = false;
                                    break;
                                case IPCC.Web.UI.MouseTool.RectangleZoom:
                                    bS.preventDefault();
                                    var FO = ahX(aE, eo, fp, 1);
                                    Kh(FO.x, FO.y);
                                    if (bG && eJ) {
                                        var Bq = 0;
                                        var Ci = 0;
                                        var We = 0;
                                        var Xw = 0;
                                        if (eJ.x < wz) {
                                            Bq = wz - eJ.x;
                                            We = eJ.x + Bq / 2;
                                        } else {
                                            Bq = eJ.x - wz;
                                            We = wz + Bq / 2;
                                        }
                                        if (eJ.y < wZ) {
                                            Ci = wZ - eJ.y;
                                            Xw = eJ.y + Ci / 2;
                                        } else {
                                            Ci = eJ.y - wZ;
                                            Xw = wZ + Ci / 2;
                                        }
                                        var afA = bj.clientWidth / Bq;
                                        var aeI = bj.clientHeight / Ci;
                                        var ox = afA;
                                        if (afA > aeI) {
                                            ox = aeI;
                                        }
                                        if (bW && bW.bg) {
                                            bW.bg.ow();
                                            bW.bg.display();
                                        }
                                        bG = false;
                                        if (Bq * 2 + Ci * 2 > 25) {
                                            V.asS(ox, We, Xw, bW);
                                        }
                                    }
                                    break;
                            }
                            var BQ = false;
                            var zG = false;
                            if (bS) {
                                BQ = bS.target.tagName && bS.target.tagName.toLowerCase() === 'textarea';
                                zG = bS.target.tagName && bS.target.tagName.toLowerCase() === 'input' && bS.target.type && bS.target.type.toLowerCase() === 'text';
                            }
                            if (KQ && !BQ && !zG) {
                                alj(aE);
                            } else if (cJ === IPCC.Web.UI.MouseTool.HandPan && KJ && !BQ && !zG && bS && KJ.clientX === bS.clientX && KJ.clientY === bS.clientY && bS.shiftKey !== true && bS.ctrlKey !== true) {
                                akD(aE.bg);
                            }
                        };
                        var ayR = function() {
                            var ju;
                            switch (cJ) {
                                case IPCC.Web.UI.MouseTool.None:
                                    break;
                                case IPCC.Web.UI.MouseTool.HandPan:
                                    ai = IPCC.ar.HandOpen;
                                    ju = IPCC.ar.ei(ai);
                                    aO.style.cursor = ju;
                                    bG = false;
                                    break;
                                case IPCC.Web.UI.MouseTool.SelectText:
                                    CX();
                                    break;
                                case IPCC.Web.UI.MouseTool.Magnifier:
                                    if (aE && aE.bg) {
                                        aE.bg.hideMagnifier();
                                        ju = IPCC.ar.ei(IPCC.ar.Magnifier);
                                        aO.style.cursor = ju;
                                        aE.bg.display();
                                    }
                                    bG = false;
                                    break;
                                case IPCC.Web.UI.MouseTool.RectangleZoom:
                                    if (aE && aE.bg) {
                                        aE.bg.hideSelection();
                                        aE.bg.display();
                                        bG = false;
                                    }
                                    break;
                            }
                        };
                        var aDG = function() {
                            ayR();
                        };
                        var awf = function() {
                            if (cJ === IPCC.Web.UI.MouseTool.Magnifier) {
                                if (aE && aE.bg) {
                                    aE.bg.hideMagnifier();
                                    var ju = IPCC.ar.ei(IPCC.ar.Magnifier);
                                    aO.style.cursor = ju;
                                    aE.bg.display();
                                }
                                bG = false;
                            } else if (cJ === IPCC.Web.UI.MouseTool.RectangleZoom) {
                                if (aE && aE.bg) {
                                    aE.bg.hideSelection();
                                    aE.bg.display();
                                    bG = false;
                                }
                            } else if (cJ === IPCC.Web.UI.MouseTool.SelectText) {
                                CX();
                            }
                        };
                        var mh = function(bS) {
                            if (bS.ctrlKey) {
                                switch (cJ) {
                                    case IPCC.Web.UI.MouseTool.None:
                                        break;
                                    case IPCC.Web.UI.MouseTool.SelectText:
                                        break;
                                    default:
                                        break;
                                    case IPCC.Web.UI.MouseTool.HandPan:
                                        var KE = bS.rawEvent.wheelDelta;
                                        bS.preventDefault();
                                        if (KE < 0) {
                                            V.zoomOut(1.5);
                                        } else {
                                            V.zoomIn(1.5);
                                        }
                                        break;
                                }
                            } else {
                                bS.preventDefault();
                                bj.scrollTop -= bS.rawEvent.wheelDelta * 0.72;
                            }
                            if (cJ === IPCC.Web.UI.MouseTool.Magnifier) {
                                if (aE && aE.bg) {
                                    aE.bg.hideMagnifier();
                                    var ju = IPCC.ar.ei(IPCC.ar.Magnifier);
                                    aO.style.cursor = ju;
                                    aE.bg.display();
                                }
                                bG = false;
                            } else if (cJ === IPCC.Web.UI.MouseTool.RectangleZoom) {
                                if (aE && aE.bg) {
                                    aE.bg.hideSelection();
                                    aE.bg.display();
                                    bG = false;
                                }
                            } else if (cJ === IPCC.Web.UI.MouseTool.SelectText) {
                                CX();
                            }
                        };
                        var axs = function(bb) {
                            var F = new IPCC.Web.UI.MouseEventArgs();
                            F.upTarget = {
                                type: 'comments',
                                element: bb.target
                            };
                            F.downTarget = {
                                type: 'comments',
                                element: bb.target
                            };
                            F.originalEvent = bb.rawEvent;
                            F.clientX = bb.clientX;
                            F.clientY = bb.clientY;
                            F.pageIndex = undefined;
                            V.aQ('mouseUp', F);
                        };
                        var CX = function() {
                            if (bG === true) {
                                if (bd && bd.oY !== undefined) {
                                    if (tW) {
                                        WL(null, 0, 0);
                                        return;
                                    } else {
                                        var HF = document.getElementById(bJ[bd.oY].ac);
                                        if (HF.bg) {
                                            HF.bg.lX().removeMark(bd.xP);
                                        }
                                        bd.xP.yX = false;
                                    }
                                }
                                V.xj();
                                tW = null;
                                bG = false;
                                if (tx !== null) {
                                    cJ = tx;
                                }
                                tx = null;
                            }
                        };
                        CD = fT({
                            position: 'relative',
                            width: 'auto',
                            height: 'auto',
                            display: 'table',
                            tableLayout: 'fixed',
                            borderSpacing: '0px',
                            margin: '0px auto',
                            clear: 'both',
                            boxSizing: 'border-box'
                        });
                        if (dJ === IPCC.ViewMode.SinglePage) {
                            aO = fT({
                                position: 'relative',
                                whiteSpace: 'nowrap',
                                width: 'auto',
                                height: 'auto',
                                overflow: 'hidden'
                            });
                            aO.className = 'pccPageListContainer pccSinglePageView';
                        } else {
                            aO = fT({
                                position: 'relative',
                                whiteSpace: 'nowrap',
                                width: 'auto',
                                height: 'auto',
                                display: 'table-cell',
                                verticalAlign: 'top'
                            });
                            aO.className = 'pccPageListContainer';
                        }
                        IPCC.Web.UI.ao.addHandler(bj, "mousedown", lq);
                        IPCC.Web.UI.ao.addHandler(bj, "mouseup", lh);
                        IPCC.Web.UI.ao.addHandler(bj, "mousemove", jV);
                        IPCC.Web.UI.ao.addHandler(bj, "mouseleave", aDG);
                        IPCC.Web.UI.ao.addHandler(bj, "mousewheel", mh);
                        IPCC.Web.UI.ao.addHandler(bj, "DOMMouseScroll", awf);
                        bj.onscroll = (!!Fj) ? aqa : arh;
                        aO.setAttribute('id', Pe + '_ListContainer');
                        bj.setAttribute('id', Pe + '_ListWrapper');
                        ass = Pe + '_ListWrapper';
                        kj = fT();
                        kj.className = 'pccPageListComments pccHidden';
                        kj.setAttribute('id', Pe + '_CommentsPanel');
                        var UQ = [];
                        if (IPCC.T.azA) {
                            UQ.push('touchend');
                        } else {
                            UQ.push('click');
                        }
                        IPCC.T.forEach(UQ, function(evName) {
                            IPCC.Web.UI.ao.addHandler(kj, evName, axs);
                        });
                        CD.appendChild(aO);
                        CD.appendChild(kj);
                        bj.appendChild(CD);
                        cg.appendChild(bj);
                        if (navigator.userAgent.match('MSIE 10') && document.documentMode === 10) {
                            var ag = '',
                                aH = '',
                                ti = '',
                                tj = '',
                                ov;
                            var xe = function() {
                                ov = getComputedStyle(cg);
                                ti = ov.getPropertyValue('width');
                                tj = ov.getPropertyValue('height');
                                if (ti !== ag || tj !== aH) {
                                    ag = ti;
                                    aH = tj;
                                    bj.style.width = ag;
                                    bj.style.height = aH;
                                }
                            };
                            setInterval(xe, 1000);
                            window.addEventListener('resize', xe);
                            xe();
                            V.xe = xe;
                        }
                        var ayN = IPCC.T.HZ;
                        if (document.documentElement.getBoundingClientRect && Array.prototype.forEach && ayN && window.addEventListener && document.querySelector) {
                            ara(bj);
                        }
                        var axP = function(aO, aFS) {
                            var jO;
                            var UV = function(bb) {
                                var cZ = bb.rawEvent,
                                    ha = cZ.touches[0] || cZ.changedTouches[0];
                                bb.clientX = ha.clientX;
                                bb.clientY = ha.clientY;
                                bb.preventDefault = function() {
                                    cZ.preventDefault();
                                };
                                bb.stopPropagation = function() {
                                    cZ.stopPropagation();
                                };
                                return bb;
                            };
                            var Fb = function(jo, bb) {
                                var F = new IPCC.Web.UI.MouseEventArgs(),
                                    Ev = (jo === 'touchstart') ? 'mouseDown' : (jo === 'touchend') ? 'mouseUp' : null;
                                var Cj = (jo === 'touchstart') ? alw : (jo === 'touchmove') ? alu : (jo === 'touchend') ? WL : null;
                                jO = Zu(bb.clientX, bb.clientY);
                                if (jo === 'doubleTap') {
                                    jO && jO.bg && jO.bg.HN(jo, bb);
                                }
                                var hQ;
                                hQ = Yy(bb);
                                if (hQ) {
                                    if (hQ.substring(0, 5) === 'texth') {
                                        bb.preventDefault();
                                        bb.stopPropagation();
                                        if (jo === 'touchstart') {
                                            AO = bb;
                                        }
                                        Cj && Cj(bb, bb.clientX, bb.clientY, 0);
                                        return;
                                    }
                                }
                                switch (cJ) {
                                    case IPCC.Web.UI.MouseTool.CreateLineMark:
                                    case IPCC.Web.UI.MouseTool.CreatePolylineMark:
                                    case IPCC.Web.UI.MouseTool.CreateRectangleMark:
                                    case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:
                                    case IPCC.Web.UI.MouseTool.CreateEllipseMark:
                                    case IPCC.Web.UI.MouseTool.CreateTextMark:
                                    case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:
                                    case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:
                                    case IPCC.Web.UI.MouseTool.CreateStampMark:
                                    case IPCC.Web.UI.MouseTool.CreateFreehandMark:
                                    case IPCC.Web.UI.MouseTool.EditMarks:
                                    case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:
                                    case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:
                                        jO && jO.bg && jO.bg.HN(jo, bb);
                                        if (Ev === 'mouseUp') {
                                            alc(bb, F);
                                        } else if (Ev === 'mouseDown') {
                                            akX(bb, F);
                                        }
                                        V.aQ(jo, F);
                                        break;
                                    case IPCC.Web.UI.MouseTool.SelectText:
                                    case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:
                                    case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:
                                    case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:
                                    case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:
                                        bb.preventDefault();
                                        bb.stopPropagation();
                                        if (jo === 'touchstart') {
                                            AO = bb;
                                            if (hQ) {
                                                V.xj();
                                                break;
                                            }
                                        }
                                        Cj && Cj(bb, bb.clientX, bb.clientY, 0);
                                        break;
                                    case IPCC.Web.UI.MouseTool.Magnifier:
                                    case IPCC.Web.UI.MouseTool.RectangleZoom:
                                        bb.preventDefault();
                                        bb.stopPropagation();
                                        if (jo === 'touchstart') {
                                            AO = bb;
                                        }
                                        Cj && Cj(bb, bb.clientX, bb.clientY, 0);
                                        break;
                                    case IPCC.Web.UI.MouseTool.HandPan:
                                        if (hQ === undefined) {
                                            hQ = Yy(bb);
                                        }
                                        var h = Ox(bb, {});
                                        if (hQ && ys) {
                                            if (!h || h.L.get_interactionMode() !== IPCC.Web.UI.MarkInteractionMode.SelectionDisabled) {
                                                if (jo === 'touchstart') {
                                                    alm(bb, hQ, jO);
                                                } else if (jo === 'touchmove') {
                                                    jO && jO.bg && jO.bg.HN(jo, bb);
                                                } else if (jo === 'touchend') {
                                                    jO && jO.bg && jO.bg.HN(jo, bb);
                                                    alj(jO);
                                                }
                                            }
                                        }
                                        break;
                                }
                            };
                            var DA, Au, wF;
                            var axO = function(bb) {
                                if (bb.rawEvent.touches.length > 1) {
                                    clearTimeout(wF);
                                    wF = Au = DA = undefined;
                                    return;
                                }
                                bb = UV(bb);
                                DA = bb;
                                if (cJ === IPCC.Web.UI.MouseTool.CreatePolylineMark) {
                                    bb.preventDefault();
                                }
                                Au = function() {
                                    Fb('touchstart', bb);
                                    wF = Au = DA = undefined;
                                };
                                wF = setTimeout(function() {
                                    Au();
                                }, 200);
                            };
                            var Im, Bv;
                            var ayI = function(bb) {
                                bb = UV(bb);
                                qr = false;
                                var aqE = function() {
                                    if (!Bv) {
                                        return false;
                                    }
                                    var ew = Bv.clientX - bb.clientX;
                                    var et = Bv.clientY - bb.clientY;
                                    var hG = ew * ew + et * et;
                                    return hG < 2500;
                                };
                                var afk = function() {
                                    Im = Bv = undefined;
                                    var hQ = Yy(bb);
                                    if (!hQ && cJ === IPCC.Web.UI.MouseTool.HandPan && ys && jO) {
                                        akD(jO.bg);
                                    }
                                };
                                var aso = function() {
                                    var acK = Au;
                                    if (Im && aqE()) {
                                        clearTimeout(Im);
                                        Bv = Im = undefined;
                                        acK();
                                        Fb('touchend', bb);
                                        Fb('doubleTap', bb);
                                    } else {
                                        Im = setTimeout(function() {
                                            acK();
                                            Fb('touchend', bb);
                                            afk();
                                        }, 300);
                                        Bv = bb;
                                    }
                                };
                                if (DA && wF) {
                                    clearTimeout(wF);
                                    if (cJ === IPCC.Web.UI.MouseTool.CreatePolylineMark) {
                                        aso();
                                    } else {
                                        afk();
                                    }
                                    wF = Au = DA = undefined;
                                    return;
                                }
                                Fb('touchend', bb);
                            };
                            var ahz, qr = false;
                            var ayj = function(bb) {
                                if (bb.rawEvent.touches.length > 1) {
                                    return;
                                }
                                ahz = bb;
                                if (DA && wF) {
                                    clearTimeout(wF);
                                    Au();
                                }
                                aqf();
                            };

                            function aqf() {
                                var bb = UV(ahz);
                                Fb('touchmove', bb);
                            };
                            IPCC.Web.UI.ao.addHandler(aO, "touchstart", axO);
                            IPCC.Web.UI.ao.addHandler(aO, "touchmove", ayj);
                            IPCC.Web.UI.ao.addHandler(aO, "touchend", ayI);
                        };
                        axP(aO, kj);
                    }
                };

                function ara(hI) {
                    var adi = function() {},
                        cO = 1;

                    function agh(aeO, aen, hY, aCh) {
                        hI.style['-ms-transform'] = aeO;
                        hI.style['-moz-transform'] = aeO;
                        hI.style['-webkit-transform'] = aen;
                        hI.style['transform'] = aen;
                        hI.style['-ms-transform-origin'] = hY;
                        hI.style['-moz-transform-origin'] = hY;
                        hI.style['-webkit-transform-origin'] = hY;
                        hI.style['transform-origin'] = hY;
                        hI.style.overflow = aCh || '';
                    };

                    function agi() {
                        agh('scale(1,1) translate(0px,0px)', 'scale3d(1,1,1) translate3d(0px,0px,0px)', '0% 0%', 'auto');
                    };
                    agi();

                    function aqM(ox, gS, PE, uE, adE) {
                        var dW = (-gS.x / ox) - PE.x,
                            fA = (-gS.y / ox) - PE.y,
                            aDA = "scale3d(" + ox + "," + ox + ",1) translate3d(" + dW + "px," + fA + "px,0px)",
                            aEE = "scale(" + ox + ", " + ox + ") translate(" + dW + "px," + fA + "px)";
                        var awN = adE.x + 'px ' + adE.y + 'px';
                        agh(aEE, aDA, awN, 'visible');
                        adi = function() {
                            var aW = hI.getBoundingClientRect();
                            var SV = {
                                x: (hI.clientWidth / 2 + -aW.left + uE.left) / ox,
                                y: (hI.clientHeight / 2 + -aW.top + uE.top) / ox
                            };
                            if (fN === IPCC.PageLayout.VerticalScrollDirection && uE.alK) {
                                SV.x = SV.x - (uE.alK / 2);
                            }
                            agi();
                            V.MF(ox, SV, undefined, IPCC.ScaleTrigger.Pinch);
                            BE = false;
                        };
                        return hI;
                    };

                    function akz(x, y, x0, y0) {
                        return Math.sqrt((x -= x0) * x + (y -= y0) * y);
                    };

                    function aly(x, y, x0, y0) {
                        return {
                            x: (x + x0) / 2,
                            y: (y + y0) / 2
                        };
                    };

                    function asa(ajG, Hd) {
                        return {
                            x: ajG.x - Hd.x,
                            y: ajG.y - Hd.y
                        };
                    };
                    var QB = false;
                    hI.addEventListener('touchstart', function(ev) {
                        if (BE) {
                            return;
                        }
                        if (!QB && ev.touches.length === 2) {
                            afZ(ev);
                        }
                    });
                    var standardizeMSTouch = function(ev) {
                        var event = {};
                        event.identifier = ev.pointerId;
                        event.x = event.clientX = ev.clientX;
                        event.y = event.clientY = ev.clientY;
                        event.preventDefault = ev.preventDefault;
                        event.stopPropagation = ev.stopPropagation;
                        event.rawEvent = ev;
                        event.touches = [event];
                        event.changedTouches = [event];
                        return event;
                    };
                    var Az, YT = false,
                        zU = {};
                    PCCViewer.EventEmitter.extend(zU);
                    hI.addEventListener(IPCC.T.oJ['down'], function(bb) {
                        YT = true;
                        bb = standardizeMSTouch(bb);
                        if (Az) {
                            var cZ = {};
                            cZ.touches = [Az, bb];
                            cZ.changedTouches = [Az, bb];
                            cZ.preventDefault = function() {
                                Az.rawEvent.preventDefault();
                                bb.rawEvent.preventDefault();
                            };
                            cZ.stopPropagation = function() {
                                Az.rawEvent.stopPropagation();
                                bb.rawEvent.stopPropagation();
                            };
                            afZ(cZ);
                        } else {
                            Az = bb;
                        }
                    });
                    hI.addEventListener(IPCC.T.oJ['move'], function(bb) {
                        zU.trigger('touchmove', {
                            rawEvent: bb
                        });
                    });
                    hI.addEventListener(IPCC.T.oJ['up'], function(bb) {
                        zU.trigger('touchend', {
                            rawEvent: bb
                        });
                        Az = undefined;
                    });

                    function afZ(ev) {
                        BE = true;
                        var PE = {
                            x: hI.scrollLeft,
                            y: hI.scrollTop
                        };
                        var uE = hI.getBoundingClientRect();
                        var oe = Vm();
                        var JJ = hI.querySelector('.pccPageListItem');
                        if (fN === IPCC.PageLayout.VerticalScrollDirection && JJ.clientWidth < uE.width - 30) {
                            uE.alK = uE.width - JJ.clientWidth;
                        }
                        var gS = {
                            x: 0,
                            y: 0,
                            set: function(amK) {
                                this.x = amK.x;
                                this.y = amK.y;
                                return this;
                            }
                        };
                        var qr = false;
                        QB = true;
                        ev.preventDefault();
                        ev.stopPropagation();

                        function RY(ha) {
                            ha.x = ha.clientX || ha.pageX || ha.screenX;
                            ha.y = ha.clientY || ha.pageY || ha.screenY;
                            return ha;
                        };
                        var jd = RY(ev.touches[0]);
                        var xi = RY(ev.touches[1]);
                        var wL = akz(jd.x, jd.y, xi.x, xi.y);
                        var alQ = aly(jd.x, jd.y, xi.x, xi.y);
                        var xF, yk;

                        function Wc(bb) {
                            bb.preventDefault();
                            [].forEach.call(bb.changedTouches, function(t) {
                                if (t.identifier === jd.identifier) {
                                    xF = RY(t);
                                } else if (t.identifier === xi.identifier) {
                                    yk = RY(t);
                                }
                            });
                            if (!xF || !yk) {
                                return;
                            }
                            var axy = akz(xF.x, xF.y, yk.x, yk.y);
                            var axV = aly(xF.x, xF.y, yk.x, yk.y);
                            cO = axy / wL;
                            if ((dA * cO) < oe.minFactor) {
                                cO = oe.minFactor / dA;
                            } else if ((dA * cO) > oe.maxFactor) {
                                cO = oe.maxFactor / dA;
                            }
                            gS.set(asa(alQ, axV));
                            if (!qr) {
                                qr = true;
                                Ku();
                            }
                        };

                        function Tl() {
                            QB = false;
                            qr = false;
                            hI.removeEventListener('touchmove', Wc);
                            hI.removeEventListener('touchend', Tl);
                            if (YT) {
                                zU.off('touchmove', ajL);
                                zU.off('touchend', alo);
                            }
                            if (!xF || !yk) {
                                BE = false;
                                return;
                            }
                            Fj(adi);
                        };
                        var ajL = function(bb) {
                            var adS = standardizeMSTouch(bb.rawEvent);
                            adS.preventDefault = function() {};
                            Wc(adS);
                        };
                        var alo = function(bb) {
                            Tl(standardizeMSTouch(bb.rawEvent));
                        };
                        hI.addEventListener('touchmove', Wc);
                        hI.addEventListener('touchend', Tl);
                        if (YT) {
                            zU.on('touchmove', ajL);
                            zU.on('touchend', alo);
                        }

                        function Ku() {
                            if (qr) {
                                Fj(function() {
                                    if (!qr) {
                                        return;
                                    }
                                    aqM(cO, gS, PE, uE, alQ);
                                    Ku();
                                });
                            }
                        }
                    }
                };

                function aqa() {
                    if (dJ === IPCC.ViewMode.SinglePage) {
                        return;
                    }
                    if (BE) {
                        return;
                    }
                    if (me) {
                        clearTimeout(me);
                    }
                    if (VK) {
                        alU(VK);
                    }
                    atQ();
                    me = setTimeout(function() {
                        me = null;
                        VK = Fj(function aIf() {
                            if (BE) {
                                return;
                            }
                            pq();
                        });
                    }, 40);
                };

                function arh() {
                    if (mX === false || dJ === IPCC.ViewMode.SinglePage) {
                        return;
                    }
                    iE(true);
                    if (me !== null) {
                        clearTimeout(me);
                    }
                    var atP = bj.scrollHeight / bJ.length;
                    var RC = 0;
                    if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                        RC = bj.scrollTop;
                    } else {
                        RC = bj.scrollLeft;
                    }
                    var aDa = RC - Lk;
                    Lk = RC;
                    var aqq = new Date().getTime();
                    var UM = aqq - vI;
                    if (UM > 1000) {
                        UM = 1000;
                    }
                    TA = aDa / atP * 1000 / UM;
                    me = setTimeout(function() {
                        me = null;
                        vI = 0;
                        vI = new Date().getTime();
                        pq();
                    }, 1000);
                    vI = new Date().getTime();
                    if (TA !== 0 && Math.abs(TA) < Sc) {
                        if (Kg && me !== null) {
                            clearTimeout(me);
                            me = null;
                        }
                        vI = 0;
                        vI = new Date().getTime();
                        setTimeout(function() {
                            if (Kg && me !== null) {
                                clearTimeout(me);
                                me = null;
                            }
                            vI = 0;
                            vI = new Date().getTime();
                            pq();
                        }, 40);
                    }
                };

                function asQ() {
                    function AC(apW, aqL, aF, cT) {
                        var GO = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                        GO.setAttribute('cx', apW);
                        GO.setAttribute('cy', aqL);
                        GO.setAttribute('r', aF);
                        GO.setAttribute('opacity', cT);
                        return GO;
                    };
                    var qC = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                    qC.setAttribute('viewBox', '0 0 52 52');
                    qC.appendChild(AC(26, 13.813, 2.813, 1));
                    qC.appendChild(AC(24, 38.188, 2.813, 0.4));
                    qC.appendChild(AC(13.813, 26, 2.813, 0.1));
                    qC.appendChild(AC(38.188, 26, 2.813, 0.7));
                    qC.appendChild(AC(34.618, 34.618, 2.813, 0.55));
                    qC.appendChild(AC(17.382, 34.618, 2.813, 0.25));
                    qC.appendChild(AC(34.618, 17.382, 2.813, 0.85));
                    return qC;
                };

                function ahb(kZ) {
                    var ba = 0;
                    var ajg = false;
                    var KH;
                    var HJ;
                    var qC;
                    for (ba = 0; ba < kZ.childNodes.length; ba++) {
                        if (kZ.childNodes[ba].className === "pccPageListItemLoading") {
                            ajg = true;
                        }
                    }
                    if (ajg === false) {
                        HJ = document.createElement('div');
                        HJ.className = 'pccPageListItemLoading';
                        qC = asQ();
                        kZ.innerHTML = "";
                        kZ.appendChild(HJ);
                        HJ.appendChild(qC);
                        if (Ih.length > 0) {
                            KH = document.createElement('div');
                            KH.className = 'pccPageListItemLoadingContent';
                            KH.innerHTML = Ih;
                            HJ.appendChild(KH);
                        }
                    }
                };

                function atQ() {
                    var um = bj.scrollTop;
                    var tp = bj.scrollLeft;
                    var vb = bj.clientHeight;
                    var uq = bj.clientWidth;
                    var uc = bj.scrollWidth;
                    var ts = bj.scrollHeight;
                    var cf = Vp({
                        um: um,
                        tp: tp,
                        vb: vb,
                        uq: uq,
                        uc: uc,
                        ts: ts
                    });
                    var C = cf.amo;
                    if (mX && vg === false && cY !== C && C >= 0) {
                        cY = C;
                        var F = new IPCC.PageEventArgs();
                        F.imGearPage = V.get_currentPage();
                        F.pageIndex = cY;
                        F.pageNodeID = bJ[cY].ac;
                        V.aQ('currentPageChanged', F);
                    }
                };

                function Vy(bf) {
                    var ag = bf.bL || gH;
                    var aH = bf.aS || iw;
                    if (bf.hc % 180) {
                        var pW = ag;
                        ag = aH;
                        aH = pW;
                    }
                    var Bk = bf.gN || ahs;
                    return {
                        ag: ag * (dA * dn / Bk),
                        aH: aH * (dA * dn / Bk),
                        aGZ: Bk,
                        aj: bf.cF
                    };
                };

                function Vj(aBv) {
                    return IPCC.T.reduce(aBv, function(fq, az, aj) {
                        fq[aj] = Vy(az);
                        return fq;
                    }, {});
                };

                function ajO(aw) {
                    var uO, Eo, Aa, wn, qq;
                    if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                        uO = bj.scrollTop;
                        Eo = bj.scrollHeight;
                        Aa = bj.clientHeight;
                        wn = 'aH';
                        qq = fK;
                    } else {
                        uO = bj.scrollLeft;
                        Eo = bj.scrollWidth;
                        Aa = bj.clientWidth;
                        wn = 'ag';
                        qq = gk + gW;
                    }
                    var hl = Vj(bJ);
                    var FX = fN === IPCC.PageLayout.VerticalScrollDirection ? fK : gk;
                    var alS = false;
                    IPCC.T.forEach(hl, function(az, aj) {
                        if (az.aj === aw) {
                            alS = true;
                        }
                        if (alS) {
                            return;
                        }
                        FX += az[wn] + qq;
                    });
                    return FX - (qq / 2);
                };

                function pE(cf) {
                    var CF = IPCC.T.map(cf.bX, function(az) {
                        return +az.aj;
                    }).sort();
                    var jd = CF[0];
                    var iV = CF[CF.length - 1];
                    var ee = bJ.length;
                    for (var C = En; C; C--) {
                        jd -= 1;
                        iV += 1;
                        if (jd >= 0) {
                            CF.unshift(jd);
                        }
                        if (iV < ee) {
                            CF.push(iV);
                        }
                    }
                    return CF.sort();
                };

                function NB(cf) {
                    var jd = Math.max(cf.bX[0].aj - tw, 0);
                    var iV = Math.min(cf.bX[cf.bX.length - 1].aj + tw, bJ.length - 1);
                    return {
                        jd: jd,
                        iV: iV
                    };
                };

                function ata(cf) {
                    var jd = Math.max(cf.bX[0].aj - En, 0);
                    var iV = Math.min(cf.bX[cf.bX.length - 1].aj + En, bJ.length - 1);
                    return {
                        jd: jd,
                        iV: iV
                    };
                };

                function Vp(bB) {
                    if (dJ === IPCC.ViewMode.SinglePage) {
                        return akt();
                    }
                    var uO, Eo, Aa, wn, qq;
                    if (fN === IPCC.PageLayout.VerticalScrollDirection) {
                        uO = bB.um;
                        Eo = bB.ts;
                        Aa = bB.vb;
                        wn = 'aH';
                        qq = fK;
                    } else {
                        uO = bB.tp;
                        Eo = bB.uc;
                        Aa = bB.uq;
                        wn = 'ag';
                        qq = gk + gW;
                    }
                    var apu = uO;
                    var aqs = uO + Aa;
                    var hl = Vj(bJ);
                    var FX = fN === IPCC.PageLayout.VerticalScrollDirection ? fK : gk;
                    var aEL = uO / Eo;
                    var Rf = (aEL * Aa) + uO;
                    var US = Number.MAX_VALUE;
                    var sI = -1;
                    var bX = [];
                    IPCC.T.forEach(hl, function(az, aj) {
                        var iu = FX;
                        var ek = iu + az[wn];
                        if (iu < aqs && ek > apu) {
                            az.wR = true;
                            bX.push(az);
                        }
                        var alI = Math.min(Math.abs(iu - Rf), Math.abs(ek - Rf));
                        if (iu < Rf && ek > Rf) {
                            US = 0;
                            sI = aj;
                        } else if (alI < US) {
                            sI = aj;
                            US = alI;
                        }
                        FX += az[wn] + qq;
                    });
                    if (bX.length === 0 && hl[sI] !== undefined) {
                        bX.push(hl[sI]);
                    }
                    return {
                        bX: bX,
                        amo: Number(sI) || 0,
                        Ha: hl
                    };
                };

                function akt() {
                    var hl = Vj(bJ);
                    var apR = [cY];
                    var bX = IPCC.T.filter(hl, function(az) {
                        return IPCC.T.contains(apR, +az.aj);
                    });
                    return {
                        bX: bX,
                        amo: cY,
                        Ha: hl
                    };
                };

                function LD() {
                    var cf = iE();
                    if (!cf) {
                        return [];
                    }
                    return IPCC.T.map(cf.bX, function(az) {
                        return az.aj;
                    });
                };

                function iE() {
                    if (dJ === IPCC.ViewMode.SinglePage) {
                        return akt();
                    }
                    if (bj === '' || bj.clientHeight <= 0) {
                        return;
                    }
                    var um = bj.scrollTop;
                    var tp = bj.scrollLeft;
                    var vb = bj.clientHeight;
                    var uq = bj.clientWidth;
                    var uc = bj.scrollWidth;
                    var ts = bj.scrollHeight;
                    var aqF = Vp({
                        um: um,
                        tp: tp,
                        vb: vb,
                        uq: uq,
                        uc: uc,
                        ts: ts
                    });
                    vg = false;
                    return aqF;
                }
            };
            MB.prototype = {
                dispose: function() {
                    this.as('dispose', arguments);
                    this.acH(false);
                    this.apr();
                },
                get_debug: function() {
                    try {
                        var aF = this.Kl();
                        this.de('get_debug', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_debug', e);
                        throw e;
                    }
                },
                set_debug: function(value) {
                    try {
                        this.as('set_debug', arguments);
                        var AA = this.Kl();
                        this.Xv(value);
                        if (!AA) {
                            this.as('set_debug', arguments);
                        }
                    } catch (e) {
                        this.bw('set_debug', e);
                        throw e;
                    }
                },
                get_debugErrorLevel: function() {
                    try {
                        var aF = this.xH();
                        this.de('get_debugErrorLevel', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_debugErrorLevel', e);
                        throw e;
                    }
                },
                set_debugErrorLevel: function(value) {
                    try {
                        this.as('set_debugErrorLevel', arguments);
                        var AA = this.xH();
                        this.JC(value);
                        if (AA < IPCC.Web.UI.DebugErrorLevel.Development) {
                            this.as('set_debugErrorLevel', arguments);
                        }
                    } catch (e) {
                        this.bw('set_debugErrorLevel', e);
                        throw e;
                    }
                },
                add_mouseDown: function(handler) {
                    try {
                        this.LH(handler);
                    } catch (e) {
                        this.bw('add_mouseDown', e);
                        throw e;
                    }
                },
                remove_mouseDown: function(handler) {
                    try {
                        this.XJ(handler);
                    } catch (e) {
                        this.bw('remove_mouseDown', e);
                        throw e;
                    }
                },
                add_mouseMove: function(handler) {
                    try {
                        this.Lf(handler);
                    } catch (e) {
                        this.bw('add_mouseMove', e);
                        throw e;
                    }
                },
                remove_mouseMove: function(handler) {
                    try {
                        this.Wx(handler);
                    } catch (e) {
                        this.bw('remove_mouseMove', e);
                        throw e;
                    }
                },
                add_mouseUp: function(handler) {
                    try {
                        this.LJ(handler);
                    } catch (e) {
                        this.bw('add_mouseUp', e);
                        throw e;
                    }
                },
                remove_mouseUp: function(handler) {
                    try {
                        this.Ws(handler);
                    } catch (e) {
                        this.bw('remove_mouseUp', e);
                        throw e;
                    }
                },
                add_selectTextMouseToolCompleted: function(handler) {
                    try {
                        this.Tn(handler);
                    } catch (e) {
                        this.bw('add_selectTextMouseToolCompleted', e);
                        throw e;
                    }
                },
                remove_selectTextMouseToolCompleted: function(handler) {
                    try {
                        this.Wv(handler);
                    } catch (e) {
                        this.bw('remove_selectTextMouseToolCompleted', e);
                        throw e;
                    }
                },
                add_currentPageChanged: function(handler) {
                    try {
                        this.auU(handler);
                    } catch (e) {
                        this.bw('add_currentPageChanged', e);
                        throw e;
                    }
                },
                remove_currentPageChanged: function(handler) {
                    try {
                        this.avW(handler);
                    } catch (e) {
                        this.bw('remove_currentPageChanged', e);
                        throw e;
                    }
                },
                add_textPageReady: function(handler) {
                    try {
                        this.xN(handler);
                    } catch (e) {
                        this.bw('add_textPageReady', e);
                        throw e;
                    }
                },
                remove_textPageReady: function(handler) {
                    try {
                        this.Du(handler);
                    } catch (e) {
                        this.bw('remove_textPageReady', e);
                        throw e;
                    }
                },
                add_hyperlinkPageReady: function(handler) {
                    try {
                        this.RE(handler);
                    } catch (e) {
                        this.bw('add_hyperlinkPageReady', e);
                        throw e;
                    }
                },
                remove_hyperlinkPageReady: function(handler) {
                    try {
                        this.acV(handler);
                    } catch (e) {
                        this.bw('remove_hyperlinkPageReady', e);
                        throw e;
                    }
                },
                add_textExtractionFailed: function(handler) {
                    this.xr(handler);
                },
                remove_textExtractionFailed: function(handler) {
                    this.Ed(handler);
                },
                add_allPagesAdded: function(handler) {
                    try {
                        this.asV(handler);
                    } catch (e) {
                        this.bw('add_allPagesAdded', e);
                        throw e;
                    }
                },
                remove_allPagesAdded: function(handler) {
                    try {
                        this.avT(handler);
                    } catch (e) {
                        this.bw('remove_allPagesAdded', e);
                        throw e;
                    }
                },
                add_pageOpening: function(handler) {
                    try {
                        this.Uc(handler);
                    } catch (e) {
                        this.bw('add_pageOpening', e);
                        throw e;
                    }
                },
                remove_pageOpening: function(handler) {
                    try {
                        this.XG(handler);
                    } catch (e) {
                        this.bw('remove_pageOpening', e);
                        throw e;
                    }
                },
                add_pageOpened: function(handler) {
                    try {
                        this.SN(handler);
                    } catch (e) {
                        this.bw('add_pageOpened', e);
                        throw e;
                    }
                },
                remove_pageOpened: function(handler) {
                    try {
                        this.Xr(handler);
                    } catch (e) {
                        this.bw('remove_pageOpened', e);
                        throw e;
                    }
                },
                add_pageOpenFailed: function(handler) {
                    try {
                        this.HB(handler);
                    } catch (e) {
                        this.bw('add_pageOpenFailed', e);
                        throw e;
                    }
                },
                remove_pageOpenFailed: function(handler) {
                    try {
                        this.Gb(handler);
                    } catch (e) {
                        this.bw('remove_pageOpenFailed', e);
                        throw e;
                    }
                },
                add_pageDisplayed: function(handler) {
                    try {
                        this.SH(handler);
                    } catch (e) {
                        this.bw('add_pageDisplayed', e);
                        throw e;
                    }
                },
                remove_pageDisplayed: function(handler) {
                    try {
                        this.Ww(handler);
                    } catch (e) {
                        this.bw('remove_pageDisplayed', e);
                        throw e;
                    }
                },
                add_propertyChanged: function(handler) {
                    try {
                        this.jM(handler);
                    } catch (e) {
                        this.bw('add_propertyChanged', e);
                        throw e;
                    }
                },
                remove_propertyChanged: function(handler) {
                    try {
                        this.mR(handler);
                    } catch (e) {
                        this.bw('remove_propertyChanged', e);
                        throw e;
                    }
                },
                add_markAdded: function(handler) {
                    try {
                        this.As(handler);
                    } catch (e) {
                        this.bw('add_markAdded', e);
                        throw e;
                    }
                },
                remove_markAdded: function(handler) {
                    try {
                        this.zV(handler);
                    } catch (e) {
                        this.bw('remove_markAdded', e);
                        throw e;
                    }
                },
                add_markCreating: function(handler) {
                    try {
                        this.RV(handler);
                    } catch (e) {
                        this.bw('add_markCreating', e);
                        throw e;
                    }
                },
                remove_markCreating: function(handler) {
                    try {
                        this.WO(handler);
                    } catch (e) {
                        this.bw('remove_markCreating', e);
                        throw e;
                    }
                },
                add_markChanged: function(handler) {
                    try {
                        this.IC(handler);
                    } catch (e) {
                        this.bw('add_markChanged', e);
                        throw e;
                    }
                },
                remove_markChanged: function(handler) {
                    try {
                        this.HH(handler);
                    } catch (e) {
                        this.bw('remove_markChanged', e);
                        throw e;
                    }
                },
                add_markReordered: function(handler) {
                    try {
                        this.Ht(handler);
                    } catch (e) {
                        this.bw('add_markReordered', e);
                        throw e;
                    }
                },
                remove_markReordered: function(handler) {
                    try {
                        this.ET(handler);
                    } catch (e) {
                        this.bw('remove_markReordered', e);
                        throw e;
                    }
                },
                add_markSelectionChanged: function(handler) {
                    try {
                        this.Hj(handler);
                    } catch (e) {
                        this.bw('add_markSelectionChanged', e);
                        throw e;
                    }
                },
                remove_markSelectionChanged: function(handler) {
                    try {
                        this.GG(handler);
                    } catch (e) {
                        this.bw('remove_markSelectionChanged', e);
                        throw e;
                    }
                },
                add_markTextSelectionChanged: function(handler) {
                    try {
                        this.Ie(handler);
                    } catch (e) {
                        this.bw('add_markTextSelectionChanged', e);
                        throw e;
                    }
                },
                remove_markTextSelectionChanged: function(handler) {
                    try {
                        this.GI(handler);
                    } catch (e) {
                        this.bw('remove_markTextSelectionChanged', e);
                        throw e;
                    }
                },
                add_markRemoved: function(handler) {
                    try {
                        this.AQ(handler);
                    } catch (e) {
                        this.bw('add_markRemoved', e);
                        throw e;
                    }
                },
                remove_markRemoved: function(handler) {
                    try {
                        this.zI(handler);
                    } catch (e) {
                        this.bw('remove_markRemoved', e);
                        throw e;
                    }
                },
                add_commentAdding: function(handler) {
                    try {
                        this.asG(handler);
                    } catch (e) {
                        this.bw('add_commentAdding', e);
                        throw e;
                    }
                },
                remove_commentAdding: function(handler) {
                    try {
                        this.avq(handler);
                    } catch (e) {
                        this.bw('remove_commentAdding', e);
                        throw e;
                    }
                },
                add_commentAdded: function(handler) {
                    try {
                        this.yp(handler);
                    } catch (e) {
                        this.bw('add_commentAdded', e);
                        throw e;
                    }
                },
                remove_commentAdded: function(handler) {
                    try {
                        this.Bn(handler);
                    } catch (e) {
                        this.bw('remove_commentAdded', e);
                        throw e;
                    }
                },
                add_commentRemoved: function(handler) {
                    try {
                        this.yF(handler);
                    } catch (e) {
                        this.bw('add_commentRemoved', e);
                        throw e;
                    }
                },
                remove_commentRemoved: function(handler) {
                    try {
                        this.Cr(handler);
                    } catch (e) {
                        this.bw('remove_commentRemoved', e);
                        throw e;
                    }
                },
                add_commentChanged: function(handler) {
                    try {
                        this.sY(handler);
                    } catch (e) {
                        this.bw('add_commentChanged', e);
                        throw e;
                    }
                },
                remove_commentChanged: function(handler) {
                    try {
                        this.vE(handler);
                    } catch (e) {
                        this.bw('remove_commentChanged', e);
                        throw e;
                    }
                },
                add_scaleChanged: function(handler) {
                    try {
                        this.SS(handler);
                    } catch (e) {
                        this.bw('add_scaleChanged', e);
                        throw e;
                    }
                },
                remove_scaleChanged: function(handler) {
                    try {
                        this.XL(handler);
                    } catch (e) {
                        this.bw('remove_scaleChanged', e);
                        throw e;
                    }
                },
                add_exceptionThrown: function(handler) {
                    this.RJ(handler);
                },
                remove_exceptionThrown: function(handler) {
                    this.WY(handler);
                },
                writeToLog: function(message) {
                    try {
                        this.nf(message);
                    } catch (e) {
                        this.bw('writeToLog', e);
                        throw e;
                    }
                },
                get_currentState: function() {
                    try {
                        var aF = this.MX();
                        this.de('get_currentState', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_currentState', e);
                        throw e;
                    }
                },
                get_scaleFactor: function() {
                    try {
                        var aF = this.nR();
                        this.de('get_scaleFactor', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_scaleFactor', e);
                        throw e;
                    }
                },
                set_scaleFactor: function(scaleFactor) {
                    try {
                        this.as('set_scaleFactor', arguments);
                        this.aBp(scaleFactor);
                    } catch (e) {
                        this.bw('set_scaleFactor', e);
                        throw e;
                    }
                },
                zoomIn: function(factor) {
                    try {
                        this.as('zoomIn', arguments);
                        this.MF(factor);
                    } catch (e) {
                        this.bw('zoomIn', e);
                        throw e;
                    }
                },
                zoomOut: function(factor) {
                    try {
                        this.as('zoomOut', arguments);
                        this.Qw(factor);
                    } catch (e) {
                        this.bw('zoomOut', e);
                        throw e;
                    }
                },
                getMinMaxZoom: function() {
                    return this.aEk();
                },
                displayAll: function() {
                    try {
                        this.as('displayAll', arguments, 1);
                        this.anX();
                    } catch (e) {
                        this.bw('displayAll', e);
                        throw e;
                    }
                },
                display: function(pageIndex) {
                    try {
                        this.as('display', arguments);
                        this.dv(pageIndex);
                    } catch (e) {
                        this.bw('display', e);
                        throw e;
                    }
                },
                get_textRequired: function() {
                    try {
                        var aF = this.lj();
                        this.de('get_textRequired', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_textRequired', e);
                        throw e;
                    }
                },
                set_textRequired: function(value) {
                    try {
                        this.as('set_textRequired', arguments);
                        this.Kf(value);
                    } catch (e) {
                        this.bw('set_textRequired', e);
                        throw e;
                    }
                },
                selectText: function(pageIndex, startIndex, endIndex, color) {
                    try {
                        this.as('selectText', arguments, 1);
                        this.XI(pageIndex, startIndex, endIndex, color);
                    } catch (e) {
                        this.bw('selectText', e);
                        throw e;
                    }
                },
                clearSelectedText: function(pageIndex) {
                    try {
                        this.as('clearSelectedText', arguments, 1);
                        this.anL(pageIndex);
                    } catch (e) {
                        this.bw('clearSelectedText', e);
                        throw e;
                    }
                },
                clearAllSelectedText: function() {
                    try {
                        this.as('clearAllSelectedText', arguments);
                        this.aov();
                    } catch (e) {
                        this.bw('clearAllSelectedText', e);
                        throw e;
                    }
                },
                get_maxPrefetch: function() {
                    try {
                        var aF = this.aDh();
                        this.de('get_maxPrefetch', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_maxPrefetch', e);
                        throw e;
                    }
                },
                set_maxPrefetch: function(value) {
                    try {
                        this.as('set_maxPrefetch', arguments);
                        this.aAa(value);
                    } catch (e) {
                        this.bw('set_maxPrefetch', e);
                        throw e;
                    }
                },
                get_displayPagesWhenScrolling: function() {
                    try {
                        var aF = this.aEa();
                        this.de('get_displayPagesWhenScrolling', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_displayPagesWhenScrolling', e);
                        throw e;
                    }
                },
                set_displayPagesWhenScrolling: function(value) {
                    try {
                        this.as('set_displayPagesWhenScrolling', arguments);
                        this.azs(value);
                    } catch (e) {
                        this.bw('set_displayPagesWhenScrolling', e);
                        throw e;
                    }
                },
                get_maxOutOfViewDisplay: function() {
                    try {
                        var aF = this.aDI();
                        this.de('get_maxOutOfViewDisplay', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_maxOutOfViewDisplay', e);
                        throw e;
                    }
                },
                set_maxOutOfViewDisplay: function(value) {
                    try {
                        this.as('set_maxOutOfViewDisplay', arguments);
                        this.aAO(value);
                    } catch (e) {
                        this.bw('set_maxOutOfViewDisplay', e);
                        throw e;
                    }
                },
                get_discardOutOfViewText: function() {
                    try {
                        var aF = this.aEB();
                        this.de('get_discardOutOfViewText', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_discardOutOfViewText', e);
                        throw e;
                    }
                },
                set_discardOutOfViewText: function(value) {
                    try {
                        this.as('set_discardOutOfViewText', arguments);
                        this.aCR(value);
                    } catch (e) {
                        this.bw('set_discardOutOfViewText', e);
                        throw e;
                    }
                },
                get_scrollDisplayThreshold: function() {
                    try {
                        var aF = this.aEH();
                        this.de('get_scrollDisplayThreshold', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_scrollDisplayThreshold', e);
                        throw e;
                    }
                },
                set_scrollDisplayThreshold: function(value) {
                    try {
                        this.as('set_scrollDisplayThreshold', arguments);
                        this.aBw(value);
                    } catch (e) {
                        this.bw('set_scrollDisplayThreshold', e);
                        throw e;
                    }
                },
                get_mouseCursor: function() {
                    try {
                        var aF = this.aiB();
                        this.de('get_mouseCursor', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('aiB', e);
                        throw e;
                    }
                },
                set_mouseCursor: function(value) {
                    try {
                        this.as('set_mouseCursor', arguments);
                        this.azU(value);
                    } catch (e) {
                        this.bw('set_mouseCursor', e);
                        throw e;
                    }
                },
                get_mouseTool: function() {
                    try {
                        var aF = this.ZJ();
                        this.de('get_mouseTool', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_mouseTool', e);
                        throw e;
                    }
                },
                set_mouseTool: function(value) {
                    try {
                        this.as('set_mouseTool', arguments);
                        this.Kr(value);
                    } catch (e) {
                        this.bw('set_mouseTool', e);
                        throw e;
                    }
                },
                get_markHandleMode: function() {
                    try {
                        var aF = this.xv();
                        this.as('get_markHandleMode', arguments);
                        return aF;
                    } catch (e) {
                        this.bw('get_markHandleMode', e);
                        throw e;
                    }
                },
                set_markHandleMode: function(G) {
                    try {
                        this.as('set_markHandleMode', arguments);
                        this.Kd(G);
                    } catch (e) {
                        this.bw('set_markHandleMode', e);
                        throw e;
                    }
                },
                get_retainPageText: function() {
                    try {
                        var aF = this.aDn();
                        this.as('get_retainPageText', arguments);
                        return aF;
                    } catch (e) {
                        this.bw('get_retainPageText', e);
                        throw e;
                    }
                },
                set_retainPageText: function(G) {
                    try {
                        this.as('set_retainPageText', arguments);
                        this.aCt(G);
                    } catch (e) {
                        this.bw('set_retainPageText', e);
                        throw e;
                    }
                },
                get_allowMarkEdits: function() {
                    try {
                        var aF = this.aGz();
                        this.as('get_allowMarkEdits', arguments);
                        return aF;
                    } catch (e) {
                        this.bw('get_allowMarkEdits', e);
                        throw e;
                    }
                },
                set_allowMarkEdits: function(bool) {
                    try {
                        this.as('set_allowMarkEdits', arguments);
                        this.aBq(!!bool);
                    } catch (e) {
                        this.bw('set_allowMarkEdits', e);
                        throw e;
                    }
                },
                get_currentPage: function() {
                    try {
                        var aF = this.ahi();
                        this.de('get_currentPage', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_currentPage', e);
                        throw e;
                    }
                },
                get_pageNodeId: function(pageIndex) {
                    try {
                        var amG = this.aCX(pageIndex);
                        this.de('get_pageNodeId', arguments, amG);
                        return amG;
                    } catch (e) {
                        this.bw('get_pageNodeId', e);
                        throw e;
                    }
                },
                scrollToNextPage: function() {
                    try {
                        this.as('scrollToNextPage', arguments);
                        this.aEh();
                    } catch (e) {
                        this.bw('scrollToNextPage', e);
                        throw e;
                    }
                },
                scrollToPreviousPage: function() {
                    try {
                        this.as('scrollToPreviousPage', arguments);
                        this.aDB();
                    } catch (e) {
                        this.bw('scrollToPreviousPage', e);
                        throw e;
                    }
                },
                scrollToFirstPage: function() {
                    try {
                        this.as('scrollToFirstPage', arguments);
                        this.aEI();
                    } catch (e) {
                        this.bw('scrollToFirstPage', e);
                        throw e;
                    }
                },
                scrollToLastPage: function() {
                    try {
                        this.as('scrollToLastPage', arguments);
                        this.aDM();
                    } catch (e) {
                        this.bw('scrollToLastPage', e);
                        throw e;
                    }
                },
                scrollToPage: function(pageIndex) {
                    try {
                        this.as('scrollToPage', arguments, 1);
                        this.pK(pageIndex);
                    } catch (e) {
                        this.bw('scrollToPage', e);
                        throw e;
                    }
                },
                rotate: function(degreesClockwise) {
                    try {
                        this.as('rotate', arguments, 1);
                        this.axI(degreesClockwise);
                    } catch (e) {
                        this.bw('rotate', e);
                        throw e;
                    }
                },
                rotateAll: function(degreesClockwise) {
                    try {
                        this.as('rotateAll', arguments, 1);
                        this.aet(degreesClockwise, true);
                    } catch (e) {
                        this.bw('rotateAll', e);
                        throw e;
                    }
                },
                get_enabled: function() {
                    try {
                        var aF = this.aFZ();
                        this.de('get_enabled', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_enabled', e);
                        throw e;
                    }
                },
                get_pageLayout: function() {
                    try {
                        var aF = this.aEz();
                        this.de('get_pageLayout', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_pageLayout', e);
                        throw e;
                    }
                },
                set_pageLayout: function(value) {
                    try {
                        this.as('set_pageLayout', arguments);
                        this.aCu(value);
                    } catch (e) {
                        this.bw('set_pageLayout', e);
                        throw e;
                    }
                },
                get_viewMode: function() {
                    try {
                        var aF = this.aEd();
                        this.de('get_viewMode', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_viewMode', e);
                        throw e;
                    }
                },
                set_viewMode: function(value) {
                    try {
                        this.as('set_viewMode', arguments);
                        this.Ld(value);
                    } catch (e) {
                        this.bw('set_viewMode', e);
                        throw e;
                    }
                },
                get_loadingContent: function() {
                    try {
                        var aF = this.aDu();
                        this.de('get_loadingContent', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_loadingContent', e);
                        throw e;
                    }
                },
                set_loadingContent: function(value) {
                    try {
                        this.as('set_loadingContent', arguments);
                        this.aBX(value);
                    } catch (e) {
                        this.bw('set_loadingContent', e);
                        throw e;
                    }
                },
                fitPages: function(fitType) {
                    try {
                        this.as('fitPages', arguments, 1);
                        this.azK(fitType);
                    } catch (e) {
                        this.bw('fitPages', e);
                        throw e;
                    }
                },
                openPage: function(pageIndex) {
                    try {
                        this.as('openPage', arguments, 1);
                        this.QM(pageIndex);
                    } catch (e) {
                        this.bw('openPage', e);
                        throw e;
                    }
                },
                requestPageAttributes: function(page, attributesRetrievedCallback, attributesRetrievalFailedCallback) {
                    try {
                        this.as('requestPageAttributes', arguments, 1);
                        this.Rr(page, attributesRetrievedCallback, attributesRetrievalFailedCallback);
                    } catch (e) {
                        this.bw('requestPageAttributes', e);
                        throw e;
                    }
                },
                scrollRegionIntoView: function(pageIndex, rectangle) {
                    try {
                        this.as('scrollRegionIntoView', arguments, 1);
                        return this.aDN(pageIndex, rectangle);
                    } catch (e) {
                        this.bw('scrollRegionIntoView', e);
                        throw e;
                    }
                },
                scrollBy: function(xVal, yVal) {
                    try {
                        this.as('scrollBy', arguments, 1);
                        return this.aEc(xVal, yVal);
                    } catch (e) {
                        this.bw('scrollBy', e);
                        throw e;
                    }
                },
                scrollConversationIntoView: function(conversation) {
                    try {
                        this.as('scrollConversationIntoView', arguments, 1);
                        return this.aEw(conversation);
                    } catch (e) {
                        this.bw('scrollConversationIntoView', e);
                        throw e;
                    }
                },
                get_documents: function() {
                    return this.Xp();
                },
                get_encryption: function() {
                    try {
                        var aF = this.ip();
                        this.de('get_encryption', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_encryption', e);
                        throw e;
                    }
                },
                set_encryption: function(value) {
                    try {
                        this.as('set_encryption', arguments);
                        this.nT(value);
                    } catch (e) {
                        this.bw('set_encryption', e);
                        throw e;
                    }
                },
                get_annotationXmlDom: function() {
                    try {
                        var aF = this.aGu();
                        return aF;
                    } catch (e) {
                        this.bw('get_annotationXmlDom', e);
                        throw e;
                    }
                },
                set_annotationXmlDom: function(value, stampImages, retainExistingMarks, loadAsHidden) {
                    try {
                        this.aBW(value, stampImages, retainExistingMarks, loadAsHidden);
                    } catch (e) {
                        this.bw('set_annotationXmlDom', e);
                        throw e;
                    }
                },
                get_resourcePath: function() {
                    try {
                        var aF = this.vm();
                        this.de('get_resourcePath', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_resourcePath', e);
                        throw e;
                    }
                },
                set_resourcePath: function(G) {
                    try {
                        this.as('set_resourcePath', arguments);
                        this.JQ(G);
                    } catch (e) {
                        this.bw('set_resourcePath', e);
                        throw e;
                    }
                },
                get_redactionDraftMode: function() {
                    try {
                        var aF = this.oA();
                        this.de('get_redactionDraftMode', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_redactionDraftMode', e);
                        throw e;
                    }
                },
                set_redactionDraftMode: function(value) {
                    try {
                        this.as('set_redactionDraftMode', arguments);
                        this.qZ(value);
                    } catch (e) {
                        this.bw('set_redactionDraftMode', e);
                        throw e;
                    }
                },
                get_displayedPages: function() {
                    try {
                        var aF = this.aEF();
                        this.de('get_displayedPages', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_displayedPages', e);
                        throw e;
                    }
                },
                get_requireRequestsOptimize: function() {
                    try {
                        var aF = this.yJ();
                        this.de('get_requireRequestsOptimize', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('yJ', e);
                        throw e;
                    }
                },
                set_requireRequestsOptimize: function(value) {
                    try {
                        this.as('set_requireRequestsOptimize', arguments);
                        this.Kk(value);
                    } catch (e) {
                        this.bw('set_requireRequestsOptimize', e);
                        throw e;
                    }
                },
                get_serviceResponseTimeout: function() {
                    try {
                        var aF = this.kW();
                        this.de('get_serviceResponseTimeout', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_serviceResponseTimeout', e);
                        throw e;
                    }
                },
                set_serviceResponseTimeout: function(value) {
                    try {
                        this.as('set_serviceResponseTimeout', arguments);
                        this.wX(value);
                    } catch (e) {
                        this.bw('set_serviceResponseTimeout', e);
                        throw e;
                    }
                },
                get_pageRotation: function() {
                    try {
                        var aF = this.aCW();
                        this.de('get_pageRotation', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_pageRotation', e);
                        throw e;
                    }
                },
                set_pageRotation: function(value) {
                    try {
                        this.as('set_pageRotation', arguments);
                        this.aBU(value);
                    } catch (e) {
                        this.bw('set_pageRotation', e);
                        throw e;
                    }
                },
                getNodeID: function(pageIndex) {
                    try {
                        this.as('getNodeID', arguments, 1);
                        return this.aDJ(pageIndex);
                    } catch (e) {
                        this.bw('getNodeID', e);
                        throw e;
                    }
                },
                get_isCommentsPanelOpen: function() {
                    try {
                        var aF = this.aFQ();
                        this.de('get_isCommentsPanelOpen', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_isCommentsPanelOpen', e);
                        throw e;
                    }
                },
                openCommentsPanel: function() {
                    try {
                        this.as('openCommentsPanel', arguments);
                        this.aDw();
                    } catch (e) {
                        this.bw('openCommentsPanel', e);
                        throw e;
                    }
                },
                closeCommentsPanel: function() {
                    try {
                        this.as('closeCommentsPanel', arguments);
                        this.aoE();
                    } catch (e) {
                        this.bw('closeCommentsPanel', e);
                        throw e;
                    }
                },
                get_conversationDOMFactory: function() {
                    try {
                        var aF = this.aEp();
                        this.de('get_conversationDOMFactory', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_conversationDOMFactory', e);
                        throw e;
                    }
                },
                set_conversationDOMFactory: function(value) {
                    try {
                        this.as('set_conversationDOMFactory', arguments);
                        this.aBG(value);
                    } catch (e) {
                        this.bw('set_conversationDOMFactory', e);
                        throw e;
                    }
                },
                get_selectedConversation: function() {
                    try {
                        var aF = this.aEf();
                        this.de('get_selectedConversation', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_selectedConversation', e);
                        throw e;
                    }
                },
                set_selectedConversation: function(value) {
                    try {
                        this.as('set_selectedConversation', arguments);
                        this.aBF(value);
                    } catch (e) {
                        this.bw('set_selectedConversation', e);
                        throw e;
                    }
                },
                refreshConversations: function(markIDs) {
                    try {
                        this.as('refreshConversations', arguments);
                        this.awp(markIDs);
                    } catch (e) {
                        this.bw('refreshConversations', e);
                        throw e;
                    }
                }
            };
            MB.registerClass = cV;
            MB.registerClass('IPCC.PageList', {});
            module.exports = MB;
        }, {
            "./IPCC.Util": 29
        }],
        45: [function(require, module, exports) {
            var nP = function(dI, yc) {
                var V = this;
                this.dI = dI;
                this.yc = yc;
                this.aDX = function() {
                    return V.dI;
                };
                this.aFH = function() {
                    return V.yc;
                };
            };
            nP.prototype.get_propertyName = function() {
                return this.dI;
            };
            nP.prototype.get_propertyInfo = function() {
                return this.yc;
            };
            module.exports = nP;
        }, {}],
        46: [function(require, module, exports) {
            var AY = function() {
                this.cO = 1;
                this.width = 0;
                this.height = 0;
                this.pf = 0;
                this.xQ = 0;
                this.pool = undefined;
                return this;
            };
            AY.prototype.PR = function(dE) {
                if (dE.width < 1 || dE.height < 1) {
                    return [];
                }
                var mP = Math.floor(dE.x * this.cO);
                var mJ = Math.floor(dE.y * this.cO);
                var mK = Math.ceil((dE.x + dE.width) * this.cO);
                var mC = Math.ceil((dE.y + dE.height) * this.cO);
                var pj = [];
                var C, fa;
                var ds = this.tiles.length;
                for (C = 0; C < ds; C++) {
                    fa = this.tiles[C];
                    if (fa.x <= mK && fa.right >= mP && fa.y <= mC && fa.bottom >= mJ) {
                        pj.push(fa);
                    }
                }
                return pj;
            };
            module.exports = AY;
        }, {}],
        47: [function(require, module, exports) {
            var xA = function() {
                this.x = 0;
                this.y = 0;
                this.right = 0;
                this.bottom = 0;
                this.ag = 0;
                this.aH = 0;
                this.vZ = 0;
                this.xs = 0;
                this.url = '';
                this.poolItem = undefined;
                this.level = undefined;
                return this;
            };
            xA.prototype.unlock = function() {
                this.level.pool.afz(this);
            };
            xA.prototype.lock = function() {
                this.level.pool.lockTile(this);
            };
            xA.prototype.relock = function() {
                return this.level.pool.XM(this);
            };
            xA.prototype.get_isLockedAndLoaded = function() {
                if (this.poolItem === undefined || !this.poolItem.loaded) {
                    return false;
                }
                return true;
            };
            xA.prototype.toString = function() {
                var bk = 'x:' + this.x.toString() + ', y:' + this.y.toString() + ', right:' + this.right.toString() + ', bottom:' + this.bottom.toString();
                if (this.level) {
                    bk = 'scale:' + this.level.cO.toString() + ', ' + bk;
                }
                return bk;
            };
            module.exports = xA;
        }, {}],
        48: [function(require, module, exports) {
            var mG = function() {
                this.bG = false;
                this.J = false;
            };
            mG.prototype.mq = function(J) {
                J.bV().set_cursor(IPCC.ar.RectangleZoom);
                this.J = J;
            };
            mG.prototype.ek = function() {
                this.J = false;
            };
            mG.prototype.aB = function() {
                if (this.bG) {
                    this.J.bV().ow();
                    this.J.bV().set_cursor(this.iW);
                    this.bG = false;
                    this.J.dv();
                }
            };
            mG.prototype.rG = function() {
                this.aB();
                this.J.dv();
            };
            mG.prototype.lq = function(F) {
                this.aB();
                if (F.domEvent.button === 0) {
                    var bM = this.J.bV();
                    this.iW = bM.get_cursor();
                    bM.set_cursor(IPCC.ar.RectangleZoom);
                    this.bG = true;
                    bM.Ej(F.constrainedImagePoint);
                    this.sP = F.windowPoint;
                    this.J.dv();
                }
            };
            mG.prototype.jV = function(F) {
                if (F.domEvent.button !== 0) {
                    this.aB();
                }
                if (this.bG) {
                    var bM = this.J.bV();
                    bM.xp(F.constrainedImagePoint);
                    this.J.dv();
                }
            };
            mG.prototype.lh = function(F) {
                if (this.bG && F.domEvent.button === 0) {
                    var fM = F.windowPoint.x - this.sP.x;
                    var hG = fM * fM;
                    fM = F.windowPoint.y - this.sP.y;
                    hG += fM * fM;
                    if (hG > 25) {
                        var J = this.J;
                        var bM = J.bV();
                        var ak = bM.ec();
                        var bD = J.eT();
                        var aAk = bD.width;
                        var aAh = bD.height;
                        var bz = J.cE();
                        bM.xp(F.constrainedImagePoint);
                        var lk = bM.wQ();
                        bM.ow();
                        J.aQ('userModifiedViewState', {});
                        ak.OG(bz, bD, lk);
                        ak.la(bz, bD);
                        bM.jr(ak);
                        J.dv();
                        if (aAk !== bD.width || aAh !== bD.height) {
                            ak = bM.ec();
                            ak.OG(bz, bD, lk);
                            ak.la(bz, bD);
                            bM.jr(ak);
                        }
                    }
                }
                this.aB();
            };
            mG.prototype.oK = function(F) {
                var bD = this.J.eT();
                if (F.windowPoint.x <= 0 || F.windowPoint.x >= bD.width - 2) {
                    this.aB();
                }
                if (F.windowPoint.y <= 0 || F.windowPoint.y >= bD.height - 2) {
                    this.aB();
                }
            };
            mG.prototype.mh = function() {
                this.aB();
            };
            module.exports = mG;
        }, {}],
        49: [function(require, module, exports) {
            var lz = {
                'paramName': 'Parameter name: {0}',
                'svctype': 'License',
                'argumentNull': 'Value cannot be null.',
                'spc': ' ',
                'actualValue': 'Actual value was {0}.',
                'fwdslash': '/',
                'prodInfo': 'prodInfoPass',
                'argumentOutOfRange': 'Specified argument was out of the range of valid values.',
                'argumentTypeWithTypes': 'Object of type \'{0}\' cannot be converted to type \'{1}\'.',
                'argumentType': 'Object cannot be converted to the required type.',
                'invalidOperation': 'Operation is not valid due to the current state of the object.',
                'notImplemented': 'The method or operation is not implemented.',
                'argument': 'Value does not fall within the expected range.',
                'prodFailInfo': 'prodInfoFail',
                'svcReqStr': '',
                'viewer': 'ClientViewer',
                'querySymb': '?',
                'version': 'v=',
                'iv': 'iv=',
                'param': 'p='
            };
            module.exports = lz;
        }, {}],
        50: [function(require, module, exports) {
            var za = function() {};
            za.prototype.mq = function(J) {
                this.J = J;
                this.bM = J.bV();
                this.iW = this.bM.get_cursor();
                this.bM.set_cursor(IPCC.ar.RunMarks);
                this.bM.Do(IPCC.ar.Link);
            };
            za.prototype.ek = function() {
                this.bM.set_cursor(this.iW);
                this.bM.Do(IPCC.ar.Default);
                this.J = false;
            };
            za.prototype.aB = function() {};
            module.exports = za;
        }, {}],
        51: [function(require, module, exports) {
            var eP = require('./IPCC.Util').regEnum;
            var Ck = function() {};
            Ck.registerEnum = eP;
            Ck.prototype = {
                Pinch: "Pinch",
                Zoom: "Zoom",
                Fit: "Fit",
                ViewMode: "ViewMode"
            };
            Ck.registerEnum('IPCC.ScaleTrigger', false);
            module.exports = Ck;
        }, {
            "./IPCC.Util": 29
        }],
        52: [function(require, module, exports) {
            var pm = function() {
                this.bG = false;
                this.J = false;
            };
            pm.prototype.mq = function(J) {
                J.bV().set_cursor(IPCC.ar.Crosshair);
                this.J = J;
            };
            pm.prototype.ek = function() {
                this.J = false;
            };
            pm.prototype.aB = function() {
                if (this.bG) {
                    this.J.ow();
                    this.J.bV().set_cursor(this.iW);
                    this.bG = false;
                    this.J.dv();
                }
            };
            pm.prototype.rG = function() {
                this.aB();
            };
            pm.prototype.lq = function(F) {
                this.aB();
                if (F.domEvent.button === 0) {
                    var bM = this.J.bV();
                    this.iW = bM.get_cursor();
                    bM.set_cursor(IPCC.ar.Crosshair);
                    this.bG = true;
                    bM.Ej(F.constrainedImagePoint);
                    this.J.dv();
                }
            };
            pm.prototype.jV = function(F) {
                if (F.domEvent.button !== 0) {
                    this.aB();
                }
                if (this.bG) {
                    var bM = this.J.bV();
                    bM.xp(F.constrainedImagePoint);
                    this.J.dv();
                }
            };
            pm.prototype.lh = function(F) {
                if (F.domEvent.button === 0) {
                    this.bG = false;
                }
                this.aB();
            };
            pm.prototype.oK = function(F) {
                var bD = this.J.eT();
                if (F.windowPoint.x <= 0 || F.windowPoint.x >= bD.width - 2) {
                    this.aB();
                }
                if (F.windowPoint.y <= 0 || F.windowPoint.y >= bD.height - 2) {
                    this.aB();
                }
            };
            pm.prototype.mh = function() {
                this.aB();
            };
            module.exports = pm;
        }, {}],
        53: [function(require, module, exports) {
            var kP = function() {
                this.bG = false;
                this.J = false;
            };
            kP.prototype.mq = function(J) {
                J.bV().set_cursor(IPCC.ar.Text);
                this.J = J;
            };
            kP.prototype.ek = function() {
                this.J = false;
            };
            kP.prototype.aB = function() {
                if (this.bG) {
                    this.J.bV().UO();
                    this.J.bV().set_cursor(this.iW);
                    this.bG = false;
                }
            };
            kP.prototype.rG = function() {
                this.aB();
            };
            kP.prototype.lq = function(F) {
                if (F.domEvent.button === 0) {
                    var bM = this.J.bV();
                    this.iW = bM.get_cursor();
                    bM.set_cursor(IPCC.ar.Text);
                    this.bG = true;
                    var df = this.J.HX(F.constrainedImagePoint);
                    this.J.gB = df;
                    if (!df) {
                        return;
                    }
                    this.J.zs(df);
                    bM.zs(df);
                    bM.tL(undefined);
                    this.J.dv();
                }
            };
            kP.prototype.jV = function(F) {
                var J = this.J;
                J.aAe = true;
                if (F.domEvent.button !== 0) {
                    this.aB();
                }
                if (this.bG) {
                    var bM = J.bV();
                    var df = J.HX(F.constrainedImagePoint);
                    var gs = bM.Cd();
                    if (gs === df) {
                        return;
                    }
                    J.tL(df);
                    J.dv();
                }
            };
            kP.prototype.lh = function(F) {
                if (F.domEvent.button === 0) {
                    this.bG = false;
                }
                var J = this.J;
                var bM = this.J.bV();
                var dp = bM.hL.length;
                if (dp === 0) {
                    this.aB();
                    return;
                }
                var aT = bM.hL[0].df;
                var dr = bM.hL[dp - 1].df;
                if (J.Kn === true) {
                    if (aT > dr) {
                        aT = dr;
                    }
                    var C;
                    var kS = IPCC.wv();
                    this.L = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);
                    this.L.aT = aT;
                    this.L.cS = J.BB();
                    this.L.cq = dp;
                    this.L.set_fillColor(J.rc);
                    this.L.kQ = 'y';
                    this.L.ah = kS;
                    for (C = 0; C < bM.hL.length; C++) {
                        var aa = bM.hL[C];
                        var Dw = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);
                        var CJ = aa.L.eA();
                        Dw.set_fillColor(J.rc);
                        Dw.set_opacity(aa.L.get_opacity());
                        Dw.set_rectangle(CJ);
                        Dw.ah = kS;
                        Dw.kQ = 'y';
                        this.J.eg().addMark(Dw);
                    }
                    bM.hL = [];
                    if (dp > 0) {
                        this.J.eg().addMark(this.L);
                    }
                    J.lX().removeAllMarks();
                }
                dp = bM.hL.length;
                var adK = new IPCC.Web.UI.TextSelectedEventArgs();
                adK.text = J.BB();
                J.aQ('selectTextMouseToolCompleted', adK);
                J.dv();
                this.aB();
            };
            kP.prototype.oK = function(F) {
                var bD = this.J.eT();
                if (F.windowPoint.x <= 0 || F.windowPoint.x >= bD.width - 2) {
                    this.aB();
                }
                if (F.windowPoint.y <= 0 || F.windowPoint.y >= bD.height - 2) {
                    this.aB();
                }
            };
            kP.prototype.mh = function() {
                this.aB();
            };
            module.exports = kP;
        }, {}],
        54: [function(require, module, exports) {
            var cv = function() {
                this.J = false;
                this.Gy = 0;
                this.avP = 1;
                this.aei = 2;
                this.aeX = 3;
            };
            cv.prototype.mq = function(J) {
                this.J = J;
                this.cL = this.Gy;
            };
            cv.prototype.ek = function() {
                this.J = false;
            };
            cv.prototype.aB = function() {
                this.cL = this.Gy;
            };
            cv.prototype.akF = function(F) {
                var aCg = new Date() - this.avm;
                if (aCg < 750) {
                    var ew = this.aeD.x - F.windowPoint.x;
                    var et = this.aeD.y - F.windowPoint.y;
                    var hG = ew * ew + et * et;
                    if (hG < 2500) {
                        return true;
                    }
                }
                return false;
            };
            cv.prototype.afl = function(F) {
                this.avm = new Date();
                this.aeD = new IPCC.Web.UI.Point(F.windowPoint.x, F.windowPoint.y);
            };
            cv.prototype.Qm = function(F) {
                var bS = F.domEvent.rawEvent;
                if (bS.touches.length === 1) {
                    if (this.cL === this.aei && this.akF(F)) {
                        this.cL = this.aeX;
                    } else {
                        this.cL = this.avP;
                    }
                    this.afl(F);
                    this.J.gw('lq', F);
                } else {
                    this.cL = this.Gy;
                    this.J.gw('rG', F);
                }
            };
            cv.prototype.PK = function(F) {
                var bS = F.domEvent.rawEvent;
                if (bS.touches.length === 1) {
                    this.J.gw('jV', F);
                }
            };
            cv.prototype.PH = function(F) {
                var bS = F.domEvent.rawEvent;
                if (bS.touches.length === 0) {
                    if (this.akF(F)) {
                        if (this.cL === this.aeX) {
                            this.cL = this.Gy;
                            this.J.gw('lh', F);
                            this.J.gw('zA', F);
                        } else {
                            this.afl(F);
                            this.cL = this.aei;
                            this.J.gw('lh', F);
                        }
                    } else {
                        this.cL = this.Gy;
                        this.J.gw('lh', F);
                    }
                }
            };
            cv.prototype.Kt = function(F) {
                this.J.gw('rG', F);
            };
            module.exports = cv;
        }, {}],
        55: [function(require, module, exports) {
            var GB = function(ag, aH, fS, gO) {
                IPCC.Web.UI.Rectangle.call(this, 0, 0, 0, 0);
                this.width = ag;
                this.height = aH;
                this.fS = fS;
                this.gO = gO;
                return this;
            };
            GB.prototype.toString = function() {
                return 'Space(' + this.width + ' x ' + this.height + ', ' + this.fS + ', ' + this.gO + ')';
            };
            module.exports = GB;
        }, {}],
        56: [function(require, module, exports) {
            var xc = function(KK) {
                this.rD = (typeof(KK) !== 'undefined' && KK !== null && KK !== '') ? [KK.toString()] : [];
                this.G = {};
                this.ds = 0;
            };
            xc.prototype.nc = function(bv) {
                this.rD[this.rD.length] = bv;
            };
            xc.prototype.aIw = function(bv) {
                this.rD[this.rD.length] = ((typeof(bv) === 'undefined') || (bv === null) || (bv === '')) ? '\r\n' : bv + '\r\n';
            };
            xc.prototype.aGi = function() {
                this.rD = [];
                this.G = {};
                this.ds = 0;
            };
            xc.prototype.aHf = function() {
                if (this.rD.length === 0) {
                    return true;
                }
                return this.toString() === '';
            };
            xc.prototype.auI = function(xh) {
                xh = xh || '';
                var parts = this.rD;
                if (this.ds !== parts.length) {
                    this.G = {};
                    this.ds = parts.length;
                }
                var val = this.G;
                if (typeof(val[xh]) === 'undefined') {
                    if (xh !== '') {
                        for (var i = 0; i < parts.length;) {
                            if ((typeof(parts[i]) === 'undefined') || (parts[i] === '') || (parts[i] === null)) {
                                parts.splice(i, 1);
                            } else {
                                i++;
                            }
                        }
                    }
                    val[xh] = this.rD.join(xh);
                }
                return val[xh];
            };
            module.exports = xc;
        }, {}],
        57: [function(require, module, exports) {
            var eZ = function(J, og) {
                this.QO = false;
                this.YH = false;
                this.Bh = true;
                this.ZU = false;
                this.Oa = false;
                this.ws = 0;
                this.wt = 0;
                var bi = this;
                this.aDf = 'opacity';
                this.aDU = function(cT) {
                    return cT.toString();
                };
                var agJ = function agJ(bn, fd, oE, bz, mi, nb) {
                    var hb;
                    if (this.J.qo() === true) {
                        bn.yw.setAttribute('width', oE.width);
                        bn.yw.setAttribute('height', oE.height);
                        bn.vT.setAttribute('width', oE.width);
                        bn.vT.setAttribute('height', oE.height);
                        hb = fd.pP().toString() + ',' + fd.nK().toString() + ',' + fd.sk().toString() + ',' + fd.sM().toString() + ',' + (fd.xt() + mi).toString() + ',' + (fd.xo() + nb).toString();
                        this.he(bn.AU, 'transform', 'matrix(' + hb + ')');
                    } else {
                        bn.yw.setAttribute('width', oE.width);
                        bn.yw.setAttribute('height', oE.height);
                        bn.vT.setAttribute('width', oE.width);
                        bn.vT.setAttribute('height', oE.height);
                        hb = fd.pP().toString() + ',' + fd.nK().toString() + ',' + fd.sk().toString() + ',' + fd.sM().toString() + ',' + (fd.xt() + mi).toString() + ',' + (fd.xo() + nb).toString();
                        this.he(bn.AU, 'transform', 'matrix(' + hb + ')');
                    }
                };

                function auJ(bn) {
                    var pathList = bn.yw.getElementsByTagName('path');
                    var gList = bn.yw.getElementsByTagName('g');
                    bn.RR = [];

                    function afH(pathItem, index) {
                        if (!pathItem.hasAttribute('data-pcc-mark')) {
                            if (pathItem.hasAttribute('stroke-width') || pathItem.style.strokeWidth) {
                                pathItem.originalStrokeWidth = pathItem.getAttribute('stroke-width') || pathItem.style.strokeWidth;
                                bn.RR.push(pathItem);
                            }
                        }
                    };
                    IPCC.T.forEach(pathList, afH);
                    IPCC.T.forEach(gList, afH);
                };
                this.aeA = function(bn) {
                    var bM = J.bV();
                    var aox = 1;
                    var lm = bM.aDm();

                    function setStrokeWidthToOriginalValue(pathItem, index) {
                        if (pathItem.hasAttribute('stroke-width')) {
                            pathItem.setAttribute('stroke-width', parseFloat(pathItem.originalStrokeWidth));
                        } else {
                            var strokeWidth = parseFloat(pathItem.originalStrokeWidth);
                            pathItem.style.strokeWidth = strokeWidth;
                        }
                    };

                    function updateStrokeWidthByLineWidthMultiplier(pathItem, index) {
                        if (pathItem.hasAttribute('stroke-width')) {
                            pathItem.setAttribute('stroke-width', parseFloat(pathItem.originalStrokeWidth * lm));
                        } else {
                            var strokeWidth = parseFloat(pathItem.originalStrokeWidth);
                            pathItem.style.strokeWidth = strokeWidth * lm;
                        }
                    };
                    if (bn.RR === undefined) {
                        auJ(bn);
                    }
                    if (lm === aox) {
                        IPCC.T.forEach(bn.RR, setStrokeWidthToOriginalValue);
                    } else {
                        IPCC.T.forEach(bn.RR, updateStrokeWidthByLineWidthMultiplier);
                    }
                    bM.aAz(false);
                };

                function aue(bn, aD) {
                    bn.sb.setAttribute('exponent', aD);
                    bn.sF.setAttribute('exponent', aD);
                    bn.uH.setAttribute('exponent', aD);
                };

                function aul(bn, aD) {
                    var aor = 841;
                    var kp = (aD / aor) * -1;
                    var hb;
                    if (IPCC.T.CA) {
                        hb = '{00} {01} {02} ' + '{10} {11} {12} ' + '{20} {21} {22}';
                        hb = hb.replace('{00}', kp).replace('{01}', kp).replace('{02}', kp).replace('{10}', kp).replace('{11}', 1).replace('{12}', kp).replace('{20}', kp).replace('{21}', kp).replace('{22}', kp);
                    } else {
                        hb = '{00} {01} {02} {03} {04} ' + '{10} {11} {12} {13} {14} ' + '{20} {21} {22} {23} {24} ' + '{30} {31} {32} {33} {34} ' + '{40} {41} {42} {43} {44}';
                        hb = hb.replace('{00}', 0).replace('{01}', 0).replace('{02}', 0).replace('{03}', 0).replace('{04}', 0).replace('{10}', 0).replace('{11}', kp).replace('{12}', kp).replace('{13}', kp).replace('{14}', 0).replace('{20}', 0).replace('{21}', kp).replace('{22}', 1).replace('{23}', kp).replace('{24}', 0).replace('{30}', 0).replace('{31}', kp).replace('{32}', kp).replace('{33}', kp).replace('{34}', 0).replace('{40}', 0).replace('{41}', 0).replace('{42}', 0).replace('{43}', 0).replace('{44}', 0);
                    }
                    bn.lG.setAttribute('kernelMatrix', hb);
                };
                this.atT = function(bn) {
                    var bM = J.bV();
                    var qF = bM.aGh();
                    var pZ = bM.aEb();
                    if (pZ === 0 && qF === 1) {
                        bn.AU.removeAttribute('filter', 'url(#' + bn.JW + ')');
                    } else {
                        bn.AU.setAttribute('filter', 'url(#' + bn.JW + ')');
                    }
                    aue(bn, qF);
                    aul(bn, pZ);
                };
                var abe, abB;
                this.acJ = function(bn, fd, oE, bz, mi, nb) {
                    if (bn.ZR.match('maglevel')) {
                        agJ.apply(this, arguments);
                        return;
                    }
                    var aW = bn.gx.parentElement.getBoundingClientRect();
                    var lA = aW.width / bz.width;
                    var ags = function(val) {
                        return Math.abs(val) < 1.0e-14;
                    };
                    var dW = 0,
                        fA = 0;
                    var ayh = function() {
                        var qy = fd.nK();
                        if (ags(qy)) {
                            qy = 0;
                        }
                        var ou = fd.sk();
                        if (ags(ou)) {
                            ou = 0;
                        }
                        var azL = fd.pP();
                        var hk = (qy >= 0 && ou < 0) ? 90 : (qy < 0 && ou >= 0) ? 270 : (azL < 0) ? 180 : (qy >= 0 && ou >= 0) ? 0 : 0;
                        switch (hk) {
                            case 90:
                                dW = aW.width;
                                break;
                            case 180:
                                dW = aW.width;
                                fA = aW.height;
                                break;
                            case 270:
                                fA = aW.height;
                                break;
                        }
                        return hk * (Math.PI / 180);
                    };
                    var hk = ayh();
                    if (parseInt(hk, 10) === 1 || parseInt(hk, 10) === 4) {
                        lA = aW.height / bz.width;
                    }
                    if (lA === abe && hk === abB) {
                        return;
                    } else {
                        abe = lA;
                        abB = hk;
                    }
                    var fH = 1,
                        iK = 0;
                    if (hk !== 0) {
                        fH = Math.cos(hk);
                        iK = Math.sin(hk);
                    }
                    var ak = {
                        lA: fH * lA,
                        qL: fH * lA,
                        qy: iK * lA,
                        ou: iK * -1 * lA,
                        dW: dW,
                        fA: fA
                    };
                    var avo = new IPCC.fg(ak.lA, ak.qy, ak.ou, ak.qL, ak.dW, ak.fA);
                    fd.Nf(avo);
                    J.bV().jr(fd);
                    var hb = 'matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';
                    hb = hb.replace('{scaleX}', ak.lA).replace('{scaleY}', ak.qL).replace('{skewX}', ak.qy).replace('{skewY}', ak.ou).replace('{moveX}', ak.dW).replace('{moveY}', ak.fA);
                    this.he(bn.AU, 'transform', hb);
                };
                this.aoU = function() {
                    abe = undefined;
                    abB = undefined;
                };
                this.awb(J);
                this.anP = function(db) {
                    var bD = new IPCC.GB(db.clientWidth, db.clientHeight, 96, 96);
                    return bD;
                };
                this.afg = function(bS) {
                    bS.preventDefault();
                    bi.lq(bS);
                };
                this.afr = function(bS) {
                    bS.preventDefault();
                    bi.jV(bS);
                };
                this.afJ = function(bS) {
                    bS.preventDefault();
                    bi.lh(bS);
                };
                this.ajK = function(bS) {
                    bi.lq(bS);
                };
                this.aee = function(bS) {
                    bi.zA(bS);
                };
                this.ajZ = function(bS) {
                    bi.jV(bS);
                };
                this.Ve = function(bS) {
                    bi.mh(bS);
                };
                this.ala = function(bS) {
                    bi.lh(bS);
                };
                this.anr = function(bS) {
                    bi.zA(bS);
                };
                this.aeM = function(bS) {
                    bi.TE(bS);
                };
                this.MP = function(bS) {
                    if (bS.target !== document.activeElement) {
                        bi.aDY(bS);
                    }
                };
                this.aaV = function(bS) {
                    if (bS.target !== document.activeElement) {
                        bi.aDW(bS);
                    }
                };
                this.oK = function(bS) {
                    try {
                        bS.preventDefault();
                        var F = new IPCC.Web.UI.MouseEventArgs();
                        F.domEvent = bS;
                        bi.ta(F);
                        J.aAS(F);
                    } catch (ex) {
                        J.bw('mouseOut', ex);
                    }
                };
                this.Qm = function(bS) {
                    try {
                        bS.preventDefault();
                        var F = new IPCC.Web.UI.MouseEventArgs();
                        F.domEvent = bS;
                        bi.ta(F);
                        J.azO(F);
                    } catch (ex) {
                        J.bw('touchStart', ex);
                    }
                };
                this.PK = function(bS) {
                    try {
                        bS.preventDefault();
                        var F = new IPCC.Web.UI.MouseEventArgs();
                        F.domEvent = bS;
                        bi.ta(F);
                        J.azC(F);
                    } catch (ex) {
                        J.bw('touchMove', ex);
                    }
                };
                this.PH = function(bS) {
                    try {
                        bS.preventDefault();
                        var F = new IPCC.Web.UI.MouseEventArgs();
                        F.domEvent = bS;
                        bi.ta(F);
                        J.aAu(F);
                    } catch (ex) {
                        J.bw('touchEnd', ex);
                    }
                };
                this.Kt = function(bS) {
                    try {
                        bS.preventDefault();
                        var F = new IPCC.Web.UI.MouseEventArgs();
                        F.domEvent = bS;
                        bi.ta(F);
                        J.aAx(F);
                    } catch (ex) {
                        J.bw('touchCancel', ex);
                    }
                };
                this.akO = function(bS) {
                    try {
                        bS.preventDefault();
                    } catch (ex) {
                        J.bw('dragStart', ex);
                    }
                };
                this.avh = function() {
                    var dS = J.nQ().igElements.lW;
                    IPCC.Web.UI.ao.addHandler(dS, "mousewheel", this.Ve);
                    IPCC.Web.UI.ao.addHandler(dS, "DOMMouseScroll", this.Ve);
                    if (og) {
                        IPCC.Web.UI.ao.addHandler(dS, "touchstart", this.Qm);
                        IPCC.Web.UI.ao.addHandler(dS, "touchmove", this.PK);
                        IPCC.Web.UI.ao.addHandler(dS, "touchend", this.PH);
                        IPCC.Web.UI.ao.addHandler(dS, "touchcancel", this.Kt);
                    }
                    IPCC.Web.UI.ao.addHandler(dS, "mouseout", this.oK);
                    IPCC.Web.UI.ao.addHandler(dS, "dragstart", this.akO);
                };
                this.aoI = function() {
                    var dS = J.nQ().igElements.lW;
                    IPCC.Web.UI.ao.removeHandler(dS, "DOMMouseScroll", this.Ve);
                    IPCC.Web.UI.ao.removeHandler(dS, "mouseout", this.oK);
                    if (og) {
                        IPCC.Web.UI.ao.removeHandler(dS, "touchstart", this.Qm);
                        IPCC.Web.UI.ao.removeHandler(dS, "touchmove", this.PK);
                        IPCC.Web.UI.ao.removeHandler(dS, "touchend", this.PH);
                        IPCC.Web.UI.ao.removeHandler(dS, "touchcancel", this.Kt);
                    }
                    IPCC.Web.UI.ao.removeHandler(dS, "dragstart", this.akO);
                };

                function arM(bn, hU) {
                    var re = document.createElementNS('http://www.w3.org/2000/svg', 'filter');
                    var JW = 'filter' + hU;
                    bn.JW = JW;
                    re.setAttribute('id', JW);
                    re.setAttribute('x', '0');
                    re.setAttribute('y', '0');
                    re.setAttribute('filterUnits', 'objectBoundingBox');
                    re.setAttribute('color-interpolation-filters', 'sRGB');
                    return re;
                };

                function arU(hU) {
                    var lG = document.createElementNS('http://www.w3.org/2000/svg', 'feConvolveMatrix');
                    lG.setAttribute('in', 'SourceGraphic');
                    lG.setAttribute('result', hU + 'lG');
                    lG.setAttribute('preserveAlpha', 'true');
                    if (IPCC.T.CA) {
                        lG.setAttribute('order', '3 3');
                        lG.setAttribute('kernelMatrix', '0 0 0 0 1 0 0 0 0');
                    } else {
                        lG.setAttribute('order', '5 5');
                        lG.setAttribute('kernelMatrix', '0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0');
                    }
                    return lG;
                };

                function asn(hU) {
                    var or = document.createElementNS('http://www.w3.org/2000/svg', 'feComponentTransfer');
                    or.setAttribute('in', hU + 'lG');
                    or.setAttribute('result', hU + 'or');
                    return or;
                };

                function arx(hU) {
                    var sb = document.createElementNS('http://www.w3.org/2000/svg', 'feFuncR');
                    sb.setAttribute('type', 'gamma');
                    sb.setAttribute('amplitude', '1');
                    sb.setAttribute('exponent', '1');
                    sb.setAttribute('offset', '0');
                    var sF = document.createElementNS('http://www.w3.org/2000/svg', 'feFuncG');
                    sF.setAttribute('type', 'gamma');
                    sF.setAttribute('amplitude', '1');
                    sF.setAttribute('exponent', '1');
                    sF.setAttribute('offset', '0');
                    var uH = document.createElementNS('http://www.w3.org/2000/svg', 'feFuncB');
                    uH.setAttribute('type', 'gamma');
                    uH.setAttribute('amplitude', '1');
                    uH.setAttribute('exponent', '1');
                    uH.setAttribute('offset', '0');
                    return {
                        sb: sb,
                        sF: sF,
                        uH: uH
                    };
                };

                function apH(bn, hU) {
                    var JG = document.createElementNS('http://www.w3.org/2000/svg', 'feMerge');
                    var anp = document.createElementNS('http://www.w3.org/2000/svg', 'feMergeNode');
                    var alD = document.createElementNS('http://www.w3.org/2000/svg', 'feMergeNode');
                    anp.setAttribute('in', hU + 'lG');
                    alD.setAttribute('in', hU + 'or');
                    JG.appendChild(anp);
                    JG.appendChild(alD);
                    return JG;
                };
                this.aoB = function(bn, gx, rV, hU) {
                    var C, av, db, aaL;
                    var Pq = function(an, cB, aI) {
                        var db = document.createElementNS('http://www.w3.org/2000/svg', an);
                        var C;
                        if (cB) {
                            db.setAttribute('id', cB);
                        }
                        for (C in aI) {
                            if (aI.hasOwnProperty(C)) {
                                db.setAttribute(C, aI[C]);
                            }
                        }
                        return db;
                    };
                    var fz = Pq('svg', null, {
                        xmlns: 'http://www.w3.org/2000/svg',
                        version: '1.1',
                        xlink: 'http://www.w3.org/1999/xlink',
                        'image-rendering': 'optimizeQuality'
                    });
                    var re = arM(bn, hU);
                    bn.aGd = re;
                    var lG = arU(hU);
                    bn.lG = lG;
                    re.appendChild(lG);
                    var or = asn(hU);
                    bn.or = or;
                    re.appendChild(or);
                    var Db = arx();
                    or.appendChild(Db.sb);
                    or.appendChild(Db.sF);
                    or.appendChild(Db.uH);
                    bn.sb = Db.sb;
                    bn.sF = Db.sF;
                    bn.uH = Db.uH;
                    var JG = apH(bn, hU);
                    re.appendChild(JG);
                    fz.appendChild(re);
                    bn.vT = Pq('rect', null, {
                        x: 0,
                        y: 0,
                        'fill-opacity': '0.005',
                        fill: '#808080'
                    });
                    fz.appendChild(bn.vT);
                    var TX = Pq('g', null, {});
                    bn.AU = TX;
                    fz.appendChild(TX);
                    var ds;
                    if (J.qo() === false) {
                        ds = rV.fi.length;
                    } else {
                        ds = 1;
                    }
                    for (C = 0; C < ds; C++) {
                        av = rV.fi[C];
                        av.pool.parentElementID = hU + C.toString();
                        aaL = 1 / av.cO;
                        db = Pq('g', av.pool.parentElementID, {
                            transform: 'matrix(' + aaL.toString() + ',0,0,' + aaL.toString() + ',0,0)'
                        });
                        TX.appendChild(db);
                    }
                    bn.yw = fz;
                    gx.appendChild(fz);
                };
                this.auT = function(jn) {
                    var atq = this.amV();
                    jn.elementID = atq;
                };
                this.ayz = function(jn) {
                    var db = document.getElementById(jn.elementID);
                    this.he(db, 'display', 'none');
                };
                this.alk = function(jn) {
                    var db = document.getElementById(jn.elementID);
                    if (db === null) {
                        jn.elementID = '';
                        return;
                    }
                    db.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '');
                    db.parentNode.removeChild(db);
                    jn.elementID = '';
                };
                var axr = function(bS) {
                    try {
                        bS.target.onload = undefined;
                        bS.target.onerror = undefined;
                        bS.target.onabort = undefined;
                        var jn = bS.target.poolItem;
                        jn.loaded = true;
                        bi.Ab();
                    } catch (ex) {
                        J.bw('downloadImage', ex);
                    }
                };
                var alq = function(bS) {
                    try {
                        bS.target.onload = undefined;
                        bS.target.onerror = undefined;
                        bS.target.onabort = undefined;
                        bS.target.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '');
                        bS.target.setAttribute('display', 'none');
                        throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it', {
                            name: 'IPCC.Web.UI.ImGearHttpException'
                        });
                    } catch (ex) {
                        J.bw('downloadImage', ex);
                        var cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                        cs.exception = ex;
                        cs.pageNumber = J.aw;
                        J.aQ('pageOpenFailed', cs);
                    }
                };
                this.azN = function(zZ) {
                    var C;
                    var ds = zZ.length;
                    if (J.qo() === false) {
                        ds = zZ.length;
                    } else {
                        ds = 1;
                    }
                    for (C = 0; C < ds; C++) {
                        var fv = zZ[C];
                        var db = document.getElementById(fv.poolItem.elementID);
                        if (db === null) {
                            var jn = fv.poolItem;
                            var QW = jn.pool;
                            var gx = document.getElementById(QW.parentElementID);
                            db = document.createElementNS('http://www.w3.org/2000/svg', 'image');
                            this.he(db, 'id', jn.elementID);
                            this.he(db, 'externalResourcesRequired', 'true');
                            db.poolItem = jn;
                            db.onload = axr;
                            db.onerror = alq;
                            db.onabort = alq;
                            if (document.documentMode > 8 || IPCC.T.so.tS) {
                                jn.loaded = true;
                            }
                            db.setAttributeNS('http://www.w3.org/1999/xlink', 'href', 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');
                            this.awR(db, fv.url, 'image/' + fv.contentType);
                            gx.appendChild(db);
                            this.he(db, 'display', 'block');
                            var ag = fv.right - fv.x;
                            var aH = fv.bottom - fv.y;
                            this.he(db, 'x', fv.x);
                            this.he(db, 'y', fv.y);
                            this.he(db, 'width', ag);
                            this.he(db, 'height', aH);
                            if (ds > 1) {
                                var aoh = ag - fv.vZ;
                                var anU = aH - fv.xs;
                                var LZ = document.createElementNS('http://www.w3.org/2000/svg', 'clipPath');
                                LZ.id = db.id + '_clip';
                                var fu = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                                this.he(fu, 'x', fv.x - fv.vZ);
                                this.he(fu, 'y', fv.y - fv.xs);
                                this.he(fu, 'width', aoh);
                                this.he(fu, 'height', anU);
                                this.he(fu, 'class', 'expand-on-print');
                                LZ.appendChild(fu);
                                var insertBeforeElement = null;
                                for (var i = 0; i < gx.childNodes.length; i++) {
                                    if (gx.childNodes.item(i).getAttribute('x') < fv.x || gx.childNodes.item(i).getAttribute('y') < fv.y) {
                                        insertBeforeElement = gx.childNodes.item(i);
                                        break;
                                    }
                                }
                                gx.insertBefore(db, insertBeforeElement);
                                gx.appendChild(LZ);
                                this.he(db, 'style', 'clip-path: url(#' + LZ.id + ')');
                                this.he(db, 'class', 'no-clip-on-print');
                            }
                        }
                        this.he(db, 'display', 'block');
                    }
                    if ((document.documentMode > 8 || IPCC.T.so.tS) && zZ.length > 0) {
                        bi.Ab();
                    }
                };
                this.awR = function(db, aq, wi) {
                    var qu = true;
                    var mx = 0;
                    if (J.kW() === 0) {
                        qu = false;
                    }

                    function eI(aX) {
                        var cN, cs;
                        try {
                            var fm = IPCC.Web.FV(aX),
                                aap;
                            var os = aX.getResponseHeader("Accusoft-Data-Encrypted");
                            if (os === 'true' && J.ip() === true) {
                                var tM = IPCC.Web.hj.pH.uR(aX.getResponseHeader("Accusoft-Data-SK"));
                                var bu = IPCC.Web.Gf(tM, iZ);
                                var ve = IPCC.Web.Ec(fm, bu, iZ);
                                aap = IPCC.Web.hj.pH.nl(ve, 0, 0);
                            } else {
                                aap = IPCC.Web.hj.pH.nl(fm, 0, 0);
                            }
                            db.setAttributeNS('http://www.w3.org/1999/xlink', 'href', 'data:' + wi + ';base64,' + aap);
                        } catch (ex) {
                            cN = "Image error, Error message = " + ex.message;
                            cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                            cs.exception = ex;
                            cs.pageNumber = J.aw;
                            J.aQ('pageOpenFailed', cs);
                            throw new IPCC.Web.UI.ImGearArgumentException(null, cN);
                        }
                    };

                    function fc(bk) {
                        var hC = bk.response.status,
                            cN, mA, mc;
                        if (!bk.response) {
                            throw new IPCC.Web.UI.ImGearHttpException(hC, "Client Image load timeout");
                        }
                        if (hC === 403) {
                            mx++;
                            if (bk.response.statusText && bk.response.statusText !== "") {
                                cN = "Expired viewer session ID, error message from the server: " + bk.response.statusText;
                            } else {
                                cN = "Expired viewer session ID. No error text message was received from the server:";
                            }
                            throw new IPCC.Web.UI.ImGearHttpException(hC, cN);
                        }
                        mA = bk.response.getResponseHeader('Accusoft-Status-Message');
                        if (mA) {
                            var qA;
                            mc = bk.response.getResponseHeader('Accusoft-Status-Number');
                            if (IPCC.Web.vR(mc)) {
                                qA = parseInt(mc, 10);
                            }
                            throw new IPCC.Web.UI.ImGearHttpException(hC, mA, qA);
                        } else {
                            if (bk.response.statusText && bk.response.statusText !== "") {
                                cN = bk.response.statusText;
                            } else {
                                cN = "HTTP Error was received from the image server but the server did not provide any error description.";
                            }
                            throw new IPCC.Web.UI.ImGearHttpException(hC, cN);
                        }
                    };
                    var iG = {
                        method: 'GET'
                    };
                    if (qu === true) {
                        iG.timeout = J.kW();
                    }
                    if (J.aFI() && J.ip() === true) {
                        var iZ = IPCC.Web.Hu.aiT(4);
                        var pL = IPCC.Web.hj.GN.nl(iZ);
                        var aDK = aq + '&iv=' + pL;
                        iG.url = aDK;
                    } else {
                        iG.mimeType = 'text/plain; charset=x-user-defined';
                        iG.url = aq;
                    }
                    IPCC.T.lD.eh(iG).then(eI, fc);
                };
                this.aAP = function(bn) {
                    var V = this;
                    if (bn.Rn) {
                        return;
                    }
                    var mx = 0;
                    var fv = bn.rV.fi[0].tiles[0];
                    if (!fv) {
                        return;
                    }
                    var QW = fv.level.pool;
                    var gx = document.getElementById(QW.parentElementID);
                    var qu = true;
                    if (J.kW() === 0) {
                        qu = false;
                    }
                    var wU = J.Wp();
                    if (bn.Gq) {
                        if (wU === 2) {
                            delete bn.Gq;
                            if (gx.childNodes.length > 0) {
                                gx.removeChild(gx.childNodes[0]);
                            }
                        } else if (wU === 1) {
                            if (gx.childNodes.length > 0) {
                                gx.removeChild(gx.childNodes[0]);
                            }
                        } else {
                            if (gx.childNodes.length === 0) {
                                gx.appendChild(bn.apB);
                            }
                        }
                        J.wq = true;
                        return;
                    }
                    if (wU > 0) {
                        return;
                    }

                    function eI(aX) {
                        var cs, cN;
                        bn.Rn = false;
                        try {
                            try {
                                var np;
                                var os = aX.getResponseHeader("Accusoft-Data-Encrypted");
                                if (os === 'true' && J.ip() === true) {
                                    var tM = IPCC.Web.hj.pH.uR(aX.getResponseHeader("Accusoft-Data-SK"));
                                    var bu = IPCC.Web.Gf(tM, iZ);
                                    var fm = IPCC.Web.FV(aX);
                                    var ve = IPCC.Web.Ec(fm, bu, iZ);
                                    np = IPCC.Web.hj.FD.nl(ve);
                                } else {
                                    np = aX.responseText;
                                }
                                awo(np);
                            } catch (ex) {
                                cN = "SVG image error, Error message = " + ex.message;
                                cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                                cs.exception = ex;
                                cs.pageNumber = J.aw;
                                J.aQ('pageOpenFailed', cs);
                                throw new IPCC.Web.UI.ImGearArgumentException(null, cN);
                            }
                        } catch (e) {
                            J.bw('openPage', e);
                            if (typeof(J.aQ) === 'function') {
                                cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                                cs.exception = e;
                                cs.pageNumber = J.aw;
                                J.aQ('pageOpenFailed', cs);
                            }
                        }
                    };

                    function fc(bk) {
                        var cs, cN, mA, mc;
                        bn.Rn = false;
                        try {
                            if (!bk.response) {
                                throw new IPCC.Web.UI.ImGearHttpException(0, "Client SVG load timeout");
                            }
                            var hC = bk.response.status;
                            if (hC === 480) {
                                mx++;
                                if (bk.response.statusText && bk.response.statusText !== "") {
                                    cN = cN = "PDF file password required, error message from the server: " + bk.response.statusText;
                                } else {
                                    cN = "PDF file password required.";
                                }
                                throw new IPCC.Web.UI.ImGearHttpException(hC, cN);
                            }
                            if (hC === 403) {
                                mx++;
                                if (bk.response.statusText && bk.response.statusText !== "") {
                                    cN = "Expired viewer session ID, error message from the server: " + bk.response.statusText;
                                } else {
                                    cN = "Expired viewer session ID. No error text message was received from the server:";
                                }
                                throw new IPCC.Web.UI.ImGearHttpException(hC, cN);
                            }
                            mA = bk.response.getResponseHeader('Accusoft-Status-Message');
                            if (mA) {
                                var qA;
                                mc = bk.response.getResponseHeader('Accusoft-Status-Number');
                                if (IPCC.Web.vR(mc)) {
                                    qA = parseInt(mc, 10);
                                }
                                throw new IPCC.Web.UI.ImGearHttpException(hC, mA, qA);
                            } else {
                                if (bk.response.statusText && bk.response.statusText !== "") {
                                    cN = bk.response.statusText;
                                } else {
                                    cN = "HTTP Error was received from the image server but the server did not provide any error description.";
                                }
                                throw new IPCC.Web.UI.ImGearHttpException(hC, cN);
                            }
                        } catch (e) {
                            J.bw('openPage', e);
                            if (typeof(J.aQ) === 'function') {
                                cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                                cs.exception = e;
                                cs.pageNumber = J.aw;
                                J.aQ('pageOpenFailed', cs);
                            }
                        }
                    };
                    var asy = function() {
                        var bM = J.bV();
                        var zM = bM.aiS();
                        J.wq = true;
                        J.aQ('pageDisplayed', {
                            aY: J.aw
                        });
                        if (zM) {
                            V.aeA(bn);
                        }
                    };
                    var awo = function(ej) {
                        var tY = QW.parentElementID.toString();
                        var HI = (IPCC.T.CA || IPCC.T.ZZ) ? '' : window.location.href.replace(window.location.hash, '').replace(/#$/, '');
                        var avR = HI.replace(/"/g, '\\$&');
                        var ane = HI.replace(/[()]/g, '\\$&');
                        ej = ej.replace(/href="#/g, 'href="' + avR + '#' + tY);
                        ej = ej.replace(/="url\(#/g, '="url(' + ane + '#' + tY);
                        ej = ej.replace(/fill:url\(#/g, 'fill:url(' + ane + '#' + tY);
                        ej = ej.replace(/ id="/g, ' id="' + tY);
                        ej = ej.replace(/<use([^>]+)\/>/g, ' <use$1></use>');
                        var Zd = document.createElement('div');
                        Zd.innerHTML = ej;
                        var ov = Zd.querySelectorAll('style');
                        IPCC.T.forEach(ov, function(bx) {
                            var amw = (bx.styleSheet) ? bx.styleSheet.cssText : bx.textContent;
                            if (bx.styleSheet) {
                                bx.styleSheet.cssText = amw;
                            } else {
                                bx.appendChild(document.createTextNode(amw));
                            }
                        });
                        var jG = null;
                        var Hz = Zd.firstChild;
                        while (Hz !== null) {
                            if (Hz.nodeName === 'svg') {
                                jG = Hz;
                                break;
                            }
                            Hz = Hz.nextSibling;
                        }
                        if (jG === null) {
                            throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');
                        }
                        if (!bn.Gq) {
                            bn.apB = jG;
                            gx.appendChild(jG);
                            bn.Gq = true;
                            if (!J.wq && bn.Gq) {
                                setTimeout(asy, 1);
                            }
                        }
                    };
                    var aq;
                    var iZ, pL;
                    J.wq = false;
                    if (J.ip() === true) {
                        iZ = IPCC.Web.Hu.Xy(4, IPCC.Web.OM());
                        pL = IPCC.Web.hj.GN.nl(iZ);
                        aq = fv.url + '&iv=' + pL;
                    } else {
                        aq = fv.url;
                    }
                    var iG = {
                        method: 'GET',
                        url: aq,
                        cache: true
                    };
                    if (qu === true) {
                        iG.timeout = J.kW();
                    }
                    bn.Rn = true;
                    IPCC.T.lD.eh(iG).then(eI, fc);
                };
                this.anJ = function(fv, cT) {
                    if (!fv) {
                        return;
                    }
                    var Bp = document.getElementById(fv.poolItem.elementID);
                    this.he(Bp, 'x', fv.x);
                    this.he(Bp, 'y', fv.y);
                    this.he(Bp, 'width', fv.right - fv.x);
                    this.he(Bp, 'height', fv.bottom - fv.y);
                    this.he(Bp, 'opacity', cT);
                    this.he(Bp, 'display', 'block');
                };
                this.aex = function(zZ, cT, fd) {
                    var C;
                    if (J.qo() === false) {
                        for (C = 0; C < zZ.length; C++) {
                            this.anJ(zZ[C], cT);
                        }
                    }
                };
                return this;
            };
            eZ.viewerCounter = 0;
            eZ.tileCounter = 0;
            eZ.imageIDCounter = 0;
            eZ.prototype.awb = function(J) {
                this.hU = IPCC.eZ.viewerCounter.toString();
                IPCC.eZ.viewerCounter++;
                this.J = J;
                if (IPCC.dP) {
                    this.rk = new IPCC.Web.UI.MarkCollection();
                }
                var V = this;

                function aun(bC, F) {
                    V.aDy(F);
                };

                function wo(bC, F) {
                    V.avU(F);
                };
                J.jM(aun);
                J.add_markAdded(wo);
                J.add_markChanged(wo);
                J.add_inProgressMarkChanged(wo);
                J.add_markRemoved(wo);
                J.add_markReordered(wo);
                J.add_marksLoaded(wo);
                J.add_markSelectionChanged(wo);
                J.add_markTextSelectionChanged(wo);
            };
            eZ.prototype.amV = function() {
                var cB = 'igtile' + IPCC.eZ.tileCounter.toString();
                IPCC.eZ.tileCounter++;
                return cB;
            };
            eZ.prototype.Ab = function() {
                this.QO = true;
                this.Bh = this.Bh && this.YH;
                var V = this;
                var axX = function() {
                    if (!V.QO) {
                        return;
                    }
                    V.dv(V.J.cE(), V.J.bV(), V.J.eT());
                    V.Bh = true;
                };
                window.setTimeout(axX, 0);
            };
            eZ.prototype.aDy = function(F) {
                var tZ = F.get_propertyName();
                switch (tZ) {
                    case 'magnifierWindowSize':
                    case 'magnifierWindowPosition':
                    case 'magnifierMagnification':
                        if (!this.J.bV().get_magnifierIsVisible()) {
                            return;
                        }
                        break;
                    case 'cursor':
                    case 'markCursor':
                        this.Hv = true;
                        if (this.J.yf() === true) {
                            this.Ab();
                        }
                        return;
                    case 'displayedPageRectangle':
                        if (this.J.wq === true) {
                            this.Ab();
                            return;
                        }
                        break;
                    case 'redactionDraftMode':
                        this.Hv = true;
                        this.Ab();
                        return;
                }
                if (this.J.yf() === true) {
                    this.Ab();
                }
            };
            eZ.prototype.avU = function(F) {
                if (F.mark && !this.Hv) {
                    this.rk.addMark(F.mark);
                } else {
                    this.Hv = true;
                }
                if (this.J.yf() === true) {
                    this.Ab();
                }
            };
            eZ.prototype.TC = function() {
                this.kU = this.fd.clone();
                this.kU.mH(this.aaH, this.aaK);
                this.kU.la(this.J.cE(), this.J.eT());
                this.pw = this.kU.clone();
                this.pw.yW();
            };
            eZ.prototype.dv = function(bE, bM, bD) {
                try {
                    this.QO = false;
                    if (this.Pp === true) {
                        return;
                    }
                    var cg = this.J.nQ();
                    if (cg === null) {
                        return;
                    }
                    var dF = cg.igElements;
                    try {
                        this.Pp = true;
                        if (this.Hc === undefined || bE === undefined || !(this.Hc.equals(bE))) {
                            if (this.ZU) {
                                if (this.ia) {
                                    this.aoI(this.ia);
                                    var dS = dF.lW;
                                    IPCC.Web.UI.ao.removeHandler(dS, "mousedown", this.ajK);
                                    IPCC.Web.UI.ao.removeHandler(dS, "mousemove", this.ajZ);
                                    IPCC.Web.UI.ao.removeHandler(dS, "mouseup", this.ala);
                                    IPCC.Web.UI.ao.removeHandler(dS, "dblclick", this.anr);
                                    IPCC.Web.UI.ao.removeHandler(dS, "contextmenu", this.aeM);
                                    IPCC.Web.UI.ao.removeHandler(dF.fE, "blur", this.MP);
                                    IPCC.Web.UI.ao.removeHandler(dF.gh, "blur", this.aaV);
                                    IPCC.Web.UI.ao.removeHandler(dF.cC, "blur", this.MP);
                                }
                                delete this.ia;
                                this.akS(dF.qG);
                                this.akS(dF.BH);
                                this.ZU = false;
                                if (this.Fw !== undefined) {
                                    this.Fw.unlockAllItems();
                                }
                                if (this.GQ !== undefined) {
                                    this.GQ.unlockAllItems();
                                }
                                this.Fw = undefined;
                                this.GQ = undefined;
                                cg.igElements.mO.onscroll = null;
                                cg.igElements.mO.onresize = null;
                            }
                            if (cg.querySelectorAll) {
                                if (cg.querySelectorAll(".pccPageLoadFail").length === 0) {
                                    cg.innerHTML = '';
                                }
                            }
                            this.J.qW(true);
                            if (bE === undefined) {
                                this.Pp = false;
                                this.Hc = undefined;
                                this.aoU();
                                return;
                            }
                            this.Hc = bE.clone();
                            this.Fw = new IPCC.sf();
                            this.Fw.createPyramid(this, this.J);
                            this.GQ = new IPCC.sf();
                            this.GQ.createPyramid(this, this.J);
                            this.ZU = true;
                            this.aos(this.hU);
                        }
                        this.fd = bM.ec();
                        var Qg = this.fd.qV(bE);
                        this.fd.mH(-Qg.x, -Qg.y);
                        this.auW = this.fd.clone();
                        this.auW.yW();
                        this.aaH = Math.round(Qg.x);
                        this.aaK = Math.round(Qg.y);
                        this.TC();
                        this.atH(bE, bM, bD);
                        if (bE.aw === 0) {
                            this.TC();
                        }
                    } finally {
                        this.Pp = false;
                        this.Hv = false;
                        if (this.rk) {
                            this.rk.removeAllMarks();
                        }
                    }
                    this.aaY(true);
                } catch (e) {
                    this.J.bw('display', e);
                    throw e;
                }
            };
            eZ.prototype.abz = function(xn, wC, vJ) {
                if (xn[wC] === vJ) {
                    return;
                }
                xn[wC] = vJ;
            };
            eZ.prototype.he = function(xn, wC, vJ) {
                if (xn.getAttribute(wC) === vJ) {
                    return;
                }
                xn.setAttribute(wC, vJ);
            };
            eZ.prototype.yu = function(xn, wC, vJ) {
                if (xn.style[wC] === vJ) {
                    return;
                }
                xn.style[wC] = vJ;
            };
            eZ.prototype.aaY = function(apg) {
                if (this.Pp) {
                    return;
                }
                if (this.QO && !this.Bh) {
                    return;
                }
                if (!apg) {
                    try {
                        this.YH = true;
                        var cg = this.J.nQ();
                        if (cg) {
                            this.ws = cg.igElements.mO.scrollLeft;
                            this.wt = cg.igElements.mO.scrollTop;
                        }
                        this.apU();
                        this.TC();
                        this.J.bV().jr(this.kU);
                        this.J.aQ('userModifiedViewState', {});
                        this.J.qW(false);
                    } finally {
                        this.YH = false;
                    }
                }
            };
            eZ.prototype.aFw = function(bn, fd, anO) {
                var rV = bn.rV;
                var qE = rV.aFk(fd, anO);
                if (!this.J.wq && qE.tilesToRequest.length === 0 && (qE.opaqueTiles.length + qE.translucentTiles.length) > 0) {
                    this.J.wq = true;
                    this.J.aQ('pageDisplayed', {
                        aY: this.J.aw
                    });
                }
                rV.ayl(qE);
                if (this.J.qo() === false) {
                    this.azN(qE.tilesToRequest);
                    this.aex(qE.opaqueTiles, 1, fd);
                    this.aex(qE.translucentTiles, qE.opacity, fd);
                }
            };
            eZ.prototype.aos = function(hU) {
                var J = this.J;
                var cg = J.nQ();
                var bM = J.bV();
                var bi = this;

                function fT(pM) {
                    var wV = document.createElement('div');
                    var C;
                    for (C in pM) {
                        if (pM.hasOwnProperty(C)) {
                            wV.style[C] = pM[C];
                        }
                    }
                    return wV;
                };
                var dF = {};
                cg.igElements = dF;
                var jm = fT({
                    width: '100%',
                    height: '100%',
                    position: 'relative',
                    overflow: bM.get_overflow(),
                    margin: '0px',
                    borderWidth: '0px',
                    '-moz-user-select': 'text',
                    '-webkit-user-select': 'text'
                });
                dF.mO = jm;
                jm.setAttribute('class', 'igViewerScroller');
                jm.onscroll = function() {
                    bi.aaY(false);
                };
                jm.onresize = function() {
                    var bD = J.eT();
                    bD.width = jm.clientWidth;
                    bD.height = jm.clientHeight;
                    J.aQ('resize', {});
                };
                var dS = fT({
                    width: '2px',
                    height: '2px',
                    position: 'relative',
                    overflow: 'hidden',
                    margin: '0px',
                    left: '0',
                    top: '0',
                    '-ms-touch-action': 'none'
                });
                jm.appendChild(dS);
                dF.lW = dS;
                dS.setAttribute('class', 'igViewerGraphics');
                this.Aj = 2;
                this.zT = 2;
                this.ws = 0;
                this.wt = 0;
                var bn = {};
                bn.rV = this.Fw;
                bn.ZR = 'ig' + hU + 'level';
                dF.qG = bn;
                this.agv(bn, dS, fT);
                bn.qe = this.qe;
                var mB;
                if (J.qo() === false) {
                    mB = fT({
                        position: 'absolute',
                        display: 'none',
                        width: (bM.ug().width + 4) + 'px',
                        height: (bM.ug().height + 4) + 'px',
                        backgroundColor: '#000000'
                    });
                } else {
                    mB = fT({
                        position: 'absolute',
                        display: 'none',
                        width: (bM.ug().width + 4) + 'px',
                        height: (bM.ug().height + 4) + 'px',
                        backgroundColor: '#cccccc'
                    });
                }
                dS.appendChild(mB);
                dF.mB = mB;
                mB.setAttribute('class', 'igMagnifierFrame');
                var qv = fT({
                    width: '0px',
                    height: '0px',
                    position: 'absolute',
                    overflow: 'hidden',
                    margin: '0px',
                    left: '0',
                    top: '0'
                });
                dF.qv = qv;
                mB.appendChild(qv);
                bn = {};
                bn.rV = this.GQ;
                bn.ZR = 'ig' + hU + 'maglevel';
                dF.BH = bn;
                this.agv(bn, qv, fT);
                bn.qe = this.auk;
                var OE = document.createTextNode('');
                dF.OE = OE;
                var fE = document.createElement('textarea');
                fE.appendChild(OE);
                fE.style.position = 'absolute';
                fE.style.overflow = 'auto';
                fE.style.width = '80px';
                fE.style.height = '80px';
                fE.style.resize = 'none';
                fE.style.display = 'none';
                jm.appendChild(fE);
                dF.fE = fE;
                var Zz = document.createTextNode('');
                dF.Zz = Zz;
                var gh = document.createElement('input');
                gh.type = "text";
                gh.style.position = 'absolute';
                gh.style.overflow = 'hidden';
                gh.style.width = '80px';
                gh.style.height = '80px';
                gh.style.resize = 'none';
                gh.style.display = 'none';
                gh.style.padding = '0px';
                gh.style.margin = '0px';
                gh.style.lineHeight = 'normal';
                gh.className = "no-ms-clear";
                var akh = function(ev) {
                    var vD = gh,
                        ag = parseFloat(vD.style['width']),
                        aH = parseFloat(vD.style['height']),
                        jH = vD.style['fontFamily'];
                    var ayZ = vD.value.length > vD.placeholder.length ? vD.value : vD.placeholder;
                    var js = IPCC.T.tJ(ayZ, jH, {
                            uj: 'pre',
                            fz: dF.qG.yw
                        }),
                        wP = 12 * ag / (js.width || 1),
                        vi = 12 * aH / (js.height || 1),
                        AF = Math.floor(Math.min(wP, vi)) * 0.9;
                    vD.style.fontSize = AF + 'px';
                };
                gh.onkeyup = akh;
                gh.onfocus = function(ev) {
                    akh(ev);
                    if (gh.setSelectionRange) {
                        var hf = gh.value.length * 2;
                        gh.setSelectionRange(hf, hf);
                    }
                };
                jm.appendChild(gh);
                dF.gh = gh;
                var sS = document.createTextNode('');
                dF.sS = sS;
                var cC = document.createElement('textarea');
                cC.appendChild(sS);
                cC.style.position = 'absolute';
                cC.style.overflow = 'hidden';
                cC.style.width = '80px';
                cC.style.height = '80px';
                cC.style.resize = 'none';
                cC.style.display = 'none';
                cC.style.whiteSpace = 'pre-wrap';
                cC.style.border = 0;
                cC.style.padding = '2px';
                cC.style.fontStyle = 'normal';
                var aDR = function(bb) {
                    var apk = J.JK();
                    var cO = J.bV().ec().nR();
                    var ig = apk.ig * cO;
                    var aS = J.lU().jk() * cO;
                    IPCC.T.Wh(cC, ig, aS);
                };
                cC.onkeyup = aDR;
                jm.appendChild(cC);
                dF.cC = cC;
                this.ia = {};
                this.avh(this.ia);
                IPCC.Web.UI.ao.addHandler(dS, "mousedown", this.ajK);
                IPCC.Web.UI.ao.addHandler(dS, "mousemove", this.ajZ);
                IPCC.Web.UI.ao.addHandler(dS, "mouseup", this.ala);
                IPCC.Web.UI.ao.addHandler(dS, "dblclick", this.anr);
                IPCC.Web.UI.ao.addHandler(dS, "contextmenu", this.aeM);
                IPCC.Web.UI.ao.addHandler(fE, "blur", this.MP);
                IPCC.Web.UI.ao.addHandler(gh, "blur", this.aaV);
                IPCC.Web.UI.ao.addHandler(cC, "blur", this.MP);
                cg.appendChild(jm);
            };
            eZ.prototype.agv = function(bn, gx, fT) {
                var sH = fT({
                    width: '2px',
                    height: '2px',
                    position: 'absolute'
                });
                bn.gx = gx;
                gx.appendChild(sH);
                bn.ajB = sH;
                sH.setAttribute('class', 'igAnchor');
                this.aoB(bn, sH, bn.rV, bn.ZR);
                bn.xK = fT({
                    position: 'absolute',
                    width: '10px',
                    height: '10px',
                    left: '0px',
                    top: '0px',
                    overflow: 'visible'
                });
                sH.appendChild(bn.xK);
                var lk = fT({
                    overflow: 'hidden',
                    display: 'none',
                    position: 'absolute',
                    backgroundColor: '#00C0E0',
                    border: '#006070 2px solid'
                });
                lk.style[this.aDf] = this.aDU(0.5);
                sH.appendChild(lk);
                bn.lk = lk;
            };
            eZ.prototype.akS = function(bn) {
                if (bn && bn.Oa) {
                    bn.qe.aof();
                    bn.Oa = false;
                }
                bn.gx = null;
            };
            eZ.prototype.atH = function(bE, bM, bD) {
                var J = this.J;
                var mz = this.kU.qV(bE);
                var cg = J.nQ();
                var arf = J.aDO();
                var xB = J.aFg();
                var dF = cg.igElements;
                var qG = dF.qG;
                var BH = dF.BH;
                var jm = dF.mO;
                var dS = dF.lW;
                var sH = qG.ajB;
                var mB = dF.mB;
                var qv = dF.qv;
                var amI = BH.ajB;
                var Jb = Math.max(0, -mz.x);
                var Jq = Math.max(0, -mz.y);
                var avX = Math.max(mz.width, bD.width);
                var awU = Math.max(mz.height, bD.height);
                var mi = Math.max(0, mz.x);
                var nb = Math.max(0, mz.y);
                var aaJ = false;
                var CK = false;
                if (bM.BL()) {
                    CK = bM.wQ();
                }
                var axW = this.Aj;
                this.Aj = Math.floor(avX - 1);
                if (this.Aj < 0) {
                    this.Aj = 0;
                }
                var ayq = this.zT;
                this.zT = Math.floor(awU - 1);
                if (this.zT < 0) {
                    this.zT = 0;
                }
                if (J.qo() === true) {
                    if (this.zT === 0) {
                        this.zT = 2;
                    }
                    if (this.Aj === 0) {
                        this.Aj = 2;
                    }
                }
                var ayT = this.ws;
                var axz = this.wt;
                if (!this.Bh) {
                    this.ws = Math.floor(Jb);
                    this.wt = Math.floor(Jq);
                }
                if (this.abh) {
                    this.yu(sH, 'left', mi + 'px');
                    this.yu(sH, 'top', nb + 'px');
                }
                var fd = bM.ec();
                fd.mH(Jb - mi, Jq - nb);
                this.adP(qG, bM.ec(), fd, bE, bD, CK, mi, nb);
                this.yu(jm, 'overflow', bM.get_overflow());
                if (bD.width !== jm.clientWidth || bD.height !== jm.clientHeight) {
                    bD.width = jm.clientWidth;
                    bD.height = jm.clientHeight;
                    aaJ = true;
                }
                this.abz(sH.style, 'visibility', 'visible');
                if (bM.get_magnifierIsVisible()) {
                    var tE = bM.get_magnifierWindowPosition();
                    var ya = bM.ug();
                    var Ll = bM.KD();
                    var MN = bM.LA();
                    var Vw = bM.aEJ();
                    var axT = Math.round(tE.x - ya.width / 2 + Jb + Ll);
                    var ayW = Math.round(tE.y - ya.height / 2 + Jq + MN);
                    var Lt = Vw.qV(bE);
                    var ayo = Math.max(0, -Lt.x);
                    var axZ = Math.max(0, -Lt.y);
                    this.yu(amI, 'left', Lt.x + 'px');
                    this.yu(amI, 'top', Lt.y + 'px');
                    var Lu = 2;
                    mB.style.width = (ya.width + Lu * 2) + 'px';
                    mB.style.height = (ya.height + Lu * 2) + 'px';
                    qv.style.width = ya.width + 'px';
                    qv.style.height = ya.height + 'px';
                    qv.style.left = Lu + 'px';
                    qv.style.top = Lu + 'px';
                    mB.style.left = axT + 'px';
                    mB.style.top = ayW + 'px';
                    var abf = Vw.clone();
                    abf.mH(ayo, axZ);
                    this.adP(BH, Vw, abf, bE, ya, CK, 0, 0);
                    mB.style.display = 'block';
                } else {
                    mB.style.display = 'none';
                }
                if (J.aiJ()) {
                    var hN = J.JK();
                    var aoa = hN.eA();
                    var fQ = this.kU.zL(aoa);
                    var ml = (hN.get_type() === IPCC.Web.UI.MarkType.Text) ? 64 : 0;
                    var aeh = hN.eS * -1,
                        aiO = hN.eS * -1;
                    if (fQ.width < ml) {
                        fQ.width = ml;
                    }
                    if (fQ.height < ml) {
                        fQ.height = ml;
                    }
                    if (fQ.width > bD.width) {
                        fQ.width = bD.width;
                    }
                    if (fQ.height > bD.height) {
                        fQ.height = bD.height;
                    }
                    if (fQ.x < 0) {
                        fQ.x = 0;
                    }
                    if (fQ.y < 0) {
                        fQ.y = 0;
                    }
                    if (fQ.x + fQ.width + 1 >= bD.width) {
                        fQ.x = bD.width - fQ.width;
                        aeh = -8;
                    }
                    if (fQ.y + fQ.height + 1 >= bD.height) {
                        fQ.y = bD.height - fQ.height;
                        aiO = -8;
                    }
                    var hS = this.IV(hN);
                    hS.style.left = this.ws + fQ.x + 1 + (hN.eS / 2) + 'px';
                    hS.style.top = this.wt + fQ.y + 1 + (hN.eS / 2) + 'px';
                    hS.style.width = fQ.width + aeh - 1 + 'px';
                    hS.style.height = fQ.height + aiO - 1 + 'px';
                    if (hS.style.display !== 'block') {
                        hS.style.display = 'block';
                        hS.style.whiteSpace = 'pre-wrap';
                        var sO = hN.cc;
                        var rS = '';
                        if (sO & IPCC.Web.UI.FontStyle.Italic) {
                            hS.style.fontStyle = "italic";
                        }
                        if (sO & IPCC.Web.UI.FontStyle.Bold) {
                            hS.style.fontWeight = "bold";
                        }
                        if (sO & IPCC.Web.UI.FontStyle.Underline) {
                            rS += "underline";
                        }
                        if (sO & IPCC.Web.UI.FontStyle.Strikeout) {
                            if (sO & IPCC.Web.UI.FontStyle.Underline) {
                                rS += " line-through";
                            } else {
                                rS = "line-through";
                            }
                        }
                        hS.style.textDecoration = rS;
                        hS.style.color = hN.pO;
                        hS.style.backgroundColor = hN.dR;
                        hS.style.fontFamily = hN.hH;
                        hS.style['z-index'] = 100;
                        var AF = hN.DI * this.kU.nR();
                        if (AF) {
                            hS.style.fontSize = AF + "px";
                        }
                        switch (hN.iA) {
                            case IPCC.Web.UI.HorizontalAlignment.Center:
                                hS.style.textAlign = 'center';
                                break;
                            case IPCC.Web.UI.HorizontalAlignment.Right:
                                hS.style.textAlign = 'right';
                                break;
                            default:
                                hS.style.textAlign = 'left';
                                break;
                        }
                        if (hN.fY) {
                            setTimeout(function() {
                                dF.fE.maxLength = hN.fY;
                                dF.gh.maxLength = hN.fY;
                                dF.cC.maxLength = hN.fY;
                            }, 0);
                        }
                        if (hN.iY) {
                            if (xB) {
                                xB.destroy();
                                J.Wy(null);
                            }
                            J.Wy(new PCCViewer.awX(hS, hN.iY));
                        }
                        if (hN.jh() === IPCC.Web.UI.MarkType.TextAreaSignature) {
                            var cC = IPCC.T.aic();
                            cC.style.width = dF.cC.style.width;
                            cC.style.height = dF.cC.style.height;
                            cC.style.fontFamily = dF.cC.style.fontFamily;
                            cC.style.fontStyle = dF.cC.style.fontStyle;
                            cC.style.fontWeight = dF.cC.style.fontWeight;
                            var cO = J.bV().ec().nR();
                            var ig = hN.ig * cO;
                            var aS = J.lU().jk() * cO;
                            IPCC.T.aiF().nodeValue = hN.bv || 'm';
                            dF.cC.style.fontSize = IPCC.T.Wh(cC, ig, aS) + 'px';
                        }
                        hS.focus();
                    }
                } else {
                    dF.fE.style.display = 'none';
                    dF.gh.style.display = 'none';
                    dF.cC.style.display = 'none';
                    dF.fE.removeAttribute('maxlength');
                    dF.gh.removeAttribute('maxlength');
                    dF.cC.removeAttribute('maxlength');
                    if (xB) {
                        xB.destroy();
                        J.Wy(null);
                    }
                    if (document.activeElement === dF.fE) {
                        dF.fE.blur();
                    }
                    if (document.activeElement === dF.gh) {
                        dF.gh.blur();
                    }
                    if (document.activeElement === dF.cC) {
                        dF.cC.blur();
                    }
                }
                if (bM.get_cursor() !== -1) {
                    var ju = IPCC.ar.ei(bM.get_cursor());
                    this.abz(dS.style, 'cursor', ju);
                }
                if (aaJ) {
                    J.aQ('resize', {});
                }
                if (this.Aj !== axW) {
                    this.yu(dS, 'width', '100%');
                }
                if (this.zT !== ayq) {
                    this.yu(dS, 'height', '100%');
                }
                if (this.ws !== ayT) {
                    jm.scrollLeft = this.ws;
                }
                if (this.wt !== axz) {
                    jm.scrollTop = this.wt;
                }
                if (arf === "PageView" && !this.Bh) {
                    bM = J.bV();
                    var ak = bM.ec();
                    var vM = (+ak.nR().toFixed(6));
                    if (J.Nq !== vM) {
                        J.Nq = vM;
                        setTimeout(function() {
                            J.aQ('scaleChanged', {
                                scaleFactor: vM,
                                pageNumber: J.aw
                            });
                        }, 1);
                        J.aQ('scaleChanged', {
                            scaleFactor: vM,
                            pageNumber: J.aw
                        });
                    }
                }
            };
            eZ.prototype.adP = function(bn, kU, fd, bz, bD, CK, mi, nb) {
                var mz = kU.qV(bz);
                var oE = {};
                oE.width = Math.max(mz.width, bD.width);
                oE.height = Math.max(mz.height, bD.height);
                this.auB(bn, kU, fd, bz, bD, mi, nb);
                this.acJ(bn, fd, oE, bz, mi, nb);
                if (this.J.qo() === false) {
                    this.akw(bn, bD, kU, fd);
                } else {
                    this.aAP(bn);
                    var bM = this.J.bV();
                    var zM = bM.aiS();
                    if (this.J.wq && zM) {
                        this.aeA(bn);
                    }
                }
                this.atT(bn);
                if (CK) {
                    var DR = fd.zL(CK);
                    if (this.abh) {
                        bn.lk.style.left = (DR.x - 2) + 'px';
                        bn.lk.style.top = (DR.y - 2) + 'px';
                    } else {
                        bn.lk.style.left = (DR.x - 2 + mi) + 'px';
                        bn.lk.style.top = (DR.y - 2 + nb) + 'px';
                    }
                    bn.lk.style.width = DR.width + 'px';
                    bn.lk.style.height = DR.height + 'px';
                    bn.lk.style.display = 'block';
                } else {
                    bn.lk.style.display = 'none';
                }
            };
            eZ.prototype.akw = function(bn, bD, kU, fd) {
                var afn = this.J.aCU();
                var JX = {
                    x: 0,
                    y: 0,
                    width: bD.width,
                    height: bD.height
                };
                if (afn) {
                    var vP = afn.getBoundingClientRect();
                    var gr = bn.gx.getBoundingClientRect();
                    var RF;
                    if (gr.left < vP.left) {
                        RF = vP.left - gr.left;
                        JX.x = (RF / gr.width) * bD.width;
                    }
                    if (gr.right > vP.right) {
                        JX.width = vP.width;
                    }
                    if (gr.top < vP.top) {
                        RF = vP.top - gr.top;
                        JX.y = (RF / gr.height) * bD.height;
                    }
                    if (gr.bottom > vP.bottom) {
                        JX.height = vP.height;
                    }
                }
                var pw = kU.clone();
                pw.yW();
                var aqS = pw.zL(JX);
                this.aFw(bn, fd, aqS);
            };
            eZ.prototype.auB = function(bn, kU, fd, bz, bD, mi, nb) {
                var au = this.J.eg();
                var gc = this.J.lX();
                var fe = this.J.Os();
                var agK = 0;
                var V = this;
                if (bn.lF) {
                    agK = bn.lF.length;
                }
                if (!bn.qe || !au) {
                    return;
                }
                var pl = this.J.aFy();
                if (au.get_markCount() <= 0 && gc.get_markCount() <= 0 && fe.get_markCount() <= 0 && agK <= 0 && !pl) {
                    return;
                }
                if (!bn.Oa) {
                    bn.qe.aoV(this.J, bn, bz);
                    bn.lF = [];
                    bn.Oa = true;
                }
                gc = this.J.lX();
                var aU = [];

                function aqk(L) {
                    if ((V.J.lj() && V.J.ca().mY() === true) || L.get_type() !== IPCC.Web.UI.MarkType.Highlight) {
                        aU.push(L);
                    }
                };

                function agX(L) {
                    aU.push(L);
                };
                fe.forEachMark(agX);
                gc.forEachMark(agX);
                au.forEachMark(aqk);
                if (pl) {
                    aU.push(pl);
                }
                var C, lF = bn.lF;
                for (C = 0; C < lF.length; C++) {
                    while (C < lF.length && (C >= aU.length || lF[C].L !== aU[C])) {
                        bn.qe.Ru(lF[C]);
                        lF.splice(C, 1);
                    }
                    if (C < lF.length && (this.Hv || this.rk.contains(lF[C].L))) {
                        bn.qe.abW(lF[C]);
                    }
                }
                for (C = lF.length; C < aU.length; C++) {
                    lF[C] = {
                        L: aU[C]
                    };
                    var h = lF[C];
                    if (!h) {
                        continue;
                    }
                    bn.qe.anB(lF[C]);
                }
                if (this.abh) {
                    bn.qe.acW(this.J, bn, aU, fd, this.J.aiZ());
                } else {
                    var acG = fd.clone();
                    acG.mH(mi, nb);
                    bn.qe.acW(this.J, bn, aU, acG, this.J.aiZ());
                }
            };
            eZ.prototype.acJ = function() {};
            eZ.prototype.apU = function() {
                var cg = this.J.nQ();
                if (cg) {
                    this.aaH = cg.igElements.lW.offsetLeft - this.ws;
                    this.aaK = cg.igElements.lW.offsetTop - this.wt;
                }
            };
            eZ.prototype.ta = function(F, dv) {
                var hg = this.J.nQ().igElements;
                var ja = F.domEvent;
                var fG;
                if (hg.lW.getBoundingClientRect) {
                    fG = hg.lW.getBoundingClientRect();
                } else {
                    var eC = hg.lW;
                    var wD = document.documentElement;
                    fG = {
                        left: wD.clientLeft - wD.scrollLeft,
                        top: wD.clientTop - wD.scrollTop
                    };
                    eC = eC.offsetParent;
                    while (eC) {
                        fG.top += eC.offsetTop - eC.scrollTop;
                        fG.left += eC.offsetLeft - eC.scrollLeft;
                        eC = eC.offsetParent;
                    }
                }
                if (ja.rawEvent.touches) {
                    if (ja.rawEvent.touches.length > 0) {
                        this.NM = new IPCC.Web.UI.Point(ja.rawEvent.touches[0].clientX - hg.mO.scrollLeft - fG.left, ja.rawEvent.touches[0].clientY - hg.mO.scrollTop - fG.top);
                    }
                    if (!this.NM) {
                        this.NM = new IPCC.Web.UI.Point(0, 0);
                    }
                    F.windowPoint = new IPCC.Web.UI.Point(this.NM.x, this.NM.y);
                    ja.button = 0;
                } else {
                    F.windowPoint = new IPCC.Web.UI.Point(ja.clientX - fG.left - hg.mO.scrollLeft, ja.clientY - fG.top - hg.mO.scrollTop);
                }
                var Pa = this.pw.transform(F.windowPoint);
                F.imagePoint = new IPCC.Web.UI.Point(Pa.x, Pa.y);
                F.constrainedImagePoint = new IPCC.Web.UI.Point(Pa.x, Pa.y);
                F.constrainedImagePoint.x = Math.min(Math.max(F.constrainedImagePoint.x, 0), this.Hc.width);
                F.constrainedImagePoint.y = Math.min(Math.max(F.constrainedImagePoint.y, 0), this.Hc.height);
                F.pointLiesWithinImage = (F.constrainedImagePoint.x === F.imagePoint.x && F.constrainedImagePoint.y === F.imagePoint.y);
                F.mark = null;
                try {
                    var bK = ja.target;
                    while (!(bK.ImGearMarkRelation) && bK.parentNode && bK !== document.body) {
                        bK = bK.parentNode;
                    }
                    if (bK.ImGearMarkRelation) {
                        F.mark = bK.ImGearMarkRelation.L;
                    }
                } catch (bS) {}
            };
            eZ.prototype.lq = function(bS) {
                try {
                    bS.preventDefault();
                    var F = new IPCC.Web.UI.MouseEventArgs();
                    F.domEvent = bS;
                    this.ta(F);
                    this.J.aAi(F);
                } catch (ex) {
                    this.J.bw('mouseDown', ex);
                }
            };
            eZ.prototype.jV = function(bS) {
                try {
                    bS.preventDefault();
                    var F = new IPCC.Web.UI.MouseEventArgs();
                    F.domEvent = bS;
                    this.ta(F);
                    this.J.azr(F);
                } catch (ex) {
                    this.J.bw('mouseMove', ex);
                }
            };
            eZ.prototype.mh = function(bS) {
                try {
                    var F = new IPCC.Web.UI.MouseEventArgs();
                    F.domEvent = bS;
                    this.ta(F);
                    if (!bS.rawEvent.wheelDelta) {
                        F.wheelDelta = -bS.rawEvent.detail * 120;
                    } else {
                        F.wheelDelta = bS.rawEvent.wheelDelta;
                    }
                    this.J.azH(F);
                } catch (ex) {
                    this.J.bw('mouseWheel', ex);
                }
            };
            eZ.prototype.zA = function(bS) {
                try {
                    bS.preventDefault();
                    var F = new IPCC.Web.UI.MouseEventArgs();
                    F.domEvent = bS;
                    this.ta(F);
                    this.J.azG(F);
                } catch (ex) {
                    this.J.bw('mouseDoubleClick', ex);
                }
            };
            eZ.prototype.lh = function(bS) {
                try {
                    bS.preventDefault();
                    var F = new IPCC.Web.UI.MouseEventArgs();
                    F.domEvent = bS;
                    this.ta(F);
                    this.J.azB(F);
                } catch (ex) {
                    this.J.bw('mouseUp', ex);
                }
            };
            eZ.prototype.TE = function(bS) {
                try {
                    bS.preventDefault();
                    var F = new IPCC.Web.UI.MouseEventArgs();
                    F.domEvent = bS;
                    this.ta(F);
                    this.J.azh(F);
                } catch (ex) {
                    this.J.bw('contextMenu', ex);
                }
            };
            eZ.prototype.aDY = function(bS) {
                try {
                    this.J.qW(true);
                } catch (ex) {
                    this.J.bw('textAreaBlur', ex);
                }
            };
            eZ.prototype.aDW = function(bS) {
                try {
                    this.J.qW(true);
                } catch (ex) {
                    this.J.bw('textInputBlur', ex);
                }
            };
            eZ.prototype.aAq = function(L) {
                var fE = this.IV(L);
                fE.value = L.bv || "";
            };
            eZ.prototype.awQ = function() {
                var J = this.J;
                var L = J.JK();
                if (!L || !J.aiJ()) {
                    return;
                }
                var YV = this.IV(L);
                if (document.activeElement === YV) {
                    YV.blur();
                }
                var bv = YV.value;
                bv = bv.replace(/(\n|\n\r|\r\n|\r)/g, '\n');
                L.set_text(bv);
            };
            eZ.prototype.IV = function(L) {
                var hg = this.J.nQ().igElements,
                    fE = null;
                if (L.get_type() === IPCC.Web.UI.MarkType.TextLine) {
                    fE = hg.gh;
                } else if (L.get_type() === IPCC.Web.UI.MarkType.TextAreaSignature) {
                    fE = hg.cC;
                } else if (L.get_type() === IPCC.Web.UI.MarkType.Text) {
                    fE = hg.fE;
                }
                return fE;
            };
            module.exports = eZ;
        }, {}],
        58: [function(require, module, exports) {
            var Ag = {};
            Ag.registerNamespace = function(namespacePath) {
                var rootObject = window;
                var namespaceParts = namespacePath.split('.');
                var getTypeName = function() {
                    return this.__typeName;
                };
                for (var i = 0; i < namespaceParts.length; i++) {
                    var currentPart = namespaceParts[i];
                    var ns = rootObject[currentPart];
                    var nsType = typeof(ns);
                    if ((nsType !== "undefined") && (ns !== null)) {
                        if (nsType === "function") {
                            throw new Error("namespace error: " + namespacePath);
                        }
                        if ((typeof(ns) !== "object") || (ns instanceof Array)) {
                            throw new Error("Name space error: " + ns);
                        }
                    }
                    if (!ns) {
                        ns = rootObject[currentPart] = {};
                    }
                    if (!ns.__namespace) {
                        ns.__namespace = true;
                        ns.__typeName = namespaceParts.slice(0, i + 1).join('.');
                        ns.getName = getTypeName;
                    }
                    rootObject = ns;
                }
            };
            module.exports = Ag;
        }, {}],
        59: [function(require, module, exports) {
            var ImGearExceptions = require('./Web/UI/ImGearExceptions');
            var aR = {
                an: function(G, aN, an) {
                    if (typeof(G) !== an) {
                        throw new ImGearExceptions.zK(aN, typeof(G), an);
                    }
                },
                mo: function(G, aN) {
                    aR.an(G, aN, 'string');
                },
                fW: function(G, aN) {
                    if (!(G instanceof Date)) {
                        throw new ImGearExceptions.zK(aN, typeof(G), "Date");
                    }
                },
                ic: function(G, aN) {
                    aR.an(G, aN, 'number');
                    if (!isFinite(G)) {
                        throw new ImGearExceptions.qj(aN, G, 'The value must be a number.');
                    }
                },
                kA: function(G, aN, xY, xk) {
                    aR.an(G, aN, 'number');
                    if (G < xY || G > xk || !isFinite(G)) {
                        throw new ImGearExceptions.qj(aN, G, 'The value must be a number between ' + xY + ' and ' + xk + ' inclusive.');
                    }
                },
                Ty: function(G, aN, FL) {
                    aR.an(G, aN, 'number');
                    var C;
                    for (C = 0; C < FL.length; C++) {
                        if (G === FL[C]) {
                            return;
                        }
                    }
                    var Py = '';
                    for (C = 0; C < FL.length; C++) {
                        if (C > 0) {
                            if (C === FL.length - 1) {
                                Py += ' or ';
                            } else {
                                Py += ', ';
                            }
                        }
                        Py += FL[C];
                    }
                    throw new ImGearExceptions.qj(aN, G, 'The value must be ' + Py + '.');
                },
                mW: function(G, aN, xY, xk) {
                    aR.kA(G, aN, xY, xk);
                    if (G !== Math.floor(G)) {
                        throw new ImGearExceptions.tX(aN, 'The value must be an integer.');
                    }
                },
                cl: function(G, aN) {
                    aR.an(G, aN, 'string');
                    if (!G.match(/#[0-9A-Fa-f]{6}/)) {
                        throw new ImGearExceptions.tX(aN, 'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');
                    }
                },
                abH: function(G, aN) {
                    aR.an(G, aN, 'string');
                    if (!G.match(/#[0-9A-Fa-f]{6}|transparent/)) {
                        throw new ImGearExceptions.tX(aN, 'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');
                    }
                },
                kd: function(G, aN, kd, ahe) {
                    aR.an(G, aN, 'number');
                    var dI;
                    var Wf = 0;
                    for (dI in kd) {
                        if (kd.hasOwnProperty(dI)) {
                            if (ahe) {
                                Wf |= kd[dI];
                            } else {
                                if (G === kd[dI]) {
                                    return;
                                }
                            }
                        }
                    }
                    var dM = "";
                    if (ahe) {
                        if ((G | Wf) === Wf) {
                            return;
                        } else {
                            throw new ImGearExceptions.qj(aN, G, 'The value must be zero or more members of the ' + dM + ' enumeration.');
                        }
                    }
                    throw new ImGearExceptions.qj(aN, G, 'The value must be a member of the ' + dM + ' enumeration.');
                },
                al: function(G, aN) {
                    aR.ic(G.x, aN + '.x');
                    aR.ic(G.y, aN + '.y');
                },
                R: function(G, aN) {
                    aR.ic(G.x, aN + '.x');
                    aR.ic(G.y, aN + '.y');
                    aR.ic(G.width, aN + '.width');
                    aR.ic(G.height, aN + '.height');
                }
            };
            module.exports = aR;
        }, {
            "./Web/UI/ImGearExceptions": 87
        }],
        60: [function(require, module, exports) {
            var eP = require('./IPCC.Util').regEnum;
            var EF = function() {};
            EF.registerEnum = eP;
            EF.prototype = {
                Document: 0,
                EqualWidthPages: 1,
                SinglePage: 2,
                EqualFitPages: 3
            };
            EF.registerEnum('IPCC.ViewMode', false);
            module.exports = EF;
        }, {
            "./IPCC.Util": 29
        }],
        61: [function(require, module, exports) {
            var Sv = function(og) {
                var bM;
                var bE;
                var iJ;
                var bD;
                var bi = this;
                var zo;
                var Eg = '';
                var _debug = false;
                var oh = IPCC.Web.UI.DebugErrorLevel.Production;
                var lE = [];
                var ax = new IPCC.Web.UI.gV();
                var au;
                var fe;
                var pl = null;
                var IZ = false;
                var xq = false;
                var yV;
                var aif = IPCC.Web.UI.ImGearArtDataServices.None;
                var HK = false;
                var vv = '';
                var qX;
                var agk = false;
                var afG = false;
                var wU = 0;
                var rz = true;
                var ix;
                var gc;
                var uD = false;
                var ahT = true,
                    nM = false;
                var ahn = false;
                var xB = null;
                var OA;
                this.Nq = 0.0;
                this.ny = function(IK) {
                    if (!_debug) {
                        return false;
                    }
                    return oh >= IK;
                };
                this.nf = function(iq, IJ, av) {
                    IPCC.iU.nf(iq, IJ, av, Eg, zo);
                };
                this.bw = function(ir, iL) {
                    if (!this.ny(IPCC.Web.UI.DebugErrorLevel.Production)) {
                        return;
                    }
                    var cQ = ir + '() threw an exception (' + iL.name + '), "' + iL.message + '"';
                    cQ = cQ.replace(/\n/g, " ");
                    this.nf(cQ, IPCC.Web.UI.DebugItemCause.Exception, IPCC.Web.UI.DebugErrorLevel.Production);
                    bi.aQ('exceptionThrown', {
                        "function_name": ir,
                        "exception": iL,
                        "pageNumber": bi.aw
                    });
                };
                this.IV = function(L) {
                    var hg = this.nQ().igElements,
                        fE = null;
                    if (L.get_type() === IPCC.Web.UI.MarkType.TextLine) {
                        fE = hg.gh;
                    } else if (L.get_type() === IPCC.Web.UI.MarkType.TextAreaSignature) {
                        fE = hg.cC;
                    } else if (L.get_type() === IPCC.Web.UI.MarkType.Text) {
                        fE = hg.fE;
                    }
                    return fE;
                };
                this.get_debug = function() {
                    return _debug;
                };
                this.set_debug = function(G) {
                    var Ir = !!G;
                    if (_debug === Ir) {
                        return;
                    }
                    _debug = Ir;
                    this.cG('debug');
                };
                this.xH = function() {
                    return oh;
                };
                this.JC = function(G) {
                    if (oh === G) {
                        return;
                    }
                    oh = G;
                    this.cG('debugErrorLevel');
                };
                this.aCc = function(G) {
                    Eg = G;
                };
                this.aDO = function() {
                    return Eg;
                };
                this.azE = function(G) {
                    zo = G;
                };
                this.aDj = function(G) {
                    OA = G;
                };
                this.aCU = function() {
                    return OA;
                };
                this.fI = function(axh) {
                    this.qW(false);
                    var C;
                    for (C = lE.length - 1; C >= 0; C--) {
                        if (lE[C] instanceof IPCC.kR) {
                            lE[C].aB(true);
                        } else {
                            lE[C].aB();
                        }
                        if (lE[C] instanceof IPCC.kb) {
                            lE[C].ek(true);
                        } else {
                            lE[C].ek();
                        }
                    }
                    lE = axh;
                    bM.set_cursor(IPCC.ar.Default);
                    for (C = 0; C < lE.length; C++) {
                        lE[C].mq(this);
                    }
                };
                this.aGj = function() {
                    var C;
                    for (C = 0; C < lE.length; C++) {
                        lE[C].aB();
                    }
                };
                this.gw = function(akC, F) {
                    var C;
                    for (C = 0; C < lE.length; C++) {
                        if (F && F.ajm && F.ajm()) {
                            return;
                        }
                        if (lE[C][akC]) {
                            lE[C][akC](F);
                        }
                    }
                };
                this.axL = function(jo, cA) {
                    switch (jo) {
                        case 'touchstart':
                            iJ.afg && iJ.afg(cA);
                            break;
                        case 'touchmove':
                            iJ.afr && iJ.afr(cA);
                            break;
                        case 'touchend':
                            iJ.afJ && iJ.afJ(cA);
                            break;
                        case 'doubleTap':
                            iJ.aee && iJ.aee(cA);
                            break;
                    }
                };
                this.jM = function(H) {
                    ax.addHandler('propertyChanged', H);
                };
                this.mR = function(H) {
                    ax.removeHandler('propertyChanged', H);
                };
                this.add_mouseDown = function(H) {
                    ax.addHandler('mouseDown', H);
                };
                this.remove_mouseDown = function(H) {
                    ax.removeHandler('mouseDown', H);
                };
                this.add_mouseMove = function(H) {
                    ax.addHandler('mouseMove', H);
                };
                this.remove_mouseMove = function(H) {
                    ax.removeHandler('mouseMove', H);
                };
                this.add_mouseUp = function(H) {
                    ax.addHandler('mouseUp', H);
                };
                this.remove_mouseUp = function(H) {
                    ax.removeHandler('mouseUp', H);
                };
                this.add_contextMenu = function(H) {
                    ax.addHandler('contextMenu', H);
                };
                this.remove_contextMenu = function(H) {
                    ax.removeHandler('contextMenu', H);
                };
                this.atV = function(H) {
                    ax.addHandler('contextMenuCommand', H);
                };
                this.aHu = function(H) {
                    ax.removeHandler('contextMenuCommand', H);
                };
                this.add_mouseWheel = function(H) {
                    ax.addHandler('mouseWheel', H);
                };
                this.remove_mouseWheel = function(H) {
                    ax.removeHandler('mouseWheel', H);
                };
                this.add_mouseOut = function(H) {
                    ax.addHandler('mouseOut', H);
                };
                this.remove_mouseOut = function(H) {
                    ax.removeHandler('mouseOut', H);
                };
                this.atj = function(H) {
                    ax.addHandler('resize', H);
                };
                this.aIF = function(H) {
                    ax.removeHandler('resize', H);
                };
                this.ars = function(H) {
                    ax.addHandler('userModifiedViewState', H);
                };
                this.aIl = function(H) {
                    ax.removeHandler('userModifiedViewState', H);
                };
                this.add_scaleChanged = function(H) {
                    ax.addHandler('scaleChanged', H);
                };
                this.remove_scaleChanged = function(H) {
                    ax.removeHandler('scaleChanged', H);
                };
                this.add_markAdded = function(H) {
                    ax.addHandler('markAdded', H);
                };
                this.remove_markAdded = function(H) {
                    ax.removeHandler('markAdded', H);
                };
                this.add_markCreating = function(H) {
                    ax.addHandler('markCreating', H);
                };
                this.remove_markCreating = function(H) {
                    ax.removeHandler('markCreating', H);
                };
                this.add_markChanged = function(H) {
                    ax.addHandler('markChanged', H);
                };
                this.remove_markChanged = function(H) {
                    ax.removeHandler('markChanged', H);
                };
                this.add_inProgressMarkChanged = function(H) {
                    ax.addHandler('inProgressMarkChanged', H);
                };
                this.remove_inProgressMarkChanged = function(H) {
                    ax.removeHandler('inProgressMarkChanged', H);
                };
                this.add_markRemoved = function(H) {
                    ax.addHandler('markRemoved', H);
                };
                this.remove_markRemoved = function(H) {
                    ax.removeHandler('markRemoved', H);
                };
                this.add_markReordered = function(H) {
                    ax.addHandler('markReordered', H);
                };
                this.remove_markReordered = function(H) {
                    ax.removeHandler('markReordered', H);
                };
                this.add_marksLoaded = function(H) {
                    ax.addHandler('marksLoaded', H);
                };
                this.remove_marksLoaded = function(H) {
                    ax.removeHandler('marksLoaded', H);
                };
                this.add_marksSaved = function(H) {
                    ax.addHandler('marksSaved', H);
                };
                this.remove_marksSaved = function(H) {
                    ax.removeHandler('marksSaved', H);
                };
                this.add_markSelectionChanged = function(H) {
                    ax.addHandler('markSelectionChanged', H);
                };
                this.remove_markSelectionChanged = function(H) {
                    ax.removeHandler('markSelectionChanged', H);
                };
                this.add_markTextSelectionChanged = function(H) {
                    ax.addHandler('markTextSelectionChanged', H);
                };
                this.remove_markTextSelectionChanged = function(H) {
                    ax.removeHandler('markTextSelectionChanged', H);
                };
                this.add_pageOpenFailed = function(H) {
                    ax.addHandler('pageOpenFailed', H);
                };
                this.add_pageDisplayed = function(H) {
                    ax.addHandler('pageDisplayed', H);
                };
                this.remove_pageOpenFailed = function(H) {
                    ax.removeHandler('pageOpenFailed', H);
                };
                this.add_textPageReady = function(H) {
                    ax.addHandler('textPageReady', H);
                };
                this.remove_textPageReady = function(H) {
                    ax.removeHandler('textPageReady', H);
                };
                this.add_selectTextMouseToolCompleted = function(H) {
                    ax.addHandler('selectTextMouseToolCompleted', H);
                };
                this.remove_selectTextMouseToolCompleted = function(H) {
                    ax.removeHandler('selectTextMouseToolCompleted', H);
                };
                this.add_exceptionThrown = function(H) {
                    ax.da('exceptionThrown', H);
                };
                this.remove_exceptionThrown = function(H) {
                    ax.cP('exceptionThrown', H);
                };
                this.add_textExtractionFailed = function(H) {
                    ax.da('textExtractionFailed', H);
                };
                this.remove_textExtractionFailed = function(H) {
                    ax.cP('textExtractionFailed', H);
                };
                this.cG = function(dI, yc) {
                    var H = ax.getHandler("propertyChanged");
                    if (H) {
                        H(this, new IPCC.nP(dI, yc));
                    }
                };
                this.nQ = function() {
                    var _parent = document.getElementById(zo);
                    return _parent;
                };
                this.bV = function() {
                    return bM;
                };
                this.aGk = function() {
                    return ax;
                };

                function Ea(bC, F) {
                    HK = true;
                    F.pageIndex = bi.aw;
                    bi.aQ('markAdded', F);
                    bi.gw('hK', F);
                };

                function EN(bC, F) {
                    HK = true;
                    F.pageIndex = bi.aw;
                    bi.aQ('markChanged', F);
                    bi.gw('nj', F);
                };

                function alF(bC, F) {
                    F = new IPCC.Web.UI.MarkEventArgs();
                    F.mark = pl;
                    F.pageIndex = bi.aw;
                    bi.aQ('inProgressMarkChanged', F);
                    bi.gw('_onInProgressMarkChanged', F);
                };

                function DU(bC, F) {
                    HK = true;
                    F.pageIndex = bi.aw;
                    bi.aQ('markRemoved', F);
                    bi.gw('Dx', F);
                };

                function awY(bC, F) {
                    bi.aQ('textPageReady', F);
                };

                function awD(bC, F) {
                    bi.aQ('textExtractionFailed', F);
                };

                function Er(bC, F) {
                    HK = true;
                    F.pageIndex = bi.aw;
                    bi.aQ('markReordered', F);
                    bi.gw('alJ', F);
                };

                function Fn(bC, F) {
                    F.pageIndex = bi.aw;
                    bi.aQ('marksLoaded', F);
                    bi.gw('anq', F);
                };

                function Dm(bC, F) {
                    F.pageIndex = bi.aw;
                    bi.aQ('markSelectionChanged', F);
                    bi.gw('EJ', F);
                };

                function amf(bC, F) {
                    F.pageIndex = bi.aw;
                    bi.aQ('markTextSelectionChanged', F);
                };
                this.azt = function(bC, F) {
                    this.gw('_onTextMarkEditCompleted', F);
                };

                function DK(bC, F) {
                    F.pageIndex = bi.aw;
                    bi.aQ('propertyChanged', F);
                };
                this.lH = function(G) {
                    if (G === au) {
                        return;
                    }
                    if (au) {
                        au.remove_markAdded(Ea);
                        au.remove_markChanged(EN);
                        au.remove_markRemoved(DU);
                        au.remove_markReordered(Er);
                        au.remove_marksLoaded(Fn);
                        au.remove_markSelectionChanged(Dm);
                        au.mR(DK);
                        au.Gx(true);
                    }
                    au = G;
                    if (au) {
                        au.add_markAdded(Ea);
                        au.add_markChanged(EN);
                        au.add_markRemoved(DU);
                        au.add_markReordered(Er);
                        au.add_marksLoaded(Fn);
                        au.add_markSelectionChanged(Dm);
                        au.add_markTextSelectionChanged(amf);
                        au.jM(DK);
                    }
                    this.cG('artPage');
                };
                this.eg = function() {
                    return au;
                };
                this.Ky = function(G) {
                    if (G === fe) {
                        return;
                    }
                    if (fe) {
                        fe.remove_markAdded(Ea);
                        fe.remove_markChanged(EN);
                        fe.remove_markRemoved(DU);
                        fe.remove_markReordered(Er);
                        fe.remove_marksLoaded(Fn);
                        fe.remove_markSelectionChanged(Dm);
                        fe.mR(DK);
                        fe.Gx(true);
                    }
                    fe = G;
                    if (fe) {
                        fe.add_markAdded(Ea);
                        fe.add_markChanged(EN);
                        fe.add_markRemoved(DU);
                        fe.add_markReordered(Er);
                        fe.add_marksLoaded(Fn);
                        fe.add_markSelectionChanged(Dm);
                        fe.add_markTextSelectionChanged(amf);
                        fe.jM(DK);
                    }
                    this.cG('documentArtPage');
                };
                this.Os = function() {
                    return fe;
                };
                this.lX = function() {
                    return gc;
                };
                this.Dg = function(G) {
                    if (G === gc) {
                        return;
                    }
                    if (gc) {
                        gc.remove_markAdded(Ea);
                        gc.remove_markChanged(EN);
                        gc.remove_markRemoved(DU);
                        gc.remove_markReordered(Er);
                        gc.remove_marksLoaded(Fn);
                        gc.remove_markSelectionChanged(Dm);
                        gc.mR(DK);
                    }
                    gc = G;
                    if (gc) {
                        gc.add_markAdded(Ea);
                        gc.add_markChanged(EN);
                        gc.add_markRemoved(DU);
                        gc.add_markReordered(Er);
                        gc.add_marksLoaded(Fn);
                        gc.add_markSelectionChanged(Dm);
                        gc.jM(DK);
                    }
                    this.cG('transientArtPage');
                };
                var hh;
                this.Bg = function() {
                    if (!hh) {
                        if (IPCC.Web.UI.Mark) {
                            hh = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);
                            hh.set_opacity(100);
                            hh.set_fillColor('#3366CC');
                            hh.set_fillVisible(true);
                        }
                    }
                    return hh;
                };
                this.Wq = function(G) {
                    aif = G;
                    this.cG('artServiceOption');
                };
                this.WC = function() {
                    return aif;
                };
                this.oa = function(L, oj) {
                    if (pl === L) {
                        return;
                    }
                    if (pl) {
                        pl.remove_propertyChanged(alF);
                    }
                    if (L && !pl) {
                        var F = new IPCC.Web.UI.MarkEventArgs();
                        F.mark = oj ? oj : L;
                        F.pageIndex = this.aw;
                        this.aQ('markCreating', F);
                    }
                    pl = L;
                    if (pl) {
                        pl.add_propertyChanged(alF);
                    }
                    this.cG('inProgressMark');
                };
                this.aFy = function() {
                    return pl;
                };
                this.yP = function(G) {
                    if (G === bE) {
                        return;
                    }
                    bE = G;
                    this.wq = false;
                    bM.ow();
                    this.cG('image');
                };
                this.cE = function() {
                    return bE;
                };
                this.ace = function(G) {
                    if (G === IZ) {
                        return;
                    }
                    IZ = G;
                    this.cG('IZ');
                };
                this.aiZ = function() {
                    return IZ;
                };
                this.JN = function() {
                    var yV = this.JK();
                    var abJ = this.IV(yV);
                    var ato = abJ.value;
                    setTimeout(function() {
                        abJ.setSelectionRange(0, ato.length);
                    }, 1);
                };
                this.yq = function(L) {
                    this.qW(false);
                    iJ.aAq(L);
                    xq = true;
                    yV = L;
                    this.cG('xq');
                };
                this.akb = function(aT, dp) {
                    if (this.lj() && this.ca().mY() === true) {
                        var hs = this.ca().gT();
                        var C = aT;
                        for (; C < aT + dp; C++) {
                            var er = hs.kT(C);
                            var tK = '#3366CC';
                            var Fh = '#3366CC';
                            gc.Zl(er.aW, Fh, tK, false, C);
                        }
                    }
                };
                this.aFU = function(ap) {
                    var C;
                    try {
                        var aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);
                        if (!hh) {
                            hh = bi.Bg();
                        }
                        for (C in hh) {
                            if (hh.hasOwnProperty(C)) {
                                aC[C] = hh[C];
                            }
                        }
                        aC.set_rectangle({
                            x: ap.x,
                            y: ap.y,
                            width: ap.width,
                            height: ap.height
                        });
                        bi.oa(aC);
                        gc.addMark(aC);
                        return aC;
                    } catch (aAn) {
                        var ayD = aAn.message;
                        window.console.log(ayD);
                    }
                };
                this.HX = function(cD) {
                    var Jp;
                    var hs;
                    var QJ;
                    Jp = bi.ca();
                    hs = bi.ca().gT();

                    function arp(SA) {
                        var uu = SA.uy();
                        if ((cD.x >= uu.x - 10 && cD.x <= uu.x + uu.width + 1) && (cD.y >= uu.y - 1 && cD.y <= uu.y + uu.height + 1)) {
                            return true;
                        }
                        uu = undefined;
                    };
                    if (!QJ) {
                        for (var C = 0; C < hs.en(); C++) {
                            if (arp(hs.kT(C))) {
                                QJ = C;
                                break;
                            }
                        }
                    }
                    return QJ;
                };
                this.aAe = false;
                this.zs = function(df) {
                    if (df === undefined) {
                        return;
                    }
                    if (bi.lj() && bi.ca().mY() === true) {
                        var Jl = bi.ca().gT().en();
                        IPCC.aR.mW(df, 'textIndex', 0, Jl);
                        bi.bV().zs(df);
                        bi.lX().Cx(function(L) {
                            if (L.yX !== true && L.get_type() !== IPCC.Web.UI.MarkType.ImageStampAnnotation) {
                                bi.lX().ty(L);
                            }
                        });
                        if (bi.yf() === true) {
                            bi.dv();
                        }
                    }
                };
                this.Wj = function() {
                    var EE = bi.bV().get_transientHighlightMarks();
                    while (EE.length > 0) {
                        bi.lX().removeMark(EE.pop());
                    }
                };
                this.Oz = function(tA, dp) {
                    if (bi.lj() && bi.ca().mY() === true) {
                        var C = tA;
                        var hs = this.ca().gT();
                        var dr = tA + dp;
                        if (!hh) {
                            hh = bi.Bg();
                        }
                        var EE = bi.bV().get_transientHighlightMarks();
                        for (; C < dr; C++) {
                            var er = hs.kT(C);
                            EE.push(gc.aCv(er.aW, hh, C));
                        }
                    }
                };
                this.aIx = function(aIr, dp) {
                    var bM = bi.bV();
                    for (var ba = dp - 1; ba > dp; ba--) {
                        var aa = bM.hL[ba];
                        gc.removeMark(aa.L);
                    }
                };
                this.tL = function(df) {
                    if (df === undefined) {
                        return;
                    }
                    var er;
                    var bM = bi.bV();
                    var gs = bM.Cd();
                    var tK = '#3366CC';
                    var Fh = '#3366CC';
                    var cT = 100;
                    if (!hh) {
                        hh = bi.Bg();
                    }
                    cT = hh.get_opacity();
                    if (!cT) {
                        cT = 100;
                    }
                    tK = hh.get_fillColor();
                    if (tK === undefined) {
                        tK = '#3366CC';
                    }
                    var hs = bi.ca().gT();
                    if (gs === undefined) {
                        er = hs.kT(df);
                        var L = gc.Zl(er.aW, Fh, tK, false, cT, df);
                        bM.tL(df, L, er.jW);
                        return;
                    }
                    var ba;

                    function agj(ay, aoQ) {
                        for (ba = bM.hL.length - 1; ba >= 0; ba--) {
                            var aa = bM.hL[ba];
                            if (aa.df === ay) {
                                bM.hL.splice(ba, 1);
                                gc.removeMark(aa.L);
                                bM.aBx(aoQ);
                                bM.aBL(ay);
                                return ba;
                            }
                        }
                        return -1;
                    };

                    function Nj(ay) {
                        er = hs.kT(ay);
                        var anx = gc.Zl(er.aW, Fh, tK, false, cT, ay);
                        if (bM.tL(ay, anx, er.jW) === false) {
                            gc.removeMark(anx);
                        }
                    };
                    var LE = bM.aih();
                    var C;
                    if (df > gs) {
                        for (C = gs; C <= df; C++) {
                            if (C === df) {
                                if (C < LE) {
                                    continue;
                                }
                                Nj(C);
                            } else if (C >= LE) {
                                if (C === gs) {
                                    continue;
                                }
                                Nj(C);
                            } else {
                                agj(C, df);
                            }
                        }
                    } else if (df < gs) {
                        for (C = gs; C >= df; C--) {
                            if (C === df) {
                                if (C >= LE) {
                                    continue;
                                }
                                Nj(C);
                            } else if (C < LE) {
                                if (C === gs) {
                                    continue;
                                }
                                Nj(C);
                            } else {
                                agj(C, df);
                            }
                        }
                    }
                };
                this.BB = function() {
                    var aev = "";
                    try {
                        var bM = bi.bV();
                        if (bi.bV().Kq()) {
                            var atJ = bi.ca().gT();
                            if (bM.hL.length > 0) {
                                var DJ = [];
                                for (var C = 0; C < bM.hL.length; C++) {
                                    DJ.push(bM.hL[C].df);
                                }
                                if (DJ[0] > DJ[1]) {
                                    DJ.reverse();
                                }
                                for (C = 0; C < DJ.length; C++) {
                                    aev += atJ.kT(DJ[C]).aFJ();
                                }
                            }
                        }
                        return aev;
                    } catch (e) {
                        window.console.log(e.message);
                    }
                };
                this.qW = function(aDq) {
                    if (xq) {
                        if (aDq) {
                            iJ.awQ();
                        }
                        xq = false;
                        yV = null;
                        this.azt();
                        this.cG('xq');
                        bi.dv();
                    }
                };
                this.aiJ = function() {
                    return xq;
                };
                this.JK = function() {
                    return yV;
                };
                this.Cz = function() {
                    var yV = this.JK();
                    if (!yV) {
                        return null;
                    }
                    var Yh = yV.jh();
                    if (Yh === IPCC.Web.UI.MarkType.TextLine) {
                        return 'singleline';
                    } else if (Yh === IPCC.Web.UI.MarkType.TextAreaSignature) {
                        return 'multiline';
                    } else if (Yh === IPCC.Web.UI.MarkType.Text) {
                        return 'multiline';
                    }
                };
                this.adc = function(G) {
                    afG = G;
                };
                this.ZK = function() {
                    return afG;
                };
                this.Wy = function(G) {
                    xB = G;
                };
                this.aFg = function() {
                    return xB;
                };
                this.afb = function(G) {
                    if (G === wU) {
                        return;
                    }
                    wU = G;
                    this.cG('wU');
                };
                this.Wp = function() {
                    return wU;
                };
                this.Gx = function(G) {
                    if (au) {
                        au.Gx(G);
                    }
                };
                this.NS = function() {
                    if (au) {
                        return au.NS();
                    }
                    return true;
                };
                this.awv = function(aFV) {
                    var bD = iJ.anP(this.nQ());
                    this.aEg(bD);
                };
                this.aEg = function(G) {
                    if (G === bD) {
                        return;
                    }
                    bD = G;
                    this.cG('windowSpace');
                };
                this.eT = function() {
                    return bD;
                };
                this.dv = function() {
                    iJ.dv(bE, bM, bD);
                };
                this.Kv = function() {
                    if (this.qo() === false) {
                        var kU = bM.ec();
                        var J = this;
                        var mz = kU.qV(bE);
                        var cg = J.nQ();
                        var dF = cg.igElements;
                        var bn = dF.qG;
                        var Jb = Math.max(0, -mz.x);
                        var Jq = Math.max(0, -mz.y);
                        var mi = Math.max(0, mz.x);
                        var nb = Math.max(0, mz.y);
                        var fd = bM.ec();
                        fd.mH(Jb - mi, Jq - nb);
                        iJ.akw(bn, bD, kU, fd);
                    }
                };
                this.JQ = function(G) {
                    qX = G;
                };
                this.vm = function() {
                    return qX;
                };
                this.ca = function() {
                    return ix.ca();
                };
                var jP = 0;
                this.lU = function() {
                    return ix;
                };
                this.Dp = function(G) {
                    if (G === this.lU()) {
                        return;
                    }
                    ix = G;
                    if (ix) {
                        ix.xN(awY);
                        ix.xr(awD);
                    }
                };
                this.lj = function() {
                    return rz;
                };
                this.Kf = function(G) {
                    rz = G;
                    this.cG('textRequired');
                };
                this.yJ = function() {
                    return uD;
                };
                this.Kk = function(G) {
                    if (uD === G) {
                        return;
                    }
                    uD = G;
                    this.cG('requireRequestsOptimize');
                };
                this.yf = function() {
                    return ahT;
                };
                this.XN = function(G) {
                    ahT = G;
                    this.cG('autoUpdate');
                };
                var oD = false;
                this.oA = function() {
                    return oD;
                };
                this.qZ = function(G) {
                    if (typeof G !== "boolean") {
                        return;
                    }
                    if (G === oD) {
                        return;
                    }
                    oD = G;
                    if (au) {
                        var adI = false;
                        au.forEachMark(function(L) {
                            if (L.get_type() === IPCC.Web.UI.MarkType.RectangleRedaction) {
                                adI = true;
                            }
                        });
                        if (adI === true) {
                            au.qZ(oD);
                        }
                    }
                };
                this.kW = function() {
                    return jP;
                };
                this.wX = function(G) {
                    if (jP === G) {
                        return;
                    }
                    if (isNaN(G)) {
                        return;
                    }
                    jP = G;
                    this.cG('serviceResponseTimeout');
                };
                var oI = '';
                this.XV = function(ff, be) {
                    if (ff !== '') {
                        ff = '/' + ff;
                    }
                    be = be || '';
                    if (be === null || be === '') {
                        if (ff === '/Attributes') {
                            if (/^[\x00-\x7F]*$/.test(bE.get_identifier())) {
                                return oI + passURL + '/Page/q/' + bE.aw.toString() + ff + '?DocumentID=u' + encodeURIComponent(bE.get_identifier());
                            } else {
                                return oI + passURL + '/Page/q/' + bE.aw.toString() + ff + '?DocumentID=e' + bE.get_encodedIdentifier();
                            }
                        } else {
                            if (/^[\x00-\x7F]*$/.test(bE.get_identifier())) {
                                return oI + passURL + '/Page/q/' + bE.aw.toString() + ff + '?DocumentID=u' + encodeURIComponent(bE.get_identifier()) + '&Quality=85&ContentType=jpeg';
                            } else {
                                return oI + passURL + '/Page/q/' + bE.aw.toString() + ff + '?DocumentID=e' + bE.get_encodedIdentifier() + '&Quality=85&ContentType=jpeg';
                            }
                        }
                    } else {
                        if (/^[\x00-\x7F]*$/.test(bE.get_identifier())) {
                            return oI + passURL + '/Page/q/' + bE.aw.toString() + ff + '?DocumentID=u' + encodeURIComponent(bE.get_identifier()) + '&' + be;
                        } else {
                            return oI + passURL + '/Page/q/' + bE.aw.toString() + ff + '?DocumentID=e' + bE.get_encodedIdentifier() + '&' + be;
                        }
                    }
                };
                this.aEq = function(ff, be) {
                    ff = ff || 'Art';
                    be = be || '';
                    if (be === null || be === '') {
                        if (ff === 'Art') {
                            return oI + passURL + '/Page/q/' + bE.aw.toString() + '/' + ff + '?DocumentID=e' + bE.get_encodedIdentifier();
                        }
                    } else {
                        return oI + passURL + '/Page/q/' + bE.aw.toString() + '/' + ff + '?DocumentID=e' + bE.get_encodedIdentifier() + '&' + be;
                    }
                };
                this.Yp = function(BD) {
                    if (HK === false) {
                        if (BD) {
                            BD();
                        }
                        return;
                    }
                    IPCC.T.lD.eh({
                        method: 'POST',
                        url: this.aEq('Art'),
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: au.saveToJson()
                    }).then(function() {
                        if (BD) {
                            BD();
                        }
                    });
                };
                this.uU = function() {
                    return oI;
                };
                this.Wn = function(G) {
                    oI = G;
                    this.cG('imageHandlerUrl');
                };
                this.qo = function() {
                    return agk;
                };
                this.MO = function(G) {
                    agk = G;
                };
                this.aFI = function() {
                    return ahn;
                };
                this.adf = function(G) {
                    ahn = G;
                };
                this.mN = function() {
                    return vv;
                };
                this.tq = function(G) {
                    vv = G;
                    vv.tabIndex = -1;
                };
                this.ip = function() {
                    return nM;
                };
                this.nT = function(G) {
                    if (typeof G !== "boolean") {
                        return;
                    }
                    if (G === nM) {
                        return;
                    }
                    nM = G;
                };
                this.aAi = function(F) {
                    if (xq) {
                        this.qW(true);
                    } else {
                        this.aQ('mouseDown', F);
                        this.gw('lq', F);
                    }
                };
                this.azr = function(F) {
                    this.aQ('mouseMove', F);
                    this.gw('jV', F);
                };
                this.azB = function(F) {
                    this.aQ('mouseUp', F);
                    this.gw('lh', F);
                };
                this.azH = function(F) {
                    this.aQ('mouseWheel', F);
                    this.gw('mh', F);
                };
                this.azG = function(F) {
                    this.aQ('mouseDoubleClick', F);
                    this.gw('zA', F);
                };
                this.azh = function(F) {
                    this.aQ('contextMenu', F);
                    this.gw('TE', F);
                };
                this.aAK = function(F) {
                    this.aQ('contextMenuCommand', F);
                };
                this.aAS = function(F) {
                    this.aQ('mouseOut', F);
                    this.gw('oK', F);
                };
                this.azO = function(F) {
                    this.aQ('touchStart', F);
                    this.gw('lq', F);
                };
                this.azC = function(F) {
                    this.aQ('touchMove', F);
                    this.gw('jV', F);
                };
                this.aAu = function(F) {
                    this.aQ('touchEnd', F);
                    this.gw('lh', F);
                };
                this.aAx = function(F) {
                    this.aQ('touchCancel', F);
                    this.gw('Kt', F);
                };
                this.aQ = function(cZ, F) {
                    var H = ax.getHandler(cZ);
                    if (H !== null) {
                        H(bi, F);
                    }
                };
                var aef = function(J, og) {
                    bM = new IPCC.Rx();

                    function Al(bC, F) {
                        bi.aQ('propertyChanged', F);
                    };
                    bM.jM(Al);
                    iJ = new IPCC.eZ(J, og);
                    if (IPCC.dP) {
                        iJ.qe = new IPCC.dP.ck(J);
                        iJ.auk = new IPCC.dP.ck(J);
                    }
                };
                if (og === false) {
                    aef(this, false);
                } else {
                    aef(this, true);
                }
                return this;
            };
            module.exports = Sv;
        }, {}],
        62: [function(require, module, exports) {
            var Rx = function() {
                var pZ = 0;
                var qF = 1;
                var lm = 1;
                var zM = false;
                var dB = new IPCC.fg();
                var Cw = false;
                var tC;
                var qS;
                var Lo = false;
                var Bs = new IPCC.GB(200, 150, 96, 96);
                var tE = {
                    x: 0,
                    y: 0
                };
                var Me = 3;
                var Ll = 0,
                    MN = 0;
                var gP = 0.2;
                var sy = IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;
                var CO = new IPCC.fg();
                var IB = 0;
                var HY = 0;
                var BN = false;
                var VT;
                this.hL = [];
                var Yu = IPCC.Web.UI.ScrollBars.Auto;
                var EE = [];
                this.get_transientHighlightMarks = function() {
                    return EE;
                };
                this.get_scrollBars = function() {
                    return Yu;
                };
                this.get_overflow = function() {
                    switch (Yu) {
                        case IPCC.Web.UI.ScrollBars.None:
                            return 'hidden';
                        case IPCC.Web.UI.ScrollBars.Both:
                            return 'scroll';
                    }
                    return 'auto';
                };
                this.set_scrollBars = function(G) {
                    Yu = G;
                    this.cG('scrollBars');
                };
                var ax = new IPCC.Web.UI.gV();
                this.jM = function(H) {
                    ax.addHandler('propertyChanged', H);
                };
                this.mR = function(H) {
                    ax.removeHandler('propertyChanged', H);
                };
                this.cG = function(dI) {
                    var H = ax.getHandler('propertyChanged');
                    if (H) {
                        H(this, new IPCC.nP(dI));
                    }
                };
                var onSelectionChanged = function(bM) {
                    var F = {};
                    F.selectionIsVisible = Cw;
                    F.selectionRectangle = bM.wQ();
                    bM.cG('selection');
                };
                this.ow = function() {
                    tC = {
                        x: 0,
                        y: 0
                    };
                    qS = {
                        x: 0,
                        y: 0
                    };
                    if (!Cw) {
                        return;
                    }
                    Cw = false;
                    onSelectionChanged(this);
                };
                this.showSelection = function(dE) {
                    tC.x = dE.x;
                    tC.y = dE.y;
                    qS.x = dE.x + dE.width;
                    qS.y = dE.y + dE.height;
                    Cw = true;
                    onSelectionChanged(this);
                };
                this.Ej = function(cD) {
                    tC.x = cD.x;
                    tC.y = cD.y;
                    qS.x = cD.x;
                    qS.y = cD.y;
                    Cw = true;
                    onSelectionChanged(this);
                };
                this.xp = function(cD) {
                    qS.x = cD.x;
                    qS.y = cD.y;
                    onSelectionChanged(this);
                };
                this.BL = function() {
                    return Cw;
                };
                this.wQ = function() {
                    var R = new IPCC.Web.UI.Rectangle(Math.min(tC.x, qS.x), Math.min(tC.y, qS.y), 0, 0);
                    R.width = Math.max(tC.x, qS.x) - R.x;
                    R.height = Math.max(tC.y, qS.y) - R.y;
                    return R;
                };
                var GR = function() {
                    if (!Lo) {
                        CO.aCL();
                        return;
                    }
                    CO.Nf(dB);
                    CO.mH(-tE.x, -tE.y);
                    CO.scale(Me, Me);
                    CO.mH(Bs.width / 2, Bs.height / 2);
                };
                this.hideMagnifier = function() {
                    Lo = false;
                    GR();
                    this.cG('magnifierIsVisible');
                };
                this.showMagnifier = function(cn) {
                    tE.x = cn.x;
                    tE.y = cn.y;
                    Lo = true;
                    GR();
                    this.cG('magnifierWindowPosition');
                    this.cG('magnifierIsVisible');
                };
                this.get_magnifierIsVisible = function() {
                    return Lo;
                };
                this.get_magnifierWindowPosition = function() {
                    return {
                        x: tE.x,
                        y: tE.y
                    };
                };
                this.get_magnifierMagnification = function() {
                    return Me;
                };
                this.set_magnifierMagnification = function(G) {
                    Me = G;
                    GR();
                    this.cG('magnifierMagnification');
                };
                this.KD = function() {
                    return Ll;
                };
                this.Xz = function(G) {
                    Ll = G;
                    this.cG('magnifierXOffset');
                };
                this.LA = function() {
                    return MN;
                };
                this.XW = function(G) {
                    MN = G;
                    this.cG('magnifierYOffset');
                };
                this.ug = function() {
                    return {
                        width: Bs.width,
                        height: Bs.height
                    };
                };
                this.set_magnifierWindowSize = function(newMagnifierSize) {
                    Bs.width = newMagnifierSize.width;
                    Bs.height = newMagnifierSize.height;
                    GR();
                    this.cG('magnifierWindowSize');
                };
                this.aEJ = function() {
                    return CO.clone();
                };
                this.ec = function() {
                    return dB.clone();
                };
                this.Zh = function() {
                    return gP;
                };
                this.XS = function(G) {
                    gP = G;
                    this.cG('markHandleSize');
                };
                this.xv = function() {
                    return sy;
                };
                this.Kd = function(G) {
                    sy = G;
                    this.cG('markHandleMode');
                };
                this.jr = function(G) {
                    if (G === dB || G.ayv(dB)) {
                        return;
                    }
                    if (!G.ahN()) {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');
                    }
                    dB.Nf(G);
                    GR();
                    this.cG('displayedPageRectangle');
                };
                var ada = '0';
                this.get_presentationQuality = function() {
                    return ada;
                };
                this.set_presentationQuality = function(G) {
                    ada = G;
                    this.cG('presentationQuality');
                };
                this.aGh = function() {
                    return qF;
                };
                this.FF = function(G) {
                    qF = G;
                };
                this.aEb = function() {
                    return pZ;
                };
                this.CS = function(G) {
                    pZ = G;
                };
                this.aDm = function() {
                    return lm;
                };
                this.ED = function(G) {
                    if (G !== lm) {
                        zM = true;
                    }
                    lm = G;
                };
                this.aAz = function(G) {
                    zM = G;
                };
                this.aiS = function() {
                    return zM;
                };
                var ai = IPCC.ar.Default;
                this.get_cursor = function() {
                    return ai;
                };
                this.set_cursor = function(G) {
                    if (ai !== G && ai !== -1) {
                        ai = G;
                        this.cG('cursor');
                    }
                };
                var NG = IPCC.ar.Default;
                this.IT = function() {
                    if (NG === IPCC.ar.Default) {
                        return ai;
                    }
                    return NG;
                };
                this.Do = function(G) {
                    if (NG !== G) {
                        NG = G;
                        this.cG('markCursor');
                    }
                };
                this.zs = function(df) {
                    IB = df;
                    BN = false;
                    HY = 0;
                };
                this.Oz = function(tA, dp) {
                    if (tA !== IB) {
                        IB = tA;
                    }
                    HY = dp;
                    BN = true;
                };
                this.UO = function() {
                    if (BN === true) {
                        for (var C = 0; C < this.hL.length; C++) {
                            this.hL[C].L.set_visible(false);
                        }
                        BN = false;
                    }
                };
                this.Kq = function() {
                    return BN;
                };
                this.tL = function(df, L, jW) {
                    VT = df;
                    if (df !== undefined) {
                        if (this.hL.length > 0 && this.hL[this.hL.length - 1].df === df) {
                            return false;
                        }
                        this.hL.push({
                            df: df,
                            L: L,
                            jW: jW
                        });
                        BN = true;
                        HY++;
                    } else {
                        this.hL = [];
                        HY = 0;
                    }
                    return true;
                };
                this.Cd = function() {
                    return VT;
                };
                this.aBx = function(G) {
                    if (G === undefined) {
                        return;
                    }
                    VT = G;
                };
                var agy;
                this.aGv = function() {
                    return agy;
                };
                this.aBL = function(G) {
                    if (G === undefined) {
                        return;
                    }
                    agy = G;
                };
                this.aih = function() {
                    return IB;
                };
                this.aGJ = function() {
                    return IB + HY;
                };
                this.Cg = function() {
                    return this.hL.length;
                };
                this.ow();
                this.hideMagnifier();
                return this;
            };
            module.exports = Rx;
        }, {}],
        63: [function(require, module, exports) {
            var zE = {};
            zE.ajr = function(bu) {
                if (!this.DY[0][0][0]) {
                    this.TU();
                }
                var C, ba, dX, JU, XC, lu = this.DY[0][4],
                    uQ = this.DY[1],
                    rW = bu.length,
                    Od = 1;
                if (rW !== 4 && rW !== 6 && rW !== 8) {
                    throw new IPCC.Web.UI.ImGearArgumentException('none', "invalid aes key size");
                }
                this.bu = [JU = bu.slice(0), XC = []];
                for (C = rW; C < 4 * rW + 28; C++) {
                    dX = JU[C - 1];
                    if (C % rW === 0 || (rW === 8 && C % rW === 4)) {
                        dX = lu[dX >>> 24] << 24 ^ lu[dX >> 16 & 255] << 16 ^ lu[dX >> 8 & 255] << 8 ^ lu[dX & 255];
                        if (C % rW === 0) {
                            dX = dX << 8 ^ dX >>> 24 ^ Od << 24;
                            Od = Od << 1 ^ (Od >> 7) * 283;
                        }
                    }
                    JU[C] = JU[C - rW] ^ dX;
                }
                for (ba = 0; C; ba++, C--) {
                    dX = JU[ba & 3 ? C : C - 4];
                    if (C <= 4 || ba < 4) {
                        XC[ba] = dX;
                    } else {
                        XC[ba] = uQ[0][lu[dX >>> 24]] ^ uQ[1][lu[dX >> 16 & 255]] ^ uQ[2][lu[dX >> 8 & 255]] ^ uQ[3][lu[dX & 255]];
                    }
                }
            };
            zE.ajr.prototype = {
                XY: function(dN) {
                    return this.apl(dN, 1);
                },
                DY: [
                    [
                        [],
                        [],
                        [],
                        [],
                        []
                    ],
                    [
                        [],
                        [],
                        [],
                        [],
                        []
                    ]
                ],
                TU: function() {
                    var LV = this.DY[0],
                        uQ = this.DY[1],
                        lu = LV[4],
                        aDL = uQ[4],
                        C, aM, wu, fD = [],
                        aax = [],
                        Vo, aal, aaS, iK, LW, LF;
                    for (C = 0; C < 256; C++) {
                        aax[(fD[C] = C << 1 ^ (C >> 7) * 283) ^ C] = C;
                    }
                    for (aM = wu = 0; !lu[aM]; aM ^= Vo || 1, wu = aax[wu] || 1) {
                        iK = wu ^ wu << 1 ^ wu << 2 ^ wu << 3 ^ wu << 4;
                        iK = iK >> 8 ^ iK & 255 ^ 99;
                        lu[aM] = iK;
                        aDL[iK] = aM;
                        aaS = fD[aal = fD[Vo = fD[aM]]];
                        LF = aaS * 0x1010101 ^ aal * 0x10001 ^ Vo * 0x101 ^ aM * 0x1010100;
                        LW = fD[iK] * 0x101 ^ iK * 0x1010100;
                        for (C = 0; C < 4; C++) {
                            LV[C][aM] = LW = LW << 24 ^ LW >>> 8;
                            uQ[C][iK] = LF = LF << 24 ^ LF >>> 8;
                        }
                    }
                    for (C = 0; C < 5; C++) {
                        LV[C] = LV[C].slice(0);
                        uQ[C] = uQ[C].slice(0);
                    }
                },
                apl: function(oP, Ja) {
                    if (oP.length !== 4) {
                        throw new IPCC.Web.UI.ImGearArgumentException('blocksize', 'Invalid block size');
                    }
                    var bu = this.bu[Ja],
                        dG = oP[0] ^ bu[0],
                        fb = oP[Ja ? 3 : 1] ^ bu[1],
                        fH = oP[2] ^ bu[2],
                        fD = oP[Ja ? 1 : 3] ^ bu[3],
                        uC, ahM, aiW, aAc = bu.length / 4 - 2,
                        C, Ct = 4,
                        eR = [0, 0, 0, 0],
                        GM = this.DY[Ja],
                        Si = GM[0],
                        Sg = GM[1],
                        Lw = GM[2],
                        Mj = GM[3],
                        lu = GM[4];
                    for (C = 0; C < aAc; C++) {
                        uC = Si[dG >>> 24] ^ Sg[fb >> 16 & 255] ^ Lw[fH >> 8 & 255] ^ Mj[fD & 255] ^ bu[Ct];
                        ahM = Si[fb >>> 24] ^ Sg[fH >> 16 & 255] ^ Lw[fD >> 8 & 255] ^ Mj[dG & 255] ^ bu[Ct + 1];
                        aiW = Si[fH >>> 24] ^ Sg[fD >> 16 & 255] ^ Lw[dG >> 8 & 255] ^ Mj[fb & 255] ^ bu[Ct + 2];
                        fD = Si[fD >>> 24] ^ Sg[dG >> 16 & 255] ^ Lw[fb >> 8 & 255] ^ Mj[fH & 255] ^ bu[Ct + 3];
                        Ct += 4;
                        dG = uC;
                        fb = ahM;
                        fH = aiW;
                    }
                    for (C = 0; C < 4; C++) {
                        eR[Ja ? 3 & -C : C] = lu[dG >>> 24] << 24 ^ lu[fb >> 16 & 255] << 16 ^ lu[fH >> 8 & 255] << 8 ^ lu[fD & 255] ^ bu[Ct++];
                        uC = dG;
                        dG = fb;
                        fb = fH;
                        fH = fD;
                        fD = uC;
                    }
                    return eR;
                }
            };
            module.exports = zE;
        }, {}],
        64: [function(require, module, exports) {
            var hj = {};
            hj.FD = {
                nl: function(cU) {
                    var eR = "",
                        qh = IPCC.Web.gj.vk(cU),
                        C, dX;
                    for (C = 0; C < qh / 8; C++) {
                        if ((C & 3) === 0) {
                            dX = cU[C / 4];
                        }
                        eR += String.fromCharCode(dX >>> 24);
                        dX <<= 8;
                    }
                    return decodeURIComponent(escape(eR));
                },
                uR: function(dM) {
                    dM = unescape(encodeURIComponent(dM));
                    var eR = [],
                        C, dX = 0;
                    for (C = 0; C < dM.length; C++) {
                        dX = dX << 8 | dM.charCodeAt(C);
                        if ((C & 3) === 3) {
                            eR.push(dX);
                            dX = 0;
                        }
                    }
                    if (C & 3) {
                        eR.push(IPCC.Web.gj.Kb(8 * (C & 3), dX));
                    }
                    return eR;
                }
            };
            hj.pH = {
                wj: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
                nl: function(cU, aAB, aq) {
                    var eR = "",
                        C, fm = 0,
                        fH = IPCC.Web.hj.pH.wj,
                        xg = 0,
                        qh = IPCC.Web.gj.vk(cU);
                    if (aq) {
                        fH = fH.substr(0, 62) + '-_';
                    }
                    for (C = 0; eR.length * 6 < qh;) {
                        eR += fH.charAt((xg ^ cU[C] >>> fm) >>> 26);
                        if (fm < 6) {
                            xg = cU[C] << (6 - fm);
                            fm += 26;
                            C++;
                        } else {
                            xg <<= 6;
                            fm -= 6;
                        }
                    }
                    while ((eR.length & 3) && !aAB) {
                        eR += "=";
                    }
                    return eR;
                },
                uR: function(dM, aq) {
                    dM = dM.replace(/\s|=/g, '');
                    var eR = [],
                        C, fm = 0,
                        fH = IPCC.Web.hj.pH.wj,
                        xg = 0,
                        aM;
                    if (aq) {
                        fH = fH.substr(0, 62) + '-_';
                    }
                    for (C = 0; C < dM.length; C++) {
                        aM = fH.indexOf(dM.charAt(C));
                        if (aM < 0) {
                            throw new IPCC.Web.UI.ImGearArgumentException('base64', 'Invalid base64');
                        }
                        if (fm > 26) {
                            fm -= 26;
                            eR.push(xg ^ aM >>> fm);
                            xg = aM << (32 - fm);
                        } else {
                            fm += 6;
                            xg ^= aM << (32 - fm);
                        }
                    }
                    if (fm & 56) {
                        eR.push(IPCC.Web.gj.Kb(fm & 56, xg, 1));
                    }
                    return eR;
                }
            };
            hj.GN = {
                nl: function(cU) {
                    return IPCC.Web.hj.pH.nl(cU, 1, 1);
                },
                uR: function(dM) {
                    return IPCC.Web.hj.pH.uR(dM, 1);
                }
            };
            module.exports = hj;
        }, {}],
        65: [function(require, module, exports) {
            var nL = {};
            nL.Zf = function(nL) {
                if (!this.bu[0]) {
                    this.TU();
                }
                if (nL) {
                    this.fl = nL.fl.slice(0);
                    this.zt = nL.zt.slice(0);
                    this.dp = nL.dp;
                } else {
                    this.afE();
                }
            };
            nL.Zf.nL = function(dN) {
                return (new IPCC.Web.nL.Zf()).atz(dN).aAV();
            };
            nL.Zf.prototype = {
                aGD: 512,
                afE: function() {
                    this.fl = this.RG.slice(0);
                    this.zt = [];
                    this.dp = 0;
                    return this;
                },
                atz: function(dN) {
                    if (typeof dN === "string") {
                        dN = IPCC.Web.Codec.FD.uR(dN);
                    }
                    var C, fb = this.zt = IPCC.Web.gj.Wo(this.zt, dN),
                        akN = this.dp,
                        azY = this.dp = akN + IPCC.Web.gj.vk(dN);
                    for (C = 512 + akN & -512; C <= azY; C += 512) {
                        this.MA(fb.splice(0, 16));
                    }
                    return this;
                },
                aAV: function() {
                    var C, fb = this.zt,
                        fl = this.fl;
                    fb = IPCC.Web.gj.Wo(fb, [IPCC.Web.gj.Kb(1, 1)]);
                    for (C = fb.length + 2; C & 15; C++) {
                        fb.push(0);
                    }
                    fb.push(Math.floor(this.dp / 0x100000000));
                    fb.push(this.dp | 0);
                    while (fb.length) {
                        this.MA(fb.splice(0, 16));
                    }
                    this.afE();
                    return fl;
                },
                RG: [],
                bu: [],
                TU: function() {
                    var C = 0,
                        Ib = 2,
                        aD;

                    function ajV(aM) {
                        return (aM - Math.floor(aM)) * 0x100000000 | 0;
                    };
                    aCi: for (; C < 64; Ib++) {
                        for (aD = 2; aD * aD <= Ib; aD++) {
                            if (Ib % aD === 0) {
                                continue aCi;
                            }
                        }
                        if (C < 8) {
                            this.RG[C] = ajV(Math.pow(Ib, 1 / 2));
                        }
                        this.bu[C] = ajV(Math.pow(Ib, 1 / 3));
                        C++;
                    }
                },
                MA: function(asK) {
                    var C, dX, dG, fb, hO = asK.slice(0),
                        fl = this.fl,
                        dw = this.bu,
                        WS = fl[0],
                        sa = fl[1],
                        FQ = fl[2],
                        OH = fl[3],
                        sL = fl[4],
                        PG = fl[5],
                        GC = fl[6],
                        WH = fl[7];
                    for (C = 0; C < 64; C++) {
                        if (C < 16) {
                            dX = hO[C];
                        } else {
                            dG = hO[(C + 1) & 15];
                            fb = hO[(C + 14) & 15];
                            dX = hO[C & 15] = ((dG >>> 7 ^ dG >>> 18 ^ dG >>> 3 ^ dG << 25 ^ dG << 14) + (fb >>> 17 ^ fb >>> 19 ^ fb >>> 10 ^ fb << 15 ^ fb << 13) + hO[C & 15] + hO[(C + 9) & 15]) | 0;
                        }
                        dX = (dX + WH + (sL >>> 6 ^ sL >>> 11 ^ sL >>> 25 ^ sL << 26 ^ sL << 21 ^ sL << 7) + (GC ^ sL & (PG ^ GC)) + dw[C]);
                        WH = GC;
                        GC = PG;
                        PG = sL;
                        sL = OH + dX | 0;
                        OH = FQ;
                        FQ = sa;
                        sa = WS;
                        WS = (dX + ((sa & FQ) ^ (OH & (sa ^ FQ))) + (sa >>> 2 ^ sa >>> 13 ^ sa >>> 22 ^ sa << 30 ^ sa << 19 ^ sa << 10)) | 0;
                    }
                    fl[0] = fl[0] + WS | 0;
                    fl[1] = fl[1] + sa | 0;
                    fl[2] = fl[2] + FQ | 0;
                    fl[3] = fl[3] + OH | 0;
                    fl[4] = fl[4] + sL | 0;
                    fl[5] = fl[5] + PG | 0;
                    fl[6] = fl[6] + GC | 0;
                    fl[7] = fl[7] + WH | 0;
                }
            };
            module.exports = nL;
        }, {}],
        66: [function(require, module, exports) {
            var BG = {};
            BG.aoq = {
                aN: "cbc",
                akW: function(LU, Va, iC, yn) {
                    if (yn && yn.length) {
                        throw new IPCC.Web.UI.ImGearArgumentException('data', 'cannot authenticate data');
                    }
                    if (IPCC.Web.gj.vk(iC) !== 128) {
                        throw new IPCC.Web.UI.ImGearArgumentException('iv', 'invalid data');
                    }
                    var C, hO = IPCC.Web.gj,
                        MK = hO.abX,
                        qh = hO.vk(Va),
                        ajx = 0,
                        op = [];
                    if (qh & 7) {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');
                    }
                    for (C = 0; ajx + 128 <= qh; C += 4, ajx += 128) {
                        iC = LU.akW(MK(iC, Va.slice(C, C + 4)));
                        op.splice(C, 0, iC[0], iC[1], iC[2], iC[3]);
                    }
                    qh = (16 - ((qh >> 3) & 15)) * 0x1010101;
                    iC = LU.akW(MK(iC, hO.Wo(Va, [qh, qh, qh, qh]).slice(C, C + 4)));
                    op.splice(C, 0, iC[0], iC[1], iC[2], iC[3]);
                    return op;
                },
                XY: function(LU, Lx, iC, yn) {
                    if (yn && yn.length) {
                        throw new IPCC.Web.UI.ImGearArgumentException(yn, "cbc can't authenticate data");
                    }
                    if (IPCC.Web.gj.vk(iC) !== 128) {
                        throw new IPCC.Web.UI.ImGearArgumentException('iv', "cbc iv must be 128 bits");
                    }
                    if ((IPCC.Web.gj.vk(Lx) & 127) || !Lx.length) {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");
                    }
                    var C, hO = IPCC.Web.gj,
                        MK = hO.abX,
                        rr, sK, op = [];
                    yn = yn || [];
                    for (C = 0; C < Lx.length; C += 4) {
                        rr = Lx.slice(C, C + 4);
                        sK = MK(iC, LU.XY(rr));
                        op.splice(C, 0, sK[0], sK[1], sK[2], sK[3]);
                        iC = rr;
                    }
                    rr = op[C - 1] & 255;
                    if (rr === 0 || rr > 16) {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');
                    }
                    sK = rr * 0x1010101;
                    if (!hO.aED(hO.aag([sK, sK, sK, sK], 0, rr * 8), hO.aag(op, op.length * 32 - rr * 8, op.length * 32))) {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');
                    }
                    return hO.aag(op, 0, op.length * 32 - rr * 8);
                }
            };
            module.exports = BG;
        }, {}],
        67: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var Oj = function() {
                var aU = [];
                var ax = new IPCC.Web.UI.gV();
                var fC = new IPCC.Web.UI.MarkCollection();
                var V = this;
                var Kx = true;
                this.awl = [];

                function onMarkSelectionChanged(bC, F) {
                    var L = F.mark;
                    if (L.bA && L.bA[0] && L.bA[0].bX === false) {
                        return;
                    }
                    var dg;
                    var aFX = F.mark.get_selected();
                    if (L.get_type() === IPCC.Web.UI.MarkType.RectangleRedaction && L.ah !== undefined) {
                        fC.remove_markAdded(onMarkSelectionChanged);
                        fC.remove_markRemoved(onMarkSelectionChanged);
                        for (var C = 0; C < aU.length; C++) {
                            if (aU[C].ah === L.ah) {
                                if (aU[C].get_type() === IPCC.Web.UI.MarkType.TextSelectionRedaction) {
                                    dg = aU[C];
                                } else {
                                    aU[C].set_selected(F.mark.get_selected());
                                }
                            }
                        }
                        fC.add_markAdded(onMarkSelectionChanged);
                        fC.add_markRemoved(onMarkSelectionChanged);
                        if (dg) {
                            dg.set_selected(aFX);
                        }
                        return;
                    } else if (L.get_type() === IPCC.Web.UI.MarkType.TextSelectionRedaction) {
                        fC.remove_markAdded(onMarkSelectionChanged);
                        fC.remove_markRemoved(onMarkSelectionChanged);
                        for (var ad = 0; ad < L.bA.length; ad++) {
                            L.bA[ad].set_selected(F.mark.get_selected());
                        }
                        fC.add_markAdded(onMarkSelectionChanged);
                        fC.add_markRemoved(onMarkSelectionChanged);
                    }
                    var ea = new IPCC.Web.UI.MarkEventArgs();
                    ea.mark = L;
                    ea.zIndex = V.oC(L);
                    ea.length = 1;
                    V.aQ('markSelectionChanged', ea);
                };
                fC.add_markAdded(onMarkSelectionChanged);
                fC.add_markRemoved(onMarkSelectionChanged);
                var aAZ = fC.addMark;
                fC.addMark = function(L) {
                    if (V.oC(L) < 0) {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');
                    }
                    if (!fC.contains(L)) {
                        aAZ.call(fC, L);
                        L.cG('selected');
                    }
                };
                var aCH = fC.addMarks;
                fC.addMarks = function(yr) {
                    var rk = [];

                    function VA(L) {
                        if (V.oC(L) < 0) {
                            throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');
                        }
                        if (!fC.contains(L)) {
                            rk.push(L);
                        }
                    };
                    yr.forEach(VA, {});
                    aCH.call(fC, yr);
                    var C;
                    for (C = 0; C < rk.length; C++) {
                        rk[C].cG('selected');
                    }
                };
                var aBB = fC.removeMark;
                fC.removeMark = function(L) {
                    if (fC.contains(L)) {
                        aBB.call(fC, L);
                        L.cG('selected');
                    }
                };
                var aAX = fC.removeAllMarks;
                fC.removeAllMarks = function() {
                    var rk = [];

                    function VA(L) {
                        if (fC.contains(L)) {
                            rk.push(L);
                        }
                    };
                    fC.forEach(VA, {});
                    aAX.call(fC);
                    var C;
                    for (C = 0; C < rk.length; C++) {
                        rk[C].cG('selected');
                    }
                };

                function ajC(jN) {
                    IPCC.aR.mW(jN, 'zIndex', 0, aU.length - 1);
                };
                this.Wz = function() {
                    return aU.length;
                };
                this.aiP = function() {
                    var C = 0;
                    for (; C < aU.length; C++) {
                        if (aU[C].get_type() !== IPCC.Web.UI.MarkType.HighlightText && aU[C].get_type() !== IPCC.Web.UI.MarkType.Highlight && !(aU[C].get_type() === IPCC.Web.UI.MarkType.RectangleRedaction && aU[C].ah !== undefined)) {
                            break;
                        }
                    }
                    return C;
                };
                this.yb = function() {
                    return fC;
                };
                this.Gx = function(G) {
                    if (G === Kx) {
                        return;
                    }
                    Kx = G;
                    this.cG('Kx');
                };
                this.NS = function() {
                    return Kx;
                };
                var oD = false;
                this.oA = function() {
                    return oD;
                };
                this.qZ = function(G) {
                    if (typeof G !== "boolean") {
                        return;
                    }
                    oD = G;
                    this.cG('redactionDraftMode');
                };

                function nj(bC, F) {
                    if (F.get_propertyName() === 'selected') {
                        return;
                    }
                    var ea = new IPCC.Web.UI.MarkEventArgs();
                    ea.mark = bC;
                    ea.zIndex = V.oC(bC);
                    ea.propertyName = F.dI;
                    ea.length = 1;
                    if (ea.mark.get_type() === IPCC.Web.UI.MarkType.TextSelectionRedaction || (ea.mark.get_type() === IPCC.Web.UI.MarkType.RectangleRedaction && ea.mark.ah !== 'undefined')) {
                        V.aud(bC);
                    }
                    V.aQ('markChanged', ea);
                };

                function zu(bC) {
                    var ea = new IPCC.Web.UI.MarkEventArgs();
                    ea.mark = bC;
                    ea.zIndex = V.oC(bC);
                    ea.length = 1;
                    V.aQ('markTextSelectionChanged', ea);
                };

                function Rk(bC, F) {
                    var ea = new IPCC.Web.UI.CommentEventArgs();
                    ea.mark = bC;
                    ea.comment = F.comment;
                    ea.index = F.index;
                    V.aQ('commentAdded', ea);
                };

                function Qp(bC, F) {
                    var ea = new IPCC.Web.UI.CommentEventArgs();
                    ea.mark = bC;
                    ea.comment = F.comment;
                    ea.index = F.index;
                    V.aQ('commentRemoved', ea);
                };

                function Re(bC, F) {
                    var ea = new IPCC.Web.UI.CommentEventArgs();
                    ea.mark = bC;
                    ea.comment = F.comment;
                    ea.index = F.index;
                    V.aQ('commentChanged', ea);
                };
                this.Nh = function(L, qH) {
                    qH = qH || {};
                    var jN = this.oC(L);
                    if (jN >= 0) {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');
                    }
                    if (L.eg()) {
                        throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');
                    }
                    aU.push(L);
                    L.lH(this);
                    L.add_propertyChanged(nj);
                    L.add_markTextSelectionChanged(zu);
                    L.yp(Rk);
                    L.yF(Qp);
                    L.sY(Re);
                    var F = new IPCC.Web.UI.MarkEventArgs();
                    F.mark = L;
                    if (L.get_type() === IPCC.Web.UI.MarkType.Highlight || L.get_type() === IPCC.Web.UI.MarkType.HighlightText || L.get_type() === IPCC.Web.UI.MarkType.TextHyperlinkAnnotation || L.get_type() === IPCC.Web.UI.MarkType.DocumentHyperlink || L.get_type() === IPCC.Web.UI.MarkType.Strikethrough || (L.get_type() === IPCC.Web.UI.MarkType.RectangleRedaction && L.ah !== undefined)) {
                        this.afI(L, 0);
                    } else {
                        F.zIndex = aU.length - 1;
                    }
                    F.clientX = qH.clientX;
                    F.clientY = qH.clientY;
                    F.length = 1;
                    V.aQ('markAdded', F);
                };
                this.Cx = function(je, cX) {
                    var IL = [].concat(aU);
                    var C;
                    for (C = 0; C < IL.length; C++) {
                        je.call(cX, IL[C], C, this);
                    }
                };
                this.PP = function(jN) {
                    ajC(jN);
                    return aU[jN];
                };
                this.oC = function(L) {
                    var C;
                    for (C = 0; C < aU.length; C++) {
                        if (aU[C] === L) {
                            return C;
                        }
                    }
                    return -1;
                };
                this.aAG = function(es) {
                    var eB;
                    if (typeof JSON !== 'undefined') {
                        eB = JSON.parse(es);
                    } else {
                        eB = IPCC.ce.tg(es, true);
                    }
                    this.XU();
                    var Iy = [];
                    var C;
                    var LM = eB.m;
                    if (LM) {
                        for (C = 0; C < LM.length; C++) {
                            var aC = new IPCC.Web.UI.Mark(LM[C].t);
                            aC.azb(LM[C]);
                            aC.lH(this);
                            aC.add_propertyChanged(nj);
                            aC.add_markTextSelectionChanged(zu);
                            Iy.push(aC);
                        }
                    }
                    aU = Iy;
                    V.aQ('marksLoaded', {});
                };
                var ALPHA_CHAR_CODES = [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 65, 66, 67, 68, 69, 70];
                this.anQ = function() {
                    var kF = new Array(36);
                    var ay = 0;
                    var C;
                    var ba;
                    for (C = 0; C < 8; C++) {
                        kF[ay++] = ALPHA_CHAR_CODES[Math.floor(Math.random() * 16)];
                    }
                    for (C = 0; C < 3; C++) {
                        kF[ay++] = 45;
                        for (ba = 0; ba < 4; ba++) {
                            kF[ay++] = ALPHA_CHAR_CODES[Math.floor(Math.random() * 16)];
                        }
                    }
                    kF[ay++] = 45;
                    var asW = new Date().getTime();
                    var auR = ("0000000" + asW.toString(16).toUpperCase()).substr(-8);
                    for (C = 0; C < 8; C++) {
                        kF[ay++] = auR.charCodeAt(C);
                    }
                    for (C = 0; C < 4; C++) {
                        kF[ay++] = ALPHA_CHAR_CODES[Math.floor(Math.random() * 16)];
                    }
                    return String.fromCharCode.apply(null, kF);
                };

                function VY(jG) {
                    var aM = jG.firstChild;
                    while (aM.nodeType !== 1) {
                        aM = aM.nextSibling;
                    }
                    return aM;
                };

                function Lv(tF, ajo, apP) {
                    var awP = parseFloat(tF.getAttribute(ajo));
                    var axM = parseFloat(tF.getAttribute(ajo + 'RI'));
                    return apP / (awP / axM);
                };

                function asT(LC, bL, aS) {
                    if (bL <= 0 && aS <= 0) {
                        return 1;
                    }
                    var akV = LC.getAttribute('pageWidth');
                    var alz = LC.getAttribute('pageHeight');
                    var PA, Sm, aD, tF, C;
                    if (akV && alz) {
                        PA = parseFloat(akV);
                        Sm = parseFloat(alz);
                        if (isFinite(PA) && isFinite(Sm) && PA > 0 && Sm > 0) {
                            return bL / PA;
                        }
                    }
                    for (C = 0; C < LC.childNodes.length; C++) {
                        tF = LC.childNodes[C];
                        if (tF.nodeName !== 'annotation') {
                            continue;
                        }
                        aD = Lv(tF, 'width', bL);
                        if (isFinite(aD) && aD > 0) {
                            return aD;
                        }
                        aD = Lv(tF, 'height', aS);
                        if (isFinite(aD) && aD > 0) {
                            return aD;
                        }
                        aD = Lv(tF, 'x', bL);
                        if (isFinite(aD) && aD > 0) {
                            return aD;
                        }
                        aD = Lv(tF, 'y', aS);
                        if (isFinite(aD) && aD > 0) {
                            return aD;
                        }
                    }
                    return 1;
                };
                this.azV = function(jU, aY, bL, aS, Xj, stampImages, yH, uK) {
                    var V = this;
                    if (yH !== true) {
                        this.XU();
                    }
                    if (jU) {
                        var ik;
                        if (IPCC.vN.JP()) {
                            ik = jU.firstChild;
                        } else {
                            var Vs = jU.firstChild.nodeName;
                            if (Vs.toLowerCase() === 'xml') {
                                ik = jU.firstChild.nextSibling;
                            } else {
                                ik = jU.firstChild;
                            }
                        }
                        var dQ = VY(ik);
                        if (dQ.nodeName !== 'pages') {
                            throw 'ERROR: pages';
                        }
                        if (dQ.hasChildNodes()) {
                            var C;
                            for (C = 0; C < dQ.childNodes.length; C++) {
                                var aP = dQ.childNodes[C];
                                if (aP.nodeName !== 'page') {
                                    continue;
                                }
                                var AH = aP.getAttribute('id');
                                var mZ = false;
                                var vS;
                                var rm = '';
                                var Ik = [];
                                var lw;
                                var oU, ad = 0;
                                var cq, cS, aT;
                                if (Xj) {
                                    var adA = aP.getAttribute('pageWidth'),
                                        acC = aP.getAttribute('pageHeight');
                                    if (adA) {
                                        Xj.ado(adA);
                                    }
                                    if (acC) {
                                        Xj.adn(acC);
                                    }
                                }
                                var mr = [],
                                    NU = {},
                                    bA;
                                if ((AH && parseInt(AH, 10)) === (aY + 1)) {
                                    mZ = true;
                                    var Iy = [];
                                    var ba;
                                    var aC;
                                    var ly, gE, pU, sV, sx, fY;
                                    var ni = 1;
                                    var aht = asT(aP, bL, aS);
                                    if (aht > 0) {
                                        ni = aht;
                                    }
                                    for (ba = 0; ba < aP.childNodes.length; ba++) {
                                        var bO = aP.childNodes[ba];
                                        if (bO.nodeName !== 'annotation') {
                                            continue;
                                        }
                                        var im = parseFloat(bO.getAttribute('width')) * ni;
                                        var iI = parseFloat(bO.getAttribute('height')) * ni;
                                        var gl = parseFloat(bO.getAttribute('x')) * ni;
                                        var gF = parseFloat(bO.getAttribute('y')) * ni;
                                        var abu = bO.getAttribute('fillColor'),
                                            ZS, pJ, ZO = bO.getAttribute('lineColor'),
                                            ahL, jf, aeq = bO.getAttribute('fontColor'),
                                            ajF, xR;
                                        if (abu === 'transparent') {
                                            ZS = pJ = abu;
                                        } else {
                                            ZS = parseInt(abu || 0, 10);
                                            pJ = parseInt(ZS, 10).toString(16);
                                            while (pJ.length < 6) {
                                                pJ = '0' + pJ;
                                            }
                                            pJ = '#' + pJ;
                                        }
                                        if (ZO === 'transparent') {
                                            jf = ZO;
                                        } else {
                                            ahL = parseInt(ZO || 0, 10);
                                            jf = parseInt(ahL, 10).toString(16);
                                            while (jf.length < 6) {
                                                jf = '0' + jf;
                                            }
                                            jf = '#' + jf;
                                        }
                                        if (aeq) {
                                            ajF = parseInt(aeq || 0, 10);
                                            xR = parseInt(ajF, 10).toString(16);
                                            while (xR.length < 6) {
                                                xR = '0' + xR;
                                            }
                                            xR = '#' + xR;
                                        }
                                        var atB = bO.getAttribute('stampSize');
                                        var Nm = bO.getAttribute('dragDirection');
                                        var Hm = parseInt(bO.getAttribute('opacity'), 10);
                                        if (isNaN(Hm)) {
                                            Hm = 255;
                                        }
                                        if (bO.nodeName === 'annotation') {
                                            var ajq = bO.getAttribute('label');
                                            if (!ajq) {
                                                ajq = '';
                                            }
                                            var kw = bO.getAttribute('drawType');
                                            var kh;
                                            switch (kw) {
                                                case 'imagestamp':
                                                case 'imagestamp_redact':
                                                    var pz = bO.getAttribute('imageStampId');
                                                    var bP = (kw === 'imagestamp') ? IPCC.Web.UI.MarkType.ImageStampAnnotation : IPCC.Web.UI.MarkType.ImageStampRedaction;
                                                    aC = new IPCC.Web.UI.Mark(bP);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    aC.set_image(stampImages[pz].base64format);
                                                    aC.pz = pz;
                                                    ly = true;
                                                    if (kw === 'imagestamp_redact') {
                                                        aC.kC(true);
                                                    }
                                                    break;
                                                case 'circle':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    ly = true;
                                                    aC.set_lineColor(jf);
                                                    aC.set_fillVisible(false);
                                                    aC.set_lineWidth(parseFloat(bO.getAttribute('lineWidth')));
                                                    break;
                                                case 'circle_filled':
                                                case 'circle_trans':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    ly = true;
                                                    aC.set_fillColor(pJ);
                                                    aC.set_lineColor(jf);
                                                    aC.set_fillVisible(true);
                                                    aC.set_lineWidth(parseFloat(bO.getAttribute('lineWidth')));
                                                    break;
                                                case 'text':
                                                case 'text_redact':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    aC.set_fontName('verdana');
                                                    aC.set_fontSize(10);
                                                    aC.set_opacity(0);
                                                    vS = undefined;
                                                    aC.set_fillColor('#000000');
                                                    if (kw === 'text_redact') {
                                                        aC.kC(true);
                                                    }
                                                    if (kw === 'text') {
                                                        aC.set_fillColor(pJ);
                                                        aC.set_lineColor(jf);
                                                        aC.set_lineWidth(parseFloat(bO.getAttribute('lineWidth')));
                                                        aC.set_fillVisible(true);
                                                        aC.set_opacity(Hm);
                                                    }
                                                    fY = parseInt(bO.getAttribute('maxLength'));
                                                    if (!isNaN(fY)) {
                                                        aC.set_maxLength(fY);
                                                    }
                                                    mr = [];
                                                    gE = bO.firstChild;
                                                    while ((gE) && (gE.nodeType !== 4)) {
                                                        gE = gE.nextSibling;
                                                    }
                                                    if ((gE) && (gE.nodeType === 4)) {
                                                        kh = gE.innerText || gE.textContent || gE.data;
                                                        aC.aI.bv = kh;
                                                        oU = kh.split("</TEXTFORMAT>");
                                                        rm = '';
                                                        Ik = [];
                                                        for (ad = 0; ad < oU.length; ad++) {
                                                            if (oU[ad].match(/<TEXTFORMAT/)) {
                                                                oU[ad] = oU[ad] + "</TEXTFORMAT>";
                                                                mr.push(oU[ad]);
                                                            }
                                                        }
                                                        for (ad = 0; ad < mr.length; ad++) {
                                                            if (mr[ad].match(/<P/)) {
                                                                vS = this.ajz(mr[ad]);
                                                                Ik.push(vS);
                                                                rm += vS + " ";
                                                                if (ad === 0) {
                                                                    lw = this.aiD(mr[ad]);
                                                                    aeJ(lw, aC);
                                                                }
                                                            }
                                                            rm = rm.replace(/\s+$/g, "");
                                                            aC.set_text(rm);
                                                            var Hq = this.aju(mr[ad]);
                                                            switch (Hq) {
                                                                case 'CENTER':
                                                                    aC.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);
                                                                    break;
                                                                case 'RIGHT':
                                                                    aC.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);
                                                                    break;
                                                                default:
                                                                    aC.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);
                                                                    break;
                                                            }
                                                        }
                                                    }
                                                    break;
                                                case 'line':
                                                case 'arrow':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);
                                                    var bF = aC.qP();
                                                    if (Nm === 'br') {
                                                        bF.setPoint(1, new IPCC.Web.UI.Point(gl + im, gF + iI));
                                                        bF.setPoint(0, new IPCC.Web.UI.Point(gl, gF));
                                                    } else if (Nm === 'bl') {
                                                        bF.setPoint(1, new IPCC.Web.UI.Point(gl, gF + iI));
                                                        bF.setPoint(0, new IPCC.Web.UI.Point(gl + im, gF));
                                                    } else if (Nm === 'tr') {
                                                        bF.setPoint(1, new IPCC.Web.UI.Point(gl + im, gF));
                                                        bF.setPoint(0, new IPCC.Web.UI.Point(gl, gF + iI));
                                                    } else if (Nm === 'tl') {
                                                        bF.setPoint(1, new IPCC.Web.UI.Point(gl, gF));
                                                        bF.setPoint(0, new IPCC.Web.UI.Point(gl + im, gF + iI));
                                                    }
                                                    aC.set_lineColor(jf);
                                                    aC.set_lineWidth(parseFloat(bO.getAttribute('lineWidth')));
                                                    if (kw === 'arrow') {
                                                        aC.set_headFillColor(jf);
                                                        aC.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);
                                                        aC.set_startHeadAngle(30);
                                                        aC.set_startHeadLength(35);
                                                        aC.set_lineWidth(parseFloat(bO.getAttribute('lineWidth')));
                                                    }
                                                    break;
                                                case 'stamp':
                                                case 'stamp_redact':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    aC.set_fillColor(jf);
                                                    if (kw === 'stamp_redact') {
                                                        aC.kC(true);
                                                        aC.set_fillColor('#000000');
                                                    }
                                                    gE = bO.firstChild;
                                                    while ((gE) && (gE.nodeType !== 4)) {
                                                        gE = gE.nextSibling;
                                                    }
                                                    if ((gE) && (gE.nodeType === 4)) {
                                                        kh = gE.innerText || gE.textContent || gE.data;
                                                        aC.aI.bv = kh;
                                                        aC.set_text(kh);
                                                    }
                                                    break;
                                                case 'highlightText':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    aC.set_fillColor(jf);
                                                    aC.ah = bO.getAttribute('highlightGroupID');
                                                    if (bO.getAttribute('textLength')) {
                                                        aC.cq = parseInt(bO.getAttribute('textLength'), 10);
                                                    }
                                                    aC.cS = bO.getAttribute('selectedText');
                                                    if (bO.getAttribute('startIndex')) {
                                                        aC.aT = parseInt(bO.getAttribute('startIndex'), 10);
                                                    }
                                                    aC.kQ = bO.getAttribute('isHighlight');
                                                    aC.set_opacity(127);
                                                    bA = Tu(bO, ni);
                                                    if (bA) {
                                                        aC.bA = bA;
                                                    }
                                                    break;
                                                case 'rectangle_filled_redact':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    aC.set_fillColor(pJ || '#000000');
                                                    aC.set_lineColor(jf);
                                                    aC.set_lineWidth(parseFloat(bO.getAttribute('lineWidth')));
                                                    aC.set_textColor(xR || '#ffffff');
                                                    aC.set_fillVisible(true);
                                                    aC.kC(true);
                                                    pU = bO.getAttribute('highlightGroupID');
                                                    aC.set_text(IPCC.T.wJ(bO.getAttribute('meta')));
                                                    if (pU) {
                                                        aC.set_lineWidth(0);
                                                        aC.ah = pU;
                                                        var dg = NU[pU];
                                                        if (!dg) {
                                                            dg = NU[pU] = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);
                                                            dg.ah = pU;
                                                            dg.set_rectangle(aC.get_rectangle());
                                                            dg.kC(true);
                                                            dg.set_text(IPCC.T.wJ(bO.getAttribute('meta')));
                                                        } else {
                                                            var IH = false;
                                                            var qD = dg.get_rectangle();
                                                            var jF = qD.x,
                                                                hX = qD.x + qD.width,
                                                                _top = qD.y,
                                                                iS = qD.y + qD.height;
                                                            if (qD.x > gl) {
                                                                IH = true;
                                                                jF = gl;
                                                            }
                                                            if (qD.y > gF) {
                                                                IH = true;
                                                                _top = gF;
                                                            }
                                                            if (qD.x + qD.width < gl + im) {
                                                                IH = true;
                                                                hX = gl + im;
                                                            }
                                                            if (qD.y + qD.height < gF + iI) {
                                                                IH = true;
                                                                iS = gF + iI;
                                                            }
                                                            if (IH === true) {
                                                                dg.set_rectangle({
                                                                    x: jF,
                                                                    y: _top,
                                                                    width: hX - jF,
                                                                    height: iS - _top
                                                                });
                                                            }
                                                        }
                                                    }
                                                    break;
                                                case 'text_selection_redaction':
                                                    pU = bO.getAttribute('highlightGroupID');
                                                    aC = NU[pU];
                                                    if (!aC) {
                                                        aC = NU[pU] = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);
                                                        aC.ah = pU;
                                                        aC.set_rectangle({
                                                            x: 0,
                                                            y: 0,
                                                            width: 0,
                                                            height: 0
                                                        });
                                                        aC.kC(true);
                                                        aC.set_text(bO.getAttribute('meta'));
                                                    }
                                                    cq = bO.getAttribute('textLength');
                                                    if (cq) {
                                                        aC.cq = parseInt(cq, 10);
                                                    }
                                                    cS = bO.getAttribute('selectedText');
                                                    if (cS) {
                                                        aC.cS = cS;
                                                    }
                                                    aT = bO.getAttribute('startIndex');
                                                    if (aT) {
                                                        aC.aT = parseInt(aT, 10);
                                                    }
                                                    break;
                                                case 'text_hyperlink_annotation':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);
                                                    aC.set_fillColor(jf);
                                                    pU = bO.getAttribute('highlightGroupID');
                                                    aC.ah = pU;
                                                    var le = bO.getAttribute('href');
                                                    if (le) {
                                                        aC.set_href(IPCC.T.wJ(le));
                                                    }
                                                    cq = bO.getAttribute('textLength');
                                                    if (cq) {
                                                        aC.cq = parseInt(cq, 10);
                                                    }
                                                    cS = bO.getAttribute('selectedText');
                                                    if (cS) {
                                                        aC.cS = cS;
                                                    }
                                                    aT = bO.getAttribute('startIndex');
                                                    if (aT) {
                                                        aC.aT = parseInt(aT, 10);
                                                    }
                                                    var kQ = bO.getAttribute('isHighlight');
                                                    aC.kQ = kQ ? kQ : 'n';
                                                    aC.bA = Tu(bO, ni);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    break;
                                                case 'rectangle':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    aC.set_lineVisible(true);
                                                    aC.set_lineColor(jf);
                                                    aC.set_fillVisible(false);
                                                    aC.set_lineWidth(parseFloat(bO.getAttribute('lineWidth')));
                                                    break;
                                                case 'rectangle_filled':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    aC.set_fillColor(pJ);
                                                    aC.set_lineColor(jf);
                                                    aC.set_fillVisible(true);
                                                    aC.set_lineWidth(parseFloat(bO.getAttribute('lineWidth')));
                                                    break;
                                                case 'rectangle_trans':
                                                case 'rectangle_trans_redact':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    aC.set_fillColor(pJ);
                                                    aC.set_lineColor(jf);
                                                    aC.set_fillVisible(true);
                                                    if (kw === 'rectangle_trans_redact') {
                                                        aC.kC(true);
                                                    }
                                                    aC.set_lineWidth(parseFloat(bO.getAttribute('lineWidth')));
                                                    break;
                                                case 'freehand':
                                                case 'signature_path':
                                                    if (kw === 'freehand') {
                                                        aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);
                                                    } else {
                                                        aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);
                                                        switch (bO.getAttribute('align').toUpperCase()) {
                                                            case 'LEFT':
                                                                aC.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);
                                                                break;
                                                            case 'RIGHT':
                                                                aC.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);
                                                                break;
                                                            default:
                                                                aC.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);
                                                                break;
                                                        }
                                                    }
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    aC.set_pathWidth(parseFloat(bO.getAttribute('pathWidth')));
                                                    aC.set_pathHeight(parseFloat(bO.getAttribute('pathHeight')));
                                                    aC.set_lineWidth(parseFloat(bO.getAttribute('lineWidth')));
                                                    aC.set_lineColor(jf);
                                                    var vV = bO.firstChild;
                                                    while ((vV) && (vV.nodeType !== 4)) {
                                                        vV = vV.nextSibling;
                                                    }
                                                    if ((vV) && (vV.nodeType === 4)) {
                                                        kh = vV.innerText || vV.textContent || vV.data;
                                                        aC.aI.bv = kh;
                                                        aC.set_pathString(kh);
                                                    }
                                                    break;
                                                case 'signature_text':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    aC.set_fontSize(10);
                                                    aC.set_lineWidth = 0;
                                                    aC.set_fillVisible(true);
                                                    aC.set_opacity(1);
                                                    gE = bO.firstChild;
                                                    this.SR(gE, aC);
                                                    aC.xW = parseFloat(bO.getAttribute('fontWidth'));
                                                    aC.zb = parseFloat(bO.getAttribute('fontHeight'));
                                                    break;
                                                case 'text_area_signature':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextAreaSignature);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    aC.set_fontName('verdana');
                                                    vS = undefined;
                                                    fY = parseInt(bO.getAttribute('maxLength'));
                                                    if (!isNaN(fY)) {
                                                        aC.set_maxLength(fY);
                                                    }
                                                    var ig = parseInt(bO.getAttribute('maxFontSize'));
                                                    if (!isNaN(ig)) {
                                                        aC.set_maxFontSize(ig);
                                                    }
                                                    gE = bO.firstChild;
                                                    this.SR(gE, aC);
                                                    break;
                                                case 'text_input_signature':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    gE = bO.firstChild;
                                                    this.SR(gE, aC);
                                                    aC.xW = parseFloat(bO.getAttribute('fontWidth'));
                                                    aC.zb = parseFloat(bO.getAttribute('fontHeight'));
                                                    aC.set_lineVisible(false);
                                                    fY = parseInt(bO.getAttribute('maxLength'));
                                                    if (!isNaN(fY)) {
                                                        aC.set_maxLength(fY);
                                                    }
                                                    apy(bO, aC);
                                                    break;
                                                case 'polyline':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);
                                                    aC.set_lineWidth(parseFloat(bO.getAttribute('lineWidth')));
                                                    aC.set_lineColor(jf);
                                                    var vh = bO.firstChild;
                                                    while ((vh) && (vh.nodeType !== 4)) {
                                                        vh = vh.nextSibling;
                                                    }
                                                    var Cn;
                                                    if ((vh) && (vh.nodeType === 4)) {
                                                        kh = vh.innerText || vh.textContent || vh.data;
                                                        if (kh && kh !== 'undefined') {
                                                            if (typeof JSON !== 'undefined') {
                                                                Cn = JSON.parse(kh);
                                                            } else {
                                                                Cn = IPCC.ce.tg(kh, true);
                                                            }
                                                            bF = aC.qP();
                                                            if (Cn) {
                                                                for (C = 0; C < Cn.length; C++) {
                                                                    bF.addPoint(new IPCC.Web.UI.Point(Cn[C].x * ni, Cn[C].y * ni));
                                                                }
                                                            }
                                                        }
                                                    }
                                                    break;
                                                case 'strikethrough':
                                                    aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);
                                                    aC.set_rectangle({
                                                        x: gl,
                                                        y: gF,
                                                        width: im,
                                                        height: iI
                                                    });
                                                    aC.set_lineWidth(parseFloat(bO.getAttribute('lineWidth')));
                                                    aC.set_lineColor(jf);
                                                    aC.ah = bO.getAttribute('highlightGroupID');
                                                    var textLength = bO.getAttribute('textLength');
                                                    if (textLength) {
                                                        aC.cq = parseInt(textLength, 10);
                                                    }
                                                    aC.cS = bO.getAttribute('selectedText');
                                                    var startIndex = bO.getAttribute('startIndex');
                                                    if (startIndex) {
                                                        aC.aT = parseInt(startIndex, 10);
                                                    }
                                                    aC.kQ = bO.getAttribute('isHighlight');
                                                    bA = Tu(bO, ni);
                                                    if (bA) {
                                                        aC.bA = bA;
                                                    }
                                                    break;
                                                default:
                                            }
                                            if (aC) {
                                                aC.aI.ln = bO.getAttribute('nodeId');
                                                if (Hm >= 0 && (kw === 'rectangle_trans_redact' || !aC.jR()) && kw !== 'stamp' && kw !== 'imagestamp' && kw !== 'imagestamp_redact' && kw !== 'text_hyperlink_annotation' && kw !== 'text_input_signature' && kw !== 'text_area_signature' && kw !== 'strikethrough') {
                                                    aC.set_opacity(Hm);
                                                }
                                                aC.aI.CW = atB;
                                                aC.aI.aGr = kw;
                                                aC.aI.eS = bO.getAttribute('lineWidth');
                                                aC.aI.dR = bO.getAttribute('fillColor');
                                                aC.aI.kL = bO.getAttribute('lineColor');
                                                aC.aI.aGw = bO.getAttribute('dragDirection');
                                                aC.aI.AH = AH;
                                                aC.aI.aM = bO.getAttribute('x');
                                                aC.aI.di = bO.getAttribute('y');
                                                aC.aI.aH = bO.getAttribute('height');
                                                aC.aI.ag = bO.getAttribute('width');
                                                aC.aI.aFo = bO.getAttribute('x_percent');
                                                aC.aI.aEW = bO.getAttribute('y_percent');
                                                aC.aI.aHZ = bO.getAttribute('height_percent');
                                                aC.aI.aFs = bO.getAttribute('width_percent');
                                                aC.aI.aGF = bO.getAttribute('formUser');
                                                aC.aI.aHj = bO.getAttribute('created');
                                                aC.aI.aHn = bO.getAttribute('modified');
                                                aC.aI.aHC = bO.getAttribute('saveDate');
                                                aC.aI.aIp = bO.getAttribute('saveTime');
                                                aC.aI.hl = bO.getAttribute('meta');
                                                var CR = bO.firstChild;
                                                while ((CR) && (CR.nodeType !== 4)) {
                                                    CR = CR.nextSibling;
                                                }
                                                if ((CR) && (CR.nodeType === 4)) {
                                                    aC.cR.push(CR.data);
                                                } else {
                                                    aC.cR.push('');
                                                }
                                                var nS = parseInt(bO.getAttribute('interactionMode')) || IPCC.Web.UI.MarkInteractionMode.Full;
                                                aC.set_interactionMode(nS);
                                                aC.lH(this);
                                                aC.add_propertyChanged(nj);
                                                aC.add_markTextSelectionChanged(zu);
                                                aC.yp(Rk);
                                                aC.yF(Qp);
                                                aC.sY(Re);
                                                Iy.push(aC);
                                                apV(bO, aC);
                                                sV = IPCC.T.afe(bO.getAttribute('created'));
                                                sx = IPCC.T.afe(bO.getAttribute('modified'));
                                                sV = sV || new Date();
                                                sx = sx || new Date();
                                                aC.initializeDates(sV, sx);
                                                if (uK) {
                                                    aC.set_visible(false);
                                                }
                                            }
                                        }
                                    }
                                    aU = aU.concat(Iy);
                                    V.aQ('marksLoaded', {});
                                }
                                if (mZ) {
                                    apT(jU, aY);
                                    break;
                                }
                            }
                        }
                    }
                };
                this.SR = function(ue, aC) {
                    var C, kh, oU, rm, Ik, vS, mr = [],
                        Cq = aC.get_type() === IPCC.Web.UI.MarkType.SignatureText,
                        aoy = Cq ? IPCC.Web.UI.HorizontalAlignment.Center : IPCC.Web.UI.HorizontalAlignment.Left,
                        lw;
                    while ((ue) && (ue.nodeType !== 4)) {
                        ue = ue.nextSibling;
                    }
                    if ((ue) && (ue.nodeType === 4)) {
                        kh = ue.innerText || ue.textContent || ue.data;
                        aC.aI.bv = kh;
                        oU = kh.split("</TEXTFORMAT>");
                        for (C = 0; C < oU.length; C++) {
                            if (oU[C].match(/<TEXTFORMAT/)) {
                                oU[C] = oU[C] + "</TEXTFORMAT>";
                                mr.push(oU[C]);
                            }
                        }
                        rm = '';
                        Ik = [];
                        for (C = 0; C < mr.length; C++) {
                            if (mr[C].match(/<P/)) {
                                vS = this.ajz(mr[C]);
                                Ik.push(vS);
                                rm += vS + " ";
                                if (C === 0) {
                                    lw = this.aiD(mr[C]);
                                    aeJ(lw, aC);
                                }
                            }
                            rm = rm.replace(/\s+$/g, "");
                            aC.set_text(rm);
                            var Hq = this.aju(mr[C]);
                            switch (Hq) {
                                case 'LEFT':
                                    aC.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);
                                    break;
                                case 'CENTER':
                                    aC.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);
                                    break;
                                case 'RIGHT':
                                    aC.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);
                                    break;
                                default:
                                    aC.set_textHorizontalAlignment(aoy);
                                    break;
                            }
                        }
                    }
                };

                function TW(ame, dN) {
                    for (var i = 0; i < ame.childNodes.length; i++) {
                        var Yd = ame.childNodes[i];
                        if (Yd.nodeName === 'kvp') {
                            var bu = Yd.getAttribute("key");
                            var G = Yd.getAttribute("value");
                            dN.set_data(bu, G);
                        }
                    }
                };

                function apz(QL, dq) {
                    var bZ = new IPCC.Web.UI.Comment(IPCC.T.wJ(QL.getAttribute("text")));
                    bZ.set_creationTime(QL.getAttribute("created"));
                    dq.addComment(bZ);
                    for (var i = 0; i < QL.childNodes.length; i++) {
                        var ahr = QL.childNodes[i];
                        if (ahr.nodeName === 'data') {
                            TW(ahr, bZ.get_data());
                        }
                    }
                };

                function apQ(afS, dq) {
                    for (var i = 0; i < afS.childNodes.length; i++) {
                        var OO = afS.childNodes[i];
                        if (OO.nodeName === 'comments') {
                            var gQ = OO;
                            for (var j = 0; j < gQ.childNodes.length; j++) {
                                var agB = gQ.childNodes[j];
                                if (agB.nodeName === 'comment') {
                                    apz(agB, dq);
                                }
                            }
                        } else if (OO.nodeName === 'data') {
                            TW(OO, dq.get_data());
                        }
                    }
                };

                function apV(GK, L) {
                    for (var i = 0; i < GK.childNodes.length; i++) {
                        var uB = GK.childNodes[i];
                        if (uB.nodeName === 'conversation') {
                            apQ(uB, L.get_conversation());
                        } else if (uB.nodeName === 'data') {
                            TW(uB, L.get_data());
                        }
                    }
                };

                function apy(GK, L) {
                    var G = null,
                        Ke = {};
                    for (var i = 0; i < GK.childNodes.length; i++) {
                        var uB = GK.childNodes[i];
                        if (uB.nodeName === 'inputMask') {
                            G = IPCC.T.wJ(uB.getAttribute('value'));
                            for (var j = 0; j < uB.childNodes.length; j++) {
                                var abw = uB.childNodes[j];
                                if (abw.nodeName === 'translation') {
                                    Ke[IPCC.T.wJ(abw.getAttribute('key'))] = new RegExp(IPCC.T.wJ(abw.getAttribute('value').replace(/(^\/|\/$)/g, '')));
                                }
                            }
                            break;
                        }
                    }
                    if (G !== null) {
                        L.set_mask({
                            value: G,
                            translations: Ke
                        });
                    }
                };

                function Tu(rI, yL) {
                    var fV = null,
                        jB;
                    for (var i = 0; i < rI.childNodes.length; i++) {
                        jB = rI.childNodes[i];
                        if (jB.nodeName === 'line-rectangles') {
                            if (!fV) {
                                fV = aqz(jB, yL);
                            } else {
                                throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");
                            }
                        }
                    }
                    return fV;
                };

                function aqz(rI, yL) {
                    var fV = [],
                        jB;
                    for (var i = 0; i < rI.childNodes.length; i++) {
                        jB = rI.childNodes[i];
                        if (jB.nodeName === 'rectangle') {
                            fV.push(ard(jB, yL));
                        }
                    }
                    return fV;
                };

                function ard(rI, yL) {
                    var aM = parseFloat(rI.getAttribute("x")) * yL;
                    var di = parseFloat(rI.getAttribute("y")) * yL;
                    var ag = parseFloat(rI.getAttribute("width")) * yL;
                    var aH = parseFloat(rI.getAttribute("height")) * yL;
                    return new IPCC.Web.UI.Rectangle(aM, di, ag, aH);
                };
                this.Zl = function(ap, Fh, tK, jw, cT, ay) {
                    var aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);
                    aC.set_rectangle({
                        x: ap.x,
                        y: ap.y,
                        width: ap.width,
                        height: ap.height
                    });
                    aC.set_fillColor(tK);
                    aC.set_fillVisible(true);
                    aC.aT = ay;
                    aC.cq = 1;
                    if (cT) {
                        aC.set_opacity(cT);
                    } else {
                        aC.set_opacity(127);
                    }
                    V.addMark(aC);
                    return aC;
                };
                this.aCv = function(ap, ZN, ay) {
                    var aC = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);
                    aC.set_rectangle({
                        x: ap.x,
                        y: ap.y,
                        width: ap.width,
                        height: ap.height
                    });
                    aC.set_fillColor(ZN.get_fillColor());
                    aC.set_fillVisible(true);
                    aC.aT = ay;
                    aC.cq = 1;
                    if (ZN.get_opacity()) {
                        aC.set_opacity(ZN.get_opacity());
                    } else {
                        aC.set_opacity(127);
                    }
                    V.addMark(aC);
                    return aC;
                };

                function aeJ(lw, aC) {
                    for (var dw = 0; dw < lw.length; dw++) {
                        var cd = lw[dw].attribs;
                        var mZ = false;
                        if (lw[dw].attribs.length > 1 && !mZ && lw[dw].HV === 'font') {
                            mZ = true;
                            for (var ba = 0; ba < cd.length; ba++) {
                                if (cd[ba].aN === "FACE") {
                                    aC.set_fontName(cd[ba].G);
                                } else if (cd[ba].aN === "SIZE" && aC.get_type() !== IPCC.Web.UI.MarkType.TextLine && aC.get_type() !== IPCC.Web.UI.MarkType.TextAreaSignature) {
                                    var sR = parseFloat(cd[ba].G);
                                    aC.set_fontSize(sR);
                                } else if (cd[ba].aN === "COLOR") {
                                    var aib = cd[ba].G;
                                    if (aC.get_type() === IPCC.Web.UI.MarkType.SignatureText) {
                                        aC.set_fillColor(aib);
                                    } else {
                                        aC.set_textColor(aib);
                                    }
                                }
                            }
                            var lp = false;
                            if (lw[dw + 1] && aC.get_type() !== IPCC.Web.UI.MarkType.TextLine) {
                                if (lw[dw + 1].tagName === 'font') {
                                    break;
                                } else {
                                    var yS = lw[dw + 1].HV;
                                    if (yS === 'b' || yS === 'i' || yS === 'u' || yS === 's') {
                                        if (yS === 'b') {
                                            aC.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);
                                        } else if (yS === 'i') {
                                            aC.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);
                                        } else if (yS === 'u') {
                                            aC.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);
                                        } else if (yS === 's') {
                                            aC.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);
                                        }
                                        lp = true;
                                    }
                                }
                                if (lw[dw + 2]) {
                                    var apn = lw[dw + 2].HV;
                                    lp = Vb(aC, lp, apn);
                                }
                                if (lw[dw + 3]) {
                                    var aoO = lw[dw + 3].HV;
                                    lp = Vb(aC, lp, aoO);
                                }
                                if (lw[dw + 4]) {
                                    var apm = lw[dw + 4].HV;
                                    lp = Vb(aC, lp, apm);
                                }
                                if (mZ) {
                                    break;
                                }
                            }
                        }
                    }
                };

                function Vb(L, ahx, xu) {
                    var lp = ahx;
                    var aC = L;
                    if (ahx) {
                        if (xu === 'b') {
                            aC.set_fontStyle(aC.get_fontStyle() | IPCC.Web.UI.FontStyle.Bold);
                            lp = true;
                        } else if (xu === 'i') {
                            aC.set_fontStyle(aC.get_fontStyle() | IPCC.Web.UI.FontStyle.Italic);
                            lp = true;
                        } else if (xu === 'u') {
                            aC.set_fontStyle(aC.get_fontStyle() | IPCC.Web.UI.FontStyle.Underline);
                            lp = true;
                        } else if (xu === 's') {
                            aC.set_fontStyle(aC.get_fontStyle() | IPCC.Web.UI.FontStyle.Strikeout);
                            lp = true;
                        }
                    } else {
                        if (xu === 'b') {
                            aC.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);
                            lp = true;
                        } else if (xu === 'i') {
                            aC.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);
                            lp = true;
                        } else if (xu === 'u') {
                            aC.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);
                            lp = true;
                        } else if (xu === 's') {
                            aC.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);
                            lp = true;
                        }
                    }
                    return lp;
                };

                function CZ(str) {
                    var obj = {},
                        items = str.split(",");
                    for (var i = 0; i < items.length; i++) {
                        obj[items[i]] = true;
                    }
                    return obj;
                };
                var adl = /^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,
                    alg = /^<\/([\-A-Za\-z0-9_]+)[^>]*>/,
                    atn = /([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;
                var aEe = CZ("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");
                var MA = CZ("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");
                var awG = CZ("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");
                var anT = CZ("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");
                var azD = CZ("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");
                var aon = CZ("script,style");
                this.agg = function(html, handler) {
                    var ay, wj, tG, md = [],
                        iV = html;

                    function parseEndTag(tag, tagName) {
                        var hf;
                        if (!tagName) {
                            hf = 0;
                        } else {
                            for (hf = md.length - 1; hf >= 0; hf--) {
                                if (md[hf] === tagName) {
                                    break;
                                }
                            }
                        }
                        if (hf >= 0) {
                            for (var i = md.length - 1; i >= hf; i--) {
                                if (handler.end) {
                                    handler.end(md[i]);
                                }
                            }
                            md.length = hf;
                        }
                    };

                    function parseStartTag(tag, tagName, rest, unary) {
                        tagName = tagName.toLowerCase();
                        if (MA[tagName]) {
                            while (md.last() && awG[md.last()]) {
                                parseEndTag("", md.last());
                            }
                        }
                        if (anT[tagName] && md.last() === tagName) {
                            parseEndTag("", tagName);
                        }
                        unary = aEe[tagName] || !!unary;
                        if (!unary) {
                            md.push(tagName);
                        }
                        if (handler.start) {
                            var attrs = [];
                            rest.replace(atn, function(tG, name) {
                                var value = arguments[2] ? arguments[2] : arguments[3] ? arguments[3] : arguments[4] ? arguments[4] : azD[name] ? name : "";
                                attrs.push({
                                    name: name,
                                    value: value,
                                    escaped: value.replace(/(^|[^\\])"/g, '$1\\\"')
                                });
                            });
                            if (handler.start) {
                                handler.start(tagName, attrs, unary);
                            }
                        }
                    };
                    md.last = function() {
                        return this[this.length - 1];
                    };

                    function avb(all, text) {
                        text = text.replace(/<!--([\w\W]*?)-->/g, "$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g, "$1");
                        if (handler.chars) {
                            handler.chars(text);
                        }
                        return "";
                    };
                    while (html) {
                        wj = true;
                        if (!md.last() || !aon[md.last()]) {
                            if (html.indexOf("<!--") === 0) {
                                ay = html.indexOf("-->");
                                if (ay >= 0) {
                                    if (handler.comment) {
                                        handler.comment(html.substring(4, ay));
                                    }
                                    html = html.substring(ay + 3);
                                    wj = false;
                                }
                            } else if (html.indexOf("</") === 0) {
                                tG = html.match(alg);
                                if (tG) {
                                    html = html.substring(tG[0].length);
                                    tG[0].replace(alg, parseEndTag);
                                    wj = false;
                                }
                            } else if (html.indexOf("<") === 0) {
                                tG = html.match(adl);
                                if (tG) {
                                    html = html.substring(tG[0].length);
                                    tG[0].replace(adl, parseStartTag);
                                    wj = false;
                                }
                            }
                            if (wj) {
                                ay = html.indexOf("<");
                                var text = ay < 0 ? html : html.substring(0, ay);
                                text = IPCC.T.wJ(text);
                                html = ay < 0 ? "" : html.substring(ay);
                                if (handler.chars) {
                                    handler.chars(text);
                                }
                            }
                        } else {
                            html = html.replace(new RegExp("(.*)<\/" + md.last() + "[^>]*>"), avb);
                            parseEndTag("", md.last());
                        }
                        if (html === iV) {
                            throw " Parse Error in annotation Html Text: " + html;
                        }
                        iV = html;
                    }
                    parseEndTag();
                };
                this.ajz = function(html) {
                    var results = "";
                    this.agg(html, {
                        start: function() {},
                        end: function() {},
                        chars: function(text) {
                            results += text;
                        },
                        comment: function() {}
                    });
                    return results;
                };
                this.aiD = function(html) {
                    var eQ = [];
                    this.agg(html, {
                        start: function(tag, attrs) {
                            var fM;
                            fM = tag;
                            if (tag === 'font' || tag === 'b' || tag === 'i' || tag === 'u' || tag === 's') {
                                var yK = {};
                                yK.HV = tag;
                                yK.attribs = [];
                                if (tag === 'b') {
                                    yK.aIs = true;
                                } else if (tag === 'i') {
                                    yK.aGn = true;
                                } else if (tag === 'u') {
                                    yK.aEP = true;
                                } else if (tag === 's') {
                                    yK.aEX = true;
                                } else {
                                    for (var i = 0; i < attrs.length; i++) {
                                        var ze = {};
                                        ze.aN = attrs[i].name;
                                        ze.G = attrs[i].value;
                                        yK.attribs.push(ze);
                                    }
                                }
                                eQ.push(yK);
                            }
                        },
                        end: function() {},
                        chars: function() {},
                        comment: function() {}
                    });
                    return eQ;
                };
                this.aju = function(html) {
                    var parts = html.toUpperCase().split('ALIGN="');
                    var alignment = parts[1].split('"')[0];
                    return alignment;
                };

                function apT(jU, aCD) {
                    var mU = jU.getElementsByTagName("highlights")[0];
                    if (mU.hasChildNodes()) {
                        var ks;
                        var cF;
                        for (var C = 0; C < mU.childNodes.length; C++) {
                            ks = mU.childNodes[C];
                            if (ks.nodeType === 1) {
                                cF = ks.getAttribute('page');
                                if (cF && parseInt(cF, 10) === aCD + 1) {
                                    var iM = new IPCC.Web.UI.Us();
                                    iM.awJ = ks.nodeName;
                                    switch (iM.awJ) {
                                        case 'tag':
                                            iM.EW = IPCC.Web.UI.HighLightType.Tag;
                                            break;
                                        case 'highlight':
                                            iM.EW = IPCC.Web.UI.HighLightType.InlineHighLight;
                                            break;
                                        case 'link':
                                            iM.EW = IPCC.Web.UI.HighLightType.Link;
                                            break;
                                        case 'redaction':
                                            iM.EW = IPCC.Web.UI.HighLightType.Redaction;
                                            break;
                                        case 'strikethrough':
                                            iM.EW = IPCC.Web.UI.HighLightType.Strikethrough;
                                            break;
                                        default:
                                            iM.EW = undefined;
                                    }
                                    if (ks.childNodes[0].data) {
                                        iM.cR.push(ks.childNodes[0].data);
                                    }
                                    iM.aI.cB = ks.getAttribute('id');
                                    iM.aI.aHB = ks.getAttribute('userid');
                                    iM.aI.aHe = ks.getAttribute('mode');
                                    iM.aI.cl = ks.getAttribute('color');
                                    iM.aI.aFa = ks.getAttribute('occurence');
                                    iM.aI.bO = ks.getAttribute('annotation');
                                    iM.aI.aP = ks.getAttribute('page');
                                    iM.aI.aGs = ks.getAttribute('documentname');
                                    iM.aI.aIt = ks.getAttribute('tooltip');
                                    iM.aI.aHp = ks.getAttribute('allowdelete');
                                    iM.aI.iu = ks.getAttribute('start');
                                    iM.aI.aGe = ks.getAttribute('end');
                                    V.awl.push(iM);
                                }
                            }
                        }
                    }
                };
                this.XU = function() {
                    var F;
                    if (aU.length < 1) {
                        return;
                    }
                    fC.removeAllMarks();
                    var C;
                    for (C = aU.length - 1; C >= 0; C--) {
                        aU[C].remove_propertyChanged(nj);
                        aU[C].remove_markTextSelectionChanged(zu);
                        aU[C].lH(null);
                        F = new IPCC.Web.UI.MarkEventArgs();
                        F.length = aU.length;
                        F.zIndex = 0;
                        F.mark = aU.pop();
                        V.aQ('markRemoved', F);
                    }
                    F = new IPCC.Web.UI.MarkEventArgs();
                    F.length = aU.length;
                    F.zIndex = 0;
                    V.aQ('markRemoved', F);
                };
                this.ty = function(L) {
                    var jN = this.oC(L);
                    var uF = L.ah;
                    if (jN >= 0) {
                        L.remove_propertyChanged(nj);
                        L.remove_markTextSelectionChanged(zu);
                        L.lH(null);
                        aU.splice(jN, 1);
                        fC.removeMark(L);
                        var F = new IPCC.Web.UI.MarkEventArgs();
                        F.mark = L;
                        F.zIndex = jN;
                        F.length = 1;
                        V.aQ('markRemoved', F);
                        if (uF) {
                            this.anW(uF);
                        }
                    }
                };
                this.aHE = function(od) {
                    var tu = aU.length;
                    var uF = od.ah;
                    while (tu--) {
                        var L = aU[tu];
                        if (L.ah === uF) {
                            L.set_fillColor(od.get_fillColor());
                        }
                    }
                };
                this.aud = function(od) {
                    var tu = aU.length;
                    var uF = od.ah;
                    if (!uF) {
                        od.set_text(od.get_text());
                        return;
                    }
                    while (tu--) {
                        var L = aU[tu];
                        if (L.ah === uF) {
                            if (L.get_text() !== od.get_text()) {
                                L.set_text(od.get_text());
                            }
                            if (L.get_fontName() !== od.get_fontName()) {
                                L.set_fontName(od.get_fontName());
                            }
                            if (L.get_fontSize() !== od.get_fontSize()) {
                                L.set_fontSize(od.get_fontSize());
                            }
                        }
                    }
                };
                this.anW = function(uF) {
                    var tu = aU.length;
                    while (tu--) {
                        var L = aU[tu];
                        if (L.ah === uF) {
                            var jN = this.oC(L);
                            fC.removeMark(L);
                            aU.splice(tu, 1);
                            var F = new IPCC.Web.UI.MarkEventArgs();
                            F.mark = L;
                            F.zIndex = jN;
                            F.length = 1;
                        }
                    }
                };
                this.afI = function(L, jN) {
                    var Pk = this.oC(L);
                    if (Pk < 0) {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');
                    }
                    if (Pk === jN) {
                        return;
                    }
                    ajC(jN);
                    aU.splice(Pk, 1);
                    aU.splice(jN, 0, L);
                    if (L.get_type() === IPCC.Web.UI.MarkType.Highlight || L.get_type() === IPCC.Web.UI.MarkType.HighlightText || L.get_type() === IPCC.Web.UI.MarkType.TextHyperlinkAnnotation || L.get_type() === IPCC.Web.UI.MarkType.DocumentHyperlink || L.get_type() === IPCC.Web.UI.MarkType.Strikethrough || (L.get_type() === IPCC.Web.UI.MarkType.RectangleRedaction && L.ah !== undefined)) {
                        return;
                    }
                    var F = new IPCC.Web.UI.MarkEventArgs();
                    F.mark = L;
                    F.zIndex = jN;
                    F.oldZIndex = Pk;
                    F.length = 1;
                    V.aQ('markReordered', F);
                };

                function Sr(fV, fw, fL) {
                    if (!fV) {
                        return undefined;
                    }
                    var kI = {
                        ht: 'line-rectangles',
                        cR: [],
                        aI: {}
                    };
                    IPCC.T.forEach(fV, function(R) {
                        kI.cR.push({
                            ht: 'rectangle',
                            cR: [],
                            aI: {
                                x: R.x,
                                y: R.y,
                                height: R.height,
                                width: R.width
                            }
                        });
                    });
                    return kI;
                };

                function aqy(iY) {
                    if (!iY) {
                        return undefined;
                    }
                    var kI = {
                        ht: 'inputMask',
                        cR: [],
                        aI: {
                            value: IPCC.T.ps(iY.value)
                        }
                    };
                    IPCC.T.forEach(iY.translations, function(G, bu) {
                        kI.cR.push({
                            ht: 'translation',
                            cR: [],
                            aI: {
                                key: IPCC.T.ps(bu),
                                value: IPCC.T.ps(G.toString())
                            }
                        });
                    });
                    return kI;
                };

                function SQ(dN) {
                    if (!dN) {
                        return undefined;
                    }
                    var mL = dN.get_dataKeys();
                    if (mL.length === 0) {
                        return undefined;
                    }
                    var kI = {
                        ht: 'data',
                        cR: [],
                        aI: {}
                    };
                    IPCC.T.forEach(mL, function(bu) {
                        var G = dN.get_data(bu);
                        kI.cR.push({
                            ht: 'kvp',
                            cR: [],
                            aI: {
                                key: bu,
                                value: G
                            }
                        });
                    });
                    return kI;
                };

                function asd(bZ) {
                    if (!bZ) {
                        return undefined;
                    }
                    var zc = {
                        ht: 'comment',
                        cR: [],
                        aI: {}
                    };
                    zc.aI.text = IPCC.T.ps(bZ.get_text());
                    zc.aI.created = bZ.get_creationTime();
                    var kI = SQ(bZ.get_data());
                    if (kI) {
                        zc.cR.push(kI);
                    }
                    return zc;
                };

                function aru(dq) {
                    if (!dq || dq.get_length() === 0) {
                        return undefined;
                    }
                    var TI = {
                        ht: 'conversation',
                        cR: [],
                        aI: {}
                    };
                    var adw = {
                        ht: 'comments',
                        cR: [],
                        aI: {}
                    };
                    TI.cR.push(adw);
                    dq.forEach(function(bZ) {
                        var zc = asd(bZ);
                        if (zc) {
                            adw.cR.push(zc);
                        }
                    });
                    var kI = SQ(dq.get_data());
                    if (kI) {
                        TI.cR.push(kI);
                    }
                    return TI;
                };
                this.anF = function(L, fw, fL, vq) {
                    var bP = L.get_type();
                    var ll = false;
                    var iX;
                    var gK;
                    var agb;
                    var Xl;
                    var gM, uv, qg, bv;
                    var aJ = {
                        ht: 'annotation',
                        cR: [],
                        aI: {}
                    };
                    if (!L.aI.ln) {
                        aJ.aI.nodeId = V.anQ();
                    } else {
                        aJ.aI.nodeId = L.aI.ln;
                    }
                    var Fr, Cl = "",
                        nU = "";
                    if (L.get_lineColor()) {
                        var Yn = L.get_lineColor();
                        if (Yn === 'transparent') {
                            aJ.aI.lineColor = Yn;
                        } else {
                            Fr = Yn.replace(/#/, "");
                            Cl = parseInt(Fr, 16);
                            nU = Cl.toString();
                            aJ.aI.lineColor = nU;
                        }
                    }
                    aJ.aI.interactionMode = L.get_interactionMode();
                    aJ.aI.stampSize = '122';
                    var OK = {};
                    OK[IPCC.Web.UI.MarkType.Stamp] = true;
                    OK[IPCC.Web.UI.MarkType.ImageStampAnnotation] = true;
                    OK[IPCC.Web.UI.MarkType.ImageStampRedaction] = true;
                    if ((bP === IPCC.Web.UI.MarkType.Rectangle && L.get_opacity() < 255 || !L.jR()) && OK[bP] !== true) {
                        aJ.aI.opacity = L.get_opacity();
                    }
                    if (L.get_conversation().get_length() > 0) {
                        aJ.cR.push(aru(L.get_conversation()));
                    }
                    var kI = SQ(L.get_data());
                    if (kI) {
                        aJ.cR.push(kI);
                    }
                    ll = false;
                    switch (bP) {
                        case IPCC.Web.UI.MarkType.Rectangle:
                        case IPCC.Web.UI.MarkType.Ellipse:
                            gK = L.get_fillColor();
                            if (gK === 'transparent') {
                                aJ.aI.fillColor = gK;
                            } else if (gK) {
                                iX = gK.replace(/#/, "");
                                aJ.aI.fillColor = parseInt(iX, 16).toString();
                            } else {
                                aJ.aI.fillColor = nU;
                            }
                            if (L.get_fillVisible()) {
                                if (L.get_type() === IPCC.Web.UI.MarkType.Rectangle) {
                                    if (L.get_opacity() === 255) {
                                        if (L.jR() === true) {
                                            aJ.aI.drawType = 'rectangle_filled_redact';
                                            if (L.ah) {
                                                aJ.aI.highlightGroupID = L.ah;
                                            }
                                        } else {
                                            aJ.aI.drawType = 'rectangle_filled';
                                        }
                                    } else {
                                        if (L.jR() === true) {
                                            aJ.aI.drawType = 'rectangle_trans_redact';
                                        } else {
                                            aJ.aI.drawType = 'rectangle_trans';
                                        }
                                    }
                                } else {
                                    if (L.get_opacity() === 255) {
                                        aJ.aI.drawType = 'circle_filled';
                                        if (L.jR()) {
                                            aJ.aI.drawType = 'circle_filled_redact';
                                        }
                                    } else {
                                        aJ.aI.drawType = 'circle_trans';
                                        if (L.jR()) {
                                            aJ.aI.drawType = 'circle_trans_redact';
                                        }
                                    }
                                }
                            } else {
                                if (L.get_type() === IPCC.Web.UI.MarkType.Rectangle) {
                                    aJ.aI.drawType = 'rectangle';
                                    aJ.aI.fillColor = nU;
                                } else {
                                    aJ.aI.drawType = 'circle';
                                    aJ.aI.fillColor = nU;
                                }
                            }
                            aJ.aI.dragDirection = 'br';
                            var R = L.get_rectangle();
                            aJ.aI.x = R.x;
                            aJ.aI.y = R.y;
                            aJ.aI.x_percent = R.x / fw;
                            aJ.aI.y_percent = R.y / fL;
                            aJ.aI.height_percent = R.height / fL;
                            aJ.aI.width_percent = R.width / fw;
                            aJ.aI.height = R.height;
                            aJ.aI.width = R.width;
                            break;
                        case IPCC.Web.UI.MarkType.Line:
                        case IPCC.Web.UI.MarkType.Polyline:
                            aJ.aI.lineWidth = L.get_lineWidth();
                            ll = true;
                            break;
                        case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                            aJ.aI.highlightGroupID = L.ah;
                            aJ.aI.drawType = 'text_selection_redaction';
                            if (L.cS && L.cS.length > 0) {
                                aJ.aI.startIndex = L.aT;
                                aJ.aI.selectedText = L.cS;
                                aJ.aI.textLength = L.cq;
                            }
                            break;
                        case IPCC.Web.UI.MarkType.Text:
                            var kX = L.get_rectangle();
                            aJ.aI.x = kX.x;
                            aJ.aI.y = kX.y;
                            aJ.aI.x_percent = kX.x / fw;
                            aJ.aI.y_percent = kX.y / fL;
                            aJ.aI.height_percent = kX.height / fL;
                            aJ.aI.width_percent = kX.width / fw;
                            aJ.aI.height = kX.height;
                            aJ.aI.width = kX.width;
                            aJ.aI.maxLength = L.get_maxLength();
                            gK = L.get_fillColor();
                            if (L.jR() === true) {
                                aJ.aI.drawType = 'text_redact';
                            } else {
                                aJ.aI.drawType = 'text';
                                aJ.aI.opacity = L.get_opacity();
                            }
                            if (gK === 'transparent') {
                                aJ.aI.fillColor = gK;
                            } else if (gK) {
                                iX = gK.replace(/#/, "");
                                aJ.aI.fillColor = parseInt(iX, 16).toString();
                            } else {
                                aJ.aI.fillColor = '16776960';
                            }
                            var aV = '';
                            aV = "<TEXTFORMAT LEADING=\"2\">";
                            switch (L.get_textHorizontalAlignment()) {
                                case IPCC.Web.UI.HorizontalAlignment.Center:
                                    aV += "<P ALIGN=\"center\" ";
                                    break;
                                case IPCC.Web.UI.HorizontalAlignment.Left:
                                    aV += "<P ALIGN=\"left\" ";
                                    break;
                                case IPCC.Web.UI.HorizontalAlignment.Right:
                                    aV += "<P ALIGN=\"right\" ";
                                    break;
                            }
                            aV += ">";
                            aV += "<FONT ";
                            uv = L.get_fontName();
                            aV += "FACE=" + "\"" + uv + "\" ";
                            qg = L.get_fontSize().toString();
                            aV += "SIZE= \"" + qg + "\" ";
                            gM = "\"" + L.get_textColor() + "\" ";
                            aV += "COLOR=" + gM + " ";
                            aV += "LETTERSPACING=\"0\" ";
                            aV += "KERNING=\"0\" ";
                            aV += ">";
                            var cc = L.get_fontStyle();
                            if (cc & IPCC.Web.UI.FontStyle.Bold) {
                                aV += "<B>";
                            }
                            if (cc & IPCC.Web.UI.FontStyle.Italic) {
                                aV += "<I>";
                            }
                            if (cc & IPCC.Web.UI.FontStyle.Underline) {
                                aV += "<U>";
                            }
                            if (cc & IPCC.Web.UI.FontStyle.Strikeout) {
                                aV += "<S>";
                            }
                            bv = L.get_text();
                            bv = IPCC.T.ps(bv);
                            aV += bv;
                            if (cc & IPCC.Web.UI.FontStyle.Strikeout) {
                                aV += "</S>";
                            }
                            if (cc & IPCC.Web.UI.FontStyle.Underline) {
                                aV += "</U>";
                            }
                            if (cc & IPCC.Web.UI.FontStyle.Italic) {
                                aV += "</I>";
                            }
                            if (cc & IPCC.Web.UI.FontStyle.Bold) {
                                aV += "</B>";
                            }
                            aV += "</FONT>";
                            aV += "</P>";
                            aV += "</TEXTFORMAT>";
                            break;
                        case IPCC.Web.UI.MarkType.Highlight:
                            R = L.get_rectangle();
                            aJ.aI.x = R.x;
                            aJ.aI.y = R.y;
                            aJ.aI.x_percent = R.x / fw;
                            aJ.aI.y_percent = R.y / fL;
                            aJ.aI.height_percent = R.height / fL;
                            aJ.aI.width_percent = R.width / fw;
                            aJ.aI.height = R.height;
                            aJ.aI.width = R.width;
                            aJ.aI.drawType = 'highlight';
                            aJ.aI.highlightGroupID = L.ah;
                            aJ.aI.isHighlight = L.kQ;
                            gK = L.get_fillColor();
                            if (gK) {
                                iX = gK.replace(/#/, "");
                                aJ.aI.fillColor = parseInt(iX, 16).toString();
                                aJ.aI.lineColor = parseInt(iX, 16).toString();
                            } else {
                                aJ.aI.fillColor = nU;
                            }
                            break;
                        case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:
                            R = L.get_rectangle();
                            aJ.aI.x = R.x;
                            aJ.aI.y = R.y;
                            aJ.aI.height = R.height;
                            aJ.aI.width = R.width;
                            aJ.aI.drawType = 'text_hyperlink_annotation';
                            aJ.aI.href = IPCC.T.ps(L.le);
                            aJ.aI.startIndex = L.aT;
                            aJ.aI.selectedText = L.cS;
                            aJ.aI.textLength = L.cq;
                            aJ.aI.highlightGroupID = L.ah;
                            aJ.aI.isHighlight = L.kQ;
                            gK = L.get_fillColor();
                            if (gK) {
                                iX = gK.replace(/#/, "");
                                aJ.aI.fillColor = parseInt(iX, 16).toString();
                                aJ.aI.lineColor = parseInt(iX, 16).toString();
                            } else {
                                aJ.aI.fillColor = nU;
                            }
                            aJ.cR.push(Sr(L.bA, fw, fL));
                            break;
                        case IPCC.Web.UI.MarkType.HighlightText:
                            R = L.get_rectangle();
                            aJ.aI.x = R.x;
                            aJ.aI.y = R.y;
                            aJ.aI.x_percent = R.x / fw;
                            aJ.aI.y_percent = R.y / fL;
                            aJ.aI.height_percent = R.height / fL;
                            aJ.aI.width_percent = R.width / fw;
                            aJ.aI.height = R.height;
                            aJ.aI.width = R.width;
                            aJ.aI.drawType = 'highlightText';
                            aJ.aI.startIndex = L.aT;
                            aJ.aI.selectedText = L.cS;
                            aJ.aI.textLength = L.cq;
                            aJ.aI.highlightGroupID = L.ah;
                            aJ.aI.isHighlight = L.kQ;
                            gK = L.get_fillColor();
                            if (gK) {
                                iX = gK.replace(/#/, "");
                                aJ.aI.fillColor = parseInt(iX, 16).toString();
                                aJ.aI.lineColor = parseInt(iX, 16).toString();
                            } else {
                                aJ.aI.fillColor = nU;
                            }
                            aJ.cR.push(Sr(L.bA, fw, fL));
                            break;
                        case IPCC.Web.UI.MarkType.RectangleRedaction:
                            R = L.get_rectangle();
                            aJ.aI.drawType = 'rectangle_filled_redact';
                            aJ.aI.x = R.x;
                            aJ.aI.y = R.y;
                            aJ.aI.x_percent = R.x / fw;
                            aJ.aI.y_percent = R.y / fL;
                            aJ.aI.height_percent = R.height / fL;
                            aJ.aI.width_percent = R.width / fw;
                            aJ.aI.height = R.height;
                            aJ.aI.width = R.width;
                            aJ.aI.meta = IPCC.T.ps(L.get_text());
                            aJ.aI.stampSize = L.get_fontSize();
                            aJ.aI.lineWidth = L.get_lineWidth();
                            gK = L.get_fillColor();
                            if (gK) {
                                iX = gK.replace(/#/, "");
                                aJ.aI.fillColor = parseInt(iX, 16).toString();
                            } else {
                                aJ.aI.fillColor = nU;
                            }
                            Fr = L.get_lineColor();
                            if (Fr) {
                                Cl = Fr.replace(/#/, "");
                                aJ.aI.lineColor = parseInt(Cl, 16).toString();
                            } else {
                                aJ.aI.lineColor = nU;
                            }
                            Xl = L.get_textColor();
                            if (Xl) {
                                agb = Xl.replace(/#/, "");
                                aJ.aI.fontColor = parseInt(agb, 16).toString();
                            } else {
                                aJ.aI.fontColor = nU;
                            }
                            if (L.ah) {
                                aJ.aI.highlightGroupID = L.ah;
                            }
                            break;
                        case IPCC.Web.UI.MarkType.Stamp:
                            gK = L.get_fillColor();
                            if (gK) {
                                iX = gK.replace(/#/, "");
                                aJ.aI.fillColor = parseInt(iX, 16).toString();
                                aJ.aI.lineColor = parseInt(iX, 16).toString();
                            } else {
                                aJ.aI.fillColor = nU;
                            }
                            R = L.get_rectangle();
                            aJ.aI.x = R.x;
                            aJ.aI.y = R.y;
                            aJ.aI.x_percent = R.x / fw;
                            aJ.aI.y_percent = R.y / fL;
                            aJ.aI.height_percent = R.height / fL;
                            aJ.aI.width_percent = R.width / fw;
                            aJ.aI.height = R.height;
                            aJ.aI.width = R.width;
                            if (L.jR() === true) {
                                aJ.aI.drawType = 'stamp_redact';
                            } else {
                                aJ.aI.drawType = 'stamp';
                            }
                            bv = L.get_text();
                            aJ.aI.stampSize = L.stampSize;
                            aJ.cR.push('<![CDATA[' + bv + ']]>');
                            break;
                        case IPCC.Web.UI.MarkType.Freehand:
                        case IPCC.Web.UI.MarkType.SignaturePath:
                            if (L.get_type() === IPCC.Web.UI.MarkType.Freehand) {
                                aJ.aI.drawType = 'freehand';
                            } else {
                                aJ.aI.drawType = 'signature_path';
                                switch (L.get_textHorizontalAlignment()) {
                                    case IPCC.Web.UI.HorizontalAlignment.Center:
                                        aJ.aI.align = 'center';
                                        break;
                                    case IPCC.Web.UI.HorizontalAlignment.Left:
                                        aJ.aI.align = 'left';
                                        break;
                                    case IPCC.Web.UI.HorizontalAlignment.Right:
                                        aJ.aI.align = 'right';
                                        break;
                                }
                            }
                            aV = L.get_pathString();
                            aJ.aI.pathWidth = L.get_pathWidth();
                            aJ.aI.pathHeight = L.get_pathHeight();
                            R = L.get_rectangle();
                            aJ.aI.x = R.x;
                            aJ.aI.y = R.y;
                            aJ.aI.x_percent = R.x / fw;
                            aJ.aI.y_percent = R.y / fL;
                            aJ.aI.height_percent = R.height / fL;
                            aJ.aI.width_percent = R.width / fw;
                            aJ.aI.height = R.height;
                            aJ.aI.width = R.width;
                            break;
                        case IPCC.Web.UI.MarkType.SignatureText:
                            gK = L.get_fillColor();
                            var dR;
                            if (gK) {
                                iX = gK.replace(/#/, "");
                                aJ.aI.fillColor = "";
                                aJ.aI.lineColor = "";
                                dR = parseInt(iX, 16).toString();
                            } else {
                                aJ.aI.fillColor = "";
                                dR = nU;
                            }
                            R = L.get_rectangle();
                            aJ.aI.x = R.x;
                            aJ.aI.y = R.y;
                            aJ.aI.x_percent = R.x / fw;
                            aJ.aI.y_percent = R.y / fL;
                            aJ.aI.height_percent = R.height / fL;
                            aJ.aI.width_percent = R.width / fw;
                            aJ.aI.height = R.height;
                            aJ.aI.width = R.width;
                            aJ.aI.opacity = 0;
                            aJ.aI.drawType = 'signature_text';
                            aJ.aI.stampSize = L.stampSize;
                            aJ.aI.fontWidth = L.xW;
                            aJ.aI.fontHeight = L.zb;
                            aV = '';
                            aV = "<TEXTFORMAT LEADING=\"2\">";
                            switch (L.get_textHorizontalAlignment()) {
                                case IPCC.Web.UI.HorizontalAlignment.Center:
                                    aV += "<P ALIGN=\"center\" ";
                                    break;
                                case IPCC.Web.UI.HorizontalAlignment.Left:
                                    aV += "<P ALIGN=\"left\" ";
                                    break;
                                case IPCC.Web.UI.HorizontalAlignment.Right:
                                    aV += "<P ALIGN=\"right\" ";
                                    break;
                            }
                            aV += ">";
                            aV += "<FONT ";
                            uv = L.get_fontName();
                            aV += "FACE=" + "\"" + uv + "\" ";
                            qg = L.stampSize.toString();
                            aV += "SIZE= \"" + qg + "\" ";
                            gM = "\"" + L.get_fillColor() + "\" ";
                            aV += "COLOR=" + gM + " ";
                            aV += "LETTERSPACING=\"0\" ";
                            aV += "KERNING=\"0\" ";
                            aV += ">";
                            bv = IPCC.T.ps(L.get_text());
                            aV += bv;
                            aV += "</FONT>";
                            aV += "</P>";
                            aV += "</TEXTFORMAT>";
                            break;
                        case IPCC.Web.UI.MarkType.TextAreaSignature:
                            kX = L.get_rectangle();
                            aJ.aI.x = kX.x;
                            aJ.aI.y = kX.y;
                            aJ.aI.x_percent = kX.x / fw;
                            aJ.aI.y_percent = kX.y / fL;
                            aJ.aI.height_percent = kX.height / fL;
                            aJ.aI.width_percent = kX.width / fw;
                            aJ.aI.height = kX.height;
                            aJ.aI.width = kX.width;
                            aJ.aI.maxLength = L.fY;
                            aJ.aI.maxFontSize = L.ig;
                            if (vq) {
                                aJ.aI.drawType = 'text';
                            } else {
                                aJ.aI.drawType = 'text_area_signature';
                            }
                            aJ.aI.fillColor = 'transparent';
                            aV = '';
                            aV = "<TEXTFORMAT LEADING=\"2\">";
                            switch (L.get_textHorizontalAlignment()) {
                                case IPCC.Web.UI.HorizontalAlignment.Center:
                                    aV += "<P ALIGN=\"center\" ";
                                    break;
                                case IPCC.Web.UI.HorizontalAlignment.Left:
                                    aV += "<P ALIGN=\"left\" ";
                                    break;
                                case IPCC.Web.UI.HorizontalAlignment.Right:
                                    aV += "<P ALIGN=\"right\" ";
                                    break;
                            }
                            aV += ">";
                            aV += "<FONT ";
                            uv = L.get_fontName();
                            aV += "FACE=" + "\"" + uv + "\" ";
                            qg = L.cu.toString();
                            aV += "SIZE= \"" + qg + "\" ";
                            gM = "\"" + L.get_textColor() + "\" ";
                            aV += "COLOR=" + gM + " ";
                            aV += "LETTERSPACING=\"0\" ";
                            aV += "KERNING=\"0\" ";
                            aV += ">";
                            cc = L.get_fontStyle();
                            if (cc & IPCC.Web.UI.FontStyle.Bold) {
                                aV += "<B>";
                            }
                            if (cc & IPCC.Web.UI.FontStyle.Italic) {
                                aV += "<I>";
                            }
                            if (cc & IPCC.Web.UI.FontStyle.Underline) {
                                aV += "<U>";
                            }
                            if (cc & IPCC.Web.UI.FontStyle.Strikeout) {
                                aV += "<S>";
                            }
                            bv = L.get_text();
                            bv = IPCC.T.ps(bv);
                            aV += bv;
                            if (cc & IPCC.Web.UI.FontStyle.Strikeout) {
                                aV += "</S>";
                            }
                            if (cc & IPCC.Web.UI.FontStyle.Underline) {
                                aV += "</U>";
                            }
                            if (cc & IPCC.Web.UI.FontStyle.Italic) {
                                aV += "</I>";
                            }
                            if (cc & IPCC.Web.UI.FontStyle.Bold) {
                                aV += "</B>";
                            }
                            aV += "</FONT>";
                            aV += "</P>";
                            aV += "</TEXTFORMAT>";
                            break;
                        case IPCC.Web.UI.MarkType.TextLine:
                            if (!vq) {
                                R = L.get_rectangle();
                                aJ.aI.x = R.x;
                                aJ.aI.y = R.y;
                                aJ.aI.x_percent = R.x / fw;
                                aJ.aI.y_percent = R.y / fL;
                                aJ.aI.height_percent = R.height / fL;
                                aJ.aI.maxLength = L.get_maxLength();
                                aJ.aI.width_percent = R.width / fw;
                                aJ.aI.height = R.height;
                                aJ.aI.width = R.width;
                                aJ.aI.opacity = 0;
                                aJ.aI.drawType = 'text_input_signature';
                                aJ.aI.stampSize = L.stampSize;
                                aJ.aI.fontWidth = L.xW;
                                aJ.aI.fontHeight = L.zb;
                                aV = '';
                                aV = "<TEXTFORMAT LEADING=\"2\">";
                                switch (L.get_textHorizontalAlignment()) {
                                    case IPCC.Web.UI.HorizontalAlignment.Center:
                                        aV += "<P ALIGN=\"center\" ";
                                        break;
                                    case IPCC.Web.UI.HorizontalAlignment.Left:
                                        aV += "<P ALIGN=\"left\" ";
                                        break;
                                    case IPCC.Web.UI.HorizontalAlignment.Right:
                                        aV += "<P ALIGN=\"right\" ";
                                        break;
                                }
                                aV += ">";
                                aV += "<FONT ";
                                uv = L.get_fontName();
                                aV += "FACE=" + "\"" + uv + "\" ";
                                qg = L.stampSize.toString();
                                aV += "SIZE= \"" + qg + "\" ";
                                gM = "\"" + L.get_textColor() + "\" ";
                                aV += "COLOR=" + gM + " ";
                                aV += "LETTERSPACING=\"0\" ";
                                aV += "KERNING=\"0\" ";
                                aV += ">";
                                bv = IPCC.T.ps(L.get_text());
                                aV += bv;
                                aV += "</FONT>";
                                aV += "</P>";
                                aV += "</TEXTFORMAT>";
                                var adG = aqy(L.get_mask());
                                if (adG) {
                                    aJ.cR.push(adG);
                                }
                            } else {
                                R = L.get_rectangle();
                                var DQ = L.stampSize;
                                var nY;
                                if (!L.FE || !L.nY) {
                                    var auH = IPCC.T.ahV(L.get_text(), L.get_fontName(), R.width, R.height, {
                                        uj: "pre",
                                        cu: DQ + "px"
                                    });
                                    nY = auH;
                                    L.FE = true;
                                    L.nY = nY;
                                } else {
                                    nY = L.nY;
                                }
                                DQ = nY.fontSize;
                                var gJ = nY.width / R.width,
                                    cO = 1.0,
                                    MIN_BUFFER = 0.85;
                                if (/mono/i.test(L.get_fontName())) {
                                    MIN_BUFFER = 0.75;
                                }
                                if (gJ > MIN_BUFFER) {
                                    cO = MIN_BUFFER * R.width / nY.width;
                                    DQ = DQ * cO;
                                }
                                var aji = R.width,
                                    azS = nY.height * cO,
                                    aja = R.height - (R.height - azS) / 2,
                                    ahK = R.x,
                                    aiE = R.y + (R.height - nY.height) / 2 + (nY.height * (1 - cO));
                                aJ.aI.x = ahK;
                                aJ.aI.y = aiE;
                                aJ.aI.x_percent = ahK / fw;
                                aJ.aI.y_percent = aiE / fL;
                                aJ.aI.height_percent = aja / fL;
                                aJ.aI.width_percent = aji / fw;
                                aJ.aI.height = aja;
                                aJ.aI.width = aji;
                                aJ.aI.opacity = 0;
                                aJ.aI.drawType = 'text_redact';
                                aV = '';
                                aV = "<TEXTFORMAT>";
                                switch (L.get_textHorizontalAlignment()) {
                                    case IPCC.Web.UI.HorizontalAlignment.Center:
                                        aV += "<P ALIGN=\"center\" ";
                                        break;
                                    case IPCC.Web.UI.HorizontalAlignment.Left:
                                        aV += "<P ALIGN=\"left\" ";
                                        break;
                                    case IPCC.Web.UI.HorizontalAlignment.Right:
                                        aV += "<P ALIGN=\"right\" ";
                                        break;
                                }
                                aV += ">";
                                aV += "<FONT ";
                                uv = L.get_fontName();
                                aV += "FACE=" + "\"" + uv + "\" ";
                                if (L.aCa) {
                                    qg = (DQ / L.aCa).toString();
                                } else {
                                    qg = DQ.toString();
                                }
                                aV += "SIZE= \"" + qg + "\" ";
                                gM = "\"" + L.get_textColor() + "\" ";
                                aV += "COLOR=" + gM + " ";
                                aV += "LETTERSPACING=\"0\" ";
                                aV += "KERNING=\"0\" ";
                                aV += ">";
                                bv = IPCC.T.ps(L.get_text());
                                aV += bv;
                                aV += "</FONT>";
                                aV += "</P>";
                                aV += "</TEXTFORMAT>";
                            }
                            break;
                        case IPCC.Web.UI.MarkType.ImageStampAnnotation:
                        case IPCC.Web.UI.MarkType.ImageStampRedaction:
                            aJ.aI.drawType = (bP === IPCC.Web.UI.MarkType.ImageStampRedaction) ? 'imagestamp_redact' : 'imagestamp';
                            R = L.get_rectangle();
                            aJ.aI.x = R.x;
                            aJ.aI.y = R.y;
                            aJ.aI.height = R.height;
                            aJ.aI.width = R.width;
                            aJ.aI.lineWidth = L.get_lineWidth();
                            aJ.aI.x_percent = R.x / fw;
                            aJ.aI.y_percent = R.y / fL;
                            aJ.aI.height_percent = R.height / fL;
                            aJ.aI.width_percent = R.width / fw;
                            aJ.aI.imageStampId = L.pz;
                            break;
                        case IPCC.Web.UI.MarkType.Strikethrough:
                            R = L.get_rectangle();
                            aJ.aI.x = R.x;
                            aJ.aI.y = R.y;
                            aJ.aI.height = R.height;
                            aJ.aI.width = R.width;
                            aJ.aI.drawType = 'strikethrough';
                            aJ.aI.startIndex = L.aT;
                            aJ.aI.selectedText = L.cS;
                            aJ.aI.textLength = L.cq;
                            aJ.aI.highlightGroupID = L.ah;
                            aJ.aI.isHighlight = L.kQ;
                            aJ.cR.push(Sr(L.bA, fw, fL));
                            break;
                    }
                    if (ll) {
                        aJ.aI.lineWidth = L.get_lineWidth();
                        var ap = L.get_boundingRectangle();
                        aJ.aI.x = ap.x;
                        aJ.aI.y = ap.y;
                        aJ.aI.x_percent = ap.x / fw;
                        aJ.aI.y_percent = ap.y / fL;
                        aJ.aI.height_percent = ap.height / fL;
                        aJ.aI.width_percent = ap.width / fw;
                        aJ.aI.height = ap.height;
                        aJ.aI.width = ap.width;
                        if (bP === IPCC.Web.UI.MarkType.Line) {
                            if (L.get_endHeadType() === IPCC.Web.UI.LineHeadType.None) {
                                aJ.aI.drawType = 'line';
                            } else {
                                aJ.aI.drawType = 'arrow';
                            }
                        } else {
                            aJ.aI.drawType = 'polyline';
                        }
                        aJ.aI.lineWidth = L.get_lineWidth();
                        var bF = L.get_points();
                        if (bP === IPCC.Web.UI.MarkType.Line) {
                            if ((bF.getPoint(0).x < bF.getPoint(1).x) && (bF.getPoint(0).y > bF.getPoint(1).y)) {
                                aJ.aI.dragDirection = 'tr';
                            } else if ((bF.getPoint(0).x > bF.getPoint(1).x) && (bF.getPoint(0).y > bF.getPoint(1).y)) {
                                aJ.aI.dragDirection = 'tl';
                            } else if ((bF.getPoint(0).x > bF.getPoint(1).x) && (bF.getPoint(0).y < bF.getPoint(1).y)) {
                                aJ.aI.dragDirection = 'bl';
                            } else if ((bF.getPoint(0).x < bF.getPoint(1).x) && (bF.getPoint(0).y < bF.getPoint(1).y)) {
                                aJ.aI.dragDirection = 'br';
                            } else {
                                aJ.aI.dragDirection = 'br';
                            }
                        } else {
                            var vL = [];
                            var ds = bF.get_length(),
                                al;
                            if (ds > 1) {
                                for (var ba = 0; ba < bF.get_length(); ba++) {
                                    al = bF.getPoint(ba);
                                    vL.push({
                                        x: al.x,
                                        y: al.y
                                    });
                                }
                                aV = IPCC.ce.acs(vL);
                            }
                        }
                        if (Cl) {
                            aJ.aI.fillColor = Cl;
                        } else {
                            aJ.aI.fillColor = "";
                        }
                    } else {
                        aJ.aI.lineWidth = L.get_lineWidth();
                        aJ.aI.dragDirection = 'br';
                    }
                    if (L.get_type() !== IPCC.Web.UI.MarkType.RectangleRedaction) {
                        aJ.aI.meta = '';
                    }
                    aJ.aI.label = '';
                    var fD = new Date();
                    aJ.aI.saveDate = IPCC.T.avQ(fD);
                    aJ.aI.saveTime = IPCC.T.awH(fD);
                    aJ.aI.uuid = '';
                    aJ.aI.formUser = '';
                    aJ.aI.created = IPCC.T.aim(L.get_dateCreated());
                    aJ.aI.modified = IPCC.T.aim(L.get_dateModified());
                    if (L.get_type() === IPCC.Web.UI.MarkType.Text || L.get_type() === IPCC.Web.UI.MarkType.Freehand || L.get_type() === IPCC.Web.UI.MarkType.SignaturePath || L.get_type() === IPCC.Web.UI.MarkType.SignatureText || L.get_type() === IPCC.Web.UI.MarkType.Polyline || L.get_type() === IPCC.Web.UI.MarkType.TextAreaSignature || L.get_type() === IPCC.Web.UI.MarkType.TextLine) {
                        aJ.cR.push('<![CDATA[' + aV + ']]>');
                    } else {
                        aJ.cR.push('');
                    }
                    return aJ;
                };
                this.aEN = function(aY, fw, fL, bU) {
                    var ik = {
                        ht: 'documentAnnotations',
                        cR: [],
                        aI: {}
                    };
                    var dQ = {
                        ht: 'pages',
                        cR: [],
                        aI: {}
                    };
                    ik.cR.push(dQ);
                    var mU = {
                        ht: 'highlights',
                        cR: [],
                        aI: {}
                    };
                    ik.cR.push(mU);
                    var ut = {},
                        pr = [];
                    var aP = {
                        ht: 'page',
                        cR: [],
                        aI: {
                            id: (aY + 1).toString(),
                            pageWidth: fw,
                            pageHeight: fL
                        }
                    };
                    dQ.cR.push(aP);
                    bU = bU || {};
                    var afc = (bU.includeAnnotations !== undefined) ? !!bU.includeAnnotations : true,
                        aeB = (bU.includeRedactions !== undefined) ? !!bU.includeRedactions : true,
                        afi = (bU.includeSignatures !== undefined) ? !!bU.includeSignatures : false,
                        vq = (bU.vq !== undefined) ? !!bU.vq : false,
                        Za = (bU.Bz !== undefined) ? bU.Bz : false,
                        azP = !!vq,
                        ans = Za ? Za : aU;
                    for (var C = 0; C < ans.length; C++) {
                        var L = ans[C];
                        var bP = L.get_type();
                        if (L.get_type() === IPCC.Web.UI.MarkType.Highlight) {
                            continue;
                        }
                        if (azP && !L.get_visible()) {
                            continue;
                        }
                        if (!Za) {
                            if (afc === false && aeB === false && afi === false) {
                                break;
                            }
                            if (afc === false) {
                                if (bP === IPCC.Web.UI.MarkType.Rectangle || bP === IPCC.Web.UI.MarkType.Ellipse || bP === IPCC.Web.UI.MarkType.Line || bP === IPCC.Web.UI.MarkType.Text || bP === IPCC.Web.UI.MarkType.Stamp || bP === IPCC.Web.UI.MarkType.Highlight || bP === IPCC.Web.UI.MarkType.Strikethrough || bP === IPCC.Web.UI.MarkType.HighlightText || bP === IPCC.Web.UI.MarkType.TextHyperlinkAnnotation || bP === IPCC.Web.UI.MarkType.Freehand || bP === IPCC.Web.UI.MarkType.ImageStampAnnotation || bP === IPCC.Web.UI.MarkType.Polyline) {
                                    if (L.jR() === false) {
                                        continue;
                                    }
                                }
                            }
                            if (aeB === false) {
                                if (L.jR() === true) {
                                    continue;
                                }
                                if (bP === IPCC.Web.UI.MarkType.RectangleRedaction || bP === IPCC.Web.UI.MarkType.TextSelectionRedaction || bP === IPCC.Web.UI.MarkType.ImageStampRedaction) {
                                    continue;
                                }
                            }
                            if (afi === false) {
                                if (bP === IPCC.Web.UI.MarkType.SignaturePath || bP === IPCC.Web.UI.MarkType.SignatureText || bP === IPCC.Web.UI.MarkType.SignatureImage || bP === IPCC.Web.UI.MarkType.TextAreaSignature || bP === IPCC.Web.UI.MarkType.TextLine) {
                                    continue;
                                }
                            }
                        }
                        switch (bP) {
                            case IPCC.Web.UI.MarkType.ImageStampAnnotation:
                            case IPCC.Web.UI.MarkType.ImageStampRedaction:
                                ut[L.pz] = {
                                    ht: 'stampImage',
                                    cR: [],
                                    aI: {
                                        imageStampId: L.pz,
                                        base64format: L.cE()
                                    }
                                };
                                break;
                        }
                        aP.cR.push(this.anF(L, fw, fL, vq));
                    }
                    for (var Gl in ut) {
                        if (ut.hasOwnProperty(Gl)) {
                            pr.push(ut[Gl]);
                        }
                    }
                    return {
                        ik: ik,
                        pr: pr
                    };
                };
                this.aEG = function() {
                    var eB = {
                        m: []
                    };
                    var C;
                    for (C = 0; C < aU.length; C++) {
                        eB.m.push(aU[C].aDl());
                    }
                    V.aQ('marksSaved', {});
                    var agn = "";
                    agn = IPCC.ce.acs(eB);
                    return agn;
                };
                this.As = function(H) {
                    ax.addHandler('markAdded', H);
                };
                this.zV = function(H) {
                    ax.removeHandler('markAdded', H);
                };
                this.IC = function(H) {
                    ax.addHandler('markChanged', H);
                };
                this.HH = function(H) {
                    ax.removeHandler('markChanged', H);
                };
                this.AQ = function(H) {
                    ax.addHandler('markRemoved', H);
                };
                this.zI = function(H) {
                    ax.removeHandler('markRemoved', H);
                };
                this.Ht = function(H) {
                    ax.addHandler('markReordered', H);
                };
                this.ET = function(H) {
                    ax.removeHandler('markReordered', H);
                };
                this.Qx = function(H) {
                    ax.addHandler('marksLoaded', H);
                };
                this.WF = function(H) {
                    ax.removeHandler('marksLoaded', H);
                };
                this.aHT = function(H) {
                    ax.addHandler('marksSaved', H);
                };
                this.aHr = function(H) {
                    ax.removeHandler('marksSaved', H);
                };
                this.Hj = function(H) {
                    ax.addHandler('markSelectionChanged', H);
                };
                this.GG = function(H) {
                    ax.removeHandler('markSelectionChanged', H);
                };
                this.Ie = function(H) {
                    ax.addHandler('markTextSelectionChanged', H);
                };
                this.GI = function(H) {
                    ax.removeHandler('markTextSelectionChanged', H);
                };
                this.yp = function(H) {
                    ax.addHandler('commentAdded', H);
                };
                this.Bn = function(H) {
                    ax.removeHandler('commentAdded', H);
                };
                this.yF = function(H) {
                    ax.addHandler('commentRemoved', H);
                };
                this.Cr = function(H) {
                    ax.removeHandler('commentRemoved', H);
                };
                this.sY = function(H) {
                    ax.addHandler('commentChanged', H);
                };
                this.vE = function(H) {
                    ax.removeHandler('commentChanged', H);
                };
                this.jM = function(H) {
                    ax.addHandler('propertyChanged', H);
                };
                this.mR = function(H) {
                    ax.removeHandler('propertyChanged', H);
                };
                this.aQ = function(cZ, F) {
                    var H = ax.getHandler(cZ);
                    if (H !== null) {
                        H(this, F);
                    }
                };
                this.cG = function(dI) {
                    var H = ax.getHandler("propertyChanged");
                    if (H) {
                        H(this, new IPCC.nP(dI));
                    }
                };
                return this;
            };
            Oj.prototype = {
                get_markCount: function() {
                    return this.Wz();
                },
                get_selectedMarks: function() {
                    return this.yb();
                },
                toString: function() {
                    return 'ArtPage with ' + this.get_markCount() + ' marks';
                },
                addMark: function(mark, mouseLocation) {
                    this.Nh(mark, mouseLocation);
                },
                forEachMark: function(method, context) {
                    this.Cx(method, context);
                },
                getMark: function(zIndex) {
                    return this.PP(zIndex);
                },
                getZIndexOfMark: function(mark) {
                    return this.oC(mark);
                },
                loadFromJson: function(json) {
                    this.aAG(json);
                },
                removeAllMarks: function() {
                    this.XU();
                },
                removeMark: function(mark) {
                    this.ty(mark);
                },
                reorderMark: function(mark, zIndex) {
                    this.afI(mark, zIndex);
                },
                saveToJson: function() {
                    return this.aEG();
                },
                add_markAdded: function(handler) {
                    this.As(handler);
                },
                remove_markAdded: function(handler) {
                    this.zV(handler);
                },
                add_markChanged: function(handler) {
                    this.IC(handler);
                },
                remove_markChanged: function(handler) {
                    this.HH(handler);
                },
                add_markRemoved: function(handler) {
                    this.AQ(handler);
                },
                remove_markRemoved: function(handler) {
                    this.zI(handler);
                },
                add_markReordered: function(handler) {
                    this.Ht(handler);
                },
                remove_markReordered: function(handler) {
                    this.ET(handler);
                },
                add_marksLoaded: function(handler) {
                    this.Qx(handler);
                },
                remove_marksLoaded: function(handler) {
                    this.WF(handler);
                },
                add_markSelectionChanged: function(handler) {
                    this.Hj(handler);
                },
                remove_markSelectionChanged: function(handler) {
                    this.GG(handler);
                },
                add_markTextSelectionChanged: function(handler) {
                    this.Ie(handler);
                },
                remove_markTextSelectionChanged: function(handler) {
                    this.GI(handler);
                },
                add_commentAdded: function(handler) {
                    this.yp(handler);
                },
                remove_commentAdded: function(handler) {
                    this.Bn(handler);
                },
                add_commentRemoved: function(handler) {
                    this.yF(handler);
                },
                remove_commentRemoved: function(handler) {
                    this.Cr(handler);
                },
                add_commentChanged: function(handler) {
                    this.sY(handler);
                },
                remove_commentChanged: function(handler) {
                    this.vE(handler);
                }
            };
            Oj.registerClass = cV;
            Oj.registerClass('IPCC.Web.UI.ArtPage');
            module.exports = Oj;
        }, {
            "../../IPCC.Util": 29
        }],
        68: [function(require, module, exports) {
            var eP = require('../../IPCC.Util').regEnum;
            var Ln = function() {};
            Ln.registerEnum = eP;
            Ln.prototype = {
                Line: 0,
                Triangle: 1
            };
            Ln.registerEnum('IPCC.Web.UI.CalloutType', false);
            module.exports = Ln;
        }, {
            "../../IPCC.Util": 29
        }],
        69: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var Rd = function(text) {
                var ax = new IPCC.Web.UI.gV();
                var dN = new IPCC.Web.UI.Data();
                this.YU = IPCC.T.vF(new Date());
                this.bv = text;
                this.aCy = function(bv) {
                    if (bv === this.bv) {
                        return;
                    }
                    this.bv = bv;
                    var F = new IPCC.Web.UI.CommentEventArgs();
                    F.comment = this;
                    F.length = 1;
                    this.aQ('commentChanged', F);
                };
                this.aDo = function() {
                    return this.bv;
                };
                this.aCl = function(aAT) {
                    this.YU = aAT;
                };
                this.aDs = function() {
                    return this.YU;
                };
                this.sY = function(H) {
                    ax.addHandler('commentChanged', H);
                };
                this.vE = function(H) {
                    ax.removeHandler('commentChanged', H);
                };
                this.aQ = function(cZ, F) {
                    var H = ax.getHandler(cZ);
                    if (H !== null) {
                        H(this, F);
                    }
                };
                this.wc = function() {
                    return dN;
                };
                return this;
            };
            Rd.prototype = {
                toString: function() {
                    return 'Comment(' + this.creationTime + ', ' + this.text + ')';
                },
                add_commentChanged: function(handler) {
                    this.sY(handler);
                },
                remove_commentChanged: function(handler) {
                    this.vE(handler);
                },
                get_text: function() {
                    return this.aDo();
                },
                set_text: function(text) {
                    this.aCy(text);
                },
                get_creationTime: function() {
                    return this.aDs();
                },
                set_creationTime: function(isoTimeString) {
                    this.aCl(isoTimeString);
                },
                get_data: function() {
                    return this.wc();
                }
            };
            Rd.registerClass = cV;
            Rd.registerClass('IPCC.Web.UI.Comment');
            module.exports = Rd;
        }, {
            "../../IPCC.Util": 29
        }],
        70: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var QS = function() {
                return this;
            };
            QS.registerClass = cV;
            QS.prototype = {};
            QS.registerClass('IPCC.Web.UI.CommentEventArgs');
            module.exports = QS;
        }, {
            "../../IPCC.Util": 29
        }],
        71: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var OU = function(atN) {
                var gQ = [];
                var ax = new IPCC.Web.UI.gV();
                var dN = new IPCC.Web.UI.Data();
                var L = atN;
                var V = this;

                function Lz(bC, F) {
                    V.aQ('commentChanged', F);
                };
                this.Jf = function(bZ) {
                    bZ.add_commentChanged(Lz);
                    gQ.push(bZ);
                    var F = new IPCC.Web.UI.CommentEventArgs();
                    F.comment = bZ;
                    F.length = 1;
                    F.index = gQ.length - 1;
                    this.aQ('commentAdded', F);
                };
                this.avy = function(bZ) {
                    var WP = -1;
                    IPCC.T.forEach(gQ, function(el, idx) {
                        if (el === bZ) {
                            WP = idx;
                        }
                    });
                    if (WP === -1) {
                        throw new IPCC.Web.UI.ImGearArgumentException('comment', "The provided comment was not found in the conversation.");
                    }
                    var acx = gQ.splice(WP, 1)[0];
                    acx.vE(Lz);
                    var F = new IPCC.Web.UI.CommentEventArgs();
                    F.comment = acx;
                    F.length = 1;
                    this.aQ('commentRemoved', F);
                };
                this.ld = function(je, cX) {
                    var C;
                    for (C = 0; C < gQ.length; C++) {
                        je.call(cX, gQ[C], C, this);
                    }
                };
                this.en = function() {
                    return gQ.length;
                };
                this.yp = function(H) {
                    ax.addHandler('commentAdded', H);
                };
                this.Bn = function(H) {
                    ax.removeHandler('commentAdded', H);
                };
                this.sY = function(H) {
                    ax.addHandler('commentChanged', H);
                };
                this.vE = function(H) {
                    ax.removeHandler('commentChanged', H);
                };
                this.yF = function(H) {
                    ax.addHandler('commentRemoved', H);
                };
                this.Cr = function(H) {
                    ax.removeHandler('commentRemoved', H);
                };
                this.wc = function() {
                    return dN;
                };
                this.Ma = function() {
                    return L;
                };
                this.aQ = function(cZ, F) {
                    var H = ax.getHandler(cZ);
                    if (H !== null) {
                        H(this, F);
                    }
                };
                return this;
            };
            OU.prototype = {
                toString: function() {
                    return 'Conversation with ' + this.get_length() + ' comments';
                },
                addComment: function(comment) {
                    this.Jf(comment);
                },
                removeCommentInstance: function(comment) {
                    this.avy(comment);
                },
                forEach: function(method, context) {
                    this.ld(method, context);
                },
                get_length: function() {
                    return this.en();
                },
                add_commentAdded: function(handler) {
                    this.yp(handler);
                },
                remove_commentAdded: function(handler) {
                    this.Bn(handler);
                },
                add_commentChanged: function(handler) {
                    this.sY(handler);
                },
                remove_commentChanged: function(handler) {
                    this.vE(handler);
                },
                add_commentRemoved: function(handler) {
                    this.yF(handler);
                },
                remove_commentRemoved: function(handler) {
                    this.Cr(handler);
                },
                get_data: function() {
                    return this.wc();
                },
                get_mark: function() {
                    return this.Ma();
                }
            };
            OU.registerClass = cV;
            OU.registerClass('IPCC.Web.UI.Conversation');
            module.exports = OU;
        }, {
            "../../IPCC.Util": 29
        }],
        72: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var PQ = function() {
                this.dN = {};
                this.wc = function(key) {
                    if (typeof key === 'undefined') {
                        return IPCC.T.extend({}, this.dN);
                    } else if (typeof key === 'string') {
                        return this.dN[key];
                    } else {
                        throw new IPCC.Web.UI.ImGearArgumentException("key", "The argument must be a string.");
                    }
                };
                this.aCB = function(key, value) {
                    if (typeof key !== 'string') {
                        throw new IPCC.Web.UI.ImGearArgumentException("key", "The argument must be a string.");
                    }
                    if (typeof value === 'string') {
                        this.dN[key] = value;
                    } else if (typeof value === 'undefined') {
                        delete this.dN[key];
                    } else {
                        throw new IPCC.Web.UI.ImGearArgumentException("value", "The argument must be a string.");
                    }
                    return this;
                };
                this.aDQ = function() {
                    var keys = [];
                    IPCC.T.forEach(this.dN, function(value, key) {
                        keys.push(key);
                    });
                    return keys;
                };
                return this;
            };
            PQ.prototype = {
                toString: function() {
                    return 'Data(' + this.creationTime + ', ' + this.text + ')';
                },
                get_data: function(key) {
                    return this.wc(key);
                },
                set_data: function(key, value) {
                    return this.aCB(key, value);
                },
                get_dataKeys: function() {
                    return this.aDQ();
                }
            };
            PQ.registerClass = cV;
            PQ.registerClass('IPCC.Web.UI.Data');
            module.exports = PQ;
        }, {
            "../../IPCC.Util": 29
        }],
        73: [function(require, module, exports) {
            var eP = require('./../../IPCC.Util').regEnum;
            var Pm = function() {};
            Pm.prototype = {
                Production: 0,
                Development: 1,
                Detailed: 2
            };
            Pm.registerEnum = eP;
            Pm.registerEnum('IPCC.Web.UI.DebugErrorLevel', false);
            module.exports = Pm;
        }, {
            "./../../IPCC.Util": 29
        }],
        74: [function(require, module, exports) {
            var eP = require('./../../IPCC.Util').regEnum;
            var PJ = function() {};
            PJ.prototype = {
                FunctionCall: 0,
                Exception: 1,
                Custom: 2,
                UserAction: 3,
                Warning: 4
            };
            PJ.registerEnum = eP;
            PJ.registerEnum('IPCC.Web.UI.DebugItemCause', false);
            module.exports = PJ;
        }, {
            "./../../IPCC.Util": 29
        }],
        75: [function(require, module, exports) {
            var cV = require('./../../IPCC.Util').regClass;
            var ao = function(aBR) {
                var bb = aBR;
                var alA = this.type = bb.type.toLowerCase();
                var LG = typeof bb.changedTouches !== 'undefined';
                this.rawEvent = bb;
                this.altKey = bb.altKey;
                if (typeof(bb.button) !== 'undefined') {
                    this.button = (typeof(bb.which) !== 'undefined') ? bb.button : (bb.button === 4) ? IPCC.Web.UI.MouseButton.middleButton : (bb.button === 2) ? IPCC.Web.UI.MouseButton.rightButton : IPCC.Web.UI.MouseButton.leftButton;
                }
                if (alA === 'keypress') {
                    this.charCode = bb.charCode || bb.keyCode;
                } else if (bb.keyCode && (bb.keyCode === 46)) {
                    this.keyCode = 127;
                } else {
                    this.keyCode = bb.keyCode;
                }
                this.clientX = (LG) ? bb.changedTouches[0].clientX : bb.clientX;
                this.clientY = (LG) ? bb.changedTouches[0].clientY : bb.clientY;
                this.ctrlKey = bb.ctrlKey;
                this.target = bb.target ? bb.target : bb.srcElement;

                function arA(bx) {
                    var aM = 0;
                    var di = 0;
                    while (bx && !isNaN(bx.offsetLeft) && !isNaN(bx.offsetTop)) {
                        aM += bx.offsetLeft - bx.scrollLeft;
                        di += bx.offsetTop - bx.scrollTop;
                        if (bx.offsetparent) {
                            bx = bx.offsetParent;
                        } else {
                            bx = bx.parentNode;
                        }
                    }
                    return {
                        top: di,
                        left: aM
                    };
                };
                var dX = "" + alA;
                var ub = 'key';
                if (dX.substr(0, ub.length) !== ub) {
                    if ((typeof(bb.offsetX) !== 'undefined') && (typeof(bb.offsetY) !== 'undefined')) {
                        this.offsetX = bb.offsetX;
                        this.offsetY = bb.offsetY;
                    } else if (this.target && (this.target.nodeType !== 3) && (typeof(bb.clientX) === 'number')) {
                        var HI = arA(this.target);
                        var eC = this.target;
                        var hv = eC.ownerDocument || eC.document || eC;
                        var hO = hv.defaultView || hv.parentWindow;
                        this.offsetX = (hO.pageXOffset || 0) + bb.clientX - HI.left;
                        this.offsetY = (hO.pageYOffset || 0) + bb.clientY - HI.top;
                    }
                }
                this.screenX = (LG) ? bb.changedTouches[0].screenX : bb.screenX;
                this.screenY = (LG) ? bb.changedTouches[0].screenY : bb.screenY;
                this.shiftKey = bb.shiftKey;
            };
            ao.prototype = {
                preventDefault: function() {
                    if (arguments.length !== 0) {
                        throw new IPCC.Web.UI.ImGearParameterCountException();
                    }
                    if (this.rawEvent.preventDefault) {
                        this.rawEvent.preventDefault();
                    } else if (window.event) {
                        this.rawEvent.returnValue = false;
                    }
                },
                stopPropagation: function() {
                    if (arguments.length !== 0) {
                        throw new IPCC.Web.UI.ImGearParameterCountException();
                    }
                    if (this.rawEvent.stopPropagation) {
                        this.rawEvent.stopPropagation();
                    } else if (window.event) {
                        this.rawEvent.cancelBubble = true;
                    }
                }
            };
            ao.registerClass = cV;
            ao.registerClass('IPCC.Web.UI.ao');
            ao.addHandler = function(element, eventName, handler, autoRemove) {
                IPCC.Web.UI.ao.Zs(element);
                if (eventName === "error") {
                    throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.lz.addHandlerCantBeUsedForError);
                }
                if (!element.ax) {
                    element.ax = {};
                }
                var eventCache = element.ax[eventName];
                if (!eventCache) {
                    element.ax[eventName] = eventCache = [];
                }
                var browserHandler;
                if (element.addEventListener) {
                    browserHandler = function(e) {
                        return handler.call(element, new IPCC.Web.UI.ao(e));
                    };
                    element.addEventListener(eventName, browserHandler, false);
                } else if (element.attachEvent) {
                    browserHandler = function() {
                        var e = {};
                        try {
                            var doc = element.ownerDocument || element.document || element;
                            var eC = doc.defaultView || doc.parentWindow;
                            e = eC.event;
                        } catch (ex) {}
                        return handler.call(element, new IPCC.Web.UI.ao(e));
                    };
                    element.attachEvent('on' + eventName, browserHandler);
                }
                eventCache[eventCache.length] = {
                    handler: handler,
                    browserHandler: browserHandler,
                    autoRemove: autoRemove
                };
                if (autoRemove) {
                    var d = element.dispose;
                    if (d !== IPCC.Web.UI.ao.amS) {
                        element.dispose = IPCC.Web.UI.ao.amS;
                        if (typeof(d) !== "undefined") {
                            element.aij = d;
                        }
                    }
                }
            };
            ao.clearHandlers = function(element) {
                IPCC.Web.UI.ao.Zs(element);
                IPCC.Web.UI.ao.aiR(element, false);
            };
            ao.aiR = function(element, autoRemoving) {
                if (element.ax) {
                    var cache = element.ax;
                    for (var name in cache) {
                        if (cache.hasOwnProperty(name)) {
                            var handlers = cache[name];
                            for (var i = handlers.length - 1; i >= 0; i--) {
                                var entry = handlers[i];
                                if (!autoRemoving || entry.autoRemove) {
                                    IPCC.Web.UI.ao.removeHandler(element, name, entry.handler);
                                }
                            }
                        }
                    }
                    element.ax = null;
                }
            };
            ao.amS = function() {
                IPCC.Web.UI.ao.aiR(this, true);
                var d = this.aij,
                    type = typeof(d);
                if (type !== "undefined") {
                    this.dispose = d;
                    this.aij = null;
                    if (type === "function") {
                        this.dispose();
                    }
                }
            };
            ao.removeHandler = function(element, eventName, handler) {
                IPCC.Web.UI.ao.cP(element, eventName, handler);
            };
            ao.cP = function(element, eventName, handler) {
                IPCC.Web.UI.ao.Zs(element);
                var browserHandler = null;
                if ((typeof(element.ax) !== 'object') || !element.ax) {
                    throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');
                }
                var cache = element.ax[eventName];
                if (!(cache instanceof Array)) {
                    throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');
                }
                for (var i = 0, l = cache.length; i < l; i++) {
                    if (cache[i].handler === handler) {
                        browserHandler = cache[i].browserHandler;
                        break;
                    }
                }
                if (typeof(browserHandler) !== 'function') {
                    throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.ao.addHandler method.');
                }
                if (element.removeEventListener) {
                    element.removeEventListener(eventName, browserHandler, false);
                } else if (element.detachEvent) {
                    element.detachEvent('on' + eventName, browserHandler);
                }
                cache.splice(i, 1);
            };
            ao.Zs = function(element) {
                if (element.tagName && (element.tagName.toUpperCase() === "SCRIPT")) {
                    return;
                }
                var doc = element.ownerDocument || element.document || element;
                if ((typeof(element.document) !== 'object') && (element !== doc) && (typeof(element.nodeType) !== 'number')) {
                    throw new IPCC.Web.UI.ImGearArgumentException("element", IPCC.lz.argumentDomNode);
                }
            };
            module.exports = ao;
        }, {
            "./../../IPCC.Util": 29
        }],
        76: [function(require, module, exports) {
            var eP = require('../../IPCC.Util').regEnum;
            var ot = function() {};
            ot.registerEnum = eP;
            ot.prototype = {
                FullImage: 0,
                FullWidth: 1,
                FullHeight: 2,
                ActualSize: 3,
                OneToOne: 4,
                Rectangle: 5
            };
            ot.registerEnum('IPCC.Web.UI.FitType', false);
            module.exports = ot;
        }, {
            "../../IPCC.Util": 29
        }],
        77: [function(require, module, exports) {
            var eP = require('../../IPCC.Util').regEnum;
            var Oc = function() {};
            Oc.registerEnum = eP;
            Oc.prototype = {
                Regular: 0,
                Bold: 1,
                Italic: 2,
                Underline: 4,
                Strikeout: 8
            };
            Oc.registerEnum('IPCC.Web.UI.FontStyle', true);
            module.exports = Oc;
        }, {
            "../../IPCC.Util": 29
        }],
        78: [function(require, module, exports) {
            var eP = require('../../IPCC.Util').regEnum;
            var Pw = function() {};
            Pw.registerEnum = eP;
            Pw.prototype = {
                Tag: 0,
                InlineHighLight: 1,
                Link: 2,
                Redaction: 3,
                Strikethrough: 4
            };
            Pw.registerEnum('IPCC.Web.UI.HighLight', false);
            module.exports = Pw;
        }, {
            "../../IPCC.Util": 29
        }],
        79: [function(require, module, exports) {
            var eP = require('../../IPCC.Util').regEnum;
            var Pb = function() {};
            Pb.registerEnum = eP;
            Pb.prototype = {
                Left: 0,
                Center: 16,
                Right: 32
            };
            Pb.registerEnum('IPCC.Web.UI.HorizontalAlignment', false);
            module.exports = Pb;
        }, {
            "../../IPCC.Util": 29
        }],
        80: [function(require, module, exports) {
            var eP = require('./../../IPCC.Util').regEnum;
            var Rv = function() {};
            Rv.registerEnum = eP;
            Rv.prototype = {
                None: 0,
                ArtDataService: 1
            };
            Rv.registerEnum('IPCC.Web.UI.ImGearArtDataServices', false);
            module.exports = Rv;
        }, {
            "./../../IPCC.Util": 29
        }],
        81: [function(require, module, exports) {
            var cV = require('./../../IPCC.Util').regClass;
            var BI = function(be) {
                var iR = '';
                var gd = '';
                var V = this;
                this.dQ = new IPCC.Web.UI.ImGearPageCollection();
                this.OZ = undefined;
                this.dQ.bQ = this;
                var Sk = false;
                this.qf = undefined;
                var ee = 0;
                var Le = IPCC.Web.UI.ImGearPageCountStatus.UnRequested;
                var ax = new IPCC.Web.UI.gV();
                this.iZ = IPCC.Web.Hu.Xy(4, IPCC.Web.OM());
                this.pL = IPCC.Web.hj.GN.nl(this.iZ);
                var Aq = [];
                var mQ = 0;
                var nt = [];
                var BK = [];
                var gv = {
                    startPage: 0,
                    lastPage: 0,
                    requestCount: 0,
                    stopRequests: false,
                    lastTimeout: 1000
                };
                var Yg = false;
                this.aQ = function(cZ, F) {
                    var H = ax.getHandler(cZ);
                    if (H !== null) {
                        try {
                            H(V, F);
                        } catch (e) {
                            IPCC.iU.MW('raise event error in ImGearDocument, error: ' + e.message);
                            IPCC.iU.nf(e.message, IPCC.Web.UI.ImGearDocument, IPCC.Web.UI.DebugErrorLevel.Production, 'ImGearDocument', '');
                        }
                    }
                };

                function Tf(bC, F) {
                    if (F.length > 0) {
                        V.aQ('pageAdded', F);
                    }
                };

                function VB(bC, F) {
                    if (F.length > 0) {
                        V.aQ('pageRemoved', F);
                    }
                };

                function FP(bC, F) {
                    V.aQ('pageChanged', F);
                };
                this.dQ.add_pageAdded(Tf);
                this.dQ.add_pageRemoved(VB);
                this.dQ.add_pageChanged(FP);

                function aqp() {
                    function aqm(ir, iL) {
                        var cQ = ir + '() threw an exception ';
                        if (iL.name) {
                            cQ += '( ' + iL.name + " ";
                        } else {
                            cQ += ".";
                        }
                        if (iL.message) {
                            cQ += "  exception message = " + iL.message;
                        }
                        if (iL.statusCode) {
                            cQ += "  exception statusCode = " + iL.statusCode;
                        }
                        cQ = cQ.replace(/\n/g, " ");
                        IPCC.iU.nf(cQ, IPCC.Web.UI.DebugItemCause.Exception, IPCC.Web.UI.DebugErrorLevel.Production, 'ImGearDocument', "document");
                    };
                    this.bw = aqm;
                    this.aQ = function(cZ, F) {
                        var H = ax.getHandler(cZ);
                        if (H !== null) {
                            H(V, F);
                        }
                    };
                };
                if (arguments.length === 0) {
                    var cQ = "ImGearDocument object creation requires parameters";
                    throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument', cQ);
                }
                if (arguments.length > 0) {
                    if (be.documentIdentifier !== undefined) {
                        iR = be.documentIdentifier;
                        gd = IPCC.gL.su(iR);
                    }
                    if (be.encodedDocumentIdentifier !== undefined) {
                        var wS = be.encodedDocumentIdentifier;
                        if (be.documentIdentifier !== undefined) {
                            gd = IPCC.gL.su(iR);
                            if (wS !== gd) {
                                throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier', 'When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');
                            }
                        } else {
                            iR = IPCC.gL.GH(be.encodedDocumentIdentifier);
                        }
                    }
                    if (be.imageServicePath !== undefined) {
                        this.qf = be.imageServicePath;
                    } else {
                        throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument', 'Document creation requires imageServicePath.');
                    }
                    var sT;
                    if (be.includeAllPages !== undefined) {
                        Sk = be.includeAllPages;
                        if (Sk === true) {
                            var aAE = new aqp();
                            var WG = 0;
                            V.bE = new IPCC.gL(gd, 0, 0, 0, 0, 0);
                            var oy = function() {
                                ee = V.bE.ee;
                                Le = IPCC.Web.UI.ImGearPageCountStatus.Known;
                                for (; WG < ee; WG++) {
                                    var adR = new IPCC.Web.UI.ImGearPage({
                                        pageNumber: WG,
                                        bQ: V
                                    });
                                    adR.bQ = V;
                                    V.dQ.addPage(adR);
                                }
                            };
                            Le = IPCC.Web.UI.ImGearPageCountStatus.RequestPending;
                            try {
                                this.bE.TY(this.qf, aAE, oy);
                            } catch (e) {
                                Le = IPCC.Web.UI.ImGearPageCountStatus.Failed;
                                var cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                                cs.exception = e;
                                V.aQ('pageOpenFailed', cs);
                                throw e;
                            }
                        }
                    } else if (be.pages !== undefined) {
                        if (be.pages.length > 0) {
                            var C = 0;
                            for (C = 0; C < be.pages.length; C++) {
                                var bf = be.pages[C];
                                bf.document = this;
                                this.dQ.addPage(bf);
                            }
                        }
                    } else if (be.pageNumber !== undefined) {
                        if (be.pageRangeCount !== undefined) {
                            var qR = be.pageRangeCount;
                            if (qR > 0) {
                                var ad;
                                for (ad = be.pageNumber; ad <= qR; ad++) {
                                    sT = new IPCC.Web.UI.ImGearPage(ad);
                                    sT.bQ = V;
                                    this.dQ.addPage(sT);
                                }
                            } else if (qR === 0) {
                                sT = new IPCC.Web.UI.ImgearPage({
                                    pageNumber: be.pageNumber,
                                    bQ: V
                                });
                                sT.bQ = V;
                                V.dQ.addPage(sT);
                            }
                        } else {
                            if (be.selected) {
                                sT = new IPCC.Web.UI.ImGearPage({
                                    pageNumber: be.pageNumber,
                                    bQ: V,
                                    selected: true
                                });
                            } else {
                                sT = new IPCC.Web.UI.ImGearPage({
                                    pageNumber: be.pageNumber,
                                    bQ: V
                                });
                            }
                            sT.bQ = V;
                            V.dQ.addPage(sT);
                        }
                    }
                }
                this.IW = function() {
                    return iR;
                };
                this.Oi = function() {
                    return gd;
                };
                this.ajn = function() {
                    return this.dQ;
                };
                this.aDr = function() {
                    return ee;
                };
                this.aCZ = function() {
                    return Le;
                };
                this.aFL = function() {
                    return Sk;
                };
                this.azf = function(G) {
                    Sk = G;
                    this.cG('includeAllPages');
                };
                var nM = false;
                this.ip = function() {
                    return nM;
                };
                this.nT = function(G) {
                    nM = G;
                };
                this.Io = function(H) {
                    ax.addHandler('pageAdded', H);
                };
                this.EP = function(H) {
                    ax.removeHandler('pageAdded', H);
                };
                this.Ho = function(H) {
                    ax.addHandler('pageRemoved', H);
                };
                this.FS = function(H) {
                    ax.removeHandler('pageRemoved', H);
                };
                this.HB = function(H) {
                    ax.addHandler('pageOpenFailed', H);
                };
                this.Gb = function(H) {
                    ax.removeHandler('pageOpenFailed', H);
                };
                this.jM = function(H) {
                    ax.addHandler('propertyChanged', H);
                };
                this.mR = function(H) {
                    ax.removeHandler('propertyChanged', H);
                };
                this.Ij = function(H) {
                    ax.addHandler('pageChanged', H);
                };
                this.FN = function(H) {
                    ax.removeHandler('pageChanged', H);
                };
                this.cG = function(dI) {
                    var H = ax.getHandler('propertyChanged');
                    if (H) {
                        H(this, new IPCC.nP(dI));
                    }
                };
                this.asb = function(H) {
                    ax.addHandler('textPagesReceived', H);
                };
                this.awE = function(H) {
                    ax.removeHandler('textPagesReceived', H);
                };
                this.aDv = function() {
                    return BK.length;
                };
                this.aEM = function() {
                    return Aq;
                };
                this.aEr = function() {
                    return Aq.length;
                };
                this.aEo = function() {
                    return gv;
                };
                this.aDx = function() {
                    return Yg;
                };
                this.aFp = function(G) {
                    Yg = G;
                };
                this.aqb = function(gq) {
                    if (gv.stopRequests === true) {
                        var F = {};
                        F.error = 0;
                        F.textPagesReceived = Mo(gq);
                        if (F.textPagesReceived.length === 0) {
                            if (mQ > 0 && mQ < gq) {
                                for (var dw = mQ; dw < gq; dw++) {
                                    F.textPagesReceived.push(dw);
                                }
                            }
                        }
                        F.length = 2;
                        V.aQ('textPagesReceived', F);
                        return;
                    }
                    var hM = true;
                    var Jt = false;
                    for (var C = 0; C < mQ; C++) {
                        if (Array.prototype.indexOf) {
                            if (Aq.indexOf(C) < 0) {
                                hM = false;
                                Jt = true;
                                break;
                            }
                        } else {
                            if (IPCC.Web.jA(Aq, C) < 0) {
                                Jt = true;
                                break;
                            }
                        }
                    }
                    if (Jt) {
                        V.Sd(C, undefined, gq);
                    } else if (mQ < gq) {
                        for (var ba = 0; ba < gq; ba++) {
                            if (Array.prototype.indexOf) {
                                if (nt.indexOf(ba) < 0) {
                                    hM = false;
                                    break;
                                }
                            } else {
                                if (IPCC.Web.jA(nt, ba) < 0) {
                                    hM = false;
                                    break;
                                }
                            }
                        }
                        if (!hM) {
                            Jt = true;
                            V.Sd(ba, undefined, gq);
                        } else {
                            V.Sd(mQ, undefined, gq);
                        }
                    } else {
                        Jt = false;
                    }
                };

                function Mo(gq) {
                    var Ss = [],
                        dw;
                    if (nt.length > 0) {
                        var hM = true;
                        for (dw = 0; dw < gq; dw++) {
                            hM = true;
                            if (Array.prototype.indexOf) {
                                if (nt.indexOf(dw) < 0) {
                                    hM = false;
                                }
                            } else {
                                if (IPCC.Web.jA(nt, dw) < 0) {
                                    hM = false;
                                }
                            }
                            if (!hM) {
                                nt.push(dw);
                                BK.push(dw);
                                Ss.push(dw);
                            }
                        }
                    } else {
                        for (dw = 0; dw < gq; dw++) {
                            nt.push(dw);
                            BK.push(dw);
                            Ss.push(dw);
                        }
                    }
                    return Ss;
                };
                this.Sd = function(acI, ajJ, gq) {
                    Yg = true;
                    var aT;
                    if (!isNaN(acI)) {
                        aT = acI;
                    } else {
                        aT = 0;
                    }
                    var Ez;
                    if (!isNaN(gq)) {
                        Ez = gq;
                    }
                    var dr;
                    if (!isNaN(ajJ)) {
                        dr = ajJ;
                    } else if (!isNaN(Ez)) {
                        dr = Ez - 1;
                    } else {
                        Ez = gq;
                        if (!isNaN(Ez)) {
                            dr = Ez - 1;
                        }
                    }
                    if (isNaN(dr)) {
                        dr = aT + 1;
                    }
                    if (dr - aT > 9) {
                        dr = aT + 9;
                    }

                    function Rc(bv) {
                        var UE = mQ;
                        var Zq = [];
                        var hM = true;
                        var bh;
                        for (var aP = 0; aP < bv.pages.length; aP++) {
                            if (Array.prototype.indexOf) {
                                if (Aq.indexOf(bv.pages[aP].number) < 0) {
                                    hM = false;
                                }
                            } else {
                                if (IPCC.Web.jA(Aq, bv.pages[aP].number) < 0) {
                                    hM = false;
                                }
                            }
                            if (!hM) {
                                Aq.push(bv.pages[aP].number);
                                if (V.dQ.jq(bv.pages[aP].number).ca().vG() === false) {
                                    bh = V.dQ.jq(bv.pages[aP].number);
                                    bh.adC(bv.pages[aP]);
                                    bh.acj(bv.pages[aP]);
                                    bh.adJ(bv.pages[aP].markup, bv.pages[aP].height, bv.pages[aP].width);
                                }
                                mQ++;
                                Zq.push(bv.pages[aP].number);
                                nt.push(bv.pages[aP].number);
                                if (!bv.pages[aP].text) {
                                    BK.push(bv.pages[aP].number);
                                }
                            }
                        }
                        var F = {};
                        if (bv.hasOwnProperty("errorCode")) {
                            F.error = 0;
                            V.pageExtractionFailed = true;
                            F.textPagesReceived = Zq;
                            F.length = 2;
                            for (var AB = gv.startPage; AB < gv.lastPage + 1; AB++) {
                                hM = true;
                                if (Array.prototype.indexOf) {
                                    if (nt.indexOf(AB) < 0) {
                                        hM = false;
                                    }
                                } else {
                                    if (IPCC.Web.jA(nt, AB) < 0) {
                                        hM = false;
                                    }
                                }
                                if (!hM) {
                                    nt.push(AB);
                                    BK.push(AB);
                                    F.textPagesReceived.push(AB);
                                }
                            }
                            V.aQ('textPagesReceived', F);
                            gv.stopRequests = true;
                            return;
                        }
                        if (mQ > UE) {
                            F.textPagesReceived = Zq;
                            F.length = 2;
                            F.error = 0;
                        }
                        var om = gv.lastTimeout;
                        if (gv.startPage === aT && gv.lastPage === dr && mQ === UE) {
                            if (gv.requestCount < 25) {
                                om = om + 1000;
                                gv.requestCount++;
                            } else {
                                F.error = 0;
                                F.textPagesReceived = [];
                                F.length = 2;
                                hM = true;
                                var dw;
                                for (dw = gv.startPage; dw < gv.lastPage + 1; dw++) {
                                    hM = true;
                                    if (Array.prototype.indexOf) {
                                        if (nt.indexOf(dw) < 0) {
                                            hM = false;
                                        }
                                    } else {
                                        if (IPCC.Web.jA(nt, dw) < 0) {
                                            hM = false;
                                        }
                                    }
                                    if (!hM) {
                                        nt.push(dw);
                                        BK.push(dw);
                                        F.textPagesReceived.push(dw);
                                    }
                                }
                                if (F.textPagesReceived.length === 0) {
                                    if (mQ > 0 && mQ < gq) {
                                        for (dw = mQ; dw < gq; dw++) {
                                            F.textPagesReceived.push(dw);
                                        }
                                    }
                                }
                                gv.stopRequests = true;
                                V.aQ('textPagesReceived', F);
                                return;
                            }
                        } else {
                            om = 1000;
                            gv.requestCount = 0;
                        }
                        gv.lastTimeout = om;
                        gv.startPage = aT;
                        gv.lastPage = dr;
                        setTimeout(function() {
                            V.aqb(gq);
                        }, om);
                        if (mQ > UE) {
                            V.aQ('textPagesReceived', F);
                        }
                    };

                    function eI(aX) {
                        var F = {},
                            ej, bk;
                        try {
                            var os = aX.getResponseHeader("Accusoft-Data-Encrypted");
                            if (os === 'true') {
                                var tM = IPCC.Web.hj.pH.uR(aX.getResponseHeader("Accusoft-Data-SK"));
                                var bu = IPCC.Web.Gf(tM, V.iZ);
                                var fm = IPCC.Web.FV(aX);
                                var ve = IPCC.Web.Ec(fm, bu, V.iZ);
                                ej = IPCC.Web.hj.FD.nl(ve);
                            } else {
                                ej = aX.responseText;
                            }
                            if (typeof JSON !== 'undefined') {
                                bk = JSON.parse(ej);
                            } else {
                                bk = IPCC.ce.tg(ej);
                            }
                            Rc(bk);
                        } catch (e) {
                            F.error = -1;
                            Mo(gq);
                            F.textPagesReceived = [];
                            F.length = 2;
                            V.aQ('textPagesReceived', F);
                            return;
                        }
                    };

                    function fc(bk) {
                        var F = {},
                            hC;
                        try {
                            hC = bk.response.status;
                            if (bk.response.responseText) {
                                if (typeof JSON !== 'undefined') {
                                    bk = JSON.parse(bk.response.responseText);
                                } else {
                                    bk = IPCC.ce.tg(bk.response.responseText);
                                }
                                if (bk.hasOwnProperty("errorCode")) {
                                    F.error = 0;
                                    if (mQ > 0) {
                                        if (bk.pages) {
                                            if (bk.pages.length > 0) {
                                                Rc(bk);
                                                return;
                                            }
                                        }
                                    } else {
                                        F.error = -1;
                                    }
                                    if (nt.length === 0) {
                                        F.error = -1;
                                    }
                                    V.pageExtractionFailed = true;
                                    F.textPagesReceived = [];
                                    F.length = 2;
                                    F.textPagesReceived = Mo(gq);
                                    V.aQ('textPagesReceived', F);
                                    return;
                                } else {
                                    throw new IPCC.Web.UI.ImGearHttpException(hC, "Unable to obtain text");
                                }
                            } else {
                                throw new IPCC.Web.UI.ImGearHttpException(hC, "Unable to obtain text");
                            }
                        } catch (e) {
                            F.error = -1;
                            Mo(gq);
                            F.textPagesReceived = [];
                            F.length = 2;
                            V.aQ('textPagesReceived', F);
                            return;
                        }
                    };
                    var ib = iR;
                    var gU = V.qf;
                    if (!(/^[\x00-\x7F]*$/.test(ib))) {
                        ib = 'e' + gd;
                    } else {
                        ib = 'u' + ib;
                    }
                    var aq;
                    if (V.ip()) {
                        aq = gU + passURL + '/Document/q/' + aT.toString() + '-' + dr.toString() + '/Text?DocumentID=' + ib + '&iv=' + V.pL;
                    } else {
                        aq = gU + passURL + '/Document/q/' + aT.toString() + '-' + dr.toString() + '/Text?DocumentID=' + ib;
                    }
                    IPCC.T.lD.eh({
                        method: 'GET',
                        url: aq,
                        headers: {
                            'accept': 'application/json'
                        }
                    }).then(eI, fc);
                };
                return this;
            };
            BI.encodeDocumentIdentifier = function(iR) {
                var gd;
                if (iR !== undefined) {
                    gd = IPCC.gL.su(iR);
                }
                return gd;
            };
            BI.decodeDocumentIdentifier = function(gd) {
                var als;
                if (gd !== undefined) {
                    als = IPCC.gL.GH(gd);
                }
                return als;
            };
            BI.prototype = {
                get_documentIdentifier: function() {
                    var aF = this.IW();
                    return aF;
                },
                get_encodedDocumentIdentifier: function() {
                    var aF = this.Oi();
                    return aF;
                },
                get_pages: function() {
                    return this.ajn();
                },
                get_pageCountStatus: function() {
                    var r = this.aCZ();
                    return r;
                },
                set_pageCountStatus: function(value) {
                    this.aId(value);
                },
                get_pageCount: function() {
                    var r = this.aDr();
                    return r;
                },
                get_includeAllPages: function() {
                    try {
                        var aF = this.aFL();
                        return aF;
                    } catch (e) {
                        throw e;
                    }
                },
                set_includeAllPages: function(value) {
                    try {
                        this.azf(value);
                    } catch (e) {
                        throw e;
                    }
                },
                get_encryption: function() {
                    var aF = this.ip();
                    return aF;
                },
                set_encryption: function(value) {
                    this.nT(value);
                },
                add_pageChanged: function(handler) {
                    this.Ij(handler);
                },
                remove_pageChanged: function(handler) {
                    this.FN(handler);
                },
                add_pageRemoved: function(handler) {
                    this.Ho(handler);
                },
                remove_pageRemoved: function(handler) {
                    this.FS(handler);
                },
                add_pageAdded: function(handler) {
                    this.Io(handler);
                },
                remove_pageAdded: function(handler) {
                    this.EP(handler);
                },
                add_pageOpenFailed: function(handler) {
                    this.HB(handler);
                },
                remove_pageOpenFailed: function(handler) {
                    this.Gb(handler);
                },
                get_textRequestInfo: function() {
                    try {
                        var aF = this.aEo();
                        return aF;
                    } catch (e) {
                        throw e;
                    }
                },
                get_pagesWithText: function() {
                    try {
                        var aF = this.aEM();
                        return aF;
                    } catch (e) {
                        throw e;
                    }
                },
                get_numberOfPagesWithText: function() {
                    try {
                        var aF = this.aEr();
                        return aF;
                    } catch (e) {
                        throw e;
                    }
                },
                get_numberOfPagesWithoutText: function() {
                    try {
                        var aF = this.aDv();
                        return aF;
                    } catch (e) {
                        throw e;
                    }
                },
                add_textPagesReceived: function(handler) {
                    try {
                        this.asb(handler);
                    } catch (e) {
                        throw e;
                    }
                },
                remove_textPagesReceived: function(handler) {
                    try {
                        this.awE(handler);
                    } catch (e) {
                        this.bw('remove_textPagesReceived', e);
                        throw e;
                    }
                },
                add_propertyChanged: function(handler) {
                    this.jM(handler);
                },
                remove_propertyChanged: function(handler) {
                    this.mR(handler);
                }
            };
            BI.registerClass = cV;
            BI.registerClass('IPCC.Web.UI.ImGearDocument');
            module.exports = BI;
        }, {
            "./../../IPCC.Util": 29
        }],
        82: [function(require, module, exports) {
            var cV = require('./../../IPCC.Util').regClass;
            var Sj = function() {
                var kM = [];
                var ax = new IPCC.Web.UI.gV();
                var V = this;

                function asI(bC, F) {
                    if (F) {
                        var KW = new IPCC.Web.UI.ImGearDocumentEventArgs();
                        KW.document = bC;
                        KW.propertyName = F.get_propertyName();
                        KW.length = 2;
                        V.aQ('documentChanged', KW);
                    }
                };
                this.SP = function(aCJ) {
                    this.ago(kM.length, aCJ);
                };
                this.ago = function(ay, bQ) {
                    var ba;
                    var ds = kM.length;
                    if (ay > kM.length || (ay < 0)) {
                        throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index', ay, 'document index is out of range');
                    }
                    for (ba = 0; ba < ds; ba++) {
                        if (kM[ba] === bQ) {
                            throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');
                        }
                    }
                    var ajv = ax.getHandler('pageAdded');
                    if (ajv) {
                        bQ.add_pageAdded(ajv);
                    }
                    var aiA = ax.getHandler('pageRemoved');
                    if (aiA) {
                        bQ.add_pageRemoved(aiA);
                    }
                    var aiC = ax.getHandler('pageChanged');
                    if (aiC) {
                        bQ.add_pageChanged(aiC);
                    }
                    bQ.add_propertyChanged(asI);
                    kM.splice(ay, 0, bQ);
                    var F = new IPCC.Web.UI.ImGearDocumentEventArgs();
                    F.imGearDocument = bQ;
                    F.index = ay;
                    F.length = 1;
                    this.aQ('documentAdded', F);
                };

                function lN(ay) {
                    if (ay > kM.length - 1 || (ay < 0)) {
                        throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index', ay, 'document index is out of range');
                    }
                };
                this.Qd = function(ay) {
                    lN(ay);
                    return kM[ay];
                };
                this.en = function() {
                    return kM.length;
                };
                this.aIh = function(je, cX) {
                    var adD = [].concat(kM);
                    var C;
                    for (C = 0; C < adD.length; C++) {
                        je.call(cX, adD[C], C, this);
                    }
                };
                this.acN = function(ay) {
                    lN(ay);
                    var F = new IPCC.Web.UI.ImGearDocumentEventArgs();
                    F.imGearDocument = kM[ay];
                    F.length = 1;
                    kM[ay].get_pages().removeAllPages();
                    kM.splice(ay, 1);
                    this.aQ('documentRemoved', F);
                };
                this.avM = function() {
                    var C = 0;
                    while (kM.length > 0) {
                        this.acN(C);
                    }
                };
                this.atA = function(H) {
                    ax.addHandler('documentAdded', H);
                };
                this.awi = function(H) {
                    ax.removeHandler('documentAdded', H);
                };
                this.arO = function(H) {
                    ax.addHandler('documentRemoved', H);
                };
                this.awO = function(H) {
                    ax.removeHandler('documentRemoved', H);
                };
                this.asr = function(H) {
                    ax.addHandler('documentChanged', H);
                };
                this.awA = function(H) {
                    ax.removeHandler('documentChanged', H);
                };
                this.Io = function(H) {
                    ax.addHandler('pageAdded', H);
                };
                this.EP = function(H) {
                    ax.removeHandler('pageAdded', H);
                    for (var ba = 0; ba < kM.length; ba++) {
                        kM[ba].remove_pageAdded(H);
                    }
                };
                this.Ij = function(H) {
                    ax.addHandler('pageChanged', H);
                };
                this.FN = function(H) {
                    ax.removeHandler('pageChanged', H);
                    for (var ba = 0; ba < kM.length; ba++) {
                        kM[ba].remove_pageChanged(H);
                    }
                };
                this.Ho = function(H) {
                    ax.addHandler('pageRemoved', H);
                };
                this.FS = function(H) {
                    ax.removeHandler('pageRemoved', H);
                    for (var ba = 0; ba < kM.length; ba++) {
                        kM[ba].remove_pageRemoved(H);
                    }
                };
                this.aQ = function(cZ, F) {
                    var H = ax.getHandler(cZ);
                    if (H !== null) {
                        try {
                            H(V, F);
                        } catch (e) {
                            IPCC.iU.MW('event raise, ImGearDocumentCollection, error: ' + e.message);
                        }
                    }
                };
                return this;
            };
            Sj.prototype = {
                addDocument: function(imGearDocument) {
                    this.SP(imGearDocument);
                },
                insertDocument: function(index, imGearDocument) {
                    this.ago(index, imGearDocument);
                },
                forEach: function(method, context) {
                    this.ld(method, context);
                },
                getDocument: function(index) {
                    return this.Qd(index);
                },
                get_length: function() {
                    return this.en();
                },
                removeDocument: function(imGearDocument) {
                    this.acN(imGearDocument);
                },
                removeAllDocuments: function() {
                    this.avM();
                },
                add_documentAdded: function(handler) {
                    this.atA(handler);
                },
                remove_documentAdded: function(handler) {
                    this.awi(handler);
                },
                add_documentRemoved: function(handler) {
                    this.arO(handler);
                },
                remove_documentRemoved: function(handler) {
                    this.awO(handler);
                },
                add_documentChanged: function(handler) {
                    this.asr(handler);
                },
                remove_documentChanged: function(handler) {
                    this.awA(handler);
                },
                add_pageAdded: function(handler) {
                    this.Io(handler);
                },
                remove_pageAdded: function(handler) {
                    this.EP(handler);
                },
                add_pageRemoved: function(handler) {
                    this.Ho(handler);
                },
                remove_pageRemoved: function(handler) {
                    this.FS(handler);
                },
                add_pageChanged: function(handler) {
                    this.Ij(handler);
                },
                remove_pageChanged: function(handler) {
                    this.FN(handler);
                }
            };
            Sj.registerClass = cV;
            Sj.registerClass('IPCC.Web.UI.ImGearDocumentCollection');
            module.exports = Sj;
        }, {
            "./../../IPCC.Util": 29
        }],
        83: [function(require, module, exports) {
            var cV = require('./../../IPCC.Util').regClass;
            var QT = function() {
                return this;
            };
            QT.registerClass = cV;
            QT.prototype = {};
            QT.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');
            module.exports = QT;
        }, {
            "./../../IPCC.Util": 29
        }],
        84: [function(require, module, exports) {
            var cV = require('./../../IPCC.Util').regClass;
            var QQ = function() {
                return this;
            };
            QQ.registerClass = cV;
            QQ.prototype = {};
            QQ.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');
            module.exports = QQ;
        }, {
            "./../../IPCC.Util": 29
        }],
        85: [function(require, module, exports) {
            var avY = function(jQ) {
                var aM = 0,
                    di = 0,
                    ag = 0,
                    aH = 0,
                    le = jQ.href || "",
                    apa = jQ.borderStyle || "Solid",
                    mk = jQ.borderThickness || 0,
                    Ah = jQ.borderPattern || [1],
                    Ia = jQ.borderHorizontalRadius || 0,
                    GP = jQ.borderHorizontalRadius || 0,
                    nC = jQ.borderColor || "#0000FF",
                    rv = jQ.borderOpacity || 255,
                    R, L;
                if (typeof rv === 'string') {
                    rv = parseInt(rv, 10);
                }
                if (jQ.rectangle) {
                    aM = jQ.rectangle.x;
                    di = jQ.rectangle.y;
                    ag = jQ.rectangle.width;
                    aH = jQ.rectangle.height;
                }
                R = new IPCC.Web.UI.Rectangle(aM, di, ag, aH);
                this.eA = function() {
                    var Wk = new IPCC.Web.UI.Rectangle(R.x, R.y, R.width, R.height);
                    return Wk;
                };
                this.Ds = function(mt) {
                    R.x = mt.x;
                    R.y = mt.y;
                    R.width = mt.width;
                    R.height = mt.height;
                };
                this.ait = function() {
                    return le;
                };
                this.aFl = function() {
                    return apa;
                };
                this.aGt = function() {
                    return mk;
                };
                this.aDC = function() {
                    return Ah;
                };
                this.aDP = function() {
                    return Ia;
                };
                this.aES = function() {
                    return GP;
                };
                this.aEZ = function() {
                    return nC;
                };
                this.aEu = function() {
                    return rv;
                };
                this.Ma = function() {
                    return L;
                };
                this.aBj = function(ayu) {
                    L = ayu;
                };
                this.aAD = function() {
                    return IPCC.T.agW(le);
                };
            };
            module.exports = avY;
        }, {}],
        86: [function(require, module, exports) {
            var gV = function gV() {
                if (arguments.length !== 0) {
                    throw new IPCC.Web.UI.ImGearParameterCountException();
                }
                this.HO = {};
            };
            gV.prototype.da = function(cB, H) {
                var cU = this.Zy(cB, true);
                cU[cU.length] = H;
            };
            gV.prototype.addHandler = function(cB, H) {
                this.da(cB, H);
            };
            gV.prototype.cP = function(cB, H) {
                var tf = this.Zy(cB);
                if (!tf) {
                    return;
                }
                var ay = IPCC.XO(tf, H);
                if (ay >= 0) {
                    tf.splice(ay, 1);
                }
            };
            gV.prototype.removeHandler = function(cB, H) {
                this.cP(cB, H);
            };
            gV.prototype.getHandler = function(cB) {
                var tf = this.Zy(cB);
                if (!tf || (tf.length === 0)) {
                    return null;
                }
                var cU = tf.slice();
                tf = cU;
                return function(source, args) {
                    for (var C = 0, qU = tf.length; C < qU; C++) {
                        tf[C](source, args);
                    }
                };
            };
            gV.prototype.Zy = function(cB, aoR) {
                if (!this.HO[cB]) {
                    if (!aoR) {
                        return null;
                    }
                    this.HO[cB] = [];
                }
                return this.HO[cB];
            };
            module.exports = gV;
        }, {}],
        87: [function(require, module, exports) {
            var cV = require('./../../IPCC.Util').regClass;
            var Cc = function(message, errorInfo) {
                this.message = message;
                var V = this;
                if (errorInfo) {
                    for (var Vl in errorInfo) {
                        if (errorInfo.hasOwnProperty(Vl)) {
                            V[Vl] = errorInfo[Vl];
                        }
                    }
                }
            };
            Cc.prototype = new Error();
            Cc.registerClass = cV;
            Cc.registerClass('IPCC.Web.UI.ImGearException');
            var AZ = function(statusCode, message, customErrorCode) {
                var hB = "IPCC.Web.UI.ImGearHttpException: ";
                if (message) {
                    hB += message;
                }
                this.message = hB;
                this.statusCode = statusCode;
                this.customErrorCode = customErrorCode;
            };
            AZ.prototype = new Error();
            AZ.registerClass = cV;
            AZ.registerClass('IPCC.Web.UI.ImGearHttpException');
            var tX = function(paramName, message) {
                var hB = "IPCC.Web.UI.ImGearArgumentException: " + (message ? message : IPCC.lz.argument);
                if (paramName) {
                    if (typeof(paramName) !== "undefined" && paramName !== null) {
                        hB += "\n" + IPCC.Web.xw(IPCC.lz.paramName, paramName);
                    }
                }
                this.message = hB;
                this.paramName = paramName;
            };
            tX.prototype = new Error();
            tX.registerClass = cV;
            tX.registerClass('IPCC.Web.UI.ImGearArgumentException');
            var BX = function(paramName, message) {
                var hB = "IPCC.Web.UI.ImGearArgumentNullException: " + (message ? message : IPCC.lz.argumentNull);
                if (paramName) {
                    if (typeof(paramName) !== "undefined" && paramName !== null) {
                        hB += "\n" + IPCC.Web.xw(IPCC.Res.paramName, paramName);
                    }
                }
                this.message = hB;
                this.paramName = paramName;
            };
            BX.prototype = new Error();
            BX.registerClass = cV;
            BX.registerClass('IPCC.Web.UI.ImGearArgumentNullException');
            var qj = function(paramName, actualValue, message) {
                var hB = "IPCC.Web.UI.ImGearArgumentOutOfRangeException: " + (message ? message : IPCC.lz.argumentOutOfRange);
                if (paramName) {
                    if (typeof(paramName) !== "undefined" && paramName !== null) {
                        hB += "\n" + IPCC.Web.xw(IPCC.lz.paramName, paramName);
                    }
                }
                if (typeof(actualValue) !== "undefined" && actualValue !== null) {
                    hB += "\n" + IPCC.Web.xw(IPCC.lz.actualValue, actualValue);
                }
                this.message = hB;
                this.paramName = paramName;
                this.actualValue = actualValue;
            };
            qj.prototype = new Error();
            qj.registerClass = cV;
            qj.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');
            var zK = function(paramName, actualType, expectedType, message) {
                var hB = "IPCC.Web.UI.ImGearArgumentTypeException ";
                if (message) {
                    hB += message;
                } else if (actualType && expectedType) {
                    if (typeof(actualType.getName) === 'function' && typeof(expectedType.getName) === 'function') {
                        hB += IPCC.Web.xw(IPCC.lz.argumentTypeWithTypes, actualType.getName(), expectedType.getName());
                    } else {
                        hB += "actualType = " + actualType + " expectedType =  " + expectedType;
                    }
                } else {
                    hB += IPCC.lz.argumentType;
                }
                if (paramName) {
                    if (typeof(paramName) !== "undefined" && paramName !== null) {
                        hB += "\n" + IPCC.Web.xw(IPCC.lz.paramName, paramName);
                    }
                }
                this.message = hB;
                this.paramName = paramName;
                this.actualType = actualType;
                this.expectedType = expectedType;
            };
            zK.prototype = new Error();
            zK.registerClass = cV;
            zK.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');
            var BU = function(paramName, message) {
                var hB = "IPCC.Web.UI.ImGearArgumentUndefinedException: " + (message ? message : IPCC.lz.argumentUndefined);
                if (paramName) {
                    if (typeof(paramName) !== "undefined" && paramName !== null) {
                        hB += "\n" + IPCC.Web.xw(IPCC.Res.paramName, paramName);
                    }
                }
                this.message = hB;
                this.paramName = paramName;
            };
            BU.prototype = new Error();
            BU.registerClass = cV;
            BU.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');
            var CB = function(message) {
                var hB = "IPCC.Web.UI.ImGearInvalidOperationException: " + (message ? message : IPCC.lz.invalidOperation);
                this.message = hB;
            };
            CB.prototype = new Error();
            CB.registerClass = cV;
            CB.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');
            var Bd = function(message) {
                var hB = "IPCC.Web.UI.ImGearNotImplementedException: " + (message ? message : IPCC.lz.notImplemented);
                this.message = hB;
            };
            Bd.prototype = new Error();
            Bd.registerClass = cV;
            Bd.registerClass('IPCC.Web.UI.ImGearNotImplementedException');
            var BO = function(message) {
                var hB = "IPCC.Web.UI.ImGearParameterCountException: " + (message ? message : IPCC.lz.parameterCount);
                this.message = hB;
            };
            BO.prototype = new Error();
            BO.registerClass = cV;
            BO.registerClass('IPCC.Web.UI.ImGearParameterCountException');
            module.exports = {
                Cc: Cc,
                AZ: AZ,
                tX: tX,
                BX: BX,
                qj: qj,
                zK: zK,
                BU: BU,
                CB: CB,
                Bd: Bd,
                BO: BO
            };
        }, {
            "./../../IPCC.Util": 29
        }],
        88: [function(require, module, exports) {
            var awu = function() {
                var FI = [];
                this.arP = function(awZ) {
                    FI.push(awZ);
                };
                this.dp = function() {
                    return FI.length;
                };
                this.ld = function(je, cX) {
                    IPCC.T.forEach(FI, je, cX);
                };
                this.awg = function() {
                    if (FI.length < 1) {
                        return;
                    }
                    FI = [];
                };
                return this;
            };
            module.exports = awu;
        }, {}],
        89: [function(require, module, exports) {
            var awx = function() {
                var GE = new IPCC.Web.UI.ImGearHyperlinkCollection();
                this.KA = function() {
                    return GE;
                };
            };
            module.exports = awx;
        }, {}],
        90: [function(require, module, exports) {
            var cV = require('./../../IPCC.Util').regClass;
            var Ra = function(be) {
                this.bQ = undefined;
                var aY = 0;
                var bL = 0,
                    aam = 0,
                    aak = 0;
                var aS = 0,
                    amu = 0,
                    amy = 0;
                var V = this;
                var ax = new IPCC.Web.UI.gV();
                this.aHQ = undefined;
                this.gv = {
                    qB: 0,
                    adQ: false,
                    sz: 1000,
                    NX: false
                };
                var ft = new IPCC.Web.UI.ImGearTextPage();
                var Qi = new IPCC.Web.UI.ImGearHyperlinkPage();
                var jP = 0;
                var nM = false;
                var Ek = false,
                    DO = 0,
                    EK = 0;

                function agq(o) {
                    return !isNaN(o - 0);
                };
                if (be.pageNumber !== undefined) {
                    if (agq(be.pageNumber)) {
                        aY = be.pageNumber;
                    } else {
                        throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber", "", 'The value must be a number.');
                    }
                }
                this.pa = function() {
                    return aY;
                };
                this.aHJ = function(G) {
                    if (agq(be.pageNumber)) {
                        aY = G;
                    }
                };
                this.kt = function() {
                    return bL;
                };

                function ahy() {
                    if (!ft) {
                        ft = new IPCC.Web.UI.ImGearTextPage();
                    }
                    var auj = ft.gT();
                    var pN = bL / DO,
                        pI = aS / EK;
                    auj.aDS(pN, pI);
                };

                function ahG() {
                    var GE = Qi.KA();
                    var pN = bL / DO,
                        pI = aS / EK;
                    GE.ld(function(fO) {
                        fO.Ds(fO.eA().scale(pN, pI));
                        var aiG = fO.Ma();
                        aiG.set_rectangle(aiG.get_rectangle().scale(pN, pI));
                    });
                };
                this.KV = function(G) {
                    bL = G;
                    if (Ek && bL && bL !== DO && aS && aS !== EK) {
                        ahy();
                        ahG();
                        Ek = false;
                    }
                };
                this.jk = function() {
                    return aS;
                };
                this.Mr = function(G) {
                    aS = G;
                    if (Ek && bL && bL !== DO && aS && aS !== EK) {
                        ahy();
                        ahG();
                        Ek = false;
                    }
                };
                this.ahW = function() {
                    return aam;
                };
                this.ado = function(G) {
                    aam = G;
                };
                this.aGx = function() {
                    return amu;
                };
                this.adn = function(G) {
                    amu = G;
                };
                this.aGf = function() {
                    return aak;
                };
                this.aIy = function(G) {
                    aak = G;
                };
                this.aFO = function() {
                    return amy;
                };
                this.aHR = function(G) {
                    amy = G;
                };
                this.aEK = function() {
                    return this.bQ;
                };
                this.ca = function() {
                    if (!ft) {
                        ft = new IPCC.Web.UI.ImGearTextPage();
                    }
                    return ft;
                };
                this.kW = function() {
                    return jP;
                };
                this.wX = function(G) {
                    if (jP === G) {
                        return;
                    }
                    if (isNaN(G)) {
                        return;
                    }
                    jP = G;
                    this.cG('serviceResponseTimeout');
                };
                this.ip = function() {
                    return nM;
                };
                this.nT = function(G) {
                    nM = G;
                };
                this.jM = function(H) {
                    ax.addHandler('propertyChanged', H);
                };
                this.mR = function(H) {
                    ax.removeHandler('propertyChanged', H);
                };
                this.xN = function(H) {
                    ax.addHandler('textPageReady', H);
                };
                this.Du = function(H) {
                    ax.removeHandler('textPageReady', H);
                };
                this.ais = function() {
                    return Qi;
                };
                this.RE = function(H) {
                    ax.addHandler('hyperlinkPageReady', H);
                };
                this.acV = function(H) {
                    ax.removeHandler('hyperlinkPageReady', H);
                };
                this.xr = function(H) {
                    ax.da('textExtractionFailed', H);
                };
                this.Ed = function(H) {
                    ax.cP('textExtractionFailed', H);
                };
                this.adC = function(gX) {
                    if (bL === 0 && aS === 0) {
                        Ek = true;
                        DO = gX.width;
                        EK = gX.height;
                    }
                };
                this.acj = function(gX) {
                    if (!ft) {
                        ft = new IPCC.Web.UI.ImGearTextPage();
                    }
                    if (ft.gT().en() > 0) {
                        return;
                    } else if (gX.errorCode) {
                        var oQ = new IPCC.Web.UI.ImGearException(gX.errorDescription, {
                            name: 'Text Extraction'
                        });
                        var cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                        cs.exception = oQ;
                        cs.pageNumber = V.get_pageNumber();
                        V.aQ('textExtractionFailed', cs);
                        return;
                    }
                    var auL = ft.gT();
                    var Jm = false;
                    var afq;

                    function Ki(SG) {
                        return SG;
                    };
                    var pI = 1;
                    var pN = 1;
                    if (gX.height && gX.height > 0 && aS > 0) {
                        if (gX.height !== aS) {
                            pI = aS / gX.height;
                        }
                    }
                    if (gX.width && gX.width > 0 && bL > 0) {
                        if (gX.width !== bL) {
                            pN = bL / gX.width;
                        }
                    }
                    var fU;
                    var aed = -1;
                    var KY;
                    var iP, AN;
                    for (var C = 0; C < gX.rectangles.length; C++) {
                        iP = gX.rectangles[C];
                        AN = Ki(gX.text[C]);
                        Jm = false;
                        if (iP[2] === 0) {
                            AN = "\n";
                            Jm = true;
                            if (C > 0) {
                                afq = gX.rectangles[C - 1];
                                iP[2] = afq[2];
                            }
                        }
                        if (pN === 1 && pI === 1) {
                            KY = new IPCC.Web.UI.ImGearTextCharacter(iP[0], iP[1], iP[2], iP[3], AN, Jm);
                        } else {
                            KY = new IPCC.Web.UI.ImGearTextCharacter(iP[0] * pN, iP[1] * pI, iP[2] * pN, iP[3] * pI, AN, Jm);
                        }
                        if (KY) {
                            auL.asJ(KY);
                        }
                        if (fU === undefined || aed !== iP[1] || iP[0] < fU.eA().x) {
                            if (fU) {
                                ft.YK().akl(fU);
                            }
                            fU = new IPCC.Web.UI.ImGearTextSection();
                            fU.Ds(new IPCC.Web.UI.Rectangle(iP[0], iP[1], iP[2], iP[3]));
                            fU.aBA(C);
                        } else {
                            if (iP[0] + iP[2] - fU.eA().x > fU.eA().width) {
                                fU.eA().width = iP[0] + iP[2] - fU.eA().x;
                            }
                        }
                        fU.azx(C);
                        aed = iP[1];
                    }
                    if (fU) {
                        ft.YK().akl(fU);
                    }
                    ft.aBV(gX.text);
                    if (gX.text.length > 0) {
                        ft.MI(true);
                        V.aQ('textPageReady', {
                            pageNumber: V.pa(),
                            containsText: true
                        });
                    } else {
                        ft.MI(false);
                        V.aQ('textPageReady', {
                            pageNumber: V.pa(),
                            containsText: false
                        });
                    }
                };
                this.adJ = function(aml, Oq, MD) {
                    if (!aml) {
                        return;
                    }
                    Qi.KA().awg();
                    var pI = 1;
                    var pN = 1;
                    if (Oq && Oq > 0 && aS > 0) {
                        if (Oq !== aS) {
                            pI = aS / Oq;
                        }
                    }
                    if (MD && MD > 0 && bL > 0) {
                        if (MD !== bL) {
                            pN = bL / MD;
                        }
                    }
                    IPCC.T.forEach(aml, function(anu) {
                        var fO;
                        switch (anu.markType) {
                            case "DocumentHyperlink":
                                fO = new IPCC.Web.UI.ImGearDocumentHyperlink(anu.properties);
                                fO.Ds(fO.eA().scale(pN, pI));
                                if (!fO.aAD()) {
                                    Qi.KA().arP(fO);
                                }
                                break;
                            default:
                                break;
                        }
                    });
                    V.aQ('hyperlinkPageReady', {
                        pageNumber: V.pa()
                    });
                };
                this.awy = function() {
                    V.zJ();
                };
                this.zJ = function() {
                    if (!ft) {
                        ft = new IPCC.Web.UI.ImGearTextPage();
                    }
                    if (!V.bQ) {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');
                    }
                    if (ft.vG()) {
                        return;
                    }
                    var abZ = true;
                    if (V.kW() === 0) {
                        abZ = false;
                    }

                    function Rc(bv) {
                        if (bv.pages) {
                            var aw;
                            if (bv.pages.length > 0) {
                                if (bv.pages[0].number !== V.pa()) {
                                    for (var C = 0; C < bv.pages.length; C++) {
                                        if (bv.pages[C].number === V.pa()) {
                                            aw = C;
                                            break;
                                        }
                                    }
                                    if (!aw) {
                                        V.gv.NX = false;
                                        return;
                                    }
                                } else {
                                    aw = 0;
                                }
                                var gX = bv.pages[aw];
                                V.gv.NX = true;
                                if (bv.pages[aw].text && bv.pages[aw].text.length > 0) {
                                    ft.MI(true);
                                } else {
                                    ft.MI(false);
                                }
                                V.gv.sz = 1000;
                                V.adC(gX);
                                V.acj(gX);
                                V.adJ(gX.markup, gX.height, gX.width);
                                return;
                            }
                        }
                        var om = V.gv.sz;
                        if (!V.gv.NX) {
                            if (V.gv.qB < 6) {
                                if (V.gv.qB < 2) {
                                    om = om + 1000;
                                } else {
                                    om = om + 3000;
                                }
                                V.gv.qB++;
                                V.gv.sz = om;
                                setTimeout(V.awy, om);
                            } else {
                                V.gv.adQ = true;
                            }
                        }
                    };

                    function eI(aX) {
                        var iZ = V.bQ.iZ,
                            bk;
                        try {
                            var ej;
                            var os = aX.getResponseHeader("Accusoft-Data-Encrypted");
                            if (os === 'true') {
                                var tM = IPCC.Web.hj.pH.uR(aX.getResponseHeader("Accusoft-Data-SK"));
                                var bu = IPCC.Web.Gf(tM, iZ);
                                var fm = IPCC.Web.FV(aX);
                                var ve = IPCC.Web.Ec(fm, bu, iZ);
                                ej = IPCC.Web.hj.FD.nl(ve);
                            } else {
                                ej = aX.responseText;
                            }
                            if (typeof JSON !== 'undefined') {
                                bk = JSON.parse(ej);
                            } else {
                                bk = IPCC.ce.tg(ej);
                            }
                            Rc(bk);
                        } catch (e) {
                            var cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                            cs.exception = e;
                            cs.pageNumber = V.get_pageNumber();
                            V.aQ('textExtractionFailed', cs);
                            return;
                        }
                    };

                    function fc(bk) {
                        try {
                            if (!bk.response) {
                                throw new IPCC.Web.UI.ImGearHttpException(0, "Text extraction timeout");
                            } else {
                                if (bk.response.statusText) {
                                    throw new IPCC.Web.UI.ImGearHttpException(bk.response.status, "Unable to obtain text, Error from the service = " + bk.response.statusText);
                                } else {
                                    throw new IPCC.Web.UI.ImGearHttpException(bk.response.status, "Unable to obtain text from the service");
                                }
                            }
                        } catch (e) {
                            var cs = new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();
                            cs.exception = e;
                            cs.pageNumber = V.get_pageNumber();
                            V.aQ('textExtractionFailed', cs);
                            return;
                        }
                    };
                    var aT = V.get_pageNumber();
                    var ib = V.bQ.get_documentIdentifier();
                    if (!(/^[\x00-\x7F]*$/.test(ib))) {
                        ib = 'e' + V.bQ.get_encodedDocumentIdentifier();
                    } else {
                        ib = 'u' + encodeURIComponent(ib);
                    }
                    var gU = V.bQ.qf;
                    var pL = V.bQ.pL;
                    var aq;
                    if (V.ip()) {
                        aq = gU + passURL + '/Document/q/' + aT.toString() + '-' + aT.toString() + '/Text?DocumentID=' + ib + '&iv=' + pL;
                    } else {
                        aq = gU + passURL + '/Document/q/' + aT.toString() + '-' + aT.toString() + '/Text?DocumentID=' + ib;
                    }
                    var iG = {
                        method: 'GET',
                        url: aq,
                        headers: {
                            'accept': 'application/json'
                        }
                    };
                    if (abZ === true) {
                        iG.timeout = V.kW();
                    }
                    IPCC.T.lD.eh(iG).then(eI, fc);
                };
                this.ca = function() {
                    if (!ft) {
                        ft = new IPCC.Web.UI.ImGearTextPage();
                    }
                    return ft;
                };
                this.aFP = function(G) {
                    if (typeof G.mY !== 'function') {
                        return;
                    }
                    ft = G;
                };
                this.alP = function() {
                    ft = undefined;
                    V.gv = {
                        qB: 0,
                        adQ: false,
                        sz: 1000,
                        NX: false
                    };
                    Ek = false;
                    DO = 0;
                    EK = 0;
                };
                this.Rr = function(zk, AP) {
                    var V = this;

                    function eI(aX) {
                        var bk;
                        if (typeof JSON !== 'undefined') {
                            bk = JSON.parse(aX.responseText);
                        } else {
                            bk = IPCC.ce.tg(aX.responseText);
                        }
                        if (bk.imageWidth && bk.imageHeight) {
                            V.KV(bk.imageWidth);
                            V.Mr(bk.imageHeight);
                            zk(bk.imageWidth, bk.imageHeight);
                        } else {
                            AP("Unable to obtain document information from the server");
                        }
                    };

                    function fc(bk) {
                        AP("Unable to obtain document information from the server");
                    };
                    if (V.kt() > 0 || V.jk() > 0) {
                        zk(V.kt(), V.jk());
                    } else {
                        var qw = IPCC.gL.su(V.bQ.get_documentIdentifier());
                        if (!qw || qw === "") {
                            AP("Invalid encoded Identifier");
                        }
                        var wi = '';
                        if (!IPCC.vN.JP()) {
                            wi = '&ContentType=png';
                        }
                        var aq;
                        if (!(/^[\x00-\x7F]*$/.test(qw))) {
                            aq = V.bQ.qf + passURL + '/Page/q/' + (V.get_pageNumber()) + '/Attributes?DocumentID=e' + qw + wi;
                        } else {
                            aq = V.bQ.qf + passURL + '/Page/q/' + (V.get_pageNumber()) + '/Attributes?DocumentID=u' + encodeURIComponent(V.bQ.get_documentIdentifier()) + wi;
                        }
                        IPCC.T.lD.eh({
                            method: 'GET',
                            url: aq,
                            headers: {
                                'Content-Type': 'application/json'
                            }
                        }).then(eI, fc);
                    }
                };
                this.cG = function(dI) {
                    var H = ax.getHandler('propertyChanged');
                    if (H) {
                        H(this, new IPCC.nP(dI));
                    }
                };
                this.aQ = function(cZ, F) {
                    var H = ax.getHandler(cZ);
                    if (H !== null) {
                        try {
                            H(V, F);
                        } catch (e) {
                            IPCC.iU.MW('event raise, ImGearPage, error: ' + e.message);
                        }
                    }
                };
                return this;
            };
            Ra.prototype = {
                get_pageNumber: function() {
                    var aF = this.pa();
                    return aF;
                },
                get_pageWidth: function() {
                    var aF = this.kt();
                    return aF;
                },
                get_pageHeight: function() {
                    var aF = this.jk();
                    return aF;
                },
                get_textPage: function() {
                    var aF = this.ca();
                    return aF;
                },
                get_encryption: function() {
                    var aF = this.ip();
                    return aF;
                },
                set_encryption: function(value) {
                    this.nT(value);
                },
                get_hyperlinkPage: function() {
                    return this.ais();
                },
                get_document: function() {
                    var aF = this.aEK();
                    return aF;
                },
                add_propertyChanged: function(handler) {
                    this.jM(handler);
                },
                remove_propertyChanged: function(handler) {
                    this.mR(handler);
                },
                requestPageAttributes: function(attributesRetrievedCallback, attributesRetrievalFailedCallback) {
                    this.Rr(attributesRetrievedCallback, attributesRetrievalFailedCallback);
                }
            };
            Ra.registerClass = cV;
            Ra.registerClass('IPCC.Web.UI.ImGearPage');
            module.exports = Ra;
        }, {
            "./../../IPCC.Util": 29
        }],
        91: [function(require, module, exports) {
            var cV = require('./../../IPCC.Util').regClass;
            var Qq = function() {
                var V = this;
                var dQ = [];
                var ax = new IPCC.Web.UI.gV();
                this.aBO = false;
                this.aBC = true;
                this.bQ = undefined;
                this.ali = function(aP) {
                    this.adU(dQ.length, aP);
                };

                function lN(ay) {
                    if (ay > dQ.length - 1 || (ay < 0)) {
                        throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index', ay, 'page index is out of range in the page collection');
                    }
                };
                this.adU = function(ay, aP) {
                    var ba;
                    var ds = dQ.length;
                    if (ay > dQ.length || (ay < 0)) {
                        throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index', ay, 'index of the page Collection is out of range');
                    }
                    if (V.aBC && V.aBO) {
                        if (ds > 0) {
                            throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');
                        }
                    }
                    for (ba = 0; ba < ds; ba++) {
                        if (dQ[ba] === aP) {
                            throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');
                        }
                    }
                    if (V.bQ) {
                        if (!aP.bQ) {
                            aP.bQ = V.bQ;
                        }
                    }
                    aP.add_propertyChanged(FP);
                    dQ.splice(ay, 0, aP);
                    var F = new IPCC.Web.UI.ImGearPageEventArgs();
                    F.imGearPage = aP;
                    F.length = 1;
                    V.aQ('pageAdded', F);
                };
                this.jq = function(ay) {
                    lN(ay);
                    var eK = dQ[ay];
                    return eK;
                };
                this.aBT = function(ay, aP) {
                    lN(ay);
                    var Wd = dQ[ay];
                    if (Wd === aP) {
                        return;
                    }
                    dQ[ay] = aP;
                    var F = new IPCC.Web.UI.ImGearPageEventArgs();
                    F.imGearPage = aP;
                    F.length = 1;
                    this.aQ('pageAdded', F);
                    Wd.remove_propertyChanged(FP);
                    var yY = new IPCC.Web.UI.ImGearPageEventArgs();
                    yY.imGearPage = Wd;
                    yY.length = 1;
                    this.aQ('pageRemoved', yY);
                };
                this.en = function() {
                    return dQ.length;
                };
                this.ld = function(je, cX) {
                    var acB = [].concat(dQ);
                    var C;
                    for (C = 0; C < acB.length; C++) {
                        je.call(cX, acB[C], C, this);
                    }
                };
                this.acc = function(ay) {
                    lN(ay);
                    var F = new IPCC.Web.UI.ImGearPageEventArgs();
                    F.imGearPage = dQ[ay];
                    dQ[ay].remove_propertyChanged(FP);
                    F.length = 1;
                    dQ.splice(ay, 1);
                    V.aQ('pageRemoved', F);
                };
                this.aGR = function(aP) {
                    var dp = dQ.length;
                    for (var C = 0; C < dp; C++) {
                        if (aP === dQ[C]) {
                            return C;
                        }
                    }
                    return -1;
                };
                this.awT = function() {
                    var C = 0;
                    while (dQ.length > 0) {
                        this.acc(C);
                    }
                };

                function FP(bC, F) {
                    var yY = new IPCC.Web.UI.ImGearPageEventArgs();
                    yY.imGearPage = bC;
                    yY.length = 1;
                    V.aQ('pageChanged', yY);
                };
                this.Io = function(H) {
                    ax.addHandler('pageAdded', H);
                };
                this.EP = function(H) {
                    ax.removeHandler('pageAdded', H);
                };
                this.Ij = function(H) {
                    ax.addHandler('pageChanged', H);
                };
                this.FN = function(H) {
                    ax.removeHandler('pageChanged', H);
                };
                this.Ho = function(H) {
                    ax.addHandler('pageRemoved', H);
                };
                this.FS = function(H) {
                    ax.removeHandler('pageRemoved', H);
                };
                this.aQ = function(cZ, F) {
                    var H = ax.getHandler(cZ);
                    if (H !== null) {
                        try {
                            H(V, F);
                        } catch (e) {
                            IPCC.iU.MW('raise event error in ImGearPageCollection, Error: ' + e.message);
                        }
                    }
                };
                return this;
            };
            Qq.prototype = {
                addPage: function(page) {
                    this.ali(page);
                },
                insertPage: function(index, page) {
                    this.adU(index, page);
                },
                forEach: function(method, context) {
                    this.ld(method, context);
                },
                getPage: function(index) {
                    return this.jq(index);
                },
                setPage: function(index, page) {
                    this.aBT(index, page);
                },
                get_length: function() {
                    return this.en();
                },
                removePage: function(index) {
                    this.acc(index);
                },
                removeAllPages: function() {
                    this.awT();
                },
                add_pageAdded: function(handler) {
                    this.Io(handler);
                },
                remove_pageAdded: function(handler) {
                    this.EP(handler);
                },
                add_pageChanged: function(handler) {
                    this.Ij(handler);
                },
                remove_pageChanged: function(handler) {
                    this.FN(handler);
                },
                add_pageRemoved: function(handler) {
                    this.Ho(handler);
                },
                remove_pageRemoved: function(handler) {
                    this.FS(handler);
                }
            };
            Qq.registerClass = cV;
            Qq.registerClass('IPCC.Web.UI.ImGearPageCollection');
            module.exports = Qq;
        }, {
            "./../../IPCC.Util": 29
        }],
        92: [function(require, module, exports) {
            var eP = require('./../../IPCC.Util').regEnum;
            var Rj = function() {};
            Rj.registerEnum = eP;
            Rj.prototype = {
                UnRequested: 0,
                RequestPending: 1,
                Known: 2,
                Failed: 3
            };
            Rj.registerEnum('IPCC.Web.UI.ImGearPageCountStatus', false);
            module.exports = Rj;
        }, {
            "./../../IPCC.Util": 29
        }],
        93: [function(require, module, exports) {
            var cV = require('./../../IPCC.Util').regClass;
            var RO = function() {};
            RO.registerClass = cV;
            RO.prototype = {};
            RO.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');
            module.exports = RO;
        }, {
            "./../../IPCC.Util": 29
        }],
        94: [function(require, module, exports) {
            var cV = require('./../../IPCC.Util').regClass;
            var Rz = function() {
                return this;
            };
            Rz.prototype = {};
            Rz.registerClass = cV;
            Rz.registerClass('IPCC.Web.UI.ImGearPageEventArgs');
            module.exports = Rz;
        }, {
            "./../../IPCC.Util": 29
        }],
        95: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var RQ = function() {
                return this;
            };
            RQ.registerClass = cV;
            RQ.prototype = {};
            RQ.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');
            module.exports = RQ;
        }, {
            "../../IPCC.Util": 29
        }],
        96: [function(require, module, exports) {
            var avS = function(aM, di, ag, aH, AN, aAm) {
                this.aW = new IPCC.Web.UI.Rectangle(aM, di, ag, aH);
                this.jW = AN;
                this.Kz = aAm;
                this.aFJ = function() {
                    return AN;
                };
                this.uy = function() {
                    var Wk = new IPCC.Web.UI.Rectangle(this.aW.x, this.aW.y, this.aW.width, this.aW.height);
                    return Wk;
                };
                this.aGo = function() {
                    return this.Kz;
                };
            };
            module.exports = avS;
        }, {}],
        97: [function(require, module, exports) {
            var awB = function() {
                var jE = [];
                this.asJ = function(jT) {
                    jE.push(new IPCC.Web.UI.ImGearTextCharacter(jT.aW.x, jT.aW.y, jT.aW.width, jT.aW.height, jT.jW, jT.Kz));
                };
                this.aGQ = function(ava) {
                    function oq(jT) {
                        jE.push(jT);
                    };
                    ava.forEach(oq, {});
                };
                this.aws = function() {
                    var adj = [];
                    for (var ba = 0; ba < this.en(); ba++) {
                        var KM = this.kT(ba).aW;
                        var R = [];
                        R.push(KM.x);
                        R.push(KM.y);
                        R.push(KM.width);
                        R.push(KM.height);
                        adj.push(R);
                    }
                    return adj;
                };
                this.aHx = function(ay, abS) {
                    var ba;
                    var ds = jE.length;
                    if (ay > jE.length || (ay < 0)) {
                        throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index', ay, 'index of theText Character Collection is out of range');
                    }
                    for (ba = 0; ba < ds; ba++) {
                        if (jE[ba] === abS) {
                            throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same bv Character instance in a jT collection).');
                        }
                    }
                    jE.splice(ay, 0, abS);
                };
                this.aDS = function(aaD, acp) {
                    IPCC.T.forEach(jE, function(jW) {
                        jW.aW.width = jW.aW.width * aaD;
                        jW.aW.height = jW.aW.height * acp;
                        jW.aW.x = jW.aW.x * aaD;
                        jW.aW.y = jW.aW.y * acp;
                    });
                };
                this.ld = function(je, cX) {
                    var YP = [].concat(jE);
                    var C;
                    for (C = 0; C < YP.length; C++) {
                        je.call(cX, new IPCC.Web.UI.ImGearTextCharacter(YP[C].x, YP[C].y), C, this);
                    }
                };

                function lN(ay) {
                    if (ay > jE.length - 1 || (ay < 0)) {
                        throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index', ay);
                    }
                };
                this.kT = function(ay) {
                    lN(ay);
                    var pW = jE[ay];
                    return new IPCC.Web.UI.ImGearTextCharacter(pW.aW.x, pW.aW.y, pW.aW.width, pW.aW.height, pW.jW, pW.Kz);
                };
                this.aFx = function(ay, jT) {
                    lN(ay);
                    var CN = jE[ay];
                    if (CN.aW.x === jT.aW.x && CN.aW.y === jT.y && CN.aW.width === jT.aW.width && CN.aW.height === jT.aW.height && CN.jW === jT.jW && CN.Kz === jT.Kz) {
                        return;
                    }
                    jE[ay] = jT;
                };
                this.en = function() {
                    return jE.length;
                };
                this.aHD = function(ay) {
                    lN(ay);
                    jE.splice(ay, 1);
                };
                this.aIA = function() {
                    if (jE.length < 1) {
                        return;
                    }
                    jE = [];
                };
                return this;
            };
            module.exports = awB;
        }, {}],
        98: [function(require, module, exports) {
            var avH = function() {
                var atK = new IPCC.Web.UI.ImGearTextCharacterCollection();
                var VH = false;
                var acO = false;
                var Ym = "";
                var tQ = new IPCC.Web.UI.ImGearTextSectionCollection();
                var ZH = false;
                this.gT = function() {
                    return atK;
                };
                this.mY = function() {
                    return VH;
                };
                this.MI = function(G) {
                    acO = true;
                    if (G === VH) {
                        return;
                    }
                    if ((G === true) || (G === false)) {
                        VH = G;
                    }
                };
                this.vG = function() {
                    return acO;
                };
                this.AX = function() {
                    return Ym;
                };
                this.aBV = function(G) {
                    if (G === Ym) {
                        return;
                    }
                    Ym = G;
                };
                this.YK = function() {
                    return tQ;
                };
                this.aEQ = function() {
                    return ZH;
                };
                this.adF = function(G) {
                    if (G === ZH) {
                        return;
                    }
                    if ((G === true) || (G === false)) {
                        ZH = G;
                    }
                };
            };
            module.exports = avH;
        }, {}],
        99: [function(require, module, exports) {
            var awt = function() {
                var R = null;
                var aT = 0;
                var dr = 0;
                this.eA = function() {
                    return R;
                };
                this.Ds = function(G) {
                    R = G;
                };
                this.aiX = function() {
                    return aT;
                };
                this.aBA = function(G) {
                    aT = G;
                };
                this.ahS = function() {
                    return dr;
                };
                this.azx = function(G) {
                    dr = G;
                };
            };
            module.exports = awt;
        }, {}],
        100: [function(require, module, exports) {
            var awh = function() {
                var tQ = [];
                this.akl = function(fU) {
                    tQ.push(fU);
                };

                function lN(ay) {
                    if (ay > tQ.length - 1 || (ay < 0)) {
                        throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index', ay);
                    }
                };
                this.aww = function(ay) {
                    lN(ay);
                    return tQ[ay];
                };
                this.en = function() {
                    return tQ.length;
                };
                return this;
            };
            module.exports = awh;
        }, {}],
        101: [function(require, module, exports) {
            var eP = require('./../../IPCC.Util').regEnum;
            var KO = function() {
                if (arguments.length !== 0) {
                    throw new IPCC.Web.UI.ImGearParameterCountException();
                }
                throw new IPCC.Web.UI.ImGearNotImplementedException();
            };
            KO.registerEnum = eP;
            KO.prototype = {
                backspace: 8,
                tab: 9,
                enter: 13,
                esc: 27,
                space: 32,
                pageUp: 33,
                pageDown: 34,
                end: 35,
                home: 36,
                left: 37,
                up: 38,
                right: 39,
                down: 40,
                del: 127
            };
            KO.registerEnum("IPCC.Web.UI.Key");
            module.exports = KO;
        }, {
            "./../../IPCC.Util": 29
        }],
        102: [function(require, module, exports) {
            var eP = require('../../IPCC.Util').regEnum;
            var MT = function() {};
            MT.registerEnum = eP;
            MT.prototype = {
                Pointer: 0,
                Solid: 1,
                Open: 2,
                PointerSolid: 3,
                None: 4
            };
            MT.registerEnum('IPCC.Web.UI.LineHeadType', false);
            module.exports = MT;
        }, {
            "../../IPCC.Util": 29
        }],
        103: [function(require, module, exports) {
            var eP = require('../../IPCC.Util').regEnum;
            var Nb = function() {};
            Nb.registerEnum = eP;
            Nb.prototype = {
                Solid: 0,
                Dash: 1,
                Dot: 2,
                DashDot: 3,
                DashDotDot: 4
            };
            Nb.registerEnum('IPCC.Web.UI.LineStyle', false);
            module.exports = Nb;
        }, {
            "../../IPCC.Util": 29
        }],
        104: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var Na = function() {
                return this;
            };
            Na.registerClass = cV;
            Na.prototype = {};
            Na.registerClass('IPCC.Web.UI.LogItemEventArgs');
            module.exports = Na;
        }, {
            "../../IPCC.Util": 29
        }],
        105: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var ML = function(type) {
                var an = type;
                type = undefined;
                var sV = new Date();
                var sx = new Date();
                var au = null;
                var R;
                var bF;
                var dq;
                var dN = new IPCC.Web.UI.Data();
                var ax = new IPCC.Web.UI.gV();
                var V = this;
                var ii;
                this.eu = function(lf, dI) {
                    if ((ii & lf) === 0) {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException(dI + ' is not a valid property for this type of Mark.');
                    }
                };
                if (an === IPCC.Web.UI.MarkType.SignatureText) {
                    this.kL = '#000000';
                    this.jz = IPCC.Web.UI.LineStyle.Solid;
                    this.eS = 0;
                } else {
                    this.kL = '#000000';
                    this.jz = IPCC.Web.UI.LineStyle.Solid;
                    this.eS = 1;
                }
                this.cT = 255;
                this.nS = IPCC.Web.UI.MarkInteractionMode.Full;
                var ll = false;
                switch (an) {
                    case IPCC.Web.UI.MarkType.Line:
                        ll = true;
                        bF = new IPCC.Web.UI.PointCollection();
                        bF.addPoint({
                            x: 0,
                            y: 0
                        });
                        bF.addPoint({
                            x: 0,
                            y: 0
                        });
                        ii = 1;
                        this.kL = '#18385F';
                        this.eS = 6;
                        break;
                    case IPCC.Web.UI.MarkType.Polyline:
                        ll = true;
                        this.sp = false;
                        bF = new IPCC.Web.UI.PointCollection();
                        ii = 2;
                        this.eS = 2;
                        break;
                    case IPCC.Web.UI.MarkType.Rectangle:
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        ii = 4;
                        this.dR = '#FB0404';
                        this.eS = 4;
                        break;
                    case IPCC.Web.UI.MarkType.Ellipse:
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        ii = 8;
                        this.dR = '#FB0404';
                        this.eS = 4;
                        break;
                    case IPCC.Web.UI.MarkType.Polygon:
                        bF = new IPCC.Web.UI.PointCollection();
                        ii = 16;
                        break;
                    case IPCC.Web.UI.MarkType.Text:
                        this.Dr = '#000000';
                        this.CL = false;
                        this.ss = IPCC.Web.UI.LineStyle.Solid;
                        this.Eq = 1;
                        this.mg = new IPCC.Web.UI.Point(0, 0);
                        this.Dj = IPCC.Web.UI.CalloutType.Triangle;
                        this.wN = false;
                        this.hH = 'Arial';
                        this.cu = 12;
                        this.cc = IPCC.Web.UI.FontStyle.Regular;
                        this.jz = IPCC.Web.UI.LineStyle.Solid;
                        this.fY = 0;
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        this.bv = '';
                        this.iA = IPCC.Web.UI.HorizontalAlignment.Left;
                        this.yO = IPCC.Web.UI.VerticalAlignment.Top;
                        this.pO = '#000000';
                        this.AV = 255;
                        this.zd = IPCC.Web.UI.Orientation.TopLeft;
                        this.eE = [];
                        this.eS = 4;
                        this.cT = 127;
                        this.dR = '#FFFFFF';
                        ii = 32;
                        break;
                    case IPCC.Web.UI.MarkType.Stamp:
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        ii = 128;
                        break;
                    case IPCC.Web.UI.MarkType.Highlight:
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        this.ah = '';
                        this.kQ = 'n';
                        this.aT = 0;
                        this.cS = '';
                        this.cq = 0;
                        this.cT = 127;
                        ii = 256;
                        break;
                    case IPCC.Web.UI.MarkType.HighlightText:
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        this.ah = '';
                        this.kQ = 'n';
                        this.aT = 0;
                        this.cS = '';
                        this.cq = 0;
                        this.cT = 127;
                        this.dR = '#FFFF00';
                        ii = 512;
                        this.eE = [];
                        this.bA = [];
                        break;
                    case IPCC.Web.UI.MarkType.Freehand:
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        ii = 64;
                        this.eS = 4;
                        this.kL = '#000000';
                        this.jw = false;
                        this.Rs = 1;
                        this.TM = 1;
                        this.uY = 'M0,0';
                        break;
                    case IPCC.Web.UI.MarkType.SignaturePath:
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        ii = 1024;
                        this.iA = IPCC.Web.UI.HorizontalAlignment.Center;
                        this.eS = 4;
                        this.kL = '#000000';
                        this.jw = false;
                        this.Rs = 1;
                        this.TM = 1;
                        this.uY = 'M0,0';
                        break;
                    case IPCC.Web.UI.MarkType.SignatureText:
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        ii = 2048;
                        this.iA = IPCC.Web.UI.HorizontalAlignment.Center;
                        this.bv = 'John Doe';
                        this.pO = '#000000';
                        this.dR = '#000000';
                        this.hH = "";
                        break;
                    case IPCC.Web.UI.MarkType.RectangleRedaction:
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        ii = 4096;
                        this.hH = 'Arial';
                        this.cu = 8;
                        this.cc = IPCC.Web.UI.FontStyle.Regular;
                        this.bv = '';
                        this.iA = IPCC.Web.UI.HorizontalAlignment.Center;
                        this.yO = IPCC.Web.UI.VerticalAlignment.Center;
                        this.dR = '#000000';
                        this.pO = '#FFFFFF';
                        this.AV = 255;
                        this.zd = IPCC.Web.UI.Orientation.TopLeft;
                        break;
                    case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        this.bA = [];
                        this.ah = '';
                        this.eN = '';
                        this.bv = '';
                        this.hH = 'Arial';
                        this.cu = 8;
                        this.aT = 0;
                        this.cq = 0;
                        ii = 8192;
                        this.eE = [];
                        break;
                    case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        this.le = '';
                        this.eS = 2;
                        this.cS = '';
                        this.ah = '';
                        this.kQ = 'n';
                        this.aT = 0;
                        this.cq = 0;
                        this.dR = '#3B00FF';
                        ii = 1 << 14;
                        this.eE = [];
                        this.bA = [];
                        break;
                    case IPCC.Web.UI.MarkType.ImageStampAnnotation:
                    case IPCC.Web.UI.MarkType.ImageStampRedaction:
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        ii = 16384;
                        this.bE = '';
                        this.pz = '';
                        break;
                    case IPCC.Web.UI.MarkType.DocumentHyperlink:
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        this.le = '';
                        this.NJ = '';
                        this.Ah = '';
                        this.Ia = 0;
                        this.GP = 0;
                        this.rv = 255;
                        ii = 32768;
                        break;
                    case IPCC.Web.UI.MarkType.TextLine:
                        ii = 65536;
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        this.iA = IPCC.Web.UI.HorizontalAlignment.Left;
                        this.bv = '';
                        this.pO = '#000000';
                        this.hH = "Courier New";
                        this.eS = 1;
                        this.jw = true;
                        this.fY = 0;
                        this.CW = 0;
                        this.FE = false;
                        var js = IPCC.T.tJ("M", this.hH, {
                            uj: 'pre'
                        });
                        this.xW = js.width;
                        this.zb = js.height;
                        this.iY = null;
                        break;
                    case IPCC.Web.UI.MarkType.TextAreaSignature:
                        this.Dr = '#000000';
                        this.CL = false;
                        this.ss = IPCC.Web.UI.LineStyle.Solid;
                        this.Eq = 1;
                        this.mg = new IPCC.Web.UI.Point(0, 0);
                        this.Dj = IPCC.Web.UI.CalloutType.Triangle;
                        this.wN = false;
                        this.hH = 'Courier New';
                        this.ig = 0;
                        this.fY = 0;
                        this.cu = 12;
                        this.cc = IPCC.Web.UI.FontStyle.Regular;
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        this.bv = '';
                        this.iA = IPCC.Web.UI.HorizontalAlignment.Left;
                        this.yO = IPCC.Web.UI.VerticalAlignment.Top;
                        this.pO = '#000000';
                        this.AV = 255;
                        this.zd = IPCC.Web.UI.Orientation.TopLeft;
                        this.eE = [];
                        this.eS = 1;
                        this.jw = false;
                        this.dR = '#FFFFFF';
                        this.cT = 0;
                        ii = 1 << 18;
                        break;
                    case IPCC.Web.UI.MarkType.Strikethrough:
                        R = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                        this.ah = '';
                        this.kL = '#000000';
                        this.eS = 2;
                        this.kQ = 'n';
                        this.aT = 0;
                        this.cS = '';
                        this.cq = 0;
                        ii = 1 << 17;
                        this.eE = [];
                        this.bA = [];
                        break;
                    default:
                        throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type', an);
                }
                if (an !== IPCC.Web.UI.MarkType.SignaturePath && an !== IPCC.Web.UI.MarkType.Freehand && an !== IPCC.Web.UI.MarkType.SignatureText && an !== IPCC.Web.UI.MarkType.DocumentHyperlink && an !== IPCC.Web.UI.MarkType.HighlightText && an !== IPCC.Web.UI.MarkType.Strikethrough && an !== IPCC.Web.UI.MarkType.TextLine) {
                    if (ll) {
                        this.JB = 15;
                        this.JO = 25;
                        this.mv = IPCC.Web.UI.LineHeadType.None;
                        this.zD = '#000000';
                        this.FH = 15;
                        this.ES = 25;
                        this.Gd = IPCC.Web.UI.LineHeadType.None;
                    } else {
                        this.Kw = true;
                        this.jw = true;
                        if (an === IPCC.Web.UI.MarkType.Highlight) {
                            this.jw = false;
                            this.cT = 100;
                        }
                    }
                }
                this.abC = IPCC.Web.UI.axk++;
                this.bX = true;
                this.aI = {};
                this.cR = [];
                var LT = false;

                function atc(bC, F) {
                    V.aQ('commentAdded', F);
                };

                function asL(bC, F) {
                    V.aQ('commentRemoved', F);
                };

                function Lz(bC, F) {
                    V.aQ('commentChanged', F);
                };
                dq = new IPCC.Web.UI.Conversation(V);
                dq.add_commentAdded(atc);
                dq.add_commentChanged(Lz);
                dq.add_commentRemoved(asL);
                this.aQ = function(cZ, F) {
                    var H = ax.getHandler(cZ);
                    if (H !== null) {
                        H(this, F);
                    }
                };

                function TS(bC, F) {
                    var aey = 'points';
                    if (an === IPCC.Web.UI.MarkType.Line) {
                        aey = F.index === 0 ? 'startPoint' : 'endPoint';
                    }
                    V.cG(aey, F);
                };
                if (bF) {
                    bF.add_pointAdded(TS);
                    bF.add_pointChanged(TS);
                    bF.add_pointRemoved(TS);
                }
                this.jh = function() {
                    return an;
                };
                this.agw = function() {
                    return sV;
                };
                this.adq = function(G) {
                    sV = G;
                };
                this.agH = function() {
                    return sx;
                };
                this.Yz = function(G) {
                    sx = G;
                };
                this.eg = function() {
                    return au;
                };
                this.lH = function(value) {
                    if (au !== value) {
                        au = value;
                        this.cG('artPage');
                    }
                };
                this.jR = function() {
                    return LT;
                };
                this.kC = function(G) {
                    LT = G;
                };
                this.agI = function() {
                    var mV = new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                    switch (an) {
                        case IPCC.Web.UI.MarkType.Line:
                        case IPCC.Web.UI.MarkType.Polyline:
                        case IPCC.Web.UI.MarkType.Polygon:
                            return bF.uy();
                        case IPCC.Web.UI.MarkType.Rectangle:
                        case IPCC.Web.UI.MarkType.RectangleRedaction:
                        case IPCC.Web.UI.MarkType.Ellipse:
                        case IPCC.Web.UI.MarkType.Stamp:
                        case IPCC.Web.UI.MarkType.Highlight:
                        case IPCC.Web.UI.MarkType.HighlightText:
                        case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                        case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:
                        case IPCC.Web.UI.MarkType.DocumentHyperlink:
                        case IPCC.Web.UI.MarkType.SignaturePath:
                        case IPCC.Web.UI.MarkType.SignatureText:
                        case IPCC.Web.UI.MarkType.TextLine:
                        case IPCC.Web.UI.MarkType.TextAreaSignature:
                        case IPCC.Web.UI.MarkType.Freehand:
                        case IPCC.Web.UI.MarkType.ImageStampAnnotation:
                        case IPCC.Web.UI.MarkType.ImageStampRedaction:
                        case IPCC.Web.UI.MarkType.Strikethrough:
                            return R.clone();
                        case IPCC.Web.UI.MarkType.Text:
                            var hX = R.x + R.width,
                                iS = R.y + R.height;
                            var aie = R.x + this.mg.x,
                                ahU = R.y + this.mg.y;
                            mV.x = Math.min(R.x, Math.min(hX, aie));
                            mV.y = Math.min(R.y, Math.min(iS, ahU));
                            mV.width = Math.max(R.x, Math.max(hX, aie)) - mV.x;
                            mV.height = Math.max(R.y, Math.max(iS, ahU)) - mV.y;
                            break;
                    }
                    return mV;
                };
                this.eA = function() {
                    return R.clone();
                };
                this.yP = function(G) {
                    this.CV(16384, 'image', 'bE', G);
                };
                this.cE = function() {
                    return this.bE;
                };
                this.qP = function() {
                    return bF;
                };
                this.aEx = function() {
                    return dq;
                };
                this.wc = function() {
                    return dN;
                };
                this.Ds = function(G) {
                    var rF;
                    if (!R.equals(G)) {
                        R = new IPCC.Web.UI.Rectangle(G.x, G.y, G.width, G.height);
                        if (an === IPCC.Web.UI.MarkType.Stamp || an === IPCC.Web.UI.MarkType.SignatureText || an === IPCC.Web.UI.MarkType.TextLine) {
                            if (document.documentMode < 9) {
                                rF = 0;
                                if (R.width >= R.height) {
                                    rF = (R.width / 14) / 2;
                                } else {
                                    rF = R.width / 15;
                                }
                                if (rF * 15 >= R.width) {
                                    rF = (R.width / 15) / 2;
                                }
                                this.stampSize = Math.round(rF);
                            } else {
                                var textFontSize = (R.width / 6);
                                if (textFontSize > R.height) {
                                    textFontSize = (R.height - (R.height / 6));
                                }
                                var ma = this.get_text();
                                if (!ma) {
                                    ma = (an === IPCC.Web.UI.MarkType.Stamp) ? 'APPROVED' : '';
                                }
                                rF = ma.length * textFontSize;
                                if (rF > R.width) {
                                    textFontSize = ((R.width / ma.length));
                                }
                                var CW = Math.round(textFontSize);
                                this.stampSize = CW.toString();
                            }
                        }
                        this.cG('rectangle');
                    }
                };
                this.km = function() {
                    return this.abC;
                };
                this.Hd = function(ew, et) {
                    if (ew !== 0 || et !== 0) {
                        switch (an) {
                            case IPCC.Web.UI.MarkType.Line:
                            case IPCC.Web.UI.MarkType.Polyline:
                            case IPCC.Web.UI.MarkType.Polygon:
                                bF.ald(ew, et);
                                break;
                            case IPCC.Web.UI.MarkType.Rectangle:
                            case IPCC.Web.UI.MarkType.RectangleRedaction:
                            case IPCC.Web.UI.MarkType.Ellipse:
                            case IPCC.Web.UI.MarkType.Text:
                            case IPCC.Web.UI.MarkType.Stamp:
                            case IPCC.Web.UI.MarkType.SignaturePath:
                            case IPCC.Web.UI.MarkType.SignatureText:
                            case IPCC.Web.UI.MarkType.TextLine:
                            case IPCC.Web.UI.MarkType.TextAreaSignature:
                            case IPCC.Web.UI.MarkType.Freehand:
                            case IPCC.Web.UI.MarkType.ImageStampAnnotation:
                            case IPCC.Web.UI.MarkType.ImageStampRedaction:
                            case IPCC.Web.UI.MarkType.Freehand:
                                if (an === IPCC.Web.UI.MarkType.RectangleRedaction && this.ah !== undefined) {
                                    break;
                                }
                                R.x += ew;
                                R.y += et;
                                this.cG('rectangle');
                                break;
                            case IPCC.Web.UI.MarkType.HighlightText:
                            case IPCC.Web.UI.MarkType.Highlight:
                            case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                            case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:
                            case IPCC.Web.UI.MarkType.Strikethrough:
                                break;
                        }
                    }
                };
                this.XI = function(ZM) {
                    if (this.eE && ZM !== this.eE) {
                        while (this.eE.length > 0) {
                            this.eE.pop();
                        }
                        if (ZM) {
                            this.eE = ZM.slice(0);
                        }
                        this.aQ('markTextSelectionChanged', {});
                    }
                };
                this.Ie = function(H) {
                    if (this.eE) {
                        ax.addHandler('markTextSelectionChanged', H);
                    }
                };
                this.GI = function(H) {
                    if (this.eE) {
                        ax.removeHandler('markTextSelectionChanged', H);
                    }
                };
                this.yp = function(H) {
                    ax.addHandler('commentAdded', H);
                };
                this.Bn = function(H) {
                    ax.removeHandler('commentAdded', H);
                };
                this.yF = function(H) {
                    ax.addHandler('commentRemoved', H);
                };
                this.Cr = function(H) {
                    ax.removeHandler('commentRemoved', H);
                };
                this.sY = function(H) {
                    ax.addHandler('commentChanged', H);
                };
                this.vE = function(H) {
                    ax.removeHandler('commentChanged', H);
                };
                this.jM = function(H) {
                    ax.addHandler('propertyChanged', H);
                };
                this.mR = function(H) {
                    ax.removeHandler('propertyChanged', H);
                };
                this.cG = function(dI) {
                    var H = ax.getHandler('propertyChanged');
                    if (H) {
                        H(this, new IPCC.nP(dI));
                    }
                };
                this.jM(function(L) {
                    L.Yz(new Date());
                });
                return this;
            };
            ML.prototype = {
                toString: function() {
                    switch (this.get_type()) {
                        case IPCC.Web.UI.MarkType.Line:
                            return 'Line Mark from ' + this.qP().getPoint(0) + ' to ' + this.qP().getPoint(1);
                        case IPCC.Web.UI.MarkType.Polyline:
                            return 'Polyline Mark with ' + this.qP().en() + ' vertices';
                        case IPCC.Web.UI.MarkType.Rectangle:
                            return 'Rectangle Mark at ' + this.eA();
                        case IPCC.Web.UI.MarkType.RectangleRedaction:
                            return 'Rectangle Redaction Mark at ' + this.eA();
                        case IPCC.Web.UI.MarkType.Ellipse:
                            return 'Ellipse Mark at ' + this.eA();
                        case IPCC.Web.UI.MarkType.Polygon:
                            return 'Polygon Mark with ' + this.qP().en() + ' vertices';
                        case IPCC.Web.UI.MarkType.Text:
                            return 'Text Mark, "' + this.bv + '", at ' + this.eA();
                        case IPCC.Web.UI.MarkType.Stamp:
                            return 'Stamp Mark at ' + this.eA();
                        case IPCC.Web.UI.MarkType.Highlight:
                            return 'Rectangle Mark at ' + this.eA();
                        case IPCC.Web.UI.MarkType.HighlightText:
                            return 'Highlight Mark at ' + this.eA();
                        case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                            return 'Text Selection Redaction at ' + this.eA();
                        case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                            return 'Text Hyperlink Annotation at ' + this.eA();
                        case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                            return 'Document Hyperlink at ' + this.eA();
                        case IPCC.Web.UI.MarkType.SignaturePath:
                            return 'Signature Path Mark, "' + this.uY + '", at ' + this.eA();
                        case IPCC.Web.UI.MarkType.Freehand:
                            return 'Freehand Mark, "' + this.uY + '", at ' + this.eA();
                        case IPCC.Web.UI.MarkType.SignatureText:
                            return 'Signature Text Mark at ' + this.eA();
                        case IPCC.Web.UI.MarkType.TextLine:
                            return 'Text Line Mark at ' + this.eA();
                        case IPCC.Web.UI.MarkType.TextAreaSignature:
                            return 'Text Area Signature Mark at ' + this.eA();
                        case IPCC.Web.UI.MarkType.ImageStampAnnotation:
                            return 'ImageStamp Mark at ' + this.eA();
                        case IPCC.Web.UI.MarkType.ImageStampRedaction:
                            return 'ImageStamp Redaction Mark at ' + this.eA();
                        case IPCC.Web.UI.MarkType.Strikethrough:
                            return 'Strikethrough Mark at ' + this.eA();
                    }
                    return 'Mark';
                },
                initializeDates: function(sV, sx) {
                    IPCC.aR.fW(sV, "dateCreated");
                    IPCC.aR.fW(sx, "dateModified");
                    this.adq(sV);
                    this.Yz(sx);
                },
                get_dateCreated: function() {
                    return this.agw();
                },
                get_dateModified: function() {
                    return this.agH();
                },
                lo: function(lf, dI, kc, G) {
                    this.eu(lf, dI);
                    if (this[kc] !== G) {
                        this[kc] = G;
                        this.cG(dI);
                    }
                },
                JH: function(lf, dI, kc, G) {
                    IPCC.aR.abH(G, dI);
                    this.lo(lf, dI, kc, G);
                },
                yi: function(lf, dI, kc, G) {
                    IPCC.aR.ic(G, dI);
                    this.lo(lf, dI, kc, G);
                },
                yB: function(lf, dI, kc, G, xY, xk) {
                    IPCC.aR.kA(G, dI, xY, xk);
                    this.lo(lf, dI, kc, G);
                },
                YI: function(lf, dI, kc, G, xY, xk) {
                    IPCC.aR.mW(G, dI, xY, xk);
                    this.lo(lf, dI, kc, G);
                },
                CV: function(lf, dI, kc, G) {
                    IPCC.aR.an(G, dI, 'string');
                    this.lo(lf, dI, kc, G);
                },
                wE: function(lf, dI, kc, G, kd) {
                    IPCC.aR.kd(G, dI, kd);
                    this.lo(lf, dI, kc, G);
                },
                aBo: function(lf, dI, kc, G, kd) {
                    IPCC.aR.kd(G, dI, kd, true);
                    this.lo(lf, dI, kc, G);
                },
                aBl: function(lf, dI, kc, G) {
                    IPCC.aR.al(G, dI);
                    this.lo(lf, dI, kc, G);
                },
                get_artPage: function() {
                    return this.eg();
                },
                get_boundingRectangle: function() {
                    return this.agI();
                },
                get_selected: function() {
                    var au = this.eg();
                    if (!au) {
                        return false;
                    }
                    var fC = au.yb();
                    return fC.contains(this);
                },
                set_selected: function(value) {
                    var au = this.eg();
                    if (au) {
                        if (this.nS !== IPCC.Web.UI.MarkInteractionMode.SelectionDisabled || !value) {
                            var fC = au.yb();
                            if (value !== fC.contains(this)) {
                                if (value) {
                                    fC.Nh(this);
                                } else {
                                    fC.ty(this);
                                }
                                this.cG('selected');
                            }
                        }
                    } else {
                        if (value) {
                            throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');
                        }
                    }
                },
                get_calloutLineColor: function() {
                    this.eu(32, 'calloutLineColor');
                    return this.Dr;
                },
                set_calloutLineColor: function(value) {
                    this.JH(32, 'calloutLineColor', 'Dr', value);
                },
                get_calloutLineIsDistinct: function() {
                    this.eu(32, 'calloutLineIsDistinct');
                    return this.CL;
                },
                set_calloutLineIsDistinct: function(value) {
                    this.lo(32, 'calloutLineIsDistinct', 'CL', value);
                },
                get_calloutLineStyle: function() {
                    this.eu(32, 'calloutLineStyle');
                    return this.ss;
                },
                set_calloutLineStyle: function(value) {
                    this.wE(32, 'calloutLineStyle', 'ss', value, IPCC.Web.UI.LineStyle);
                },
                get_calloutLineWidth: function() {
                    this.eu(32, 'calloutLineWidth');
                    return this.Eq;
                },
                set_calloutLineWidth: function(value) {
                    this.yB(32, 'calloutLineWidth', 'Eq', value, 0, 50);
                },
                get_calloutPoint: function() {
                    this.eu(32, 'calloutPoint');
                    return this.mg;
                },
                set_calloutPoint: function(value) {
                    this.aBl(32, 'calloutPoint', 'mg', value);
                },
                get_calloutType: function() {
                    this.eu(32, 'calloutType');
                    return this.Dj;
                },
                set_calloutType: function(value) {
                    this.wE(32, 'calloutType', 'Dj', value, IPCC.Web.UI.CalloutType);
                },
                get_calloutVisible: function() {
                    this.eu(32, 'calloutVisible');
                    return this.wN;
                },
                set_calloutVisible: function(value) {
                    if (!this.wN && value && this.jh() === IPCC.Web.UI.MarkType.Text) {
                        if (this.mg.x === 0 && this.mg.y === 0) {
                            var R = this.eA();
                            this.set_calloutPoint({
                                x: R.width,
                                y: R.height * 1.5
                            });
                        }
                    }
                    this.lo(32, 'calloutVisible', 'wN', value);
                },
                get_endHeadAngle: function() {
                    this.eu(3, 'endHeadAngle');
                    return this.JB;
                },
                set_endHeadAngle: function(value) {
                    this.yB(3, 'endHeadAngle', 'JB', value, 0, 180);
                },
                get_endHeadLength: function() {
                    this.eu(3, 'endHeadLength');
                    return this.JO;
                },
                set_endHeadLength: function(value) {
                    this.yB(3, 'endHeadLength', 'JO', value, 0, 100);
                },
                get_endHeadType: function() {
                    this.eu(3, 'endHeadType');
                    return this.mv;
                },
                set_endHeadType: function(value) {
                    this.wE(3, 'endHeadType', 'mv', value, IPCC.Web.UI.LineHeadType);
                },
                get_href: function() {
                    this.eu(1 << 14 | 1 << 15, 'href');
                    return this.le;
                },
                set_href: function(value) {
                    this.CV(1 << 14 | 1 << 15, 'href', 'le', value);
                },
                has_unsafe_href: function() {
                    return (!!this.le && IPCC.T.agW(this.le));
                },
                get_mask: function() {
                    this.eu(65536, 'mask');
                    return this.iY;
                },
                set_mask: function(value) {
                    this.lo(65536, 'mask', 'iY', value);
                },
                get_borderType: function() {
                    this.eu(32768, 'borderType');
                    return this.NJ;
                },
                set_borderType: function(value) {
                    this.CV(32768, 'borderType', 'NJ', value);
                },
                get_borderHorizontalRadius: function() {
                    this.eu(32768, 'borderHorizontalRadius');
                    return this.Ia;
                },
                set_borderHorizontalRadius: function(value) {
                    this.yi(32768, 'borderHorizontalRadius', 'Ia', value);
                },
                get_borderVerticalRadius: function() {
                    this.eu(1 << 15, 'borderVerticalRadius');
                    return this.GP;
                },
                set_borderVerticalRadius: function(value) {
                    this.yi(32768, 'borderVerticalRadius', 'GP', value);
                },
                get_borderOpacity: function() {
                    this.eu(32768, 'rv');
                    return this.rv;
                },
                set_borderOpacity: function(value) {
                    this.YI(32768, 'rv', 'rv', value, 0, 255);
                },
                get_borderPattern: function() {
                    this.eu(32768, 'Ah');
                    return this.Ah;
                },
                set_borderPattern: function(value) {
                    this.lo(32768, 'Ah', 'Ah', value, 0, 255);
                },
                get_fillColor: function() {
                    this.eu(16380 + (1 << 14), 'fillColor');
                    return this.dR;
                },
                set_fillColor: function(value) {
                    this.JH(16380 + (1 << 14), 'fillColor', 'dR', value);
                },
                get_fillVisible: function() {
                    this.eu(16380, 'fillVisible');
                    return this.Kw;
                },
                set_fillVisible: function(value) {
                    this.lo(16380, 'fillVisible', 'Kw', value);
                },
                get_fontName: function() {
                    this.eu(6176 + 8192 + 65536 + (1 << 18), 'fontName');
                    return this.hH;
                },
                set_fontName: function(value) {
                    this.CV(6176 + 8192 + 65536 + (1 << 18), 'fontName', 'hH', value);
                    if (this.jh() === IPCC.Web.UI.MarkType.SignatureText || this.jh() === IPCC.Web.UI.MarkType.TextLine) {
                        var bU = (this.jh() === IPCC.Web.UI.MarkType.TextLine) ? {
                            uj: 'pre'
                        } : {};
                        var js = IPCC.T.tJ(this.bv, this.hH, bU);
                        this.xW = js.width;
                        this.zb = js.height;
                    }
                    if (this.jh() === IPCC.Web.UI.MarkType.TextLine) {
                        this.FE = false;
                    }
                },
                get_fontSize: function() {
                    this.eu(32 + 2048 + 4096 + 8192, 'fontSize');
                    return this.cu;
                },
                set_fontSize: function(value) {
                    this.yB(32 + 2048 + 4096 + 8192, 'fontSize', 'cu', value, 0.1, 288);
                },
                get_fontStyle: function() {
                    this.eu(6176 + (1 << 18), 'fontStyle');
                    return this.cc;
                },
                set_fontStyle: function(value) {
                    this.aBo(6176 + (1 << 18), 'fontStyle', 'cc', value, IPCC.Web.UI.FontStyle);
                },
                get_headFillColor: function() {
                    this.eu(3, 'headFillColor');
                    return this.zD;
                },
                set_headFillColor: function(value) {
                    this.JH(3, 'headFillColor', 'zD', value);
                },
                get_interactionMode: function() {
                    this.eu(~0, 'interactionMode');
                    return this.nS;
                },
                set_interactionMode: function(value) {
                    this.wE(~0, 'interactionMode', 'nS', value, IPCC.Web.UI.MarkInteractionMode);
                    if (value === IPCC.Web.UI.MarkInteractionMode.SelectionDisabled) {
                        this.set_selected(false);
                    }
                },
                get_maxLength: function() {
                    this.eu(32 + 65536 + (1 << 18), 'maxLength');
                    return this.fY;
                },
                set_maxLength: function(value) {
                    this.yi(32 + 65536 + (1 << 18), 'maxLength', 'fY', value);
                },
                get_maxFontSize: function() {
                    this.eu(1 << 18, 'maxFontSize');
                    return this.ig;
                },
                set_maxFontSize: function(value) {
                    this.yi(1 << 18, 'maxFontSize', 'ig', value);
                },
                get_isClosed: function() {
                    this.eu(2, 'isClosed');
                    return this.sp;
                },
                set_isClosed: function(value) {
                    this.lo(2, 'isClosed', 'sp', value);
                },
                get_lineColor: function() {
                    return this.kL;
                },
                set_lineColor: function(value) {
                    this.JH(13567 + 32768 + (1 << 17), 'lineColor', 'kL', value);
                },
                get_lineStyle: function() {
                    return this.jz;
                },
                set_lineStyle: function(value) {
                    this.wE(63 + 32768, 'lineStyle', 'jz', value, IPCC.Web.UI.LineStyle);
                },
                get_lineWidth: function() {
                    return this.eS;
                },
                set_lineWidth: function(value) {
                    this.yB(13567 + 32768 + (1 << 17), 'lineWidth', 'eS', value, 0, 50);
                },
                get_lineVisible: function() {
                    this.eu(172 + 65536, 'lineVisible');
                    return this.jw;
                },
                set_lineVisible: function(value) {
                    this.lo(172 + 65536, 'lineVisible', 'jw', value);
                },
                get_opacity: function() {
                    return this.cT;
                },
                set_opacity: function(value) {
                    this.YI(895 + 2048 + 1024, 'opacity', 'cT', value, 0, 255);
                },
                get_points: function() {
                    this.eu(19, 'points');
                    return this.qP();
                },
                get_conversation: function() {
                    return this.aEx();
                },
                get_data: function() {
                    return this.wc();
                },
                get_image: function() {
                    this.eu(16384, 'image');
                    return this.cE();
                },
                set_image: function(value) {
                    this.eu(16384, 'image');
                    this.yP(value);
                },
                get_rectangle: function() {
                    this.eu((1 << 18) + (1 << 17) + 65536 + 32768 + 16384 + 8192 + 4096 + 2048 + 1024 + 512 + 256 + 128 + 64 + 32 + 8 + 4, 'rectangle');
                    return this.eA();
                },
                set_rectangle: function(value) {
                    this.eu((1 << 18) + (1 << 17) + 65536 + 32768 + 16384 + 8192 + 4096 + 2048 + 1024 + 512 + 256 + 128 + 64 + 32 + 8 + 4, 'rectangle');
                    IPCC.aR.R(value, 'rectangle');
                    this.Ds(value);
                    if (this.jh() === IPCC.Web.UI.MarkType.TextLine) {
                        this.FE = false;
                    }
                },
                get_startHeadAngle: function() {
                    this.eu(3, 'startHeadAngle');
                    return this.FH;
                },
                set_startHeadAngle: function(value) {
                    this.yB(3, 'startHeadAngle', 'FH', value, 0, 180);
                },
                get_startHeadLength: function() {
                    this.eu(3, 'startHeadLength');
                    return this.ES;
                },
                set_startHeadLength: function(value) {
                    this.yB(3, 'startHeadLength', 'ES', value, 0, 100);
                },
                get_startHeadType: function() {
                    this.eu(3, 'startHeadType');
                    return this.Gd;
                },
                set_startHeadType: function(value) {
                    this.wE(3, 'startHeadType', 'Gd', value, IPCC.Web.UI.LineHeadType);
                },
                get_text: function() {
                    this.eu(14496 + 65536 + (1 << 17) + (1 << 18), 'text');
                    return this.bv;
                },
                set_text: function(value) {
                    if (this.bv === value) {
                        return;
                    }
                    this.CV(14496 + 65536 + (1 << 17) + (1 << 18), 'text', 'bv', value);
                    if (this.jh() === IPCC.Web.UI.MarkType.SignatureText || this.jh() === IPCC.Web.UI.MarkType.TextLine) {
                        var bU = (this.jh() === IPCC.Web.UI.MarkType.TextLine) ? {
                            uj: 'pre'
                        } : {};
                        var js = IPCC.T.tJ(this.bv, this.hH, bU);
                        this.xW = js.width;
                        this.zb = js.height;
                    }
                    if (this.eE) {
                        while (this.eE.length > 0) {
                            this.eE.pop();
                        }
                    }
                },
                get_textHorizontalAlignment: function() {
                    this.eu(32 + 1024 + 2048 + 65536 + (1 << 18), 'textHorizontalAlignment');
                    return this.iA;
                },
                set_textHorizontalAlignment: function(value) {
                    this.wE(32 + 1024 + 2048 + 65536 + (1 << 18), 'textHorizontalAlignment', 'iA', value, IPCC.Web.UI.HorizontalAlignment);
                },
                get_textVerticalAlignment: function() {
                    this.eu(32, 'textVerticalAlignment');
                    return this.yO;
                },
                set_textVerticalAlignment: function(value) {
                    this.wE(32, 'textVerticalAlignment', 'yO', value, IPCC.Web.UI.VerticalAlignment);
                },
                get_textColor: function() {
                    this.eu(6176 + 65536 + (1 << 18), 'textColor');
                    return this.pO;
                },
                set_textColor: function(value) {
                    this.JH(6176 + 65536 + (1 << 18), 'textColor', 'pO', value);
                },
                get_textOpacity: function() {
                    this.eu(32, 'textOpacity');
                    return this.AV;
                },
                set_textOpacity: function(value) {
                    this.YI(32, 'textOpacity', 'AV', value, 0, 255);
                },
                get_textOrientation: function() {
                    this.eu(32, 'textOrientation');
                    return this.zd;
                },
                set_textOrientation: function(value) {
                    this.wE(32, 'textOrientation', 'zd', value, IPCC.Web.UI.Orientation);
                },
                get_type: function() {
                    return this.jh();
                },
                get_visible: function() {
                    return this.bX;
                },
                set_visible: function(value) {
                    this.lo((1 << 17) + 65536 + 32768 + 16384 + 8192 + 4096 + 2048 + 1024 + 512 + 256 + 128 + 64 + 63, 'visible', 'bX', value);
                },
                get_markID: function() {
                    return this.km();
                },
                get_pathString: function() {
                    return this.uY;
                },
                set_pathString: function(value) {
                    var uY = this.get_pathString();
                    if (uY !== value) {
                        this.amH = true;
                    }
                    this.CV(1088, 'pathString', 'uY', value);
                },
                get_pathWidth: function() {
                    return this.Rs;
                },
                set_pathWidth: function(value) {
                    this.yi(1088, 'pathWidth', 'Rs', value);
                },
                get_pathHeight: function() {
                    return this.TM;
                },
                set_pathHeight: function(value) {
                    this.yi(1088, 'pathHeight', 'TM', value);
                },
                get_startIndex: function() {
                    this.eu((1 << 17) + (1 << 14) + 8192 + 512, 'startIndex');
                    return this.aT;
                },
                set_startIndex: function(value) {
                    this.yi((1 << 17) + (1 << 14) + 8192 + 512, 'startIndex', 'aT', value);
                },
                get_textLength: function() {
                    this.eu((1 << 17) + (1 << 14) + 8192 + 512, 'textLength');
                    return this.cq;
                },
                set_textLength: function(value) {
                    this.yi((1 << 17) + (1 << 14) + 8192 + 512, 'textLength', 'cq', value);
                },
                add_propertyChanged: function(handler) {
                    this.jM(handler);
                },
                remove_propertyChanged: function(handler) {
                    this.mR(handler);
                },
                add_markTextSelectionChanged: function(handler) {
                    this.Ie(handler);
                },
                remove_markTextSelectionChanged: function(handler) {
                    this.GI(handler);
                },
                move: function(deltaX, deltaY) {
                    IPCC.aR.ic(deltaX, 'deltaX');
                    IPCC.aR.ic(deltaY, 'deltaY');
                    this.Hd(deltaX, deltaY);
                },
                moveBackward: function() {
                    if (this.eg()) {
                        var index = this.eg().oC(this);
                        var dK = this.eg().aiP();
                        if (index > dK) {
                            this.eg().reorderMark(this, index - 1);
                        }
                    } else {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');
                    }
                },
                moveForward: function() {
                    if (this.eg()) {
                        var index = this.eg().oC(this);
                        if (index < this.eg().Wz() - 1) {
                            this.eg().reorderMark(this, index + 1);
                        }
                    } else {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');
                    }
                },
                moveToBack: function() {
                    if (this.eg()) {
                        var dK = 0;
                        dK = this.eg().aiP();
                        this.eg().reorderMark(this, dK);
                    } else {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');
                    }
                },
                moveToFront: function() {
                    if (this.eg()) {
                        this.eg().reorderMark(this, this.eg().Wz() - 1);
                    } else {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');
                    }
                },
                removeFromPage: function() {
                    if (this.eg()) {
                        this.eg().removeMark(this);
                    }
                },
                selectText: function(textRanges) {
                    this.XI(textRanges);
                },
                aDl: function() {
                    var eB = {};
                    var V = this;
                    var bF, ZV, al, R, C;

                    function dC(dI, Mx) {
                        eB[Mx] = V[dI];
                    };
                    var ll = false;
                    var ly = false;
                    var yd = false;
                    switch (this.get_type()) {
                        case IPCC.Web.UI.MarkType.Line:
                            ll = true;
                            yd = true;
                            eB.__type = 'LineMark:#IPCC.Web';
                            break;
                        case IPCC.Web.UI.MarkType.Polyline:
                            ll = true;
                            yd = true;
                            eB.__type = 'PolyLineMark:#IPCC.Web';
                            dC('sp', 'ic');
                            break;
                        case IPCC.Web.UI.MarkType.Rectangle:
                            ly = true;
                            eB.__type = 'RectangleMark:#IPCC.Web';
                            break;
                        case IPCC.Web.UI.MarkType.RectangleRedaction:
                            ly = true;
                            eB.__type = 'RectangleRedactionMark:#IPCC.Web';
                            break;
                        case IPCC.Web.UI.MarkType.Ellipse:
                            ly = true;
                            eB.__type = 'EllipseMark:#IPCC.Web';
                            break;
                        case IPCC.Web.UI.MarkType.Polygon:
                            yd = true;
                            eB.__type = 'PolygonMark:#IPCC.Web';
                            break;
                        case IPCC.Web.UI.MarkType.Text:
                            ly = true;
                            eB.__type = 'TextMark:#IPCC.Web';
                            dC('Dr', 'clc');
                            dC('CL', 'clid');
                            dC('ss', 'cls');
                            dC('Eq', 'clw');
                            dC('Dj', 'ct');
                            dC('wN', 'cv');
                            dC('hH', 'fn');
                            dC('cu', 'fs');
                            dC('cc', 'fst');
                            dC('jz', 'ls');
                            dC('bv', 'te');
                            dC('iA', 'tha');
                            dC('yO', 'tva');
                            dC('pO', 'tc');
                            dC('AV', 'to');
                            dC('zd', 'tor');
                            al = this.mg;
                            if (al.x !== 0 || al.y !== 0) {
                                eB.cp = {
                                    x: al.x,
                                    y: al.y
                                };
                            }
                            break;
                        case IPCC.Web.UI.MarkType.Stamp:
                            ly = true;
                            eB.__type = 'StampMark:#IPCC.Web';
                            break;
                        case IPCC.Web.UI.MarkType.Highlight:
                        case IPCC.Web.UI.MarkType.HighlightText:
                            ly = true;
                            eB.__type = 'HighlightText:#IPCC.Web';
                            break;
                    }
                    if (ll) {
                        dC('JB', 'eha');
                        dC('JO', 'ehl');
                        dC('mv', 'eht');
                        dC('zD', 'hfc');
                        dC('FH', 'sha');
                        dC('ES', 'shl');
                        dC('Gd', 'sht');
                    } else {
                        dC('dR', 'fc');
                        dC('Kw', 'fv');
                        dC('jw', 'lv');
                    }
                    if (ly) {
                        R = this.get_rectangle();
                        eB.r = {
                            x: R.x,
                            y: R.y,
                            width: R.width,
                            height: R.height
                        };
                    }
                    eB.t = this.get_type();
                    dC('kL', 'lc');
                    dC('jz', 'ls');
                    dC('eS', 'lw');
                    dC('cT', 'o');
                    dC('bX', 'v');
                    if (yd) {
                        bF = this.qP();
                        ZV = [];
                        for (C = 0; C < bF.get_length(); C++) {
                            al = bF.getPoint(C);
                            ZV.push({
                                x: al.x,
                                y: al.y
                            });
                        }
                        eB.p = ZV;
                    }
                    return eB;
                },
                azb: function(eB) {
                    var V = this;
                    var bF, C;

                    function dC(dI, Mx) {
                        if (eB.hasOwnProperty(Mx)) {
                            V[dI] = eB[Mx];
                        }
                    };
                    var ll = false;
                    var ly = false;
                    var yd = false;
                    switch (this.get_type()) {
                        case IPCC.Web.UI.MarkType.Line:
                            ll = true;
                            if (eB.p && eB.p.length === 2) {
                                bF = this.qP();
                                bF.setPoint(0, new IPCC.Web.UI.Point(eB.p[0].x, eB.p[0].y));
                                bF.setPoint(1, new IPCC.Web.UI.Point(eB.p[1].x, eB.p[1].y));
                            }
                            break;
                        case IPCC.Web.UI.MarkType.Polyline:
                            ll = true;
                            yd = true;
                            dC('sp', 'ic');
                            break;
                        case IPCC.Web.UI.MarkType.Rectangle:
                            ly = true;
                            break;
                        case IPCC.Web.UI.MarkType.RectangleRedaction:
                            ly = true;
                            break;
                        case IPCC.Web.UI.MarkType.Ellipse:
                            ly = true;
                            break;
                        case IPCC.Web.UI.MarkType.Polygon:
                            yd = true;
                            break;
                        case IPCC.Web.UI.MarkType.Text:
                            ly = true;
                            dC('Dr', 'clc');
                            dC('CL', 'clid');
                            dC('ss', 'cls');
                            dC('Eq', 'clw');
                            dC('Dj', 'ct');
                            dC('wN', 'cv');
                            dC('hH', 'fn');
                            dC('cu', 'fs');
                            dC('cc', 'fst');
                            dC('jz', 'ls');
                            dC('bv', 'te');
                            dC('iA', 'tha');
                            dC('yO', 'tva');
                            dC('pO', 'tc');
                            dC('AV', 'to');
                            dC('zd', 'tor');
                            if (eB.cp) {
                                this.mg = new IPCC.Web.UI.Point(eB.cp.x, eB.cp.y);
                            }
                            break;
                        case IPCC.Web.UI.MarkType.Stamp:
                            ly = true;
                            break;
                        case IPCC.web.UI.MarkType.Highlight:
                        case IPCC.web.UI.MarkType.HighlightText:
                        case IPCC.web.UI.MarkType.Strikethrough:
                            ly = true;
                            break;
                    }
                    if (ll) {
                        dC('JB', 'eha');
                        dC('JO', 'ehl');
                        dC('mv', 'eht');
                        dC('zD', 'hfc');
                        dC('FH', 'sha');
                        dC('ES', 'shl');
                        dC('Gd', 'sht');
                    } else {
                        dC('dR', 'fc');
                        dC('Kw', 'fv');
                        dC('jw', 'lv');
                    }
                    if (ly) {
                        if (eB.r) {
                            this.set_rectangle(new IPCC.Web.UI.Rectangle(eB.r.x, eB.r.y, eB.r.width, eB.r.height));
                        }
                    }
                    eB.t = this.get_type();
                    dC('kL', 'lc');
                    dC('jz', 'ls');
                    dC('eS', 'lw');
                    dC('cT', 'o');
                    dC('bX', 'v');
                    if (eB.p && yd) {
                        bF = this.qP();
                        for (C = 0; C < eB.p.length; C++) {
                            bF.addPoint(new IPCC.Web.UI.Point(eB.p[C].x, eB.p[C].y));
                        }
                    }
                    return eB;
                }
            };
            ML.registerClass = cV;
            ML.registerClass('IPCC.Web.UI.Mark');
            module.exports = ML;
        }, {
            "../../IPCC.Util": 29
        }],
        106: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var Nv = function() {
                var aU = [];
                var ax = new IPCC.Web.UI.gV();
                this.Nh = function(L) {
                    if (this.IA(L) === -1) {
                        aU.push(L);
                        var F = new IPCC.Web.UI.MarkEventArgs();
                        F.mark = L;
                        this.aQ('markAdded', F);
                    }
                };
                this.arT = function(yr) {
                    var F = new IPCC.Web.UI.MarkEventArgs();
                    F.length = yr.get_length();
                    var V = this;

                    function oq(L) {
                        if (V.IA(L) === -1) {
                            aU.push(L);
                        }
                    };
                    yr.forEach(oq, {});
                    if (F.length > 0) {
                        this.aQ('markAdded', F);
                    }
                };
                this.ld = function(je, cX) {
                    var IL = [].concat(aU);
                    var C;
                    for (C = 0; C < IL.length; C++) {
                        je.call(cX, IL[C], C, this);
                    }
                };
                this.en = function() {
                    return aU.length;
                };
                this.ty = function(L) {
                    var C = this.IA(L);
                    if (C > -1) {
                        aU.splice(C, 1);
                        var F = new IPCC.Web.UI.MarkEventArgs();
                        F.mark = L;
                        this.aQ('markRemoved', F);
                    }
                };
                this.IA = function(L) {
                    var C;
                    for (C = 0; C < aU.length; C++) {
                        if (aU[C] === L) {
                            return C;
                        }
                    }
                    return -1;
                };
                this.As = function(H) {
                    ax.addHandler('markAdded', H);
                };
                this.zV = function(H) {
                    ax.removeHandler('markAdded', H);
                };
                this.AQ = function(H) {
                    ax.addHandler('markRemoved', H);
                };
                this.zI = function(H) {
                    ax.removeHandler('markRemoved', H);
                };
                this.aQ = function(cZ, F) {
                    var H = ax.getHandler(cZ);
                    if (H !== null) {
                        H(this, F);
                    }
                };
                return this;
            };
            Nv.prototype = {
                toString: function() {
                    return 'MarkCollection with ' + this.get_length() + ' marks';
                },
                addMark: function(mark) {
                    this.Nh(mark);
                },
                addMarks: function(markCollection) {
                    this.arT(markCollection);
                },
                forEach: function(method, context) {
                    this.ld(method, context);
                },
                get_length: function() {
                    return this.en();
                },
                contains: function(mark) {
                    return this.IA(mark) > -1;
                },
                removeMark: function(mark) {
                    this.ty(mark);
                },
                removeAllMarks: function() {
                    this.ld(function(L, ay, yr) {
                        yr.ty(L);
                    });
                },
                add_markAdded: function(handler) {
                    this.As(handler);
                },
                remove_markAdded: function(handler) {
                    this.zV(handler);
                },
                add_markRemoved: function(handler) {
                    this.AQ(handler);
                },
                remove_markRemoved: function(handler) {
                    this.zI(handler);
                }
            };
            Nv.registerClass = cV;
            Nv.registerClass('IPCC.Web.UI.MarkCollection');
            module.exports = Nv;
        }, {
            "../../IPCC.Util": 29
        }],
        107: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var Nu = function() {
                return this;
            };
            Nu.registerClass = cV;
            Nu.prototype = {};
            Nu.registerClass('IPCC.Web.UI.MarkEventArgs');
            module.exports = Nu;
        }, {
            "../../IPCC.Util": 29
        }],
        108: [function(require, module, exports) {
            var eP = require('../../IPCC.Util').regEnum;
            var BM = function() {};
            BM.registerEnum = eP;
            BM.prototype = {
                HideSideHandlesWhenClose: 0,
                HideCornerHandlesWhenClose: 1
            };
            BM.registerEnum('IPCC.Web.UI.MarkHandleMode', false);
            module.exports = BM;
        }, {
            "../../IPCC.Util": 29
        }],
        109: [function(require, module, exports) {
            var eP = require('../../IPCC.Util').regEnum;
            var MZ = function() {};
            MZ.registerEnum = eP;
            MZ.prototype = {
                Full: 0,
                SelectionDisabled: 1
            };
            MZ.registerEnum('IPCC.Web.UI.MarkInteractionMode', false);
            module.exports = MZ;
        }, {
            "../../IPCC.Util": 29
        }],
        110: [function(require, module, exports) {
            var eP = require('../../IPCC.Util').regEnum;
            var KG = function() {};
            KG.registerEnum = eP;
            KG.prototype = {
                Line: 3,
                Polyline: 502,
                Rectangle: 600,
                Ellipse: 601,
                Polygon: 604,
                Text: 605,
                Highlight: 606,
                Stamp: 607,
                HighlightText: 608,
                SignaturePath: 609,
                Freehand: 610,
                SignatureText: 611,
                SignatureImage: 612,
                RectangleRedaction: 613,
                TextSelectionRedaction: 614,
                ImageStampAnnotation: 615,
                ImageStampRedaction: 616,
                TextHyperlinkAnnotation: 617,
                DocumentHyperlink: 618,
                TextLine: 619,
                Strikethrough: 620,
                TextAreaSignature: 621
            };
            KG.registerEnum('IPCC.Web.UI.MarkType', false);
            module.exports = KG;
        }, {
            "../../IPCC.Util": 29
        }],
        111: [function(require, module, exports) {
            var eP = require('./../../IPCC.Util').regEnum;
            var TN = function() {
                if (arguments.length !== 0) {
                    throw new IPCC.Web.UI.ImGearParameterCountException();
                }
                throw new IPCC.Web.UI.ImGearNotImplementedException();
            };
            TN.registerEnum = eP;
            TN.prototype = {
                leftButton: 0,
                middleButton: 1,
                rightButton: 2
            };
            TN.registerEnum("IPCC.Web.UI.MouseButton");
        }, {
            "./../../IPCC.Util": 29
        }],
        112: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var Mw = function() {
                var aio = false;
                this.ayA = function() {
                    aio = true;
                };
                this.ajm = function() {
                    return aio;
                };
                return this;
            };
            Mw.prototype = {
                preventDefault: function() {
                    this.ayA();
                }
            };
            Mw.registerClass = cV;
            Mw.registerClass('IPCC.Web.UI.MouseEventArgs');
            module.exports = Mw;
        }, {
            "../../IPCC.Util": 29
        }],
        113: [function(require, module, exports) {
            var eP = require('../../IPCC.Util').regEnum;
            var LB = function() {};
            LB.registerEnum = eP;
            LB.prototype = {
                None: 0,
                Magnifier: 1,
                RectangleZoom: 2,
                HandPan: 3,
                Select: 4,
                CreateRectangleMark: 5,
                CreateEllipseMark: 6,
                CreateLineMark: 7,
                CreatePolylineMark: 8,
                CreateFreehandMark: 9,
                CreatePolygonMark: 10,
                CreateTextMark: 11,
                EditMarks: 12,
                RunMarks: 13,
                SelectText: 14,
                CreateStampMark: 15,
                CreateHighlightTextMark: 16,
                CreateTextSelectionRedaction: 17,
                CreateRectangleRedactionMark: 18,
                CreateImageStampAnnotationMark: 19,
                CreateImageStampRedactionMark: 20,
                CreateTextHyperlinkMark: 21,
                CreateTextInputSignatureMark: 22,
                CreateStrikethroughMark: 23,
                CreateTextAreaSignatureMark: 24
            };
            LB.registerEnum('IPCC.Web.UI.MouseTool', false);
            module.exports = LB;
        }, {
            "../../IPCC.Util": 29
        }],
        114: [function(require, module, exports) {
            var eP = require('../../IPCC.Util').regEnum;
            var PB = function() {};
            PB.registerEnum = eP;
            PB.prototype = {
                TopLeft: 1,
                TopRight: 2,
                BottomRight: 3,
                BottomLeft: 4,
                LeftTop: 5,
                RightTop: 6,
                RightBottom: 7,
                LeftBottom: 8
            };
            PB.registerEnum('IPCC.Web.UI.Orientation', false);
            module.exports = PB;
        }, {
            "../../IPCC.Util": 29
        }],
        115: [function(require, module, exports) {
            var abq = function(element, og, OA) {
                var gY = this;
                var aK;
                var J;
                var xy = 0;
                var Qz = '';
                var QK = false;
                var ax = new IPCC.Web.UI.gV();
                var fj = null;
                var pR = IPCC.pR;
                var ahB = IPCC.pR;
                var Hh = 0.0;
                var Kn = false;
                var NQ = 0;
                var adZ = -1;
                var afK = -1;
                var aeE = -1;

                function ny(IK) {
                    if (!J) {
                        return false;
                    }
                    return J.ny(IK);
                };
                this.bw = function(ir, iL) {
                    if (ny(IPCC.Web.UI.DebugErrorLevel.Production)) {
                        J.bw(ir, iL);
                    }
                };
                this.as = function(ir, jK, rf) {
                    if (!ny(IPCC.Web.UI.DebugErrorLevel.Development)) {
                        return;
                    }
                    var cQ = ir + '(';
                    var C;
                    for (C = 0; C < jK.length; C++) {
                        if (C > 0) {
                            cQ += ', ';
                        }
                        cQ += IPCC.iU.rg(jK[C], (rf ? rf : 0));
                    }
                    cQ += ')';
                    this.uz(cQ, IPCC.Web.UI.DebugErrorLevel.Development);
                };
                this.CC = function(ir, jK, lL, rf) {
                    if (!ny(IPCC.Web.UI.DebugErrorLevel.Development)) {
                        return;
                    }
                    var cQ = ir + '(';
                    var C;
                    for (C = 0; C < jK.length; C++) {
                        if (C > 0) {
                            cQ += ', ';
                        }
                        cQ += IPCC.iU.rg(jK[C], (rf ? rf : 0));
                    }
                    cQ += ') = ';
                    cQ += IPCC.iU.rg(lL, 1);
                    this.uz(cQ, IPCC.Web.UI.DebugErrorLevel.Development);
                };
                this.de = function(ir, jK, lL) {
                    if (!ny(IPCC.Web.UI.DebugErrorLevel.Detailed)) {
                        return;
                    }
                    var cQ = ir + '(';
                    var C;
                    for (C = 0; C < jK.length; C++) {
                        if (C > 0) {
                            cQ += ', ';
                        }
                        cQ += IPCC.iU.rg(jK[C], 0);
                    }
                    cQ += ') = ';
                    cQ += IPCC.iU.rg(lL, 1);
                    this.uz(cQ, IPCC.Web.UI.DebugErrorLevel.Detailed);
                };
                this.uz = function(iq, av) {
                    if (J) {
                        J.nf(iq, IPCC.Web.UI.DebugItemCause.FunctionCall, av);
                    }
                };
                this.nf = function(iq) {
                    if (J) {
                        J.nf(iq, IPCC.Web.UI.DebugItemCause.Custom, IPCC.Web.UI.DebugErrorLevel.Production);
                    }
                };
                this.Kl = function() {
                    return J.get_debug();
                };
                this.Xv = function(G) {
                    J.set_debug(G);
                };
                this.xH = function() {
                    return J.xH();
                };
                this.JC = function(G) {
                    IPCC.aR.kd(G, 'value', IPCC.Web.UI.DebugErrorLevel);
                    J.JC(G);
                };
                this.aGc = function(G) {
                    Kn = G;
                };
                this.aGE = function() {
                    return Kn;
                };
                var oB = function() {
                    if (J.cE() === undefined) {
                        throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');
                    }
                };

                function da(cZ, H) {
                    ax.addHandler(cZ, H);
                };

                function cP(cZ, H) {
                    ax.removeHandler(cZ, H);
                };
                this.HN = function(jo, cA) {
                    J.axL(jo, cA);
                };
                this.ayc = function(cA, L) {
                    J.yq(L);
                    J.dv();
                };
                this.Uc = function(H) {
                    da('pageOpening', H);
                };
                this.XG = function(H) {
                    cP('pageOpening', H);
                };
                this.SN = function(H) {
                    da('pageOpened', H);
                };
                this.Xr = function(H) {
                    cP('pageOpened', H);
                };
                this.auM = function(H) {
                    da('pageClosed', H);
                };
                this.avi = function(H) {
                    cP('pageClosed', H);
                };
                this.HB = function(H) {
                    da('pageOpenFailed', H);
                };
                this.Gb = function(H) {
                    cP('pageOpenFailed', H);
                };
                this.SH = function(H) {
                    da('pageDisplayed', H);
                };
                this.Ww = function(H) {
                    cP('pageDisplayed', H);
                };
                this.LH = function(H) {
                    da('mouseDown', H);
                };
                this.XJ = function(H) {
                    cP('mouseDown', H);
                };
                this.Lf = function(H) {
                    da('mouseMove', H);
                };
                this.Wx = function(H) {
                    cP('mouseMove', H);
                };
                this.LJ = function(H) {
                    da('mouseUp', H);
                };
                this.Ws = function(H) {
                    cP('mouseUp', H);
                };
                this.asl = function(H) {
                    da('contextMenu', H);
                };
                this.avD = function(H) {
                    cP('contextMenu', H);
                };
                this.As = function(H) {
                    da('markAdded', H);
                };
                this.zV = function(H) {
                    cP('markAdded', H);
                };
                this.RV = function(H) {
                    da('markCreating', H);
                };
                this.WO = function(H) {
                    cP('markCreating', H);
                };
                this.IC = function(H) {
                    da('markChanged', H);
                };
                this.HH = function(H) {
                    cP('markChanged', H);
                };
                this.AQ = function(H) {
                    da('markRemoved', H);
                };
                this.zI = function(H) {
                    cP('markRemoved', H);
                };
                this.Ht = function(H) {
                    da('markReordered', H);
                };
                this.ET = function(H) {
                    cP('markReordered', H);
                };
                this.Qx = function(H) {
                    da('marksLoaded', H);
                };
                this.WF = function(H) {
                    cP('marksLoaded', H);
                };
                this.Hj = function(H) {
                    da('markSelectionChanged', H);
                };
                this.GG = function(H) {
                    cP('markSelectionChanged', H);
                };
                this.xN = function(H) {
                    da('textPageReady', H);
                };
                this.Du = function(H) {
                    cP('textPageReady', H);
                };
                this.Tn = function(H) {
                    da('selectTextMouseToolCompleted', H);
                };
                this.Wv = function(H) {
                    cP('selectTextMouseToolCompleted', H);
                };
                this.RJ = function(H) {
                    da('exceptionThrown', H);
                };
                this.SS = function(H) {
                    da('scaleChanged', H);
                };
                this.XL = function(H) {
                    cP('scaleChanged', H);
                };
                this.WY = function(H) {
                    cP('exceptionThrown', H);
                };
                this.xr = function(H) {
                    da('textExtractionFailed', H);
                };
                this.Ed = function(H) {
                    cP('textExtractionFailed', H);
                };
                this.jM = function(H) {
                    da('propertyChanged', H);
                };
                this.mR = function(H) {
                    cP('propertyChanged', H);
                };
                var aQ = function(cZ, F) {
                    try {
                        var H;
                        H = ax.getHandler(cZ);
                        if (H) {
                            H(gY, F);
                        }
                    } catch (e) {
                        gY.bw(cZ + 'Event', e);
                    }
                };
                var rd = function(cZ) {
                    function Al(bC, F) {
                        aQ(cZ, F);
                    };
                    J['add_' + cZ](Al);
                };
                var Ko = function(cZ) {
                    function Al(bC, F) {
                        if (QK && J.NS()) {
                            EG();
                        }
                        aQ(cZ, F);
                    };
                    J['add_' + cZ](Al);
                };

                function EG() {
                    var fk, lQ, VZ;
                    if (Qz !== '') {
                        VZ = document.getElementById(Qz);
                        if (VZ) {
                            fk = gY.MX();
                            lQ = '{encodedDocumentIdentifier:"' + fk.encodedDocumentIdentifier;
                            lQ += '",pageNumber:' + fk.pageNumber.toString();
                            lQ += ',viewFitType:' + fk.viewFitType.toString();
                            if (fk.viewRectangle && fk.viewFitType === IPCC.Web.UI.FitType.Rectangle) {
                                lQ += ',viewRectangle:{x:' + fk.viewRectangle.x.toFixed(5);
                                lQ += ',y:' + fk.viewRectangle.y.toFixed(5);
                                lQ += ',width:' + fk.viewRectangle.width.toFixed(5);
                                lQ += ',height:' + fk.viewRectangle.height.toFixed(5);
                                lQ += '}';
                            }
                            if (fk.viewRotationDegreesClockwise) {
                                lQ += ',viewRotationDegreesClockwise:' + fk.viewRotationDegreesClockwise.toString();
                            }
                            if (fk.viewMirror) {
                                lQ += ',viewMirror:' + fk.viewMirror.toString();
                            }
                            if (fk.viewZoomFactor) {
                                lQ += ',viewZoomFactor:' + fk.viewZoomFactor.toString();
                            }
                            if (QK) {
                                var au = J.eg();
                                if (au) {
                                    lQ += ',artPageJson:"' + IPCC.gL.su(au.saveToJson()) + '"';
                                }
                            }
                            lQ += '}';
                            VZ.value = lQ;
                        }
                    }
                };
                var aCq = function() {
                    function Al(bC, F) {
                        var Wg = true;
                        switch (F.get_propertyName()) {
                            case 'documentIdentifier':
                            case 'pageNumber':
                            case 'artPage':
                            case 'includeArtInPostBack':
                            case 'displayedPageRectangle':
                                EG();
                                break;
                            case 'magnifierWindowPosition':
                            case 'magnifierIsVisible':
                            case 'cursor':
                            case 'markCursor':
                            case 'inProgressMark':
                            case 'IZ':
                            case 'xq':
                                Wg = false;
                                break;
                            case 'Kx':
                                if (J.NS()) {
                                    EG();
                                }
                                Wg = false;
                                break;
                        }
                        if (Wg) {
                            aQ('propertyChanged', F);
                        }
                    };
                    J.jM(Al);
                };
                this.XB = function(an) {
                    IPCC.aR.kd(an, 'type', IPCC.Web.UI.FitType);
                    if (an === IPCC.Web.UI.FitType.Rectangle) {
                        throw new IPCC.Web.UI.ImGearArgumentException('type', 'The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');
                    }
                    oB();
                    fj = {
                        axR: true,
                        viewFitType: an
                    };
                    Ys();
                };
                this.dZ = function() {
                    return J.cE() !== undefined;
                };
                this.kt = function() {
                    oB();
                    return J.cE().width;
                };
                this.jk = function() {
                    oB();
                    return J.cE().height;
                };
                this.aEl = function() {
                    oB();
                    return J.cE().fS;
                };
                this.aDH = function() {
                    return J.bV().ec().aiy();
                };
                this.aEC = function() {
                    oB();
                    return J.cE().gO;
                };
                this.IW = function() {
                    if (!J || !(J.cE())) {
                        return '';
                    }
                    return J.cE().get_identifier();
                };
                this.Oi = function() {
                    if (!J || !(J.cE())) {
                        return '';
                    }
                    return J.cE().get_encodedIdentifier();
                };
                this.pa = function() {
                    if (!J || !(J.cE())) {
                        return -1;
                    }
                    return J.cE().aw;
                };
                this.aDV = function() {
                    if (!J || !(J.cE())) {
                        return 0;
                    }
                    return J.cE().ee;
                };
                this.ajy = function() {
                    var bE = J.cE();
                    if (!bE) {
                        return new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                    }
                    var bD = J.eT();
                    bD.x = bD.y = 0;
                    var pw = J.bV().ec();
                    pw.yW();
                    var dE = pw.zL(bD);
                    if (dE.x < 0) {
                        dE.width += dE.x;
                        dE.x = 0;
                    }
                    if (dE.y < 0) {
                        dE.height += dE.y;
                        dE.y = 0;
                    }
                    if (dE.x + dE.width > bE.width) {
                        dE.width = bE.width - dE.x;
                    }
                    if (dE.y + dE.height > bE.height) {
                        dE.height = bE.height - dE.y;
                    }
                    return dE;
                };

                function PL() {
                    var cL = {},
                        dB = J.bV().ec();
                    cL.documentIdentifier = gY.IW();
                    cL.encodedDocumentIdentifier = gY.Oi();
                    cL.pageNumber = gY.pa();
                    cL.artPage = gY.eg();
                    cL.referenceDocumentIdentifier = gY.IW();
                    cL.referencePageNumber = gY.pa();
                    cL.viewFitType = IPCC.Web.UI.FitType.Rectangle;
                    cL.viewRectangle = gY.ajy();
                    cL.imGearPage = gY.lU();
                    cL.transientArtPage = gY.lX();
                    var hk = dB.aiy();
                    if (hk !== 0) {
                        cL.viewRotationDegreesClockwise = hk;
                    }
                    if (dB.aFA()) {
                        cL.viewMirror = true;
                    }
                    return cL;
                };
                this.akb = function(aT, dp) {
                    J.akb(aT, dp);
                };
                this.MX = function() {
                    var cL;
                    if (aK) {
                        cL = new IPCC.Web.UI.PageViewState();
                        cL.documentIdentifier = aK.documentIdentifier;
                        cL.encodedDocumentIdentifier = aK.encodedDocumentIdentifier;
                        cL.pageNumber = aK.pageNumber;
                        cL.artPage = aK.artPage;
                        cL.artPageJson = aK.artPageJson;
                        cL.referenceDocumentIdentifier = aK.documentIdentifier;
                        cL.referencePageNumber = aK.pageNumber;
                        cL.viewFitType = aK.viewFitType;
                        cL.viewRectangle = aK.viewRectangle;
                        cL.viewRotationDegreesClockwise = aK.viewRotationDegreesClockwise;
                        cL.viewMirror = aK.viewMirror;
                        cL.viewZoomFactor = aK.viewZoomFactor;
                        cL.transientArtPage = aK.transientArtPage;
                    } else {
                        cL = PL();
                    }
                    return cL;
                };
                this.MF = function(aD) {
                    var bD = J.eT();
                    this.abT(aD, {
                        x: bD.width / 2,
                        y: bD.height / 2
                    });
                };
                this.abT = function(aD, cn) {
                    IPCC.aR.kA(aD, 'factor', 1.01, 20);
                    IPCC.aR.al(cn, 'point');
                    oB();
                    var bM = J.bV();
                    var ak = bM.ec();
                    var bz = J.cE();
                    var lg = ak.nR();
                    if (lg * aD > bz.pF) {
                        aD = bz.pF / lg;
                    }
                    ak.vU(aD, aD, cn.x, cn.y);
                    ak.la(bz, J.eT());
                    fj = null;
                    bM.jr(ak);
                };
                this.Qw = function(aD) {
                    var bD = J.eT();
                    this.adH(aD, {
                        x: bD.width / 2,
                        y: bD.height / 2
                    });
                };
                this.adH = function(aD, cn) {
                    IPCC.aR.kA(aD, 'factor', 1.01, 20);
                    IPCC.aR.al(cn, 'point');
                    oB();
                    var bM = J.bV();
                    var ak = bM.ec();
                    var bz = J.cE();
                    var lg = ak.nR();
                    if (lg / aD < bz.rZ) {
                        aD = lg / bz.rZ;
                    }
                    ak.vU(1 / aD, 1 / aD, cn.x, cn.y);
                    ak.la(bz, J.eT());
                    fj = null;
                    bM.jr(ak);
                };
                this.iy = function(aD) {
                    var bD = J.eT();
                    this.arV(aD, {
                        x: bD.width / 2,
                        y: bD.height / 2
                    });
                };
                this.CS = function(aD) {
                    var bM = J.bV();
                    fj = null;
                    bM.CS(aD);
                };
                this.FF = function(aD) {
                    var bM = J.bV();
                    fj = null;
                    bM.FF(aD);
                };
                this.ED = function(aD) {
                    var bM = J.bV();
                    fj = null;
                    bM.ED(aD);
                };
                this.arV = function(aD, cn) {
                    IPCC.aR.al(cn, 'point');
                    oB();
                    var bM = J.bV();
                    var ak = bM.ec();
                    var bz = J.cE();
                    var lg = ak.nR();
                    if (aD > bz.pF) {
                        aD = bz.pF;
                    } else if (aD < bz.rZ) {
                        aD = bz.rZ;
                    }
                    ak.vU(aD / lg, aD / lg, cn.x, cn.y);
                    ak.la(bz, J.eT());
                    fj = null;
                    bM.jr(ak);
                };
                this.wI = function(rQ) {
                    IPCC.aR.Ty(rQ, 'degreesClockwise', [90, 180, 270, -90, -180, -270]);
                    oB();
                    var bM = J.bV();
                    var ak = bM.ec();
                    var bD = J.eT();
                    ak.aeR(rQ, bD.width / 2, bD.height / 2);
                    ak.la(J.cE(), J.eT());
                    fj = null;
                    bM.jr(ak);
                };
                this.ana = function() {
                    oB();
                    var bM = J.bV();
                    var ak = bM.ec();
                    var bD = J.eT();
                    ak.vU(-1, 1, bD.width / 2, bD.height / 2);
                    ak.la(J.cE(), J.eT());
                    fj = null;
                    bM.jr(ak);
                };
                this.apj = function(dE) {
                    IPCC.aR.R(dE, 'pageRectangle');
                    oB();
                    var bM = J.bV();
                    var ak = bM.ec();
                    var bD = J.eT();
                    var bz = J.cE();
                    ak.OG(bz, bD, dE);
                    ak.la(bz, J.eT());
                    fj = null;
                    bM.jr(ak);
                };
                this.aou = function(cD) {
                    IPCC.aR.al(cD, 'imagePoint');
                    oB();
                    var bM = J.bV();
                    var ak = bM.ec();
                    var bD = J.eT();
                    ak.ads(bD, cD);
                    ak.la(J.cE(), J.eT());
                    fj = null;
                    bM.jr(ak);
                };
                this.age = function() {
                    oB();
                    fj = null;
                    var bM = J.bV();
                    var ak = bM.ec();
                    var bD = J.eT();
                    ak.vU(1, -1, bD.width / 2, bD.height / 2);
                    ak.la(J.cE(), J.eT());
                    fj = null;
                    bM.jr(ak);
                };
                this.dv = function() {
                    J.dv();
                };
                this.Kv = function() {
                    J.Kv();
                };
                var Ys = function() {
                    var bz = J.cE();
                    var bD = J.eT();
                    var ak;
                    if (!fj) {
                        ak = J.bV().ec();
                        ak.la(bz, bD);
                        J.bV().jr(ak);
                        return;
                    }
                    if (fj.axR) {
                        ak = J.bV().ec();
                    } else {
                        ak = new IPCC.fg();
                        ak.aBg(bz, bD);
                        if (fj.viewRotationDegreesClockwise) {
                            ak.rotate(fj.viewRotationDegreesClockwise);
                        }
                        if (fj.viewMirror) {
                            ak.apE(bD);
                        }
                    }
                    if (fj.viewZoomFactor) {
                        if (fj.viewZoomFactor > bz.pF) {
                            fj.viewZoomFactor = bz.pF;
                        } else if (fj.viewZoomFactor < bz.rZ) {
                            fj.viewZoomFactor = bz.rZ;
                        }
                        fj.viewFitType = IPCC.Web.UI.FitType.ActualSize;
                        ak.Vd(fj.viewFitType, bz, bD);
                        ak.scale(fj.viewZoomFactor, fj.viewZoomFactor);
                    } else {
                        if (!fj.viewFitType && fj.viewFitType !== 0) {
                            fj.viewFitType = IPCC.Web.UI.FitType.FullImage;
                        }
                        if (fj.viewFitType === IPCC.Web.UI.FitType.Rectangle && !fj.viewRectangle) {
                            fj.viewFitType = IPCC.Web.UI.FitType.FullImage;
                        }
                        if (fj.viewFitType !== IPCC.Web.UI.FitType.Rectangle) {
                            ak.Vd(fj.viewFitType, bz, bD);
                        } else {
                            ak.OG(bz, bD, fj.viewRectangle);
                        }
                    }
                    ak.la(bz, bD);
                    J.bV().jr(ak);
                };
                var ajl = function(ER) {
                    fj = ER;
                    NQ = 0;
                    Ys();
                };
                this.QM = function(be) {
                    xy++;
                    var Wt = xy;
                    var aty = {};
                    Hh = 0.0;
                    J.Nq = 0.0;
                    IPCC.gL.akx(be);
                    if (ny(IPCC.Web.UI.DebugErrorLevel.Development)) {
                        var cQ = 'opening documentIdentifier "' + be.documentIdentifier + '", pageNumber ' + be.pageNumber;
                        this.uz(cQ, IPCC.Web.UI.DebugErrorLevel.Development);
                    }
                    aK = new IPCC.Web.UI.PageViewState();
                    var C;
                    for (C in be) {
                        if (be.hasOwnProperty(C)) {
                            aK[C] = be[C];
                        }
                    }
                    if (be.documentIdentifier === '') {
                        this.KR();
                        return;
                    }
                    if (IPCC.Web.UI.ArtPage) {
                        if (aK) {
                            if (!aK.artPage) {
                                var au = new IPCC.Web.UI.ArtPage();
                                if (aK.artPageJson) {
                                    au.loadFromJson(aK.artPageJson);
                                }
                                aK.artPage = au;
                            }
                            if (!aK.documentArtPage) {
                                var fe = new IPCC.Web.UI.ArtPage();
                                aK.documentArtPage = fe;
                            }
                            if (this.lj() === true) {
                                if (!aK.imGearPage) {
                                    var hv = new IPCC.Web.UI.ImGearDocument({
                                        documentIdentifier: be.documentIdentifier,
                                        imageServicePath: this.uU()
                                    });
                                    aK.imGearPage = new IPCC.Web.UI.ImGearPage({
                                        pageNumber: be.pageNumber,
                                        bQ: hv
                                    });
                                    hv.get_pages().addPage(aK.imGearPage);
                                }
                                if (!aK.transientArtPage) {
                                    aK.transientArtPage = new IPCC.Web.UI.ArtPage();
                                }
                            }
                        }
                    }
                    if (aK.viewRotationDegreesClockwise) {
                        IPCC.aR.Ty(aK.viewRotationDegreesClockwise, 'parameters.viewRotationDegreesClockwise', [0, 90, 180, 270, -90, -180, -270]);
                    }
                    if (aK.viewFitType) {
                        IPCC.aR.kd(aK.viewFitType, 'parameters.viewFitType', IPCC.Web.UI.FitType);
                    }
                    if (aK.viewZoomFactor) {
                        IPCC.aR.kA(aK.viewZoomFactor, 'parameters.viewZoomFactor', 0, 20);
                    }
                    aQ('pageOpening', be);
                    var bE = new IPCC.gL(be.encodedDocumentIdentifier, be.pageNumber, 0, 0, 0, 0);
                    var oy = function() {
                        if (Wt !== xy) {
                            return;
                        }
                        var si = null;
                        if (J.cE()) {
                            si = PL();
                        }
                        J.bV().ow();
                        J.yP(bE);
                        ajl(aK);
                        if (be.artServiceOption === IPCC.Web.UI.ImGearArtDataServices.ArtDataService) {
                            if (aK) {
                                if (aK.artPage) {
                                    J.lH(aK.artPage);
                                    J.eg().loadFromJson(bE.atW);
                                }
                            }
                        } else {
                            if (aK) {
                                if (aK.artPage) {
                                    J.lH(aK.artPage);
                                }
                                if (aK.documentArtPage) {
                                    J.Ky(aK.documentArtPage);
                                }
                                if (J.lj() === true) {
                                    if (aK.imGearPage) {
                                        var Sn = aK.imGearPage.get_pageWidth();
                                        var UJ = aK.imGearPage.get_pageHeight();
                                        aK.imGearPage.nT(gY.ip());
                                        if (!Sn) {
                                            aK.imGearPage.KV(gY.get_pageWidth());
                                        }
                                        if (!UJ) {
                                            aK.imGearPage.Mr(gY.get_pageHeight());
                                        }
                                        J.Dp(aK.imGearPage);
                                        if (typeof(J.lU().zJ === 'function')) {
                                            if (!J.lU().ca().vG()) {
                                                aK.imGearPage.wX(gY.kW());
                                                setTimeout(J.lU().zJ, 1000);
                                            }
                                        }
                                    }
                                    if (aK.transientArtPage) {
                                        J.Dg(aK.transientArtPage);
                                    }
                                }
                            }
                        }
                        aK = null;
                        if (si) {
                            aQ('pageClosed', si);
                        }
                        EG();
                        aQ('pageOpened', be);
                    };
                    if (be.artServiceOption === IPCC.Web.UI.ImGearArtDataServices.ArtDataService) {
                        if (aK) {
                            if (!aK.artPageJson) {
                                bE.aFc(J.uU(), J, oy, aty);
                            } else {
                                bE.TY(J.uU(), J, oy);
                            }
                        }
                    } else {
                        bE.TY(J.uU(), J, oy);
                    }
                };
                this.KR = function() {
                    xy++;
                    if (!(J.cE())) {
                        return;
                    }
                    var si = PL();
                    J.yP(undefined);
                    J.lH(undefined);
                    J.Dp(undefined);
                    J.Dg(undefined);
                    this.dv();
                    EG();
                    si = undefined;
                    aK = undefined;
                    fj = undefined;
                    var cg;
                    cg = gY.mN();
                    if (cg.igElements) {
                        if (cg.igElements.qG) {
                            cg.igElements.qG.AU = null;
                            cg.igElements.qG.yw = null;
                            cg.igElements.qG.Gq = null;
                            cg.igElements.qG = null;
                        }
                        cg.igElements.BH = null;
                        cg.igElements.fE = null;
                        cg.igElements.gh = null;
                        cg.igElements.cC = null;
                        cg.igElements.mO = null;
                        cg.igElements.lW = null;
                        cg.igElements.mB = null;
                        cg.igElements.qv = null;
                        cg.igElements.OE = null;
                        cg.igElements.Zz = null;
                        cg.igElements.sS = null;
                    }
                    gY = null;
                    cg.bg = null;
                    aQ('pageClosed', si);
                };
                this.aGy = function(be) {
                    xy++;
                    var Wt = xy;
                    Hh = 0.0;
                    J.Nq = 0.0;
                    IPCC.gL.akx(be);
                    if (ny(IPCC.Web.UI.DebugErrorLevel.Development)) {
                        var cQ = 'opening documentIdentifier "' + be.documentIdentifier + '", pageNumber ' + be.pageNumber;
                        this.uz(cQ, IPCC.Web.UI.DebugErrorLevel.Development);
                    }
                    aK = new IPCC.Web.UI.PageViewState();
                    var C;
                    for (C in be) {
                        if (be.hasOwnProperty(C)) {
                            aK[C] = be[C];
                        }
                    }
                    if (be.documentIdentifier === '') {
                        this.KR();
                        return;
                    }
                    if (IPCC.Web.UI.ArtPage) {
                        if (aK) {
                            if (!aK.artPage) {
                                var au = new IPCC.Web.UI.ArtPage();
                                aK.artPage = au;
                            }
                            if (!aK.documentArtPage) {
                                var fe = new IPCC.Web.UI.ArtPage();
                                aK.documentArtPage = fe;
                            }
                            if (this.lj() === true) {
                                if (!aK.imGearPage) {
                                    var hv = new IPCC.Web.UI.ImGearDocument({
                                        documentIdentifier: be.documentIdentifier,
                                        imageServicePath: this.uU()
                                    });
                                    aK.imGearPage = new IPCC.Web.UI.ImGearPage({
                                        pageNumber: be.pageNumber,
                                        bQ: hv
                                    });
                                    hv.get_pages().addPage(aK.imGearPage);
                                }
                                if (!aK.transientArtPage) {
                                    aK.transientArtPage = new IPCC.Web.UI.ArtPage();
                                }
                            }
                        }
                    }
                    if (aK.viewRotationDegreesClockwise) {
                        IPCC.aR.Ty(aK.viewRotationDegreesClockwise, 'parameters.viewRotationDegreesClockwise', [0, 90, 180, 270, -90, -180, -270]);
                    }
                    if (aK.viewFitType) {
                        IPCC.aR.kd(aK.viewFitType, 'parameters.viewFitType', IPCC.Web.UI.FitType);
                    }
                    if (aK.viewZoomFactor) {
                        IPCC.aR.kA(aK.viewZoomFactor, 'parameters.viewZoomFactor', 0, 20);
                    }
                    aQ('pageOpening', be);
                    var bE = new IPCC.gL(be.encodedDocumentIdentifier, be.pageNumber, 0, 0, 0, 0);
                    var oy = function() {
                        if (Wt !== xy) {
                            return;
                        }
                        var si = null;
                        if (J.cE()) {
                            si = PL();
                        }
                        J.bV().ow();
                        J.yP(bE);
                        ajl(aK);
                        if (aK) {
                            if (aK.artPage) {
                                J.lH(aK.artPage);
                            }
                            if (aK.documentArtPage) {
                                J.Ky(aK.documentArtPage);
                            }
                            if (J.lj() === true) {
                                if (aK.imGearPage) {
                                    var Sn = aK.imGearPage.get_pageWidth();
                                    var UJ = aK.imGearPage.get_pageHeight();
                                    aK.imGearPage.nT(gY.ip());
                                    if (!Sn) {
                                        aK.imGearPage.KV(gY.get_pageWidth());
                                    }
                                    if (!UJ) {
                                        aK.imGearPage.Mr(gY.get_pageHeight());
                                    }
                                    J.Dp(aK.imGearPage);
                                    if (typeof(J.lU().zJ === 'function')) {
                                        if (!J.lU().ca().vG()) {
                                            aK.imGearPage.wX(gY.kW());
                                            setTimeout(J.lU().zJ, 1000);
                                        }
                                    }
                                }
                                if (aK.transientArtPage) {
                                    J.Dg(aK.transientArtPage);
                                }
                            }
                        }
                        aK = null;
                        if (si) {
                            aQ('pageClosed', si);
                        }
                        EG();
                        aQ('pageOpened', be);
                    };
                    bE.aFh(J.uU(), J, oy);
                };
                this.aFr = function() {
                    xy++;
                    if (!(J.cE())) {
                        return;
                    }
                    var bE = J.cE();
                    J.yP(undefined);
                    this.dv();
                    J.yP(bE);
                };
                this.Yp = function(BD) {
                    J.Yp(BD);
                };
                this.lH = function(G) {
                    J.lH(G);
                };
                this.eg = function() {
                    return J.eg();
                };
                this.Ky = function(G) {
                    J.Ky(G);
                };
                this.Os = function() {
                    return J.Os();
                };
                this.lX = function() {
                    return J.lX();
                };
                this.Dg = function(G) {
                    J.Dg(G);
                };
                this.Bg = function() {
                    return J.Bg();
                };
                this.aEt = function(G) {
                    J.aEt(G);
                };
                this.JQ = function(G) {
                    J.JQ(G);
                };
                this.vm = function() {
                    return J.vm();
                };
                this.aCN = function(G) {
                    ahB = this.aqR(G);
                };
                this.jj = function() {
                    return ahB;
                };
                this.adc = function(G) {
                    J.adc(G);
                };
                this.ZK = function() {
                    return J.ZK();
                };
                this.oA = function() {
                    return J.oA();
                };
                this.qZ = function(G) {
                    J.qZ(G);
                };
                this.afb = function(G) {
                    J.afb(G);
                };
                this.Wp = function() {
                    return J.Wp();
                };
                this.Wq = function(aFd) {
                    J.Wq(aFd);
                };
                this.WC = function() {
                    return J.WC();
                };
                this.aqR = function(am) {
                    var bu = '',
                        Qe = '',
                        Uq = function(aa) {
                            var sR = 0,
                                bu;
                            for (bu in aa) {
                                if (aa.hasOwnProperty(bu)) {
                                    sR += 1;
                                }
                            }
                            return sR;
                        };
                    for (bu in pR) {
                        if (pR.hasOwnProperty(bu)) {
                            if (typeof am[bu] === 'undefined') {
                                am[bu] = pR[bu];
                            }
                            if (typeof am[bu] === 'object') {
                                if (!Uq(am[bu])) {
                                    am[bu] = pR[bu];
                                } else if (Uq(am[bu]) !== Uq(pR[bu])) {
                                    for (Qe in pR[bu]) {
                                        if (typeof am[bu][Qe] === 'undefined') {
                                            am[bu][Qe] = pR[bu][Qe];
                                        }
                                    }
                                }
                            }
                        }
                    }
                    return am;
                };
                this.aAY = function(aAW) {
                    if (aAW === false) {
                        IPCC.ij = false;
                        J.fI([new IPCC.mG(), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                    } else {
                        IPCC.ij = true;
                        IPCC.aeW = this.jj();
                        J.fI([new IPCC.mG(), new IPCC.dO(), new IPCC.ge(), new IPCC.cv(), new IPCC.co(false)]);
                    }
                };
                this.ow = function() {
                    var bM = J.bV();
                    if (!bM.BL()) {
                        return;
                    }
                    J.bV().ow();
                };
                this.aom = function(dE) {
                    IPCC.aR.R(dE, 'pageRectangle');
                    var bE = J.cE();
                    if (bE) {
                        J.bV().showSelection(dE);
                    }
                };
                this.Ej = function(cD) {
                    IPCC.aR.al(cD, 'imagePoint');
                    if (J.cE()) {
                        J.bV().Ej(new IPCC.Web.UI.Point(cD.x, cD.y));
                    }
                };
                this.xp = function(cD) {
                    IPCC.aR.al(cD, 'imagePoint');
                    if (J.cE()) {
                        J.bV().xp(new IPCC.Web.UI.Point(cD.x, cD.y));
                    }
                };
                this.wQ = function() {
                    if (J.cE() && J.bV().BL()) {
                        return J.bV().wQ();
                    }
                    return new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                };
                this.aDF = function() {
                    if (J.cE() && J.bV().BL()) {
                        var dE = J.bV().wQ();
                        return J.bV().ec().zL(dE);
                    }
                    return new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                };
                this.BL = function() {
                    return !!(J.cE() && J.bV().BL());
                };
                this.uU = function() {
                    return J.uU();
                };
                this.Wn = function(G) {
                    IPCC.aR.mo(G, 'value');
                    J.Wn(G);
                };
                this.aEA = function() {
                    return Qz;
                };
                this.aBh = function(G) {
                    IPCC.aR.mo(G, 'value');
                    Qz = G;
                };
                this.aFY = function() {
                    return QK;
                };
                this.aAA = function(G) {
                    QK = G;
                };
                var vv = '';
                this.tq = function(G) {
                    J.tq(G);
                    vv = G;
                };
                this.mN = function() {
                    return vv;
                };
                this.aEy = function() {
                    return J.bV().get_magnifierMagnification();
                };
                this.aCj = function(G) {
                    IPCC.aR.kA(G, 'value', 1.5, 8);
                    J.bV().set_magnifierMagnification(G);
                };
                this.aEv = function() {
                    return J.bV().ug().width;
                };
                this.aBY = function(G) {
                    IPCC.aR.kA(G, 'value', 25, 500);
                    var sR = J.bV().ug();
                    sR.width = G;
                    J.bV().set_magnifierWindowSize(sR);
                };
                this.aDE = function() {
                    return J.bV().ug().height;
                };
                this.aCA = function(G) {
                    IPCC.aR.kA(G, 'value', 25, 500);
                    var sR = J.bV().ug();
                    sR.height = G;
                    J.bV().set_magnifierWindowSize(sR);
                };
                this.KD = function() {
                    return J.bV().KD();
                };
                this.Xz = function(G) {
                    IPCC.aR.kA(G, 'value', -500, 500);
                    J.bV().Xz(G);
                };
                this.LA = function() {
                    return J.bV().LA();
                };
                this.XW = function(G) {
                    IPCC.aR.kA(G, 'value', -500, 500);
                    J.bV().XW(G);
                };
                this.Zh = function() {
                    return J.bV().Zh();
                };
                this.XS = function(G) {
                    IPCC.aR.kA(G, 'value', 0.1, 0.5);
                    J.bV().XS(G);
                };
                this.xv = function() {
                    return J.bV().xv();
                };
                this.Kd = function(G) {
                    J.bV().Kd(G);
                };
                this.raisePropertyChanged = function(dI, yc) {
                    if (J) {
                        J.cG(dI, yc);
                    }
                };
                var cJ = -1;
                this.ZJ = function() {
                    return cJ;
                };
                this.aIb = function(G) {
                    J.rc = G;
                };
                this.Kr = function(G) {
                    IPCC.aR.kd(G, 'value', IPCC.Web.UI.MouseTool);
                    if (cJ !== G) {
                        cJ = G;
                        var jl = "None";
                        switch (cJ) {
                            case IPCC.Web.UI.MouseTool.None:
                                J.fI([]);
                                break;
                            case IPCC.Web.UI.MouseTool.Magnifier:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.qx(), new IPCC.dO(), new IPCC.ge(false, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.qx(), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                    jl = "Magnifier";
                                }
                                break;
                            case IPCC.Web.UI.MouseTool.RectangleZoom:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.mG(), new IPCC.dO(), new IPCC.ge(false, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.mG(), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "RectangleZoom";
                                break;
                            case IPCC.Web.UI.MouseTool.HandPan:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.nJ(), new IPCC.dO(), new IPCC.ge(false, this.jj()), new IPCC.cv(), new IPCC.co(true)]);
                                } else {
                                    J.fI([new IPCC.nJ(), new IPCC.dO(), new IPCC.cv(), new IPCC.co(true)]);
                                }
                                jl = "HandPan";
                                break;
                            case IPCC.Web.UI.MouseTool.Select:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.pm(), new IPCC.dO(), new IPCC.ge(false, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.pm(), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "Select";
                                break;
                            case IPCC.Web.UI.MouseTool.CreateRectangleMark:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.Rectangle), new IPCC.dO(), new IPCC.ge(true, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.Rectangle), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "CreateRectangleMark";
                                break;
                            case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.RectangleRedaction), new IPCC.dO(), new IPCC.ge(true, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.RectangleRedaction), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "CreateRectangleRedactionMark";
                                break;
                            case IPCC.Web.UI.MouseTool.CreateEllipseMark:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.Ellipse), new IPCC.dO(), new IPCC.ge(true, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.Ellipse), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "CreateEllipseMark";
                                break;
                            case IPCC.Web.UI.MouseTool.CreateLineMark:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.na(), new IPCC.dO(), new IPCC.ge(true, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.na(), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "CreateLineMark";
                                break;
                            case IPCC.Web.UI.MouseTool.CreatePolylineMark:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.kR(IPCC.Web.UI.MarkType.Polyline), new IPCC.dO(), new IPCC.ge(true, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.kR(IPCC.Web.UI.MarkType.Polyline), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "CreatePolylineMark";
                                break;
                            case IPCC.Web.UI.MouseTool.CreateFreehandMark:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.mF(), new IPCC.dO(), new IPCC.ge(true, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.mF(), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "CreateFreehandMark";
                                break;
                            case IPCC.Web.UI.MouseTool.CreatePolygonMark:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.kR(IPCC.Web.UI.MarkType.Polygon), new IPCC.dO(), new IPCC.ge(true, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.kR(IPCC.Web.UI.MarkType.Polygon), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "CreatePolygonMark";
                                break;
                            case IPCC.Web.UI.MouseTool.CreateTextMark:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.Text), new IPCC.dO(), new IPCC.ge(true, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.Text), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "CreateTextMark";
                                break;
                            case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.TextLine), new IPCC.dO(), new IPCC.ge(true, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.TextLine), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "CreateTextInputSignatureMark";
                                break;
                            case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:
                                J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.TextAreaSignature), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                jl = "CreateTextAreaSignatureMark";
                                break;
                            case IPCC.Web.UI.MouseTool.EditMarks:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.kb(IPCC.Web.UI.MarkType.Text), new IPCC.dO(), new IPCC.ge(true, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.kb(IPCC.Web.UI.MarkType.Text), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "EditMarks";
                                break;
                            case IPCC.Web.UI.MouseTool.RunMarks:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.za(IPCC.Web.UI.MarkType.Text), new IPCC.dO(), new IPCC.ge(false, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.za(IPCC.Web.UI.MarkType.Text), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "RunMarks";
                                break;
                            case IPCC.Web.UI.MouseTool.CreateStampMark:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.Stamp), new IPCC.dO(), new IPCC.ge(true, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.Stamp), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "CreateStampMark";
                                break;
                            case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.ImageStampAnnotation), new IPCC.dO(), new IPCC.ge(true, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.ImageStampAnnotation), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "CreateImageStampAnnotationMark";
                                break;
                            case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.ImageStampRedaction), new IPCC.dO(), new IPCC.ge(true, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.fJ(IPCC.Web.UI.MarkType.ImageStampRedaction), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "CreateImageStampRedactionMark";
                                break;
                            case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:
                                J.Kn = true;
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.kP(), new IPCC.dO(), new IPCC.ge(false, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.kP(), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "CreateHighlightTextMark";
                                break;
                            case IPCC.Web.UI.MouseTool.SelectText:
                                J.Kn = false;
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.kP(), new IPCC.dO(), new IPCC.ge(false, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.kP(), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "SelectText";
                                break;
                            case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:
                                if (IPCC.ij === true) {
                                    J.fI([new IPCC.kP(), new IPCC.dO(), new IPCC.ge(true, this.jj()), new IPCC.cv(), new IPCC.co(false)]);
                                } else {
                                    J.fI([new IPCC.kP(), new IPCC.dO(), new IPCC.cv(), new IPCC.co(false)]);
                                }
                                jl = "CreateStrikethroughMark";
                                break;
                        }
                        this.raisePropertyChanged('mouseTool', {
                            mouseToolType: jl
                        });
                    }
                };
                this.IX = function(aoA) {
                    cJ = -1;
                    J.fI(aoA);
                };
                this.aDd = function() {
                    return J.bV().get_presentationQuality();
                };
                this.aCM = function(G) {
                    IPCC.aR.kA(G, 'value', 0, 100);
                    J.bV().set_presentationQuality(G);
                };
                this.aDT = function() {
                    return J.bV().get_scrollBars();
                };
                this.aCd = function(G) {
                    IPCC.aR.kd(G, 'value', IPCC.Web.UI.ScrollBars);
                    J.bV().set_scrollBars(G);
                };
                this.awC = function(cD, aqd) {
                    IPCC.aR.al(cD, 'imagePoint');
                    if (!(J.cE())) {
                        return new IPCC.Web.UI.Point(0, 0);
                    }
                    var cn = J.bV().ec().transform(cD);
                    if (aqd) {
                        cn.constrain(J.eT());
                    }
                    return cn;
                };
                this.NP = function(cn, aqu) {
                    IPCC.aR.al(cn, 'windowPoint');
                    var bE = J.cE();
                    if (!bE) {
                        return new IPCC.Web.UI.Point(0, 0);
                    }
                    var pw = J.bV().ec();
                    pw.yW();
                    var cD = pw.transform(cn);
                    if (aqu) {
                        cD.constrain(bE);
                    }
                    return cD;
                };

                function atG() {
                    var cg;
                    cg = gY.mN();
                    var aeZ = cg.clientWidth;
                    var aej = cg.clientHeight;
                    var aym = (fj && fj.viewFitType === adZ && aeZ === afK && aej === aeE);
                    if (aym) {
                        if (NQ > 2) {
                            return;
                        }
                        NQ++;
                    } else {
                        adZ = fj ? fj.viewFitType : -1;
                        afK = aeZ;
                        aeE = aej;
                        NQ = 0;
                    }
                    Ys();
                };

                function avd() {
                    fj = null;
                };

                function asU(bC, F) {
                    switch (F.dY) {
                        case IPCC.eV.aaQ:
                            gY.abT(1.25, F.UW.windowPoint);
                            break;
                        case IPCC.eV.adr:
                            gY.adH(1.25, F.UW.windowPoint);
                            break;
                        case IPCC.eV.XZ:
                            gY.wI(F.G);
                            break;
                        case IPCC.eV.agR:
                            gY.age();
                            break;
                        case IPCC.eV.amt:
                            gY.ana();
                            break;
                        case IPCC.eV.abp:
                            gY.XB(F.G);
                            break;
                        case IPCC.eV.aaA:
                            gY.Kr(F.G);
                            break;
                    }
                };
                this.lj = function() {
                    return J.lj();
                };
                this.Kf = function(G) {
                    J.Kf(G);
                };
                this.ca = function() {
                    return J.ca();
                };
                this.lU = function() {
                    return J.lU();
                };
                this.Dp = function(G) {
                    J.Dp(G);
                };
                this.yJ = function() {
                    return J.get_requireRequestsOptimize();
                };
                this.Kk = function(G) {
                    J.Kk(G);
                };
                this.kW = function() {
                    return J.kW();
                };
                this.wX = function(G) {
                    J.wX(G);
                };
                this.HX = function(cD) {
                    IPCC.aR.al(cD, 'imagePoint');
                    return J.HX(cD);
                };
                this.zs = function(df) {
                    J.zs(df);
                };
                this.Wj = function() {
                    J.Wj();
                };
                this.Oz = function(tA, dp) {
                    var Jl = J.ca().gT().en();
                    IPCC.aR.mW(tA, 'tA', 0, Jl - 1);
                    J.Oz(tA, dp);
                };
                this.tL = function(df) {
                    if (df === undefined) {
                        J.bV().tL(df);
                        return false;
                    }
                    var Jl = J.ca().gT().en();
                    IPCC.aR.mW(df, 'textIndex', 0, Jl - 1);
                    J.tL(df);
                    return true;
                };
                this.Kq = function() {
                    return !!(J.cE() && J.lj() && J.ca().mY() === true && J.bV().Kq());
                };
                this.UO = function() {
                    var bM = J.bV();
                    bM.UO();
                };
                this.OR = function() {
                    if (J.lj() && J.ca().mY() === true) {
                        return Math.min(J.bV().aih(), J.bV().Cd());
                    }
                };
                this.Cg = function() {
                    if (J.lj() && J.ca().mY() === true) {
                        return J.bV().Cg();
                    }
                };
                this.BB = function() {
                    if (J.lj() && J.ca().mY() === true && J.bV().Kq()) {
                        return J.BB();
                    } else {
                        return "";
                    }
                };
                this.Cd = function() {
                    return J.bV().Cd();
                };
                this.aDD = function() {
                    return J.bV().get_cursor();
                };
                this.aBH = function(G) {
                    J.bV().set_cursor(G);
                };
                this.yf = function() {
                    return J.yf();
                };
                this.XN = function(G) {
                    J.XN(G);
                };
                this.ip = function() {
                    return J.ip();
                };
                this.nT = function(G) {
                    J.nT(G);
                };
                this.ayr = function() {
                    J.bV().hideMagnifier();
                };
                this.avt = function(cn) {
                    J.bV().showMagnifier(cn);
                };
                this.yq = function(L) {
                    if (J.nQ().igElements) {
                        J.yq(L);
                        J.dv();
                    }
                };
                this.JN = function() {
                    J.JN();
                };
                this.Cz = function() {
                    return J.Cz();
                };
                this.qW = function() {
                    if (J.nQ().igElements) {
                        J.qW(true);
                    }
                };

                function atF(bC, F) {
                    var vM = F.scaleFactor;
                    var aA = {
                        scaleType: "scaledDown",
                        pageNumber: F.pageNumber
                    };
                    if (Hh !== vM) {
                        if (vM > Hh) {
                            aA.scaleType = "scaledUp";
                        }
                        Hh = vM;
                        aQ('scaleChanged', aA);
                    }
                };
                this.initialize = function() {
                    J.azE(this.mN().id);
                    J.tq(this.mN().id);
                    if (cJ === -1) {
                        this.Kr(IPCC.Web.UI.MouseTool.RectangleZoom);
                    }
                    rd('mouseDown');
                    rd('mouseMove');
                    rd('mouseUp');
                    rd('contextMenu');
                    rd('markCreating');
                    rd('pageOpenFailed');
                    rd('textPageReady');
                    rd('pageDisplayed');
                    rd('exceptionThrown');
                    rd('selectTextMouseToolCompleted');
                    Ko('markAdded');
                    Ko('markChanged');
                    Ko('markRemoved');
                    rd('textExtractionFailed');
                    Ko('markReordered');
                    Ko('marksLoaded');
                    rd('markSelectionChanged');
                    aCq();
                    J.atj(atG);
                    J.ars(avd);
                    J.atV(asU);
                    J.add_scaleChanged(atF);
                    J.awv();
                    var cg = this.mN();
                    cg.bg = this;
                };
                og = (og !== false);
                J = new IPCC.Sv(og);
                J.aCc('PageView');
                J.aDj(OA);
            };
            abq.prototype = {
                dispose: function() {
                    this.as('dispose', arguments);
                    this.KR();
                },
                get_debug: function() {
                    try {
                        var aF = this.Kl();
                        this.de('get_debug', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_debug', e);
                        throw e;
                    }
                },
                set_debug: function(value) {
                    try {
                        this.as('set_debug', arguments);
                        var AA = this.Kl();
                        this.Xv(value);
                        if (!AA) {
                            this.as('set_debug', arguments);
                        }
                    } catch (e) {
                        this.bw('set_debug', e);
                        throw e;
                    }
                },
                get_debugErrorLevel: function() {
                    try {
                        var aF = this.xH();
                        this.de('get_debugErrorLevel', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_debugErrorLevel', e);
                        throw e;
                    }
                },
                set_debugErrorLevel: function(value) {
                    try {
                        this.as('set_debugErrorLevel', arguments);
                        var AA = this.xH();
                        this.JC(value);
                        if (AA < IPCC.Web.UI.DebugErrorLevel.Development) {
                            this.as('set_debugErrorLevel', arguments);
                        }
                    } catch (e) {
                        this.bw('set_debugErrorLevel', e);
                        throw e;
                    }
                },
                get_artServiceOption: function() {
                    try {
                        var aF = this.WC();
                        this.de('get_artServiceOption', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_artServiceOption', e);
                        throw e;
                    }
                },
                set_artServiceOption: function(value) {
                    try {
                        this.as('set_artServiceOption', arguments);
                        this.Wq(value);
                    } catch (e) {
                        this.bw('set_artServiceOption', e);
                        throw e;
                    }
                },
                add_pageOpening: function(handler) {
                    try {
                        this.Uc(handler);
                    } catch (e) {
                        this.bw('add_pageOpening', e);
                        throw e;
                    }
                },
                remove_pageOpening: function(handler) {
                    try {
                        this.XG(handler);
                    } catch (e) {
                        this.bw('remove_pageOpening', e);
                        throw e;
                    }
                },
                add_pageOpened: function(handler) {
                    try {
                        this.SN(handler);
                    } catch (e) {
                        this.bw('add_pageOpened', e);
                        throw e;
                    }
                },
                remove_pageOpened: function(handler) {
                    try {
                        this.Xr(handler);
                    } catch (e) {
                        this.bw('remove_pageOpened', e);
                        throw e;
                    }
                },
                add_pageClosed: function(handler) {
                    try {
                        this.auM(handler);
                    } catch (e) {
                        this.bw('add_pageClosed', e);
                        throw e;
                    }
                },
                remove_pageClosed: function(handler) {
                    try {
                        this.avi(handler);
                    } catch (e) {
                        this.bw('remove_pageClosed', e);
                        throw e;
                    }
                },
                add_pageOpenFailed: function(handler) {
                    try {
                        this.HB(handler);
                    } catch (e) {
                        this.bw('add_pageOpenFailed', e);
                        throw e;
                    }
                },
                remove_pageOpenFailed: function(handler) {
                    try {
                        this.Gb(handler);
                    } catch (e) {
                        this.bw('remove_pageOpenFailed', e);
                        throw e;
                    }
                },
                add_pageDisplayed: function(handler) {
                    try {
                        this.SH(handler);
                    } catch (e) {
                        this.bw('add_pageDisplayed', e);
                        throw e;
                    }
                },
                remove_pageDisplayed: function(handler) {
                    try {
                        this.Ww(handler);
                    } catch (e) {
                        this.bw('remove_pageDisplayed', e);
                        throw e;
                    }
                },
                add_mouseDown: function(handler) {
                    try {
                        this.LH(handler);
                    } catch (e) {
                        this.bw('add_mouseDown', e);
                        throw e;
                    }
                },
                remove_mouseDown: function(handler) {
                    try {
                        this.XJ(handler);
                    } catch (e) {
                        this.bw('remove_mouseDown', e);
                        throw e;
                    }
                },
                add_mouseMove: function(handler) {
                    try {
                        this.Lf(handler);
                    } catch (e) {
                        this.bw('add_mouseMove', e);
                        throw e;
                    }
                },
                remove_mouseMove: function(handler) {
                    try {
                        this.Wx(handler);
                    } catch (e) {
                        this.bw('remove_mouseMove', e);
                        throw e;
                    }
                },
                add_mouseUp: function(handler) {
                    try {
                        this.LJ(handler);
                    } catch (e) {
                        this.bw('add_mouseUp', e);
                        throw e;
                    }
                },
                remove_mouseUp: function(handler) {
                    try {
                        this.Ws(handler);
                    } catch (e) {
                        this.bw('remove_mouseUp', e);
                        throw e;
                    }
                },
                add_contextMenu: function(handler) {
                    try {
                        this.asl(handler);
                    } catch (e) {
                        this.bw('add_contextMenu', e);
                        throw e;
                    }
                },
                remove_contextMenu: function(handler) {
                    try {
                        this.avD(handler);
                    } catch (e) {
                        this.bw('remove_contextMenu', e);
                        throw e;
                    }
                },
                add_markAdded: function(handler) {
                    try {
                        this.As(handler);
                    } catch (e) {
                        this.bw('add_markAdded', e);
                        throw e;
                    }
                },
                remove_markAdded: function(handler) {
                    try {
                        this.zV(handler);
                    } catch (e) {
                        this.bw('remove_markAdded', e);
                        throw e;
                    }
                },
                add_markCreating: function(handler) {
                    try {
                        this.RV(handler);
                    } catch (e) {
                        this.bw('add_markCreating', e);
                        throw e;
                    }
                },
                remove_markCreating: function(handler) {
                    try {
                        this.WO(handler);
                    } catch (e) {
                        this.bw('remove_markCreating', e);
                        throw e;
                    }
                },
                add_markChanged: function(handler) {
                    try {
                        this.IC(handler);
                    } catch (e) {
                        this.bw('add_markChanged', e);
                        throw e;
                    }
                },
                remove_markChanged: function(handler) {
                    try {
                        this.HH(handler);
                    } catch (e) {
                        this.bw('remove_markChanged', e);
                        throw e;
                    }
                },
                add_markRemoved: function(handler) {
                    try {
                        this.AQ(handler);
                    } catch (e) {
                        this.bw('add_markRemoved', e);
                        throw e;
                    }
                },
                remove_markRemoved: function(handler) {
                    try {
                        this.zI(handler);
                    } catch (e) {
                        this.bw('remove_markRemoved', e);
                        throw e;
                    }
                },
                add_markReordered: function(handler) {
                    try {
                        this.Ht(handler);
                    } catch (e) {
                        this.bw('add_markReordered', e);
                        throw e;
                    }
                },
                remove_markReordered: function(handler) {
                    try {
                        this.ET(handler);
                    } catch (e) {
                        this.bw('remove_markReordered', e);
                        throw e;
                    }
                },
                add_marksLoaded: function(handler) {
                    try {
                        this.Qx(handler);
                    } catch (e) {
                        this.bw('add_marksLoaded', e);
                        throw e;
                    }
                },
                remove_marksLoaded: function(handler) {
                    try {
                        this.WF(handler);
                    } catch (e) {
                        this.bw('remove_marksLoaded', e);
                        throw e;
                    }
                },
                add_markSelectionChanged: function(handler) {
                    try {
                        this.Hj(handler);
                    } catch (e) {
                        this.bw('add_markSelectionChanged', e);
                        throw e;
                    }
                },
                remove_markSelectionChanged: function(handler) {
                    try {
                        this.GG(handler);
                    } catch (e) {
                        this.bw('remove_markSelectionChanged', e);
                        throw e;
                    }
                },
                add_selectTextMouseToolCompleted: function(handler) {
                    try {
                        this.Tn(handler);
                    } catch (e) {
                        this.bw('add_selectTextMouseToolCompleted', e);
                        throw e;
                    }
                },
                remove_selectTextMouseToolCompleted: function(handler) {
                    try {
                        this.Wv(handler);
                    } catch (e) {
                        this.bw('remove_selectTextMouseToolCompleted', e);
                        throw e;
                    }
                },
                add_textPageReady: function(handler) {
                    try {
                        this.xN(handler);
                    } catch (e) {
                        this.bw('add_textPageReady', e);
                        throw e;
                    }
                },
                remove_textPageReady: function(handler) {
                    try {
                        this.Du(handler);
                    } catch (e) {
                        this.bw('remove_textPageReady', e);
                        throw e;
                    }
                },
                add_exceptionThrown: function(handler) {
                    this.RJ(handler);
                },
                remove_exceptionThrown: function(handler) {
                    this.WY(handler);
                },
                add_scaleChanged: function(handler) {
                    try {
                        this.SS(handler);
                    } catch (e) {
                        this.bw('add_scaleChanged', e);
                        throw e;
                    }
                },
                remove_scaleChanged: function(handler) {
                    try {
                        this.XL(handler);
                    } catch (e) {
                        this.bw('remove_scaleChanged', e);
                        throw e;
                    }
                },
                add_propertyChanged: function(handler) {
                    try {
                        this.jM(handler);
                    } catch (e) {
                        this.bw('add_propertyChanged', e);
                        throw e;
                    }
                },
                remove_propertyChanged: function(handler) {
                    try {
                        this.mR(handler);
                    } catch (e) {
                        this.bw('remove_propertyChanged', e);
                        throw e;
                    }
                },
                add_textExtractionFailed: function(handler) {
                    this.xr(handler);
                },
                remove_textExtractionFailed: function(handler) {
                    this.Ed(handler);
                },
                writeToLog: function(message) {
                    try {
                        this.nf(message);
                    } catch (e) {
                        this.bw('writeToLog', e);
                        throw e;
                    }
                },
                fitPage: function(type) {
                    try {
                        this.as('fitPage', arguments);
                        this.XB(type);
                    } catch (e) {
                        this.bw('fitPage', e);
                        throw e;
                    }
                },
                get_pageIsOpen: function() {
                    try {
                        var aF = this.dZ();
                        this.de('get_pageIsOpen', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_pageIsOpen', e);
                        throw e;
                    }
                },
                get_pageWidth: function() {
                    try {
                        var aF = this.kt();
                        this.de('get_pageWidth', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_pageWidth', e);
                        throw e;
                    }
                },
                get_pageHeight: function() {
                    try {
                        var aF = this.jk();
                        this.de('get_pageHeight', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_pageHeight', e);
                        throw e;
                    }
                },
                get_pageXResolution: function() {
                    try {
                        var aF = this.aEl();
                        this.de('get_pageXResolution', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_pageXResolution', e);
                        throw e;
                    }
                },
                get_pageYResolution: function() {
                    try {
                        var aF = this.aEC();
                        this.de('get_pageYResolution', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_pageYResolution', e);
                        throw e;
                    }
                },
                get_documentIdentifier: function() {
                    try {
                        var aF = this.IW();
                        this.de('get_documentIdentifier', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_documentIdentifier', e);
                        throw e;
                    }
                },
                get_encodedDocumentIdentifier: function() {
                    try {
                        var aF = this.Oi();
                        this.de('get_encodedDocumentIdentifier', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_encodedDocumentIdentifier', e);
                        throw e;
                    }
                },
                get_pageNumber: function() {
                    try {
                        var aF = this.pa();
                        this.de('get_pageNumber', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_pageNumber', e);
                        throw e;
                    }
                },
                get_documentPageCount: function() {
                    try {
                        var aF = this.aDV();
                        this.de('get_documentPageCount', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_documentPageCount', e);
                        throw e;
                    }
                },
                get_displayedPageRectangle: function() {
                    try {
                        var aF = this.ajy();
                        this.de('get_displayedPageRectangle', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_displayedPageRectangle', e);
                        throw e;
                    }
                },
                get_currentState: function() {
                    try {
                        var aF = this.MX();
                        this.de('get_currentState', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_currentState', e);
                        throw e;
                    }
                },
                zoomIn: function(factor) {
                    try {
                        this.as('zoomIn', arguments);
                        this.MF(factor);
                    } catch (e) {
                        this.bw('zoomIn', e);
                        throw e;
                    }
                },
                zoomOut: function(factor) {
                    try {
                        this.as('zoomOut', arguments);
                        this.Qw(factor);
                    } catch (e) {
                        this.bw('zoomOut', e);
                        throw e;
                    }
                },
                set_sharpening: function(factor) {
                    try {
                        this.as('set_sharpening', arguments);
                        this.CS(factor);
                    } catch (e) {
                        this.bw('set_sharpening', e);
                        throw e;
                    }
                },
                set_gamma: function(factor) {
                    try {
                        this.as('set_gamma', arguments);
                        this.FF(factor);
                    } catch (e) {
                        this.bw('set_gamma', e);
                        throw e;
                    }
                },
                set_svgLineWidthMultiplier: function(factor) {
                    try {
                        this.as('set_svgLineWidthMultiplier', arguments);
                        this.ED(factor);
                    } catch (e) {
                        this.bw('set_svgLineWidthMultiplier', e);
                        throw e;
                    }
                },
                zoom: function(factor) {
                    try {
                        this.as('zoom', arguments);
                        this.iy(factor);
                    } catch (e) {
                        this.bw('zoom', e);
                        throw e;
                    }
                },
                rotate: function(degreesClockwise) {
                    try {
                        this.as('rotate', arguments);
                        this.wI(degreesClockwise);
                    } catch (e) {
                        this.bw('rotate', e);
                        throw e;
                    }
                },
                showPageRectangle: function(imageRectangle) {
                    try {
                        this.as('showPageRectangle', arguments, 1);
                        this.apj(imageRectangle);
                    } catch (e) {
                        this.bw('showPageRectangle', e);
                        throw e;
                    }
                },
                showPagePointAtCenter: function(imagePoint) {
                    try {
                        this.as('showPagePointAtCenter', arguments, 1);
                        this.aou(imagePoint);
                    } catch (e) {
                        this.bw('showPagePointAtCenter', e);
                        throw e;
                    }
                },
                mirror: function() {
                    try {
                        this.as('mirror', arguments);
                        this.ana();
                    } catch (e) {
                        this.bw('mirror', e);
                        throw e;
                    }
                },
                flip: function() {
                    try {
                        this.as('flip', arguments);
                        this.age();
                    } catch (e) {
                        this.bw('flip', e);
                        throw e;
                    }
                },
                display: function() {
                    try {
                        this.as('display', arguments);
                        this.dv();
                    } catch (e) {
                        this.bw('display', e);
                        throw e;
                    }
                },
                openPage: function(parameters) {
                    try {
                        this.as('openPage', arguments, 1);
                        this.QM(parameters);
                    } catch (e) {
                        this.bw('openPage', e);
                        throw e;
                    }
                },
                closePage: function() {
                    try {
                        this.as('closePage', arguments);
                        this.KR();
                    } catch (e) {
                        this.bw('closePage', e);
                        throw e;
                    }
                },
                hideSelection: function() {
                    try {
                        this.as('hideSelection', arguments);
                        this.ow();
                    } catch (e) {
                        this.bw('hideSelection', e);
                        throw e;
                    }
                },
                showSelection: function(imageRectangle) {
                    try {
                        this.as('showSelection', arguments);
                        this.aom(imageRectangle);
                    } catch (e) {
                        this.bw('showSelection', e);
                        throw e;
                    }
                },
                showEmptySelection: function(imagePoint) {
                    try {
                        this.as('showEmptySelection', arguments);
                        this.Ej(imagePoint);
                    } catch (e) {
                        this.bw('showEmptySelection', e);
                        throw e;
                    }
                },
                extendSelection: function(imagePoint) {
                    try {
                        this.as('extendSelection', arguments);
                        this.xp(imagePoint);
                    } catch (e) {
                        this.bw('extendSelection', e);
                        throw e;
                    }
                },
                saveArtPage: function(onSave) {
                    try {
                        this.as('saveArtPage', arguments);
                        this.Yp(onSave);
                    } catch (e) {
                        this.bw('saveArtPage', e);
                        throw e;
                    }
                },
                get_selectionPageRectangle: function() {
                    try {
                        var aF = this.wQ();
                        this.de('get_selectionPageRectangle', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_selectionPageRectangle', e);
                        throw e;
                    }
                },
                get_selectionWindowRectangle: function() {
                    try {
                        var aF = this.aDF();
                        this.de('get_selectionWindowRectangle', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_selectionWindowRectangle', e);
                        throw e;
                    }
                },
                get_selectionIsVisible: function() {
                    try {
                        var aF = this.BL();
                        this.de('get_selectionIsVisible', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_selectionIsVisible', e);
                        throw e;
                    }
                },
                get_controlStateElementId: function() {
                    try {
                        var aF = this.aEA();
                        this.de('get_controlStateElementId', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_controlStateElementId', e);
                        throw e;
                    }
                },
                set_controlStateElementId: function(value) {
                    try {
                        this.as('set_controlStateElementId', arguments);
                        this.aBh(value);
                    } catch (e) {
                        this.bw('set_controlStateElementId', e);
                        throw e;
                    }
                },
                get_includeArtInPostBack: function() {
                    try {
                        var aF = this.aFY();
                        this.de('get_includeArtInPostBack', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_includeArtInPostBack', e);
                        throw e;
                    }
                },
                set_includeArtInPostBack: function(value) {
                    try {
                        this.as('set_includeArtInPostBack', arguments);
                        this.aAA(value);
                    } catch (e) {
                        this.bw('set_includeArtInPostBack', e);
                        throw e;
                    }
                },
                get_artPage: function() {
                    try {
                        var aF = this.eg();
                        this.de('get_artPage', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_artPage', e);
                        throw e;
                    }
                },
                set_artPage: function(value) {
                    try {
                        this.as('set_artPage', arguments);
                        this.lH(value);
                    } catch (e) {
                        this.bw('set_artPage', e);
                        throw e;
                    }
                },
                get_documentArtPage: function() {
                    try {
                        var aF = this.Os();
                        this.de('get_documentArtPage', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_documentArtPage', e);
                        throw e;
                    }
                },
                set_documentArtPage: function(value) {
                    try {
                        this.as('set_documentArtPage', arguments);
                        this.Ky(value);
                    } catch (e) {
                        this.bw('set_documentArtPage', e);
                        throw e;
                    }
                },
                get_transientArtPage: function() {
                    try {
                        var aF = this.lX();
                        this.de('get_transientArtPage', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_transientArtPage', e);
                        throw e;
                    }
                },
                set_transientArtPage: function(value) {
                    try {
                        this.as('set_transientArtPage', arguments);
                        this.Dg(value);
                    } catch (e) {
                        this.bw('set_transientArtPage', e);
                        throw e;
                    }
                },
                get_imageHandlerUrl: function() {
                    try {
                        var aF = this.uU();
                        this.de('get_imageHandlerUrl', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_imageHandlerUrl', e);
                        throw e;
                    }
                },
                set_imageHandlerUrl: function(value) {
                    try {
                        this.as('set_imageHandlerUrl', arguments);
                        this.Wn(value);
                    } catch (e) {
                        this.bw('set_imageHandlerUrl', e);
                        throw e;
                    }
                },
                get_resourcePath: function() {
                    try {
                        var aF = this.vm();
                        this.de('get_resourcePath', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_resourcePath', e);
                        throw e;
                    }
                },
                set_resourcePath: function(G) {
                    try {
                        this.as('set_resourcePath', arguments);
                        this.JQ(G);
                    } catch (e) {
                        this.bw('set_resourcePath', e);
                        throw e;
                    }
                },
                get_contextMenuLanguageDictionary: function() {
                    try {
                        var aF = this.jj();
                        this.de('get_contextMenuLanguageDictionary', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_contextMenuLanguageDictionary', e);
                        throw e;
                    }
                },
                set_contextMenuLanguageDictionary: function(G) {
                    try {
                        this.as('set_contextMenuLanguageDictionary', arguments);
                        this.aCN(G);
                    } catch (e) {
                        this.bw('set_contextMenuLanguageDictionary', e);
                        throw e;
                    }
                },
                get_textRequired: function() {
                    try {
                        var aF = this.lj();
                        this.de('get_textRequired', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_textRequired', e);
                        throw e;
                    }
                },
                set_textRequired: function(G) {
                    try {
                        this.as('set_textRequired', arguments);
                        this.Kf(G);
                    } catch (e) {
                        this.bw('set_textRequired', e);
                        throw e;
                    }
                },
                get_textPage: function() {
                    try {
                        var aF = this.ca();
                        this.de('get_textPage', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_textPage', e);
                        throw e;
                    }
                },
                get_textSelectionIsVisible: function() {
                    try {
                        var aF = this.Kq();
                        this.CC('textSelectionIsVisible', arguments, aF, 1);
                        return aF;
                    } catch (e) {
                        this.bw('textSelectionIsVisible', e);
                        throw e;
                    }
                },
                getSelectedText: function() {
                    try {
                        var aF = this.BB();
                        this.CC('getSelectedText', arguments, aF, 1);
                        return aF;
                    } catch (e) {
                        this.bw('getSelectedText', e);
                        throw e;
                    }
                },
                get_requireRequestsOptimize: function() {
                    try {
                        var aF = this.yJ();
                        this.de('get_requireRequestsOptimize', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('yJ', e);
                        throw e;
                    }
                },
                set_requireRequestsOptimize: function(value) {
                    try {
                        this.as('set_requireRequestsOptimize', arguments);
                        this.Kk(value);
                    } catch (e) {
                        this.bw('set_requireRequestsOptimize', e);
                        throw e;
                    }
                },
                get_magnifierMagnification: function() {
                    try {
                        var aF = this.aEy();
                        this.de('get_magnifierMagnification', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_magnifierMagnification', e);
                        throw e;
                    }
                },
                set_magnifierMagnification: function(value) {
                    try {
                        this.as('set_magnifierMagnification', arguments);
                        this.aCj(value);
                    } catch (e) {
                        this.bw('set_magnifierMagnification', e);
                        throw e;
                    }
                },
                get_magnifierWidth: function() {
                    try {
                        var aF = this.aEv();
                        this.de('get_magnifierWidth', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_magnifierWidth', e);
                        throw e;
                    }
                },
                set_magnifierWidth: function(value) {
                    try {
                        this.as('set_magnifierWidth', arguments);
                        this.aBY(value);
                    } catch (e) {
                        this.bw('set_magnifierWidth', e);
                        throw e;
                    }
                },
                get_magnifierHeight: function() {
                    try {
                        var aF = this.aDE();
                        this.de('get_magnifierHeight', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_magnifierHeight', e);
                        throw e;
                    }
                },
                set_magnifierHeight: function(value) {
                    try {
                        this.as('set_magnifierHeight', arguments);
                        this.aCA(value);
                    } catch (e) {
                        this.bw('set_magnifierHeight', e);
                        throw e;
                    }
                },
                get_magnifierXOffset: function() {
                    try {
                        var aF = this.KD();
                        this.de('get_magnifierXOffset', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_magnifierXOffset', e);
                        throw e;
                    }
                },
                set_magnifierXOffset: function(value) {
                    try {
                        this.as('set_magnifierXOffset', arguments);
                        this.Xz(value);
                    } catch (e) {
                        this.bw('set_magnifierXOffset', e);
                        throw e;
                    }
                },
                get_magnifierYOffset: function() {
                    try {
                        var aF = this.LA();
                        this.de('get_magnifierYOffset', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_magnifierYOffset', e);
                        throw e;
                    }
                },
                set_magnifierYOffset: function(value) {
                    try {
                        this.as('set_magnifierYOffset', arguments);
                        this.XW(value);
                    } catch (e) {
                        this.bw('set_magnifierYOffset', e);
                        throw e;
                    }
                },
                showMagnifier: function(windowPoint) {
                    try {
                        this.as('showMagnifier', arguments, 1);
                        this.avt(windowPoint);
                    } catch (e) {
                        this.bw('showMagnifier', e);
                        throw e;
                    }
                },
                hideMagnifier: function() {
                    try {
                        this.as('hideMagnifier', arguments);
                        this.ayr();
                    } catch (e) {
                        this.bw('hideMagnifier', e);
                        throw e;
                    }
                },
                get_markHandleSize: function() {
                    try {
                        var aF = this.Zh();
                        this.de('get_markHandleSize', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_markHandleSize', e);
                        throw e;
                    }
                },
                set_markHandleSize: function(value) {
                    try {
                        this.as('set_markHandleSize', arguments);
                        this.XS(value);
                    } catch (e) {
                        this.bw('set_markHandleSize', e);
                        throw e;
                    }
                },
                get_markHandleMode: function() {
                    try {
                        var aF = this.xv();
                        this.de('get_markHandleMode', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_markHandleMode', e);
                        throw e;
                    }
                },
                set_markHandleMode: function(value) {
                    try {
                        this.as('set_markHandleMode', arguments);
                        this.Kd(value);
                    } catch (e) {
                        this.bw('set_markHandleMode', e);
                        throw e;
                    }
                },
                get_mouseTool: function() {
                    try {
                        var aF = this.ZJ();
                        this.de('get_mouseTool', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_mouseTool', e);
                        throw e;
                    }
                },
                set_mouseTool: function(value) {
                    try {
                        this.as('set_mouseTool', arguments);
                        this.Kr(value);
                    } catch (e) {
                        this.bw('set_mouseTool', e);
                        throw e;
                    }
                },
                get_presentationQuality: function() {
                    try {
                        var aF = this.aDd();
                        this.de('get_presentationQuality', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_presentationQuality', e);
                        throw e;
                    }
                },
                set_presentationQuality: function(value) {
                    try {
                        this.as('set_presentationQuality', arguments);
                        this.aCM(value);
                    } catch (e) {
                        this.bw('set_presentationQuality', e);
                        throw e;
                    }
                },
                get_scrollBars: function() {
                    try {
                        var aF = this.aDT();
                        this.de('get_scrollBars', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_scrollBars', e);
                        throw e;
                    }
                },
                set_scrollBars: function(value) {
                    try {
                        this.as('set_scrollBars', arguments);
                        this.aCd(value);
                    } catch (e) {
                        this.bw('set_scrollBars', e);
                        throw e;
                    }
                },
                get_imGearPage: function() {
                    try {
                        var aF = this.lU();
                        this.de('get_imGearPage', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_imGearPage', e);
                        throw e;
                    }
                },
                set_imGearPage: function(value) {
                    try {
                        this.as('set_imGearPage', arguments);
                        this.Dp(value);
                    } catch (e) {
                        this.bw('set_imGearPage', e);
                        throw e;
                    }
                },
                get_serviceResponseTimeout: function() {
                    try {
                        var aF = this.kW();
                        this.de('get_serviceResponseTimeout', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_serviceResponseTimeout', e);
                        throw e;
                    }
                },
                set_serviceResponseTimeout: function(value) {
                    try {
                        this.as('set_serviceResponseTimeout', arguments);
                        this.wX(value);
                    } catch (e) {
                        this.bw('set_serviceResponseTimeout', e);
                        throw e;
                    }
                },
                get_currentTextIndex: function() {
                    try {
                        var aF = this.Cd();
                        this.de('get_currentTextIndex', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_currentTextIndex', e);
                        throw e;
                    }
                },
                get_cursor: function() {
                    try {
                        var aF = this.aDD();
                        this.de('get_cursor', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_cursor', e);
                        throw e;
                    }
                },
                set_cursor: function(value) {
                    try {
                        this.as('set_cursor', arguments);
                        this.aBH(value);
                    } catch (e) {
                        this.bw('set_cursor', e);
                        throw e;
                    }
                },
                get_encryption: function() {
                    try {
                        var aF = this.ip();
                        this.de('get_encryption', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_encryption', e);
                        throw e;
                    }
                },
                set_encryption: function(value) {
                    try {
                        this.as('set_encryption', arguments);
                        this.nT(value);
                    } catch (e) {
                        this.bw('set_encryption', e);
                        throw e;
                    }
                },
                transformPagePointToWindow: function(imagePoint, constrainResultToWindow) {
                    try {
                        var aF = this.awC(imagePoint, constrainResultToWindow);
                        this.CC('transformPagePointToWindow', arguments, aF, 1);
                        return aF;
                    } catch (e) {
                        this.bw('transformPagePointToWindow', e);
                        throw e;
                    }
                },
                transformWindowPointToPage: function(windowPoint, constrainResultToImage) {
                    try {
                        var aF = this.NP(windowPoint, constrainResultToImage);
                        this.CC('transformWindowPointToPage', arguments, aF, 1);
                        return aF;
                    } catch (e) {
                        this.bw('transformWindowPointToPage', e);
                        throw e;
                    }
                },
                transformPagePointToTextIndex: function(pagePoint) {
                    try {
                        var aF = this.HX(pagePoint);
                        this.CC('transformPagePointToTextIndex', arguments, aF, 1);
                        return aF;
                    } catch (e) {
                        this.bw('transformPagePointToTextIndex', e);
                        throw e;
                    }
                },
                removeAllHighlights: function() {
                    try {
                        this.as('removeAllHighlights', arguments);
                        this.Wj();
                    } catch (e) {
                        this.bw('removeAllHighlights', e);
                        throw e;
                    }
                },
                showTextSelection: function(indexOfFirstCharacter, length) {
                    try {
                        this.as('showTextSelection', arguments);
                        this.Oz(indexOfFirstCharacter, length);
                    } catch (e) {
                        this.bw('showTextSelection', e);
                        throw e;
                    }
                },
                showEmptyTextSelection: function(textIndex) {
                    try {
                        this.as('showEmptyTextSelection', arguments);
                        this.zs(textIndex);
                    } catch (e) {
                        this.bw('showEmptyTextSelection', e);
                        throw e;
                    }
                },
                extendTextSelection: function(textIndex) {
                    try {
                        this.as('extendTextSelection', arguments);
                        this.tL(textIndex);
                    } catch (e) {
                        this.bw('extendTextSelection', e);
                        throw e;
                    }
                },
                initializeViewControllers: function(showArtContextMenu) {
                    try {
                        this.as('initializeViewControllers', arguments);
                        this.aAY(showArtContextMenu);
                    } catch (e) {
                        this.bw('initializeViewControllers', e);
                        throw e;
                    }
                },
                get_autoUpdate: function() {
                    try {
                        var aF = this.yf();
                        this.de('get_autoUpdate', arguments, aF);
                        return aF;
                    } catch (e) {
                        this.bw('get_autoUpdate', e);
                        throw e;
                    }
                },
                set_autoUpdate: function(value) {
                    try {
                        this.as('set_autoUpdate', arguments);
                        this.XN(value);
                    } catch (e) {
                        this.bw('set_autoUpdate', e);
                        throw e;
                    }
                }
            };
            module.exports = abq;
        }, {}],
        116: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var ot = require('./FitType');
            var Ql = function() {
                return this;
            };
            Ql.prototype = {
                documentIdentifier: '',
                encodedDocumentIdentifier: '',
                pageNumber: 0,
                viewFitType: ot.FullImage,
                viewRectangle: null,
                viewRotationDegreesClockwise: 0,
                viewMirror: false,
                viewZoomFactor: undefined,
                encryption: false
            };
            Ql.registerClass = cV;
            Ql.registerClass('IPCC.Web.UI.PageViewState');
            module.exports = Ql;
        }, {
            "../../IPCC.Util": 29,
            "./FitType": 76
        }],
        117: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var vY = function(x, y) {
                this.x = x;
                this.y = y;
                return this;
            };
            vY.prototype = {
                toString: function() {
                    return 'Point(' + this.x + ', ' + this.y + ')';
                },
                constrain: function(rectangle) {
                    this.x = Math.min(Math.max(this.x, rectangle.x), rectangle.x + rectangle.width);
                    this.y = Math.min(Math.max(this.y, rectangle.y), rectangle.y + rectangle.height);
                }
            };
            vY.registerClass = cV;
            vY.registerClass('IPCC.Web.UI.Point');
            module.exports = vY;
        }, {
            "../../IPCC.Util": 29
        }],
        118: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var Ph = function() {
                var bF = [];
                var ax = new IPCC.Web.UI.gV();
                this.ase = function(al) {
                    var F = new IPCC.Web.UI.PointEventArgs();
                    F.point = al;
                    F.length = 1;
                    bF.push(new IPCC.Web.UI.Point(al.x, al.y));
                    F.index = bF.length - 1;
                    this.aQ('pointAdded', F);
                };
                this.arr = function(acg) {
                    var F = new IPCC.Web.UI.PointEventArgs();
                    F.index = bF.length;
                    F.length = acg.get_length();

                    function oq(al) {
                        bF.push(al);
                    };
                    acg.forEach(oq, {});
                    if (F.length > 0) {
                        this.aQ('pointAdded', F);
                    }
                };
                this.ld = function(je, cX) {
                    var YZ = [].concat(bF);
                    var C;
                    for (C = 0; C < YZ.length; C++) {
                        je.call(cX, new IPCC.Web.UI.Point(YZ[C].x, YZ[C].y), C, this);
                    }
                };
                this.Ai = function(ay) {
                    lN(ay);
                    var eK = bF[ay];
                    return new IPCC.Web.UI.Point(eK.x, eK.y);
                };
                this.aCE = function(ay, al) {
                    lN(ay);
                    IPCC.aR.al(al, 'point');
                    var Pn = bF[ay];
                    if (Pn.x === al.x && Pn.y === al.y) {
                        return;
                    }
                    Pn.x = al.x;
                    Pn.y = al.y;
                    var F = new IPCC.Web.UI.PointEventArgs();
                    F.point = al;
                    F.index = ay;
                    F.length = 1;
                    this.aQ('pointChanged', F);
                };
                this.en = function() {
                    return bF.length;
                };
                this.avG = function(ay) {
                    lN(ay);
                    var F = new IPCC.Web.UI.PointEventArgs();
                    F.point = bF[ay];
                    F.index = ay;
                    F.length = 1;
                    bF.splice(ay, 1);
                    this.aQ('pointRemoved', F);
                };
                this.awd = function() {
                    if (bF.length < 1) {
                        return;
                    }
                    var F = new IPCC.Web.UI.PointEventArgs();
                    F.index = 0;
                    F.length = bF.length;
                    bF = [];
                    this.aQ('pointRemoved', F);
                };
                this.ald = function(ew, et) {
                    if (ew === 0 && et === 0) {
                        return;
                    }
                    IPCC.aR.ic(ew, 'deltaX');
                    IPCC.aR.ic(et, 'deltaY');
                    var C;
                    for (C = 0; C < bF.length; C++) {
                        bF[C].x += ew;
                        bF[C].y += et;
                    }
                    var F = new IPCC.Web.UI.PointEventArgs();
                    F.index = 0;
                    F.length = bF.length;
                    this.aQ('pointChanged', F);
                };
                this.uy = function() {
                    if (bF.length < 1) {
                        return new IPCC.Web.UI.Rectangle(0, 0, 0, 0);
                    }
                    var C, jF = bF[0].x,
                        hX = bF[0].x,
                        _top = bF[0].y,
                        iS = bF[0].y;
                    for (C = 1; C < bF.length; C++) {
                        var al = bF[C];
                        jF = Math.min(jF, al.x);
                        hX = Math.max(hX, al.x);
                        _top = Math.min(_top, al.y);
                        iS = Math.max(iS, al.y);
                    }
                    return new IPCC.Web.UI.Rectangle(jF, _top, hX - jF, iS - _top);
                };

                function lN(ay) {
                    if (ay > bF.length - 1 || (ay < 0)) {
                        throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index', ay);
                    }
                };
                this.arR = function(H) {
                    ax.addHandler('pointAdded', H);
                };
                this.avj = function(H) {
                    ax.removeHandler('pointAdded', H);
                };
                this.atf = function(H) {
                    ax.addHandler('pointChanged', H);
                };
                this.avs = function(H) {
                    ax.removeHandler('pointChanged', H);
                };
                this.asz = function(H) {
                    ax.addHandler('pointRemoved', H);
                };
                this.avB = function(H) {
                    ax.removeHandler('pointRemoved', H);
                };
                this.aQ = function(cZ, F) {
                    var H = ax.getHandler(cZ);
                    if (H !== null) {
                        H(this, F);
                    }
                };
                return this;
            };
            Ph.prototype = {
                toString: function() {
                    return 'PointCollection with ' + this.get_length() + ' points';
                },
                addPoint: function(point) {
                    this.ase(point);
                },
                addPoints: function(pointCollection) {
                    this.arr(pointCollection);
                },
                forEach: function(method, context) {
                    this.ld(method, context);
                },
                getPoint: function(index) {
                    return this.Ai(index);
                },
                setPoint: function(index, point) {
                    this.aCE(index, point);
                },
                get_length: function() {
                    return this.en();
                },
                removePoint: function(index) {
                    this.avG(index);
                },
                removeAllPoints: function() {
                    this.awd();
                },
                moveAllPoints: function(deltaX, deltaY) {
                    this.ald(deltaX, deltaY);
                },
                add_pointAdded: function(handler) {
                    this.arR(handler);
                },
                remove_pointAdded: function(handler) {
                    this.avj(handler);
                },
                add_pointChanged: function(handler) {
                    this.atf(handler);
                },
                remove_pointChanged: function(handler) {
                    this.avs(handler);
                },
                add_pointRemoved: function(handler) {
                    this.asz(handler);
                },
                remove_pointRemoved: function(handler) {
                    this.avB(handler);
                }
            };
            Ph.registerClass = cV;
            Ph.registerClass('IPCC.Web.UI.PointCollection');
            module.exports = Ph;
        }, {
            "../../IPCC.Util": 29
        }],
        119: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var Qa = function() {
                return this;
            };
            Qa.registerClass = cV;
            Qa.prototype = {};
            Qa.registerClass('IPCC.Web.UI.PointEventArgs');
            module.exports = Qa;
        }, {
            "../../IPCC.Util": 29
        }],
        120: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var Mp = function(x, y, width, height) {
                if (width < 0) {
                    x += width;
                    width = -width;
                }
                if (height < 0) {
                    y += height;
                    height = -height;
                }
                this.x = x;
                this.y = y;
                this.width = width;
                this.height = height;
                return this;
            };
            Mp.prototype = {
                intersect: function(rectangle) {
                    var aM = Math.max(this.x, rectangle.x);
                    var ag = Math.min(this.x + this.width, rectangle.x + rectangle.width) - aM;
                    var di = Math.max(this.y, rectangle.y);
                    var aH = Math.min(this.y + this.height, rectangle.y + rectangle.height) - di;
                    if (ag <= 0 || aH <= 0) {
                        aM = di = ag = aH = 0;
                    }
                    this.x = aM;
                    this.y = di;
                    this.width = ag;
                    this.height = aH;
                },
                union: function(rectangle) {
                    var jF = Math.min(this.x, rectangle.x);
                    var _top = Math.min(this.y, rectangle.y);
                    var hX = Math.max(this.x + this.width, rectangle.x + rectangle.width);
                    var iS = Math.max(this.y + this.height, rectangle.y + rectangle.height);
                    this.x = jF;
                    this.y = _top;
                    this.width = hX - jF;
                    this.height = iS - _top;
                    return this;
                },
                scale: function(VF, NH) {
                    NH = NH || VF;
                    var jF = this.x * VF;
                    var _top = this.y * NH;
                    var ag = this.width * VF;
                    var aH = this.height * NH;
                    this.x = jF;
                    this.y = _top;
                    this.width = ag;
                    this.height = aH;
                    return this;
                },
                toString: function() {
                    return 'Rectangle(' + this.x + ', ' + this.y + ', ' + this.width + ', ' + this.height + ')';
                },
                contains: function(point) {
                    return point.x >= this.x && point.y >= this.y && point.x < this.x + this.width && point.y < this.y + this.height;
                },
                clone: function() {
                    return new IPCC.Web.UI.Rectangle(this.x, this.y, this.width, this.height);
                },
                equals: function(other) {
                    return this.x === other.x && this.y === other.y && this.width === other.width && this.height === other.height;
                }
            };
            Mp.registerClass = cV;
            Mp.registerClass('IPCC.Web.UI.Rectangle');
            module.exports = Mp;
        }, {
            "../../IPCC.Util": 29
        }],
        121: [function(require, module, exports) {
            var eP = require('../../IPCC.Util').regEnum;
            var RZ = function() {};
            RZ.registerEnum = eP;
            RZ.prototype = {
                None: 0,
                Both: 3,
                Auto: 4
            };
            RZ.registerEnum('IPCC.Web.UI.ScrollBars', false);
            module.exports = RZ;
        }, {
            "../../IPCC.Util": 29
        }],
        122: [function(require, module, exports) {
            var cV = require('../../IPCC.Util').regClass;
            var Mb = function() {
                return this;
            };
            Mb.registerClass = cV;
            Mb.prototype = {};
            Mb.registerClass('IPCC.Web.UI.TextSelectedEventArgs');
            module.exports = Mb;
        }, {
            "../../IPCC.Util": 29
        }],
        123: [function(require, module, exports) {
            var Ag = require('./../../Type');
            var VM = {
                axk: 1,
                ImGearDocumentHyperlink: require('./ImGearDocumentHyperlink'),
                ImGearTextCharacter: require('./ImGearTextCharacter'),
                ImGearTextCharacterCollection: require('./ImGearTextCharacterCollection'),
                ImGearHyperlinkCollection: require('./ImGearHyperlinkCollection'),
                ImGearHyperlinkPage: require('./ImGearHyperlinkPage'),
                ImGearTextPage: require('./ImGearTextPage'),
                ImGearTextSection: require('./ImGearTextSection'),
                ImGearTextSectionCollection: require('./ImGearTextSectionCollection'),
                ImGearPageCountStatus: require('./ImGearPageCountStatus'),
                ImGearPageCreateArgs: require('./ImGearPageCreateArgs'),
                ImGearPage: require('./ImGearPage'),
                ImGearPageEventArgs: require('./ImGearPageEventArgs'),
                ImGearPageCollection: require('./ImGearPageCollection'),
                ImGearDocumentCreateArgs: require('./ImGearDocumentCreateArgs'),
                ImGearDocument: require('./ImGearDocument'),
                ImGearDocumentEventArgs: require('./ImGearDocumentEventArgs'),
                ImGearDocumentCollection: require('./ImGearDocumentCollection'),
                ImGearPageOpenFailedEventArgs: require('./ImGearPageOpenFailedEventArgs'),
                ImGearExceptions: require('./ImGearExceptions'),
                ImGearException: require('./ImGearExceptions').Cc,
                ImGearHttpException: require('./ImGearExceptions').AZ,
                ImGearArgumentException: require('./ImGearExceptions').tX,
                ImGearArgumentNullException: require('./ImGearExceptions').BX,
                ImGearArgumentOutOfRangeException: require('./ImGearExceptions').qj,
                ImGearArgumentTypeException: require('./ImGearExceptions').ImGearArgumentTypeException,
                ImGearArgumentUndefinedException: require('./ImGearExceptions').BU,
                ImGearInvalidOperationException: require('./ImGearExceptions').CB,
                ImGearNotImplementedException: require('./ImGearExceptions').Bd,
                ImGearParameterCountException: require('./ImGearExceptions').BO,
                gV: require('./ImGearEventHandlerList'),
                ImGearArtDataServices: require('./ImGearArtDataServices'),
                MouseButton: require('./MouseButton'),
                MouseTool: require('./MouseTool'),
                ao: require('./DomEvent'),
                DebugErrorLevel: require('./DebugErrorLevel'),
                DebugItemCause: require('./DebugItemCause'),
                PageView: require('./PageView'),
                PageViewState: require('./PageViewState'),
                ArtPage: require('./ArtPage'),
                Key: require('./Key'),
                FitType: require('./FitType'),
                ScrollBars: require('./ScrollBars'),
                Rectangle: require('./Rectangle'),
                Point: require('./Point'),
                PointCollection: require('./PointCollection'),
                LogItemEventArgs: require('./LogItemEventArgs'),
                MouseEventArgs: require('./MouseEventArgs'),
                PointEventArgs: require('./PointEventArgs'),
                CommentEventArgs: require('./CommentEventArgs'),
                TextSelectedEventArgs: require('./TextSelectedEventArgs'),
                HighLightType: require('./HighLightType'),
                LineStyle: require('./LineStyle'),
                LineHeadType: require('./LineHeadType'),
                CalloutType: require('./CalloutType'),
                FontStyle: require('./FontStyle'),
                HorizontalAlignment: require('./HorizontalAlignment'),
                VerticalAlignment: require('./VerticalAlignment'),
                Orientation: require('./Orientation'),
                MarkHandleMode: require('./MarkHandleMode'),
                MarkInteractionMode: require('./MarkInteractionMode'),
                MarkType: require('./MarkType'),
                MarkEventArgs: require('./MarkEventArgs'),
                MarkCollection: require('./MarkCollection'),
                Mark: require('./Mark'),
                Comment: require('./Comment'),
                Conversation: require('./Conversation'),
                Data: require('./Data'),
                Us: require('./highlightItem')
            };
            Ag.registerNamespace('IPCC.Web.UI');
            module.exports = VM;
        }, {
            "./../../Type": 58,
            "./ArtPage": 67,
            "./CalloutType": 68,
            "./Comment": 69,
            "./CommentEventArgs": 70,
            "./Conversation": 71,
            "./Data": 72,
            "./DebugErrorLevel": 73,
            "./DebugItemCause": 74,
            "./DomEvent": 75,
            "./FitType": 76,
            "./FontStyle": 77,
            "./HighLightType": 78,
            "./HorizontalAlignment": 79,
            "./ImGearArtDataServices": 80,
            "./ImGearDocument": 81,
            "./ImGearDocumentCollection": 82,
            "./ImGearDocumentCreateArgs": 83,
            "./ImGearDocumentEventArgs": 84,
            "./ImGearDocumentHyperlink": 85,
            "./ImGearEventHandlerList": 86,
            "./ImGearExceptions": 87,
            "./ImGearHyperlinkCollection": 88,
            "./ImGearHyperlinkPage": 89,
            "./ImGearPage": 90,
            "./ImGearPageCollection": 91,
            "./ImGearPageCountStatus": 92,
            "./ImGearPageCreateArgs": 93,
            "./ImGearPageEventArgs": 94,
            "./ImGearPageOpenFailedEventArgs": 95,
            "./ImGearTextCharacter": 96,
            "./ImGearTextCharacterCollection": 97,
            "./ImGearTextPage": 98,
            "./ImGearTextSection": 99,
            "./ImGearTextSectionCollection": 100,
            "./Key": 101,
            "./LineHeadType": 102,
            "./LineStyle": 103,
            "./LogItemEventArgs": 104,
            "./Mark": 105,
            "./MarkCollection": 106,
            "./MarkEventArgs": 107,
            "./MarkHandleMode": 108,
            "./MarkInteractionMode": 109,
            "./MarkType": 110,
            "./MouseButton": 111,
            "./MouseEventArgs": 112,
            "./MouseTool": 113,
            "./Orientation": 114,
            "./PageView": 115,
            "./PageViewState": 116,
            "./Point": 117,
            "./PointCollection": 118,
            "./PointEventArgs": 119,
            "./Rectangle": 120,
            "./ScrollBars": 121,
            "./TextSelectedEventArgs": 122,
            "./VerticalAlignment": 124,
            "./highlightItem": 125
        }],
        124: [function(require, module, exports) {
            var eP = require('../../IPCC.Util').regEnum;
            var Qc = function() {};
            Qc.registerEnum = eP;
            Qc.prototype = {
                Top: 0,
                Center: 1,
                Bottom: 2
            };
            Qc.registerEnum('IPCC.Web.UI.VerticalAlignment', false);
            module.exports = Qc;
        }, {
            "../../IPCC.Util": 29
        }],
        125: [function(require, module, exports) {
            var Us = function() {
                this.ht = undefined;
                this.cR = [];
                this.aI = {};
            };
            module.exports = Us;
        }, {}],
        126: [function(require, module, exports) {
            var VM = require('././UI/UI');
            var T = require('./../IPCC.Util');
            var zE = require('./Cipher');
            var axg = require('./Hash');
            var hj = require('./Codec');
            var BG = require('./Mode');
            var hF = {};
            hF.ayi = [];
            hF.vR = function(aM) {
                return !isNaN(aM - 0) && aM !== null;
            };
            hF.xw = function(rM, cA) {
                return IPCC.Web.aaq(false, arguments);
            };
            hF.amQ = function(rM, cA) {
                return IPCC.Web.aaq(true, arguments);
            };
            hF.aaq = function(useLocale, cA) {
                var bk = '';
                var rM = cA[0];
                for (var C = 0;;) {
                    var eh = rM.indexOf('{', C);
                    var yG = rM.indexOf('}', C);
                    if ((eh < 0) && (yG < 0)) {
                        bk += rM.slice(C);
                        break;
                    }
                    if ((yG > 0) && ((yG < eh) || (eh < 0))) {
                        if (rM.charAt(close + 1) !== '}') {
                            throw new IPCC.Web.UI.ImGearArgumentException('format', 'The format string contains an unmatched opening or closing brace.');
                        }
                        bk += rM.slice(C, yG + 1);
                        C = yG + 2;
                        continue;
                    }
                    bk += rM.slice(C, eh);
                    C = eh + 1;
                    if (rM.charAt(C) === '{') {
                        bk += '{';
                        C++;
                        continue;
                    }
                    if (yG < 0) {
                        throw new IPCC.Web.UI.ImGearArgumentException('format', 'The format string contains an unmatched opening or closing brace.');
                    }
                    var Mv = rM.substring(C, yG);
                    var QX = Mv.indexOf(':');
                    var ajp = parseInt((QX < 0) ? Mv : Mv.substring(0, QX), 10) + 1;
                    if (isNaN(ajp)) {
                        throw new IPCC.Web.UI.ImGearArgumentException('format', 'The format string is invalid.');
                    }
                    var Ya = (QX < 0) ? '' : Mv.substring(QX + 1);
                    var sQ = cA[ajp];
                    if (typeof(sQ) === "undefined" || sQ === null) {
                        sQ = '';
                    }
                    if (sQ.toFormattedString) {
                        bk += sQ.toFormattedString(Ya);
                    } else if (useLocale && sQ.amQ) {
                        bk += sQ.amQ(Ya);
                    } else if (sQ.format) {
                        bk += sQ.format(Ya);
                    } else {
                        bk += sQ.toString();
                    }
                    C = yG + 1;
                }
                return bk;
            };
            hF.aIj = function(EO) {
                var qc = EO.length;
                var yU = Math.ceil(qc / 4),
                    Md;
                var fm = [];
                fm.length = yU;
                for (var kH = 0, gI = 0; kH < yU; kH++, gI += 4) {
                    fm[kH] = ((EO[gI] & 0xff) << 24) + ((EO[gI + 1] & 0xff) << 16) + ((EO[gI + 2] & 0xff) << 8) + (EO[gI + 3] & 0xff);
                }
                if (gI < qc) {
                    Md[kH] = 0;
                    for (var yR = 0; gI < qc; gI++, yR++) {
                        Md[kH] += (EO[gI++] & 0xff) << (3 - yR);
                    }
                }
                return fm;
            };
            hF.asC = function(bv) {
                var qc = bv.length;
                var yU = Math.ceil(qc / 4);
                var fm = [];
                fm.length = yU;
                for (var kH = 0, gI = 0; kH < yU; kH++, gI += 4) {
                    fm[kH] = ((bv.charCodeAt(gI) & 0xff) << 24) + ((bv.charCodeAt(gI + 1) & 0xff) << 16) + ((bv.charCodeAt(gI + 2) & 0xff) << 8) + ((bv.charCodeAt(gI + 3) & 0xff));
                }
                if (gI < qc) {
                    fm[kH] = 0;
                    for (var yR = 0; gI < qc; gI++, yR++) {
                        fm[kH] += (bv.charCodeAt(gI++) & 0xff) << (3 - yR);
                    }
                }
                return fm;
            };
            hF.aGP = function(zt) {
                var Dk = new Uint8Array(zt);
                var qc = Dk.length;
                var yU = Math.ceil(qc / 4),
                    Md;
                var fm = [];
                fm.length = yU;
                for (var kH = 0, gI = 0; kH < yU; kH++, gI += 4) {
                    fm[kH] = (Dk[gI] << 24) + (Dk[gI + 1] << 16) + (Dk[gI + 2] << 8) + Dk[gI + 3];
                }
                if (gI < qc) {
                    fm[kH] = 0;
                    for (var yR = 0; gI < qc; gI++, yR++) {
                        Md[kH] += Dk[gI++] << (3 - yR);
                    }
                }
                return fm;
            };
            hF.Gf = function(fm, iC) {
                var bu = [0x116D0662, 0xA8BB5E38, 0x4D7F93C8, 0xA61D2F6B, 0xADB1384D, 0x3D4AC7FB, 0x4E6EB64E, 0x6F4D7E8F];
                return IPCC.Web.Ec(fm, bu, iC);
            };
            hF.Ec = function(fm, bu, iC) {
                try {
                    var atZ = new IPCC.Web.zE.ajr(bu);
                    var dN = IPCC.Web.BG.aoq.XY(atZ, fm, iC);
                    return dN;
                } catch (bS) {
                    return;
                }
            };
            hF.FV = function(FM) {
                return IPCC.Web.asC(FM.responseText);
            };
            hF.OM = function() {
                var DB = new Date();
                var azQ = new Date(DB.getYear(), DB.getMonth(), DB.getDate(), DB.getHours(), DB.getMinutes(), DB.getSeconds());
                return (+azQ);
            };
            hF.jA = function(cU, elt) {
                var len = cU.length >>> 0;
                var from = Number(arguments[2]) || 0;
                from = (from < 0) ? Math.ceil(from) : Math.floor(from);
                if (from < 0) {
                    from += len;
                }
                for (; from < len; from++) {
                    if (from in cU && cU[from] === elt) {
                        return from;
                    }
                }
                return -1;
            };
            hF.ayE = function aHN() {
                var jG = 0xefc8249d;
                var sX = function(dN) {
                    dN = dN.toString();
                    for (var C = 0; C < dN.length; C++) {
                        jG += dN.charCodeAt(C);
                        var fl = 0.02519603282416938 * jG;
                        jG = fl >>> 0;
                        fl -= jG;
                        fl *= jG;
                        jG = fl >>> 0;
                        fl -= jG;
                        jG += fl * 0x100000000;
                    }
                    return (jG >>> 0) * 2.3283064365386963e-10;
                };
                sX.zO = 'Mash 0.9';
                return sX;
            };
            hF.ajd = function aIe() {
                return (function(cA) {
                    var Cs = 0;
                    var Cp = 0;
                    var zB = 0;
                    var fH = 1;
                    if (cA.length === 0) {
                        cA = [+new Date()];
                    }
                    var sX = IPCC.Web.ayE();
                    Cs = sX(' ');
                    Cp = sX(' ');
                    zB = sX(' ');
                    for (var C = 0; C < cA.length; C++) {
                        Cs -= sX(cA[C]);
                        if (Cs < 0) {
                            Cs += 1;
                        }
                        Cp -= sX(cA[C]);
                        if (Cp < 0) {
                            Cp += 1;
                        }
                        zB -= sX(cA[C]);
                        if (zB < 0) {
                            zB += 1;
                        }
                    }
                    sX = null;
                    var vO = function() {
                        var pW = 2091639 * Cs + fH * 2.3283064365386963e-10;
                        Cs = Cp;
                        Cp = zB;
                        zB = pW - (fH = pW | 0);
                        return zB;
                    };
                    vO.ach = function() {
                        return vO() * 0x100000000;
                    };
                    vO.aFf = function() {
                        return vO() + (vO() * 0x200000 | 0) * 1.1102230246251565e-16;
                    };
                    vO.zO = 'Alea 0.9';
                    vO.cA = cA;
                    return vO;
                }(Array.prototype.slice.call(arguments)));
            };
            hF.nH = function() {
                if (this.abA === undefined) {
                    var yM = document.createElement("div");
                    yM.style.overflow = 'scroll';
                    yM.style.position = 'absolute';
                    yM.style.top = '-9999px';
                    document.body.appendChild(yM);
                    this.abA = yM.offsetWidth - yM.clientWidth;
                    document.body.removeChild(yM);
                }
                return this.abA;
            };
            hF.Hu = {
                aiT: function(hd) {
                    var FK = [];
                    var abk = IPCC.Web.ajd().ach;
                    for (var C = 0; C < hd; C++) {
                        FK.push(abk());
                    }
                    return FK;
                },
                Xy: function(hd, fq) {
                    var FK = [];
                    var abk = IPCC.Web.ajd(fq).ach;
                    for (var C = 0; C < hd; C++) {
                        FK.push(abk());
                    }
                    return FK;
                },
                aIv: function(iC, ayp) {
                    var hd, iu = true,
                        eR = "",
                        He, Um, aba, Pi, Qs, akT;
                    for (hd = 0; hd < 4; hd++) {
                        if (!iu) {
                            eR += '-';
                        } else {
                            iu = false;
                        }
                        Qs = 0;
                        for (He = 0; He < 4; He++) {
                            Pi = hd * 32 + He * 8;
                            Um = IPCC.Web.gj.WR(iC, Pi, 4);
                            eR += Um.toString(16).toUpperCase();
                            aba = IPCC.Web.gj.WR(iC, Pi + 4, 4);
                            eR += aba.toString(16).toUpperCase();
                            akT = (Um * 16 + aba + IPCC.Web.gj.WR(IPCC.Web.bu, Pi, 8)) % 256;
                            Qs = Qs | (akT << (24 - (He * 8)));
                        }
                        ayp.ayi[hd] = Qs;
                    }
                    return eR;
                }
            };
            hF.bu = [0x4B1C9AAE, 0x25AE1AB6, 0x48E3F1C8, 0x8D61FC1A];
            hF.gj = {
                aag: function(dG, sA, aiv) {
                    dG = IPCC.Web.gj.abG(dG.slice(sA / 32), 32 - (sA & 31)).slice(1);
                    return (aiv === undefined) ? dG : IPCC.Web.gj.Mn(dG, aiv - sA);
                },
                WR: function(dG, sA, aad) {
                    var aM, ZB = Math.floor((-sA - aad) & 31);
                    if ((sA + aad - 1 ^ sA) & -32) {
                        aM = (dG[sA / 32 | 0] << (32 - ZB)) ^ (dG[sA / 32 + 1 | 0] >>> ZB);
                    } else {
                        aM = dG[sA / 32 | 0] >>> ZB;
                    }
                    return aM & ((1 << aad) - 1);
                },
                Wo: function(yg, uC) {
                    if (yg.length === 0 || uC.length === 0) {
                        return yg.concat(uC);
                    }
                    var iV = yg[yg.length - 1],
                        tc = IPCC.Web.gj.Yl(iV);
                    if (tc === 32) {
                        return yg.concat(uC);
                    } else {
                        return IPCC.Web.gj.abG(uC, tc, iV | 0, yg.slice(0, yg.length - 1));
                    }
                },
                vk: function(dG) {
                    var qU = dG.length,
                        aM;
                    if (qU === 0) {
                        return 0;
                    }
                    aM = dG[qU - 1];
                    return (qU - 1) * 32 + IPCC.Web.gj.Yl(aM);
                },
                Mn: function(dG, ds) {
                    if (dG.length * 32 < ds) {
                        return dG;
                    }
                    dG = dG.slice(0, Math.ceil(ds / 32));
                    var qU = dG.length;
                    ds = ds & 31;
                    if (qU > 0 && ds) {
                        dG[qU - 1] = IPCC.Web.gj.Kb(ds, dG[qU - 1] & 0x80000000 >> (ds - 1), 1);
                    }
                    return dG;
                },
                Kb: function(ds, aM, ek) {
                    if (ds === 32) {
                        return aM;
                    }
                    return (ek ? aM | 0 : aM << (32 - ds)) + ds * 0x10000000000;
                },
                Yl: function(aM) {
                    return Math.round(aM / 0x10000000000) || 32;
                },
                aED: function(dG, fb) {
                    if (IPCC.Web.gj.vk(dG) !== IPCC.Web.gj.vk(fb)) {
                        return false;
                    }
                    var aM = 0,
                        C;
                    for (C = 0; C < dG.length; C++) {
                        aM |= dG[C] ^ fb[C];
                    }
                    return (aM === 0);
                },
                abG: function(dG, tc, IO, eR) {
                    var C, afX = 0,
                        Zo;
                    if (eR === undefined) {
                        eR = [];
                    }
                    for (; tc >= 32; tc -= 32) {
                        eR.push(IO);
                        IO = 0;
                    }
                    if (tc === 0) {
                        return eR.concat(dG);
                    }
                    for (C = 0; C < dG.length; C++) {
                        eR.push(IO | dG[C] >>> tc);
                        IO = dG[C] << (32 - tc);
                    }
                    afX = dG.length ? dG[dG.length - 1] : 0;
                    Zo = IPCC.Web.gj.Yl(afX);
                    eR.push(IPCC.Web.gj.Kb(tc + Zo & 31, (tc + Zo > 32) ? IO : eR.pop(), 1));
                    return eR;
                },
                abX: function(aM, di) {
                    return [aM[0] ^ di[0], aM[1] ^ di[1], aM[2] ^ di[2], aM[3] ^ di[3]];
                }
            };
            hF.zE = zE;
            hF.nL = axg;
            hF.hj = hj;
            hF.BG = BG;
            hF.afm = T.afm;
            hF.UI = VM;
            hF.regEnum = T.regEnum;
            hF.regClass = T.regClass;
            module.exports = hF;
        }, {
            "./../IPCC.Util": 29,
            "././UI/UI": 123,
            "./Cipher": 63,
            "./Codec": 64,
            "./Hash": 65,
            "./Mode": 66
        }],
        127: [function(require, module, exports) {
            var XO = function ImageGearIndexOf(array, item, start) {
                if (typeof(item) === "undefined") {
                    return -1;
                }
                var length = array.length;
                if (length !== 0) {
                    start = start - 0;
                    if (isNaN(start)) {
                        start = 0;
                    } else {
                        if (isFinite(start)) {
                            start = start - (start % 1);
                        }
                        if (start < 0) {
                            start = Math.max(0, length + start);
                        }
                    }
                    for (var i = start; i < length; i++) {
                        if ((typeof(array[i]) !== "undefined") && (array[i] === item)) {
                            return i;
                        }
                    }
                }
                return -1;
            };
            module.exports = XO;
        }, {}],
        128: [function(require, module, exports) {
            var avI = function(JL, bU) {
                var Nd = new IPCC.PageList(JL);
                if (bU) {
                    IPCC.QI(Nd, bU);
                }
                Nd.tq(JL);
                Nd.initialize();
                return Nd;
            };
            module.exports = avI;
        }, {}],
        129: [function(require, module, exports) {
            var avJ = function(JL, Ur) {
                var og = Ur.handleTouchEvents !== false;
                var My = new IPCC.Web.UI.PageView(JL, og);
                if (Ur) {
                    IPCC.QI(My, Ur);
                }
                My.tq(JL);
                My.initialize();
                return My;
            };
            module.exports = avJ;
        }, {}],
        130: [function(require, module, exports) {
            var pR = {
                zoomInMenuItem: "Zoom In 25%",
                zoomOutMenuItem: "Zoom Out 25%",
                fullImageMenuItem: "Full Image",
                fullWidthMenuItem: "Full Width",
                fullHeightMenuItem: "Full Height",
                oneToOneRatioMenuItem: "1 to 1 Ratio",
                actualSizeMenuItem: "Actual Size",
                rotateRightMenuItem: "Rotate Clockwise",
                rotateLeftMenuItem: "Rotate Counter-Clockwise",
                mirrorHorizontalMenuItem: "Mirror Horizontal",
                mirrorVerticalMenuItem: "Mirror Vertical",
                panToolMenuItem: "Pan Tool",
                areaSelectionToolMenuItem: "Area Selection Tool",
                zoomRectangleToolMenuItem: "Zoom Rectangle Tool",
                flyingMagnifierToolMenuItem: "Flying Magnifier Tool",
                createTextMarkToolMenuItem: "Create Text Mark",
                createLineMarkToolMenuItem: "Create Line Mark",
                createPolygonMarkToolMenuItem: "Create Polygon Mark",
                createPolylineMarkToolMenuItem: "Create Polyline Mark",
                createRectangleMarkToolMenuItem: "Create Rectangle Mark",
                createEllipseMarkToolMenuItem: "Create Ellipse Mark",
                createFreehandMarkToolMenuItem: "Create Freehand Mark",
                editMarksToolMenuItem: "Edit Marks",
                runMarksToolMenuItem: "Run Marks",
                createStampMarkToolMenuItem: "Create Stamp Mark",
                createHighlightMarkToolMenuItem: "Create Highlight Mark",
                thicknessMenu: {
                    item1: "1",
                    item2: "2",
                    item3: "3",
                    item4: "4",
                    item5: "5",
                    item6: "6",
                    item7: "7",
                    item8: "8"
                },
                opacityMenu: {
                    translucent: "Translucent (127)",
                    opaque: "Opaque (255)"
                },
                calloutTypeMenu: {
                    line: "Line",
                    triangle: "Triangle"
                },
                borderThicknessMenuItem: "Border Thickness",
                borderColorMenuItem: "Border Color...",
                fillColorMenuItem: "Fill Color...",
                lineThicknessMenuItem: "Thickness",
                lineColorMenuItem: "Color...",
                fontMenuItem: "Font...",
                opacityMenuItem: "Opacity",
                calloutTypeMenuItem: "Callout Type",
                calloutVisibleMenuItem: "Callout Visible",
                moveToBackMenuItem: "Move to Back",
                moveBackwardMenuItem: "Move Backward",
                moveForwardMenuItem: "Move Forward",
                moveToFrontMenuItem: "Move to Front",
                deleteMarkMenuItem: "Delete Mark",
                zoomToFitMenuItem: "Zoom to Fit",
                orientationMenuItem: "Orientation",
                mouseToolsMenuItem: "Mouse Tools",
                rectangleMarkPropertiesMenuItem: "Properties",
                textMarkPropertiesMenuItem: "Properties",
                polygonMarkPropertiesMenuItem: "Properties",
                polylineMarkPropertiesMenuItem: "Properties",
                lineMarkPropertiesMenuItem: "Properties",
                markOrderingMenuItem: "Ordering",
                stampMarkPropertiesMenuItem: "Properties",
                selectColor: "Select Color",
                selectFont: "Select Font",
                ok: "OK",
                cancel: "CANCEL",
                red: "Red",
                green: "Green",
                blue: "Blue",
                font: "Font",
                size: "Size",
                italic: "Italic",
                bold: "Bold",
                underline: "Underline",
                strikeout: "Strikeout"
            };
            module.exports = pR;
        }, {}],
        131: [function(require, module, exports) {
            var QI = function(bK, jQ) {
                var sI;
                for (var aN in jQ) {
                    if (jQ.hasOwnProperty(aN)) {
                        var az = jQ[aN];
                        var awc = bK["get_" + aN];
                        var aar = bK["set_" + aN];
                        if (typeof(aar) === 'function') {
                            aar.apply(bK, [az]);
                        } else if (az instanceof Array) {
                            sI = awc.apply(bK);
                            if (!(sI instanceof Array)) {
                                throw new new IPCC.Web.UI.ImGearInvalidOperationException(aN + " is not an Array property");
                            }
                            for (var C = 0, ba = sI.length, qU = az.length; C < qU; C++, ba++) {
                                sI[ba] = az[C];
                            }
                        }
                    }
                }
            };
            module.exports = QI;
        }, {}],
        132: [function(require, module, exports) {
            "use strict";
            var aiK = function(aX) {
                if (aX instanceof PCCViewer.AjaxResponse) {
                    return aX;
                } else if (!(this instanceof PCCViewer.AjaxResponse)) {
                    return new PCCViewer.AjaxResponse(aX);
                }
                this.rh = new IPCC.T.rh(aX);
                this.status = this.rh.status;
                this.statusText = this.rh.statusText;
                this.responseText = this.rh.responseText;
                if (typeof this.rh.responseBody !== 'undefined') {
                    this.responseBody = this.rh.responseBody;
                }
                return this;
            };
            aiK.prototype.getResponseHeader = function(CG) {
                return this.rh.getResponseHeader(CG);
            };
            var CU = (function() {
                function arW() {
                    return IPCC.T.extend({}, IPCC.T.lD.gR);
                };

                function aub(gR) {
                    if (!(typeof gR === 'undefined' || (typeof gR === 'object' && gR !== null && !(gR instanceof Array)))) {
                        throw new Error('Headers should be an object or undefined.');
                    }
                    if (typeof gR === 'object') {
                        var amh = Object.keys(IPCC.T.aiu());
                        Object.keys(gR).forEach(function(CG) {
                            if (amh.indexOf(CG) !== -1) {
                                throw new Error('Cannot overwrite the header "' + CG + '".');
                            }
                        });
                    }
                    IPCC.T.lD.gR = IPCC.T.extend({}, gR);
                    return PCCViewer.Ajax;
                };

                function aqZ() {
                    return IPCC.T.lD.QP;
                };

                function aug(je) {
                    if (typeof je !== 'undefined' && typeof je !== 'function') {
                        throw new Error('Method should be a function or undefined.');
                    }
                    IPCC.T.lD.QP = je;
                    return PCCViewer.Ajax;
                };

                function eh(bU) {
                    var aL = PCCViewer.Deferred();
                    if (!(typeof bU === 'undefined' || (typeof bU === 'object' && bU !== null && !(bU instanceof Array)))) {
                        throw new Error('Options should be an object or undefined.');
                    }

                    function eI(aX) {
                        if (!(aX instanceof PCCViewer.AjaxResponse)) {
                            aX = new PCCViewer.AjaxResponse(aX);
                        }
                        aL.resolve(aX);
                    };

                    function fc(bk) {
                        if (bk.response) {
                            bk.response = new PCCViewer.AjaxResponse(bk.response);
                        }
                        aL.reject(bk);
                    };
                    IPCC.T.lD.eh(bU).then(eI, fc);
                    return aL.getPromise();
                };
                return {
                    getHeaders: arW,
                    setHeaders: aub,
                    getOverrideMethod: aqZ,
                    setOverrideMethod: aug,
                    eh: eh,
                };
            })();
            if (Object.defineProperties) {
                Object.defineProperties(CU, {
                    "headers": {
                        enumerable: true,
                        get: function() {
                            return CU.getHeaders();
                        },
                        set: function(gR) {
                            return CU.setHeaders(gR);
                        }
                    },
                    "overrideMethod": {
                        enumerable: true,
                        get: function() {
                            return CU.getOverrideMethod();
                        },
                        set: function(je) {
                            return CU.setOverrideMethod(je);
                        }
                    }
                });
            }
            module.exports = {
                AjaxResponse: aiK,
                Ajax: CU
            };
        }, {}],
        133: [function(require, module, exports) {
            var BurnRequest = function(bU) {
                this.nZ = "";
                this.fk = "";
                this.kn = 0;
                this.op = "";
                this.eH = "";
                this.qB = 0;
                this.hz = false;
                this.sz = 0;
                this.Vt = "";
                this.pu = false;
                this.aL = PCCViewer.Deferred();
                this.cK = this.aL.getPromise();
                this.then = this.cK.then;
                this.bU = bU;
                this.eH = null;
                this.fr = undefined;
                this.te = false;
                this.KN = null;
                PCCViewer.EventEmitter.extend(this);
                var V = this;
                if (bU.oQ) {
                    var oQ = new PCCViewer.Error(bU.oQ.code, bU.oQ.message);
                    delete V.bU.oQ;
                    setTimeout(function() {
                        V.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled, {});
                        V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed, {});
                        V.eH = oQ.code;
                        V.aL.reject(oQ);
                    }, 0);
                }
            };
            BurnRequest.EventType = {
                BurnProgress: "BurnProgress",
                BurnCompleted: "BurnCompleted",
                BurnFailed: "BurnFailed",
                BurnCancelled: "BurnCancelled",
                BurnWorkerCreated: "BurnWorkerCreated"
            };
            BurnRequest.prototype.cancel = function() {
                var V = this;
                this.pu = true;
                this.eH = "User Cancelled";
                setTimeout(function() {
                    V.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled, {});
                    V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed, {});
                    V.aL.reject(new PCCViewer.Error("UserCancelled", "User Cancelled"));
                }, 0);
                return this;
            };
            BurnRequest.prototype.getProgress = function() {
                return this.kn;
            };
            BurnRequest.prototype.getWorkerID = function() {
                return this.nZ;
            };
            BurnRequest.prototype.getOptions = function() {
                return this.bU;
            };
            BurnRequest.prototype.getErrorCode = function() {
                return this.eH;
            };
            BurnRequest.prototype.getBurnedDocumentDownloadURL = function() {
                return this.KN;
            };
            BurnRequest.prototype.aBm = function(kI) {
                this.Vt = kI;
            };
            BurnRequest.prototype.OW = function(fr) {
                this.fr = fr;
            };
            BurnRequest.prototype.Zx = function() {
                var V = this;
                this.eH = "Failure to generate Markup XML";
                setTimeout(function() {
                    V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed, {});
                    V.aL.reject(new PCCViewer.Error("MarkupXMLFail", V.eH));
                }, 0);
                return this;
            };
            BurnRequest.prototype.EH = function() {
                function eI(aX) {
                    var ej, bk;
                    try {
                        ej = aX.responseText;
                        if (!ej) {
                            setTimeout(function() {
                                V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed, {});
                                V.aL.reject(new PCCViewer.Error("ResponseEmpty", "Empty/invalid response from the server"));
                            }, 0);
                            V.te = true;
                            return;
                        } else {
                            if (typeof JSON !== 'undefined') {
                                bk = JSON.parse(ej);
                            } else {
                                bk = IPCC.ce.tg(ej);
                            }
                            setTimeout(function() {
                                ayF(bk);
                            }, 0);
                        }
                    } catch (e) {
                        setTimeout(function() {
                            V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed, {});
                            V.aL.reject(new PCCViewer.Error("BurnFailErrorCode", "Burn process failed, error: " + e.message));
                        }, 0);
                        V.te = true;
                        return;
                    }
                };

                function fc(bk) {
                    V.hz = false;
                    var cQ = bk.response.status + " " + bk.response.statusText;
                    setTimeout(function() {
                        V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed, {});
                        V.aL.reject(new PCCViewer.Error("StatusCode", "Status Code " + cQ));
                    }, 0);
                    V.te = true;
                    return;
                };
                try {
                    if (!this.Vt) {
                        throw new Error("XMl Markup data for burn is missing");
                    }
                    var V = this;
                    var aiU = function() {
                        var Vn;
                        if (!(/^[\x00-\x7F]*$/.test(V.fr.bQ.get_documentIdentifier()))) {
                            Vn = V.fr.bU.imageHandlerUrl + passURL + '/ViewingSession/e' + V.fr.bU.documentID + '/MarkupBurner/' + V.nZ;
                        } else {
                            Vn = V.fr.bU.imageHandlerUrl + passURL + '/ViewingSession/u' + encodeURIComponent(V.fr.bU.documentID) + '/MarkupBurner/' + V.nZ;
                        }
                        PCCViewer.Ajax.eh({
                            method: 'GET',
                            url: Vn,
                            headers: {
                                'Content-Type': 'application/json'
                            }
                        }).then(eI, fc);
                    };
                    var ayF = function(hJ) {
                        if (hJ) {
                            if (V.pu === true) {
                                V.hz = false;
                                return;
                            }
                            if (hJ.percentComplete >= 0 && V.hz === true) {
                                if (hJ.percentComplete === 100 && hJ.state === 'complete') {
                                    if (hJ.processId) {
                                        V.hz = false;
                                        V.nZ = hJ.processId;
                                        V.fk = hJ.state;
                                        V.qB += 1;
                                        V.sz = 1000;
                                        V.kn = +(hJ.percentComplete);
                                        var Gs;
                                        if (!(/^[\x00-\x7F]*$/.test(V.fr.bQ.get_documentIdentifier()))) {
                                            Gs = V.fr.bU.imageHandlerUrl + passURL + '/ViewingSession/e' + V.fr.bU.documentID + '/MarkupBurner/' + V.nZ + "/Document";
                                        } else {
                                            Gs = V.fr.bU.imageHandlerUrl + passURL + '/ViewingSession/u' + encodeURIComponent(V.fr.bU.documentID) + '/MarkupBurner/' + V.nZ + "/Document";
                                        }
                                        if (V.bU.filename) {
                                            Gs += "?ContentDispositionFilename=" + V.bU.filename;
                                        }
                                        V.KN = Gs;
                                        V.te = true;
                                        var aye = +(hJ.percentComplete);
                                        setTimeout(function() {
                                            V.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted, {});
                                            V.trigger(PCCViewer.BurnRequest.EventType.BurnProgress, {
                                                progress: aye
                                            });
                                            V.aL.resolve(Gs);
                                        }, 10);
                                        return;
                                    }
                                } else {
                                    if (hJ.state === 'error') {
                                        V.hz = false;
                                        V.eH = hJ.errorCode;
                                        setTimeout(function() {
                                            V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed, {});
                                            V.aL.reject(new PCCViewer.Error("BurnFailError", "BurnProcess failed, errorCode: " + V.eH));
                                        }, 0);
                                        V.hz = false;
                                        V.te = true;
                                        return;
                                    }
                                    if (hJ.processId) {
                                        var RI = +(hJ.percentComplete);
                                        if (V.kn !== RI) {
                                            setTimeout(function() {
                                                V.trigger(PCCViewer.BurnRequest.EventType.BurnProgress, {
                                                    progress: RI
                                                });
                                            }, 10);
                                        }
                                        if (!V.nZ) {
                                            V.nZ = hJ.processId;
                                            setTimeout(function() {
                                                V.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated, {});
                                            }, 0);
                                            V.fk = hJ.state;
                                            V.qB = 1;
                                            V.hz = true;
                                            V.sz = 1000;
                                            V.kn = +(hJ.percentComplete);
                                        }
                                        if (hJ.percentComplete < 100) {
                                            if (V.qB > 1) {
                                                V.sz += 1000;
                                            }
                                            V.qB += 1;
                                            V.fk = hJ.state;
                                            V.kn = +(hJ.percentComplete);
                                            if (V.hz === true && V.pu === false && V.te === false) {
                                                setTimeout(aiU, V.sz);
                                            }
                                        }
                                    }
                                }
                            } else {
                                if (V.te === false) {
                                    var VU = false;
                                    if (V.hz === false) {
                                        if (hJ.state === 'complete') {
                                            if (!V.KN) {
                                                VU = true;
                                            } else {
                                                V.te = true;
                                                setTimeout(function() {
                                                    V.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted, {});
                                                    V.aL.resolve(V.KN);
                                                }, 10);
                                                return;
                                            }
                                        }
                                        if (hJ.state === 'processing' && hJ.errorCode === null) {
                                            if (hJ.percentComplete >= 0 && hJ.percentComplete < 100) {
                                                if (V.qB > 1) {
                                                    V.sz += 1000;
                                                }
                                                V.qB += 1;
                                                V.hz = true;
                                                V.fk = hJ.state;
                                                V.kn = +(hJ.percentComplete);
                                                if (V.hz === true && V.pu === false) {
                                                    setTimeout(aiU, V.sz);
                                                }
                                            } else {
                                                VU = true;
                                            }
                                        }
                                        if (hJ.state === 'error' || VU === true) {
                                            V.hz = false;
                                            V.eH = hJ.errorCode;
                                            setTimeout(function() {
                                                V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed, {});
                                                V.aL.reject(new PCCViewer.Error("BurnFailError", "BurnProcess failed, errorCode: " + hJ.errorCode));
                                            }, 0);
                                            V.hz = false;
                                            V.te = true;
                                            return;
                                        }
                                    }
                                }
                            }
                        }
                    };
                    var aq;
                    if (!(/^[\x00-\x7F]*$/.test(V.fr.bQ.get_documentIdentifier()))) {
                        aq = V.fr.bU.imageHandlerUrl + passURL  +  '/ViewingSession/e' + V.fr.bU.documentID + '/MarkupBurner';
                    } else {
                        aq = V.fr.bU.imageHandlerUrl + passURL + '/ViewingSession/u' + encodeURIComponent(V.fr.bU.documentID) + '/MarkupBurner';
                    }
                    if (V.bU.removeFormFields) {
                        aq += '?RemoveFormFields=acroform';
                    }
                    PCCViewer.Ajax.eh({
                        method: 'POST',
                        url: aq,
                        headers: {
                            'Content-Type': 'application/xml'
                        },
                        body: V.Vt
                    }).then(eI, fc);
                    V.hz = true;
                } catch (e) {
                    this.hz = false;
                    var bi = this,
                        iq = e.message;
                    setTimeout(function() {
                        bi.trigger(PCCViewer.BurnRequest.EventType.BurnFailed, {});
                        bi.aL.reject(new PCCViewer.Error("BurnFailErrorCode", "The burn process failed, error: " + iq));
                    }, 0);
                    this.te = true;
                }
            };
            if (Object.defineProperties) {
                Object.defineProperties(BurnRequest.prototype, {
                    "options": {
                        enumerable: true,
                        get: function() {
                            return this.getOptions();
                        }
                    },
                    "progress": {
                        enumerable: true,
                        get: function() {
                            return this.getProgress();
                        }
                    },
                    "workerID": {
                        enumerable: true,
                        get: function() {
                            return this.getWorkerID();
                        }
                    },
                    "errorCode": {
                        enumerable: true,
                        get: function() {
                            return this.getErrorCode();
                        }
                    },
                    "burnedDocumentDownloadURL": {
                        enumerable: true,
                        get: function() {
                            return this.getBurnedDocumentDownloadURL();
                        }
                    }
                });
            }
            module.exports = BurnRequest;
        }, {}],
        134: [function(require, module, exports) {
            function apS(bQ, aw) {
                var aP = bQ.dQ.jq(aw);
                var ft = aP.ca();
                return ft.AX();
            };

            function aqe(bQ, aw) {
                var aP = bQ.dQ.jq(aw);
                var ft = aP.ca();
                var HO = ft.gT();
                return HO.aws();
            };

            function asq(AT, aCw) {
                var ds = AT.length;
                if (ds === 0) {
                    return false;
                }
                if (ds !== aCw) {
                    return false;
                }
                for (var C = 0; C < ds; C++) {
                    if (AT[C] !== true) {
                        return false;
                    }
                }
                return true;
            };
            var Mg = function() {
                var V = this;
                this.Gp = false;
                this.AT = [];
                this.rH = [];
                this.zg = [];
                this.aah = 0;
                this.aj = 0;
                this.iL = false;

                function qk(ER, WN) {
                    switch (ER) {
                        case 'failed':
                            setTimeout(function() {
                                V.bm.trigger('SearchFailed', WN);
                            }, 10);
                            break;
                        case 'complete':
                            V.bm.eQ = V.rH;
                            V.bm.Rg = V.zg;
                            V.bm.wY = true;
                            setTimeout(function() {
                                V.bm.trigger('SearchResultsAvailable', {
                                    completedSearchResults: (V.rH)
                                });
                            }, 10);
                            break;
                        case 'cancelled':
                            break;
                    }
                    setTimeout(function() {
                        V.bm.trigger('SearchCompleted', {
                            completedSearchResults: (V.rH)
                        });
                    }, 10);
                };

                function ats() {
                    V.bm.cN = 'Unable to communicate with server, please retry loading the document.';
                    V.bm.eH = '1011';
                    V.bm.wY = true;
                    qk('failed', {
                        errorMessage: ('Unable to communicate with server, please retry loading the document.')
                    });
                    V.iL = true;
                };

                function akK(bU, ayP) {
                    var ayg = IPCC.T.trim(bU.type || '').toLowerCase();
                    var bk;
                    switch (ayg) {
                        case 'taskresult':
                            bk = new PCCViewer.SearchTaskResult();
                            break;
                        default:
                            bk = new PCCViewer.SearchResult();
                            break;
                    }
                    IPCC.T.extend(bk, ayP);
                    var aeC = bk.qQ + bk.text.length - 1;
                    var cX = PCCViewer.Il.formatter.getContext({
                        text: bU.searchText,
                        startIndex: bk.qQ,
                        endIndex: aeC,
                        padding: bk.bH.contextPadding
                    });
                    bk.cX = cX.context;
                    bk.zC = cX.startIndex;
                    if (bU.rectangles) {
                        var acZ = {
                            rectangles: bU.rectangles,
                            startIndex: bk.qQ,
                            endIndex: aeC
                        };
                        bk.mV = PCCViewer.Il.formatter.getBoundingRectangle(acZ);
                        bk.bA = PCCViewer.Il.formatter.getLineRectangles(acZ);
                    }
                    return bk;
                };

                function ajI(nx, yN, Hk, fV, hE) {
                    var Ks = [];
                    var YN = !fV;
                    var wL = yN.distance;
                    var yx = [];
                    IPCC.T.forEach(yN.bY, function(bY) {
                        yx.push(bY.searchTerm);
                    });
                    var axu = PCCViewer.Il.proximity.getResults(Hk, yx, wL);
                    IPCC.T.forEach(axu, function(bk) {
                        var ey = akK({
                            type: YN ? 'TaskResult' : 'Result',
                            searchText: Hk,
                            rectangles: fV
                        }, {
                            hE: hE,
                            bH: yN.uS,
                            nx: nx,
                            rc: yN.highlightColor,
                            qQ: bk.startIndex,
                            bv: bk.text
                        });
                        Ks.push(ey);
                    });
                    return Ks;
                };

                function OX(nx, bY, Hk, fV, hE) {
                    var YN = !fV;
                    var Ks = [];
                    var Mt = [bY.searchTerm];
                    var eQ = PCCViewer.Il.regex.getResults(Hk, Mt);
                    IPCC.T.forEach(eQ, function(bk) {
                        if (bY.uS.matchingOptions.wildcard && (bk.text[0] === " " || bk.text[0] === "\n")) {
                            bk.text = bk.text.substring(1);
                            bk.startIndex += 1;
                        }
                        var ey = akK({
                            type: YN ? 'TaskResult' : 'Result',
                            searchText: Hk,
                            rectangles: fV
                        }, {
                            hE: hE,
                            nx: nx,
                            bY: bY,
                            bH: bY.uS,
                            qQ: bk.startIndex,
                            bv: bk.text,
                            rc: bY.highlightColor
                        });
                        Ks.push(ey);
                    });
                    return Ks;
                };

                function ask(aaB, aw, bQ, fV) {
                    var SX = [];
                    var nx = Date.now();
                    IPCC.T.forEach(V.bY, function(bY, C) {
                        var eQ;
                        var nI = IPCC.T.Pz(bY.type);
                        var aP = bQ.dQ.jq(aw);
                        var hE = {
                            width: aP.kt(),
                            height: aP.jk()
                        };
                        switch (nI) {
                            case 'proximity':
                                eQ = ajI(nx, bY, aaB, fV, hE);
                                break;
                            default:
                                eQ = OX(nx, bY, aaB, fV, hE);
                                break;
                        }
                        IPCC.T.forEach(eQ, function(bk) {
                            bk.cB = V.aj;
                            bk.aY = aw + 1;
                            bk.IS = bQ.get_documentIdentifier();
                            V.rH[V.aj] = bk;
                            V.aj++;
                            SX.push(bk);
                        });
                    });
                    V.bm.eQ = V.rH;
                    if (SX.length) {
                        setTimeout(function() {
                            V.bm.trigger('PartialSearchResultsAvailable', {
                                partialSearchResults: (SX),
                                pagesWithoutText: (V.zg)
                            });
                        }, 10);
                    }
                };

                function arD(bv) {
                    var nx = Date.now();
                    IPCC.T.forEach(V.bY, function(bY, C) {
                        var nI = IPCC.T.Pz(bY.type);
                        var eQ;
                        switch (nI) {
                            case 'proximity':
                                eQ = ajI(nx, bY, bv);
                                break;
                            default:
                                eQ = OX(nx, bY, bv);
                                break;
                        }
                        IPCC.T.forEach(eQ, function(bk) {
                            bk.cB = V.aj;
                            V.rH[V.aj] = bk;
                            V.aj++;
                        });
                    });
                    V.bm.eQ = V.rH;
                };

                function agL(Af, bQ) {
                    for (var C = 0; C < Af.length; C++) {
                        if (V.AT[Af[C]] === false) {
                            V.AT[Af[C]] = true;
                            var bv = apS(bQ, Af[C]);
                            var fV = aqe(bQ, Af[C]);
                            if (!bv && bv !== null) {
                                V.zg[V.aah] = Af[C];
                                V.aah++;
                                continue;
                            }
                            ask(bv, Af[C], bQ, fV);
                            if (V.bm.pu) {
                                if (V.Gp) {
                                    qk('cancelled');
                                    V.Gp = false;
                                    bQ.remove_textPagesReceived(Or);
                                    return;
                                }
                                break;
                            }
                        }
                    }
                    if (asq(V.AT, bQ.ee) && !V.bm.wY) {
                        qk('complete');
                        V.Gp = false;
                        bQ.remove_textPagesReceived(Or);
                    }
                };

                function Or(sender, F) {
                    if (F.error === -1) {
                        ats();
                        return V.bm;
                    }
                    try {
                        if (V.iL === false) {
                            agL(F.textPagesReceived, sender);
                        }
                    } catch (e) {
                        V.bm.cN = e.message;
                        V.bm.eH = '1010';
                        V.bm.wY = true;
                        qk('failed', {
                            errorMessage: (e.message)
                        });
                        V.iL = true;
                        return V.bm;
                    }
                };
                this.Wr = function(bQ, bY, eG, bm) {
                    V.bY = bY;
                    V.bm = bm;
                    V.bm.eG = eG;
                    V.bm.on('SearchCancelled', function() {
                        qk('cancelled');
                        V.Gp = false;
                        bQ.remove_textPagesReceived(Or);
                    });
                    for (var C = 0; C < bQ.ee; C++) {
                        V.AT[C] = false;
                    }
                    if (bQ.ajn().en() > bQ.get_numberOfPagesWithText()) {
                        V.Gp = true;
                        bQ.add_textPagesReceived(Or);
                    }
                    if (bQ.get_numberOfPagesWithText() > 0) {
                        agL(bQ.get_pagesWithText(), bQ);
                    }
                    return V.bm;
                };
                this.aBJ = function(bv) {
                    this.bm = new PCCViewer.SearchRequest();
                    try {
                        arD(bv);
                    } catch (e) {
                        V.bm.cN = e.message;
                        V.bm.eH = '1010';
                        return;
                    }
                };
            };
            module.exports = Mg;
        }, {}],
        135: [function(require, module, exports) {
            var Comment = function Comment(comment, conversation) {
                if (!(comment instanceof IPCC.Web.UI.Comment) && (typeof comment !== 'string')) {
                    throw new Error(comment + ' is not a string.');
                }
                if (!(conversation instanceof PCCViewer.Conversation)) {
                    throw new Error(conversation + ' is not a PCCViewer.Conversation object.');
                }
                this.getConversation = function aFj() {
                    return conversation;
                };
                if (typeof comment === 'string') {
                    this.oO = new IPCC.Web.UI.Comment(comment);
                } else {
                    this.oO = comment;
                }
                this.oO.Gh = this;
                this.dN = this.oO.get_data();
                PCCViewer.Data.extend(this);
                this.EL = new IPCC.Web.UI.Data();
                PCCViewer.SessionData.extend(this);
            };
            Comment.prototype.getMarkupLayer = function aFt() {
                return this.jC;
            };
            Comment.prototype.getText = function aHl() {
                return this.oO.get_text();
            };
            Comment.prototype.setText = function aHt(text) {
                if (typeof text !== 'string') {
                    throw new Error(text + ' is not a string.');
                }
                this.oO.set_text(text);
                return this;
            };
            Comment.prototype.getCreationTime = function aFK() {
                var anE = IPCC.T.Fz(this.oO.get_creationTime());
                return new Date(anE);
            };
            Comment.prototype.setCreationTime = function aHs(time) {
                function ahg() {
                    throw new Error(time + ' is not a valid string or Date object.');
                };
                if (typeof time === 'string') {
                    var ajX = IPCC.T.Fz(time);
                    if (ajX instanceof Error) {
                        ahg();
                    }
                    time = new Date(ajX);
                }
                if (!(time instanceof Date)) {
                    ahg();
                }
                this.oO.set_creationTime(IPCC.T.vF(time));
                return this;
            };
            if (Object.defineProperties) {
                Object.defineProperties(Comment.prototype, {
                    "text": {
                        enumerable: true,
                        get: function() {
                            return this.getText();
                        },
                        set: function(text) {
                            return this.setText(text);
                        }
                    },
                    "creationTime": {
                        enumerable: true,
                        get: function() {
                            return this.getCreationTime();
                        },
                        set: function(time) {
                            return this.setCreationTime(time);
                        }
                    }
                });
            }
            var Conversation = function Conversation(mark) {
                if (!(mark instanceof PCCViewer.Mark)) {
                    throw new Error(mark + ' is not a PCCViewer.Mark object.');
                }
                this.getMark = function PP() {
                    return mark;
                };
                this.jv = new PCCViewer.ObservableCollection();
                if (typeof mark.K !== "undefined") {
                    this.wf = mark.K.get_conversation();
                    this.wf.forEach(function(oO) {
                        var bZ = new PCCViewer.Comment(oO, this);
                        this.jv.add(bZ);
                    }, this);
                } else {
                    this.wf = new IPCC.Web.UI.Conversation();
                }
                this.dN = this.wf.get_data();
                PCCViewer.Data.extend(this);
                this.EL = new IPCC.Web.UI.Data();
                PCCViewer.SessionData.extend(this);
            };
            Conversation.prototype.addComment = function Jf(commentText) {
                var bZ = new PCCViewer.Comment(commentText, this);
                this.jv.add(bZ);
                this.wf.addComment(bZ.oO);
                return bZ;
            };
            Conversation.prototype.deleteComments = function(comments) {
                var V = this;
                var aat = this.jv.toArray();
                var afQ = function(bZ) {
                    for (var i = 0, length = aat.length; i < length; i++) {
                        if (aat[i] === bZ) {
                            return true;
                        }
                    }
                    return false;
                };

                function afW(bZ, aj) {
                    throw new Error(bZ + ((aj !== undefined) ? ' (Array index ' + aj + ')' : '') + ' is not a PCCViewer.Comment object.');
                };

                function agC(bZ, aj) {
                    throw new Error(((aj !== undefined) ? ' (Array index ' + aj + ')' : '') + ' is not part of this Conversation object.');
                };
                if (comments instanceof PCCViewer.Comment) {
                    if (!afQ(comments)) {
                        agC(comments);
                    }
                    V.jv.remove(comments);
                    V.wf.removeCommentInstance(comments.oO);
                } else if (comments instanceof Array) {
                    IPCC.T.forEach(comments, function(el, idx) {
                        if (!(el instanceof PCCViewer.Comment)) {
                            afW(el, idx);
                        }
                        if (!afQ(el)) {
                            agC(el, idx);
                        }
                    });
                    IPCC.T.forEach(comments, function(el) {
                        V.jv.remove(el);
                        V.wf.removeCommentInstance(el.oO);
                    });
                } else {
                    afW(comments);
                }
                return this;
            };
            Conversation.prototype.getComments = function() {
                return this.jv.toArray().sort(function(a, b) {
                    return a.getCreationTime().getTime() - b.getCreationTime().getTime();
                });
            };
            Conversation.qb = function(gz, nV) {
                if (typeof gz.getComments !== "function" || typeof nV.addComment !== "function") {
                    throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");
                }
                PCCViewer.Data.nX(gz, nV);
                var gQ = gz.getComments(),
                    i, length = gQ.length;
                for (i = 0; i < length; i++) {
                    var afj = gQ[i];
                    var aod = nV.addComment(afj.getText());
                    PCCViewer.Data.nX(afj, aod);
                }
            };
            module.exports = {
                Conversation: Conversation,
                Comment: Comment
            };
        }, {}],
        136: [function(require, module, exports) {
            var ConversionRequest = function(bU) {
                this.nZ = "";
                this.fk = "";
                this.kn = 0;
                this.eH = "";
                this.hz = false;
                this.pu = false;
                this.bU = bU;
                this.zW = null;
                this.DP = null;
                this.fr = undefined;
                this.aL = PCCViewer.Deferred();
                this.cK = this.aL.getPromise();
                this.then = this.cK.then;
                PCCViewer.EventEmitter.extend(this);
            };
            ConversionRequest.EventType = {
                ConversionProgress: "ConversionProgress",
                ConversionCompleted: "ConversionCompleted",
                ConversionFailed: "ConversionFailed",
                ConversionCancelled: "ConversionCancelled",
                ConversionWorkerCreated: "ConversionWorkerCreated"
            };
            ConversionRequest.prototype.cancel = function() {
                var V = this;
                this.pu = true;
                this.eH = "User Cancelled";
                setTimeout(function() {
                    V.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled, {});
                    V.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed, {});
                    V.aL.reject(new PCCViewer.Error("UserCancelled", "User Cancelled"));
                }, 0);
                return this;
            };
            ConversionRequest.prototype.getProgress = function() {
                return this.kn;
            };
            ConversionRequest.prototype.getWorkerID = function() {
                return this.nZ;
            };
            ConversionRequest.prototype.getOptions = function() {
                return this.bU;
            };
            ConversionRequest.prototype.getErrorCode = function() {
                return this.eH;
            };
            ConversionRequest.prototype.getConvertedDocumentDownloadURL = function() {
                return this.zW;
            };
            ConversionRequest.prototype.getConvertedDocumentDownloadURLs = function() {
                if (this.DP) {
                    return this.DP.slice();
                }
                return null;
            };
            ConversionRequest.prototype.OW = function(fr) {
                this.fr = fr;
            };
            ConversionRequest.prototype.EH = function() {
                var V = this;
                V.hz = true;
                V.aAM().then(function onResolve(sm) {
                    V.nZ = sm.processId;
                    V.kn = sm.percentComplete;
                    V.fk = sm.state;
                    V.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated, {});
                    V.axv(sm).then(function onResolve(azm) {
                        V.hz = false;
                        V.DP = [];
                        if (V.bU.zO > 1) {
                            for (var C = 0; C < V.axe; C++) {
                                var zW = V.fr.bU.imageHandlerUrl + '/v2/viewingSessions/' + V.fr.bU.documentID + '/contentConverters/' + V.nZ + '/results/' + C + '/file?ContentDispositionFilename=' + encodeURIComponent(V.bU.filename);
                                V.DP.push(zW);
                            }
                            V.aL.resolve(V.DP);
                        } else {
                            V.zW = V.fr.bU.imageHandlerUrl + '/WorkFile/' + azm + "?ContentDispositionFilename=" + encodeURIComponent(V.bU.filename);
                            if (sm.affinityToken) {
                                V.zW += "&affinityToken=" + encodeURIComponent(sm.affinityToken);
                            }
                            V.DP.push(V.zW);
                            V.aL.resolve(V.zW);
                        }
                        V.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted, {});
                    }, function onReject(reason) {
                        V.hz = false;
                        V.eH = reason.error.code;
                        V.aL.reject(reason);
                        V.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed, {});
                    });
                }, function onReject(reason) {
                    V.hz = false;
                    V.aL.reject(reason);
                    V.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed, {});
                });
            };
            ConversionRequest.prototype.aAM = function() {
                var aq, kG = PCCViewer.Deferred();
                var XH;
                if (this.bU.zO > 1) {
                    aq = this.fr.bU.imageHandlerUrl + '/v2/viewingSessions/' + this.fr.bU.documentID + '/contentConverters/';
                    XH = {
                        url: aq,
                        method: 'POST',
                        headers: {
                            "Content-Type": "application/json"
                        }
                    };
                } else {
                    aq = this.fr.bU.imageHandlerUrl + '/contentConverters/';
                    XH = {
                        url: aq,
                        method: 'POST',
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            viewingSessionId: this.fr.bU.documentID
                        })
                    };
                }
                PCCViewer.Ajax.eh(XH).then(function eI(aX) {
                    var bk = JSON.parse(aX.responseText);
                    kG.resolve(bk);
                }, function fc(bk) {
                    kG.reject(bk.error);
                });
                return kG.getPromise();
            };
            ConversionRequest.prototype.axv = function(sm) {
                var aq, kG = PCCViewer.Deferred(),
                    V = this,
                    gR;
                if (V.bU.zO > 1) {
                    aq = this.fr.bU.imageHandlerUrl + '/v2/viewingSessions/' + this.fr.bU.documentID + '/contentConverters/' + sm.processId;
                } else {
                    aq = this.fr.bU.imageHandlerUrl + '/contentConverters/' + sm.processId;
                }
                if (sm.affinityToken) {
                    gR = {
                        "Accusoft-Affinity-Token": sm.affinityToken
                    };
                }(function poll() {
                    setTimeout(function() {
                        PCCViewer.Ajax.eh({
                            method: 'GET',
                            url: aq,
                            headers: gR
                        }).then(function eI(aX) {
                            var bk = JSON.parse(aX.responseText);
                            V.nZ = bk.processId;
                            V.kn = bk.percentComplete;
                            V.fk = bk.state;
                            if (V.bU.zO > 1 && bk.output) {
                                V.axe = bk.output.results.length;
                            }
                            V.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress, {
                                progress: V.kn
                            });
                            if (bk.percentComplete === 100) {
                                if (bk.state === "error") {
                                    kG.reject({
                                        response: aX,
                                        error: new PCCViewer.Error("CouldNotConvert", "Could not convert document")
                                    });
                                } else {
                                    kG.resolve(bk.output.results[0].fileId);
                                }
                            } else {
                                poll();
                            }
                        }, function fc(bk) {
                            kG.reject(bk.error);
                        });
                    }, 3000);
                })();
                return kG.getPromise();
            };
            if (Object.defineProperties) {
                Object.defineProperties(ConversionRequest.prototype, {
                    "options": {
                        enumerable: true,
                        get: function() {
                            return this.getOptions();
                        }
                    },
                    "progress": {
                        enumerable: true,
                        get: function() {
                            return this.getProgress();
                        }
                    },
                    "workerID": {
                        enumerable: true,
                        get: function() {
                            return this.getWorkerID();
                        }
                    },
                    "errorCode": {
                        enumerable: true,
                        get: function() {
                            return this.getErrorCode();
                        }
                    },
                    "convertedDocumentDownloadURL": {
                        enumerable: true,
                        get: function() {
                            return this.getConvertedDocumentDownloadURL();
                        }
                    },
                    "convertedDocumentDownloadURLs": {
                        enumerable: true,
                        get: function() {
                            return this.getConvertedDocumentDownloadURLs();
                        }
                    }
                });
            }
            module.exports = ConversionRequest;
        }, {}],
        137: [function(require, module, exports) {
            "use strict";
            var Data = (function() {
                function getData(key) {
                    return this.dN.get_data(key);
                };

                function setData(key, value) {
                    this.dN.set_data(key, value);
                    return this;
                };

                function getDataKeys() {
                    return this.dN.get_dataKeys();
                };
                return {
                    extend: function(o) {
                        o.getData = getData;
                        o.setData = setData;
                        o.getDataKeys = getDataKeys;
                    },
                    nX: function(gz, nV) {
                        if (typeof gz.getData !== "function" || typeof gz.setData !== "function" || typeof gz.getDataKeys !== "function" || typeof nV.getData !== "function" || typeof nV.setData !== "function" || typeof nV.getDataKeys !== "function") {
                            throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");
                        }
                        var mL = gz.getDataKeys(),
                            i, length = mL.length;
                        for (i = 0; i < length; i++) {
                            var bu = mL[i];
                            nV.setData(bu, gz.getData(bu));
                        }
                    }
                };
            })();
            var SessionData = (function() {
                function getSessionData(key) {
                    return this.EL.get_data(key);
                };

                function setSessionData(key, value) {
                    this.EL.set_data(key, value);
                    return this;
                };

                function getSessionDataKeys() {
                    return this.EL.get_dataKeys();
                };
                return {
                    extend: function(o) {
                        o.getSessionData = getSessionData;
                        o.setSessionData = setSessionData;
                        o.getSessionDataKeys = getSessionDataKeys;
                    },
                    aID: function(gz, nV) {
                        if (typeof gz.getSessionData !== "function" || typeof gz.setSessionData !== "function" || typeof gz.getSessionDataKeys !== "function" || typeof nV.getSessionData !== "function" || typeof nV.setSessionData !== "function" || typeof nV.getSessionDataKeys !== "function") {
                            throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");
                        }
                        var mL = gz.getSessionDataKeys(),
                            i, length = mL.length;
                        for (i = 0; i < length; i++) {
                            var bu = mL[i];
                            nV.setSessionData(bu, gz.getSessionData(bu));
                        }
                    }
                };
            })();
            module.exports = {
                SessionData: SessionData,
                Data: Data
            };
        }, {}],
        138: [function(require, module, exports) {
            'use strict';

            function PromiseDeferred() {
                this.fk = PromiseDeferred.States.Pending;
                this.G = null;
                this.eN = null;
                this.gC = [];
            };
            PromiseDeferred.prototype.then = function(onFulfilled, onRejected) {
                var xC = new PromiseDeferred();
                var Zk, Xt;
                if (onFulfilled && typeof onFulfilled === 'function') {
                    var awz = function(G) {
                        try {
                            var aF = onFulfilled(G);
                            xC.resolve(aF);
                        } catch (e) {
                            xC.reject(e);
                        }
                    };
                    Zk = awz;
                } else {
                    var avA = function(G) {
                        xC.resolve(G);
                    };
                    Zk = avA;
                }
                if (onRejected && typeof onRejected === 'function') {
                    var aDb = function(eN) {
                        try {
                            var aF = onRejected(eN);
                            SZ(xC, aF);
                        } catch (e) {
                            xC.reject(e);
                        }
                    };
                    Xt = aDb;
                } else {
                    var aDZ = function(eN) {
                        xC.reject(eN);
                    };
                    Xt = aDZ;
                }
                this.gC.push({
                    aCO: Zk,
                    avn: Xt
                });
                if (this.fk === PromiseDeferred.States.Fulfilled) {
                    this.afP();
                }
                if (this.fk === PromiseDeferred.States.Rejected) {
                    this.agt();
                }
                return xC;
            };
            PromiseDeferred.prototype.resolve = function(x) {
                if (!this.ahO()) {
                    return;
                }
                SZ(this, x);
            };
            PromiseDeferred.prototype.reject = function(reason) {
                if (!this.ahO()) {
                    return;
                }
                this.zz(reason);
            };
            PromiseDeferred.prototype.Vg = function(aM) {
                this.fk = PromiseDeferred.States.Fulfilled;
                this.G = aM;
                this.afP();
            };
            PromiseDeferred.prototype.afP = function() {
                var callback;
                while (this.gC.length > 0) {
                    callback = this.gC.shift().aCO;
                    (function(oq, G) {
                        setTimeout(function() {
                            oq(G);
                        }, 0);
                    })(callback, this.G);
                }
            };
            PromiseDeferred.prototype.agt = function() {
                var callback;
                while (this.gC.length > 0) {
                    callback = this.gC.shift().avn;
                    (function(oq, G) {
                        setTimeout(function() {
                            oq(G);
                        }, 0);
                    })(callback, this.eN);
                }
            };

            function SZ(cK, aM) {
                if (cK === aM) {
                    cK.zz(new TypeError("A Promise cannot be resolved with a value that is itself."));
                    return;
                }
                if (aM && aM.WU && cK.adp && cK.adp === aM) {
                    cK.zz(new TypeError("A Promise cannot be resolved with a value that is itself."));
                    return;
                }
                if (aM && aM.WU && aM.WU === "PCCViewer.Promise") {
                    aM.then(function(arF) {
                        cK.Vg(arF);
                    }, function(art) {
                        cK.zz(art);
                    });
                } else if (aM !== null && (typeof aM === 'object' || typeof aM === 'function')) {
                    var UC;
                    try {
                        UC = aM.then;
                    } catch (e) {
                        cK.zz(e);
                        return;
                    }
                    if (typeof UC === 'function') {
                        var JY = true;
                        var arG = function(di) {
                            if (JY) {
                                SZ(cK, di);
                                JY = false;
                            }
                        };
                        var arz = function(aF) {
                            if (JY) {
                                cK.zz(aF);
                                JY = false;
                            }
                        };
                        try {
                            UC.call(aM, arG, arz);
                        } catch (e) {
                            if (JY) {
                                cK.zz(e);
                            }
                        }
                    } else {
                        cK.Vg(aM);
                    }
                } else {
                    cK.Vg(aM);
                }
            };
            PromiseDeferred.prototype.zz = function(reason) {
                this.fk = PromiseDeferred.States.Rejected;
                this.eN = reason;
                this.agt();
            };
            PromiseDeferred.prototype.ahO = function() {
                return this.fk === PromiseDeferred.States.Pending;
            };
            PromiseDeferred.States = {
                Pending: "Pending",
                Fulfilled: "Fulfilled",
                Rejected: "Rejected"
            };
            var Deferred = function() {
                var Vv = new PromiseDeferred();

                function Promise(cK) {
                    this.then = function(onFulfilled, onRejected) {
                        return new Promise(cK.then(onFulfilled, onRejected));
                    };
                    this.WU = "PCCViewer.Promise";
                    cK.adp = this;
                };
                var promise = new Promise(Vv);
                return {
                    getPromise: function() {
                        return promise;
                    },
                    resolve: function(value) {
                        Vv.resolve(value);
                    },
                    reject: function(reason) {
                        Vv.reject(reason);
                    }
                };
            };
            var Promise = {
                all: function(promises) {
                    var i, aL = new PCCViewer.Deferred(),
                        ZT = aL.getPromise();
                    if (Object.prototype.toString.call(promises) !== '[object Array]') {
                        throw new TypeError("The 'promises' argument must be an array.");
                    }

                    function createPushFunction(promise) {
                        return function(results) {
                            return wrapWithPromise(promise).then(function(value) {
                                results.push(value);
                                return results;
                            });
                        };
                    };

                    function wrapWithPromise(value) {
                        var aL = new PCCViewer.Deferred();
                        aL.resolve(value);
                        return aL.getPromise();
                    };
                    aL.resolve([]);
                    for (i = 0; i < promises.length; i++) {
                        ZT = ZT.then(createPushFunction(promises[i]));
                    }
                    return ZT;
                }
            };
            if (typeof exports !== 'undefined' && module.exports) {
                module.exports.Deferred = Deferred;
                module.exports.Promise = Promise;
            }
        }, {}],
        139: [function(require, module, exports) {
            var DocumentHyperlink = function DocumentHyperlink(parameters) {
                this.AD = parameters.AD;
                this.aY = parameters.aY;
            };
            DocumentHyperlink.prototype.getHref = function() {
                return this.AD.ait();
            };
            DocumentHyperlink.prototype.getPageNumber = function() {
                return this.aY;
            };
            DocumentHyperlink.prototype.getRectangle = function() {
                return this.AD.eA();
            };
            if (Object.defineProperties) {
                Object.defineProperties(DocumentHyperlink.prototype, {
                    "href": {
                        enumerable: true,
                        get: function() {
                            return this.getHref();
                        }
                    },
                    "pageNumber": {
                        enumerable: true,
                        get: function() {
                            return this.getPageNumber();
                        }
                    },
                    "rectangle": {
                        enumerable: true,
                        get: function() {
                            return this.getRectangle();
                        }
                    }
                });
            }
            module.exports = DocumentHyperlink;
        }, {}],
        140: [function(require, module, exports) {
            var IU = function(code, message) {
                var aeS = Error.call(null, message);
                this.code = code;

                function asj(bK, gz) {
                    Object.getOwnPropertyNames(gz).forEach(function(propName) {
                        Object.defineProperty(bK, propName, Object.getOwnPropertyDescriptor(gz, propName));
                    });
                    return bK;
                };

                function ash(bK, gz) {
                    for (var i in gz) {
                        if (gz.hasOwnProperty(i)) {
                            bK[i] = gz[i];
                        }
                    }
                    return bK;
                };
                if (typeof Object.create === 'function') {
                    asj(this, aeS);
                } else {
                    ash(this, aeS);
                }
            };
            var axc = (function() {
                var fM = function() {};
                return function(abg) {
                    if (arguments.length > 1) {
                        throw Error('Second argument not supported');
                    }
                    if (typeof abg !== 'object') {
                        throw TypeError('Argument must be an object');
                    }
                    fM.prototype = abg;
                    var bk = new fM();
                    fM.prototype = null;
                    return bk;
                };
            })();
            if (typeof Object.create === 'function') {
                IU.prototype = Object.create(Error.prototype);
            } else {
                IU.prototype = axc(Error.prototype);
            }
            IU.prototype.constructor = IU;
            module.exports = IU;
        }, {}],
        141: [function(require, module, exports) {
            "use strict";

            function Event(target, type) {
                this.bK = target;
                this.an = type;
            };
            Event.prototype.getTarget = function() {
                return this.bK;
            };
            Event.prototype.getType = function() {
                return this.an;
            };
            if (Object.defineProperties) {
                Object.defineProperties(Event.prototype, {
                    "target": {
                        enumerable: true,
                        get: function() {
                            return this.getTarget();
                        }
                    },
                    "type": {
                        enumerable: true,
                        get: function() {
                            return this.getType();
                        }
                    }
                });
            }
            module.exports = Event;
        }, {}],
        142: [function(require, module, exports) {
            var EventEmitter = (function() {
                function on(eventType, handler) {
                    if (!this.ia) {
                        this.ia = {};
                    }
                    var lowerCaseEventType = eventType.toLowerCase(),
                        handlers = this.ia[lowerCaseEventType];
                    if (!handlers) {
                        handlers = this.ia[lowerCaseEventType] = [];
                    }
                    handlers.push(handler);
                    return this;
                };

                function off(eventType, handler) {
                    if (!this.ia) {
                        this.ia = {};
                    }
                    var lowerCaseEventType = eventType.toLowerCase(),
                        handlers = this.ia[lowerCaseEventType];
                    if (handlers) {
                        var i = handlers.length;
                        for (; i >= 0; i--) {
                            if (handlers[i] === handler) {
                                handlers.splice(i, 1);
                            }
                        }
                    }
                    return this;
                };

                function trigger(eventType, properties) {
                    if (!this.ia) {
                        this.ia = {};
                    }
                    var lowerCaseEventType = eventType.toLowerCase(),
                        event = new PCCViewer.Event(this, lowerCaseEventType),
                        handlers = this.ia[lowerCaseEventType],
                        i, length = 0;
                    if (properties) {
                        PCCViewer.rO.sv(event, properties);
                    }
                    if (handlers) {
                        length = handlers.length;
                        handlers = handlers.slice(0);
                        for (i = 0; i < length; i++) {
                            handlers[i](event);
                        }
                    }
                    return this;
                };
                return {
                    extend: function(o) {
                        o.on = on;
                        o.off = off;
                        o.trigger = trigger;
                    }
                };
            })();
            module.exports = EventEmitter;
        }, {}],
        143: [function(require, module, exports) {
            var aAR = {
                ViewerReady: "ViewerReady",
                PageCountReady: "PageCountReady",
                EstimatedPageCountReady: "EstimatedPageCountReady",
                PageChanged: "PageChanged",
                PageLoadFailed: "PageLoadFailed",
                PageDisplayed: "PageDisplayed",
                PageRotated: "PageRotated",
                DocumentRotated: "DocumentRotated",
                ScaleChanged: "ScaleChanged",
                DocumentPrinted: "DocumentPrinted",
                TextSelected: "TextSelected",
                MouseToolChanged: "MouseToolChanged",
                SearchPerformed: "SearchPerformed",
                PartialSearchResultsAvailable: "PartialSearchResultsAvailable",
                SearchCompleted: "SearchCompleted",
                SearchFailed: "SearchFailed",
                SearchCancelled: "SearchCancelled",
                SearchResultsAvailable: "SearchResultsAvailable",
                SearchCleared: "SearchCleared",
                SearchResultSelectionChanged: "SearchResultSelectionChanged",
                RevisionsRetrievalCompleted: "RevisionsRetrievalCompleted",
                RevisionsRetrievalFailed: "RevisionsRetrievalFailed",
                RevisionsAvailable: "RevisionsAvailable",
                PartialRevisionsAvailable: "PartialRevisionsAvailable",
                PrintRequested: "PrintRequested",
                MarkupLoaded: "MarkupLoaded",
                MarkupSaved: "MarkupSaved",
                MarkChanged: "MarkChanged",
                MarkCreated: "MarkCreated",
                MarkRemoved: "MarkRemoved",
                MarkReordered: "MarkReordered",
                MarkSelectionChanged: "MarkSelectionChanged",
                MarkMouseEnter: "MarkMouseEnter",
                MarkMouseOver: "MarkMouseOver",
                MarkMouseLeave: "MarkMouseLeave",
                CommentsPanelToggled: "CommentsPanelToggled",
                CommentCreated: "CommentCreated",
                CommentRemoved: "CommentRemoved",
                CommentChanged: "CommentChanged",
                PageTextReady: "PageTextReady",
                Click: "Click",
                PageOpening: "PageOpening"
            };
            module.exports = aAR;
        }, {}],
        144: [function(require, module, exports) {
            var ot = {
                FullWidth: "FullWidth",
                ShrinkToWidth: "ShrinkToWidth",
                ActualSize: "ActualSize",
                FullHeight: "FullHeight",
                FullPage: "FullPage"
            };
            module.exports = ot;
        }, {}],
        145: [function(require, module, exports) {
            var rO = {};
            rO.sv = function(target) {
                var source;
                if (!target) {
                    throw new Error("target must be defined.");
                } else if (typeof target !== 'object') {
                    throw new Error("typeof target must be 'object'");
                } else {
                    for (var i = 1; i < arguments.length; i++) {
                        source = arguments[i];
                        for (var property in source) {
                            if (source.hasOwnProperty(property)) {
                                target[property] = source[property];
                            }
                        }
                    }
                }
                return target;
            };
            module.exports = rO;
        }, {}],
        146: [function(require, module, exports) {
            var ImageStamps = function(Options) {
                this.bU = PCCViewer.rO.sv({}, Options);
            };
            ImageStamps.prototype.requestImageStampList = function() {
                var aL = PCCViewer.Deferred();
                var cK = aL.getPromise();
                try {
                    var aq = this.bU.imageHandlerUrl +  passURL + '/ImageStampList';
                    PCCViewer.Ajax.eh({
                        method: 'GET',
                        url: aq
                    }).then(function eI(aX) {
                        var rR;
                        if (aX.responseText.length > 0) {
                            rR = JSON.parse(aX.responseText);
                            if (aX.status === 200) {
                                aL.resolve(rR);
                            } else {
                                aL.reject(new PCCViewer.Error("ImageStampListFail", "Unable to retrieve ImageStamp list from server."));
                            }
                        }
                    }, function fc(bk) {
                        aL.reject(bk.error);
                    });
                } catch (e) {
                    aL.reject(new PCCViewer.Error("Error", e.message));
                }
                return cK;
            };
            ImageStamps.prototype.requestImageSourceBase64 = function(imageStampId) {
                if (!imageStampId) {
                    throw new Error("Parameter imageStampId is not valid.");
                }
                if (typeof imageStampId !== 'string') {
                    throw new Error("Parameter imageStampId should be of type string.");
                }
                var aL = PCCViewer.Deferred();
                var cK = aL.getPromise();
                try {
                    var aq = this.bU.imageHandlerUrl + '/ImageStamp/' + imageStampId + '/q?format=Base64';
                    PCCViewer.Ajax.eh({
                        method: 'GET',
                        url: aq,
                    }).then(function eI(aX) {
                        var rR;
                        if (aX.responseText.length > 0) {
                            rR = JSON.parse(aX.responseText);
                            if (aX.status === 200) {
                                aL.resolve(rR);
                            } else {
                                aL.reject(new PCCViewer.Error("ImageStampDataFail", "Unable to retrieve image stamp data URL and dataHash from server."));
                            }
                        }
                    }, function fc(bk) {
                        aL.reject(bk.error);
                    });
                } catch (e) {
                    aL.reject(new PCCViewer.Error("Error", e.message));
                }
                return cK;
            };
            ImageStamps.prototype.reqestImageSourceBase64 = function(imageStampId) {
                return this.requestImageSourceBase64(imageStampId);
            };
            ImageStamps.prototype.getImageSourceURL = function(ImageStampID) {
                if (!ImageStampID) {
                    throw new Error("Parameter imageStampId is not valid.");
                }
                if (typeof ImageStampID !== 'string') {
                    throw new Error("Parameter imageStampId should be of type string.");
                }
                return this.bU.imageHandlerUrl + '/ImageStamp/' + ImageStampID + '/q?format=Image';
            };
            module.exports = ImageStamps;
        }, {}],
        147: [function(require, module, exports) {
            var azq = {
                data: {},
                initializeData: function(azZ) {
                    PCCViewer.Language.data = IPCC.T.extend({}, azZ);
                    return PCCViewer.Language;
                },
                getData: function() {
                    return PCCViewer.Language.data;
                },
                getValue: function(agA) {
                    if (typeof PCCViewer.Language.data === 'undefined') {
                        throw new Error('Language data is not set.');
                    }
                    var mL = agA.split('.'),
                        aa = PCCViewer.Language.data,
                        bu;
                    while (mL.length) {
                        bu = mL.shift();
                        aa = aa[bu];
                        if (typeof aa === 'undefined') {
                            aa = agA;
                            break;
                        }
                    }
                    return aa;
                }
            };
            module.exports = azq;
        }, {}],
        148: [function(require, module, exports) {
            var LoadMarkupLayersRequest = function(layerRecordIds, viewerControl, options) {
                this.vX = layerRecordIds;
                this.ae = viewerControl;
                this.eH = "";
                this.hz = false;
                this.pu = false;
                this.kn = 0;
                this.aL = PCCViewer.Deferred();
                this.cK = this.aL.getPromise();
                this.then = this.cK.then;
                this.uK = options.loadAsHidden === true;
                PCCViewer.EventEmitter.extend(this);
            };
            LoadMarkupLayersRequest.EventType = {
                LoadMarkupLayersFailed: "LoadMarkupLayersFailed",
                LoadMarkupLayersCompleted: "LoadMarkupLayersCompleted",
                LoadMarkupLayersCancelled: "LoadMarkupLayersCancelled",
                LoadMarkupLayersProgress: "LoadMarkupLayersProgress"
            };
            LoadMarkupLayersRequest.prototype.getProgress = function() {
                return this.kn;
            };
            LoadMarkupLayersRequest.prototype.cancel = function() {
                var V = this;
                this.pu = true;
                this.eH = "User Cancelled";
                setTimeout(function() {
                    V.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled, {});
                    V.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed, {});
                    V.aL.reject(new PCCViewer.Error("UserCancelled", "User Cancelled"));
                }, 0);
                return this;
            };
            LoadMarkupLayersRequest.prototype.getViewerControl = function() {
                return this.ae;
            };
            LoadMarkupLayersRequest.prototype.getErrorCode = function() {
                return this.eH;
            };
            LoadMarkupLayersRequest.prototype.EH = function() {
                var V = this,
                    abI = 1,
                    Un, Tq = [];
                var uK = this.uK;
                var rE = function(aga) {
                    function eI(aX) {
                        var rU = JSON.parse(aX.responseText),
                            Lm = V.axG(rU),
                            ed, sh = [],
                            aU, hq = [],
                            alC = {},
                            Oo = 0,
                            OD;
                        for (var mI in Lm.hq) {
                            if (Lm.hq.hasOwnProperty(mI)) {
                                hq = hq.concat(Lm.hq[mI]);
                            }
                        }
                        ed = new PCCViewer.MarkupLayer(V.ae, hq);
                        ed.aFm = {
                            aq: aq
                        };
                        IPCC.T.forEach(Lm.sh, function(abc) {
                            sh.push(abc);
                            Oo++;
                            alC[abc.uid] = true;
                        });
                        if (rU.name) {
                            ed.setName(rU.name);
                        }
                        if (rU.originalXmlName) {
                            ed.setOriginalXmlName(rU.originalXmlName);
                        }
                        if (Oo > 0) {
                            OD = function(ev) {
                                if (alC[ev.mark.getUid()]) {
                                    Oo--;
                                }
                                if (!Oo) {
                                    V.ae.off(PCCViewer.EventType.MarkCreated, OD);
                                    V.ae.sB = true;
                                }
                            };
                            V.ae.on(PCCViewer.EventType.MarkCreated, OD);
                            V.ae.sB = false;
                            try {
                                aU = V.ae.deserializeMarks(sh);
                            } catch (dj) {
                                V.hz = false;
                                V.ae.off(PCCViewer.EventType.MarkCreated, OD);
                                V.ae.sB = true;
                                V.aL.reject(new PCCViewer.Error('Error', dj.message));
                                V.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed, {});
                                return;
                            }
                            if (uK) {
                                IPCC.T.forEach(aU, function(L) {
                                    L.setVisible(false);
                                });
                            }
                            ed.addMarks(aU);
                        }
                        ed.Zg = aga;
                        for (var tZ in rU.data) {
                            if (rU.data.hasOwnProperty(tZ)) {
                                ed.setData(tZ, rU.data[tZ]);
                            }
                        }
                        V.ae.getMarkupLayerCollection().addItem(ed);
                        Tq.push(ed);
                        abI--;
                        V.kn = (V.vX.length - abI) / V.vX.length;
                        V.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress, {
                            progress: V.kn
                        });
                        if (V.kn === 1) {
                            V.hz = false;
                            V.aL.resolve(Tq);
                            V.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted, {
                                markupLayers: Tq
                            });
                        }
                    };

                    function fc(bk) {
                        V.hz = false;
                        V.aL.reject(bk.error);
                        V.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed, {});
                    };
                    var aq = Un + aga + '?' + new Date().getTime();
                    PCCViewer.Ajax.eh({
                        url: aq,
                        method: 'GET'
                    }).then(eI, fc);
                };
                if (!(/^[\x00-\x7F]*$/.test(this.ae.bQ.get_documentIdentifier()))) {
                    Un = this.ae.bU.imageHandlerUrl + '/MarkupLayers/e' + this.ae.bU.documentID + '/';
                } else {
                    Un = this.ae.bU.imageHandlerUrl + '/MarkupLayers/u' + encodeURIComponent(this.ae.bU.documentID) + '/';
                }
                if (this.pu) {
                    return;
                }
                if (Object.prototype.toString.call(this.vX) === '[object Array]' && this.vX.length > 0) {
                    abI = this.vX.length;
                    this.hz = true;
                    IPCC.T.forEach(this.vX, rE, this);
                } else if (typeof this.vX === "string") {
                    this.hz = true;
                    rE(this.vX);
                } else {
                    this.hz = false;
                    this.aL.reject(new PCCViewer.Error("InvalidParameter", 'layerRecordIds parameter is missing or invalid.'));
                    this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed, {});
                    return;
                }
            };
            LoadMarkupLayersRequest.prototype.axG = function(rU) {
                var Mi = {},
                    PV = {};
                IPCC.T.forEach(rU.marks, function(YS) {
                    YS.conversation.comments = [];
                    Mi[YS.uid] = YS;
                }, this);
                IPCC.T.forEach(rU.comments, function(wk) {
                    if (Mi[wk.markUid]) {
                        Mi[wk.markUid].conversation.comments.push(wk);
                    } else if (PV[wk.markUid]) {
                        PV[wk.markUid].push(wk);
                    } else {
                        PV[wk.markUid] = [wk];
                    }
                }, this);
                return {
                    sh: Mi,
                    hq: PV
                };
            };
            if (Object.defineProperties) {
                Object.defineProperties(LoadMarkupLayersRequest.prototype, {
                    "errorCode": {
                        enumerable: true,
                        get: function() {
                            return this.getErrorCode();
                        }
                    },
                    "progress": {
                        enumerable: true,
                        get: function() {
                            return this.getProgress();
                        }
                    },
                    "viewerControl": {
                        enumerable: true,
                        get: function() {
                            return this.getViewerControl();
                        }
                    }
                });
            }
            module.exports = LoadMarkupLayersRequest;
        }, {}],
        149: [function(require, module, exports) {
            var dz = {
                setMask: function(L, iY) {
                    var Ke = {};
                    IPCC.T.forEach(iY.translations, function(az, bu) {
                        Ke[bu] = new RegExp(az.replace(/^\/|\/$/g, ''));
                    });
                    L.setMask({
                        value: iY.value,
                        translations: Ke
                    });
                },
                calculateRectangle: function(aa, bU) {
                    if (aa.pageData === undefined || (aa.pageData.width === bU.bL && aa.pageData.height === bU.aS)) {
                        return aa.rectangle;
                    } else {
                        var ni = bU.bL / aa.pageData.width;
                        return {
                            x: aa.rectangle.x * ni,
                            y: aa.rectangle.y * ni,
                            width: aa.rectangle.width * ni,
                            height: aa.rectangle.height * ni
                        };
                    }
                },
                setRectangle: function(L, aa, bU) {
                    L.setRectangle(dz.calculateRectangle(aa, bU));
                },
                setLines: function(L, aa, bU) {
                    var acQ, oM, dr = aa.textLength + aa.startIndex - 1,
                        cS = aa.selectedText,
                        dK = {
                            startIndex: aa.startIndex,
                            length: aa.textLength
                        };
                    oM = [];
                    var aw, CJ;
                    acQ = IPCC.T.reduce(aa.lineGroups, function(fq, oW) {
                        aw = oW.pageNumber - 1;
                        fq[aw] = IPCC.T.map(oW.lines, function(hf) {
                            if (oW.pageData !== undefined) {
                                CJ = dz.calculateRectangle({
                                    rectangle: hf,
                                    pageData: oW.pageData
                                }, bU);
                                return new IPCC.Web.UI.Rectangle(CJ.x, CJ.y, CJ.width, CJ.height);
                            } else {
                                return new IPCC.Web.UI.Rectangle(hf.x, hf.y, hf.width, hf.height);
                            }
                        });
                        oM.push({
                            pageIndex: aw,
                            endIndex: oW.startIndex + oW.textLength - 1
                        });
                        return fq;
                    }, {});
                    L.JM(oM, dr, cS, dK, acQ);
                },
                postCreate: function(L, aa) {
                    L.K.adq(new Date(IPCC.T.Fz(aa.creationDateTime)));
                    L.K.Yz(new Date(IPCC.T.Fz(aa.modificationDateTime)));
                    return L;
                },
                calculatePoint: function(al, hE, bU) {
                    if (hE === undefined || (hE.width === bU.bL && hE.height === bU.aS)) {
                        return al;
                    } else {
                        return {
                            x: al.x * bU.bL / hE.width,
                            y: al.y * bU.aS / hE.height
                        };
                    }
                },
                Data: function(aa, dN) {
                    IPCC.T.forEach(dN, function(az, bu) {
                        aa.setData(bu, az);
                    });
                },
                Comment: function(dq, bZ) {
                    var po = dq.addComment(bZ.text);
                    po.setCreationTime(bZ.creationDateTime);
                    dz.Data(po, bZ.data);
                },
                Conversation: function(L, dq) {
                    var agV = L.getConversation();
                    IPCC.T.forEach(dq.comments ? dq.comments : [], function(po) {
                        dz.Comment(agV, po);
                    });
                    dz.Data(agV, dq.data);
                },
                Common: function(aa, bU) {
                    if (aa.uid === undefined) {
                        aa.uid = IPCC.T.aik();
                    }
                    var L = this.ant(aa.pageNumber, aa.type, {
                        uid: aa.uid
                    });
                    if (aa.rectangle && L.setRectangle) {
                        dz.setRectangle(L, aa, bU);
                    }
                    if (aa.startPoint && L.setStartPoint) {
                        L.setStartPoint(dz.calculatePoint(aa.startPoint, aa.pageData, bU));
                    }
                    if (aa.endPoint && L.setEndPoint) {
                        L.setEndPoint(dz.calculatePoint(aa.endPoint, aa.pageData, bU));
                    }
                    if (aa.points && L.setPoints) {
                        L.setPoints(IPCC.T.map(aa.points, function(al) {
                            return dz.calculatePoint(al, aa.pageData, bU);
                        }));
                    }
                    if (aa.lineGroups && L.JM) {
                        L.ah = aa.uid;
                        dz.setLines(L, aa, bU);
                    }
                    if (aa.interactionMode) {
                        L.setInteractionMode(aa.interactionMode);
                    }
                    L = this.aix(L);
                    dz.Data(L, aa.data);
                    dz.Conversation(L, aa.conversation);
                    return L;
                },
                EllipseAnnotation: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.borderColor) {
                        L.setBorderColor(aa.borderColor);
                    }
                    if (aa.borderThickness) {
                        L.setBorderThickness(aa.borderThickness);
                    }
                    if (aa.fillColor) {
                        L.setFillColor(aa.fillColor);
                    }
                    if (aa.opacity) {
                        L.setOpacity(aa.opacity);
                    }
                    return dz.postCreate(L, aa);
                },
                FreehandAnnotation: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.color) {
                        L.setColor(aa.color);
                    }
                    if (aa.opacity) {
                        L.setOpacity(aa.opacity);
                    }
                    if (aa.path) {
                        L.setPath(aa.path);
                    }
                    if (aa.thickness) {
                        L.setThickness(aa.thickness);
                    }
                    return dz.postCreate(L, aa);
                },
                FreehandSignature: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.color) {
                        L.setColor(aa.color);
                    }
                    if (aa.path) {
                        L.setPath(aa.path);
                    }
                    if (aa.thickness) {
                        L.setThickness(aa.thickness);
                    }
                    if (aa.horizontalAlignment) {
                        L.setHorizontalAlignment(aa.horizontalAlignment);
                    }
                    return dz.postCreate(L, aa);
                },
                HighlightAnnotation: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.fillColor) {
                        L.setFillColor(aa.fillColor);
                    }
                    return dz.postCreate(L, aa);
                },
                ImageStampAnnotation: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.imageDataUrl && aa.imageId) {
                        L.setImage({
                            id: aa.imageId,
                            dataUrl: aa.imageDataUrl
                        });
                    }
                    return dz.postCreate(L, aa);
                },
                ImageStampRedaction: function(aa, bU) {
                    return dz.ImageStampAnnotation.apply(this, arguments);
                },
                LineAnnotation: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.color) {
                        L.setColor(aa.color);
                    }
                    if (aa.endHeadType) {
                        L.setEndHeadType(aa.endHeadType);
                    }
                    if (aa.opacity) {
                        L.setOpacity(aa.opacity);
                    }
                    if (aa.thickness) {
                        L.setThickness(aa.thickness);
                    }
                    return dz.postCreate(L, aa);
                },
                PolylineAnnotation: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.color) {
                        L.setColor(aa.color);
                    }
                    if (aa.opacity) {
                        L.setOpacity(aa.opacity);
                    }
                    if (aa.thickness) {
                        L.setThickness(aa.thickness);
                    }
                    return dz.postCreate(L, aa);
                },
                RectangleAnnotation: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.borderColor) {
                        L.setBorderColor(aa.borderColor);
                    }
                    if (aa.borderThickness) {
                        L.setBorderThickness(aa.borderThickness);
                    }
                    if (aa.fillColor) {
                        L.setFillColor(aa.fillColor);
                    }
                    if (aa.opacity) {
                        L.setOpacity(aa.opacity);
                    }
                    return dz.postCreate(L, aa);
                },
                RectangleRedaction: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.reason) {
                        L.setReason(aa.reason);
                    }
                    if (aa.fillColor) {
                        L.setFillColor(aa.fillColor);
                    }
                    if (aa.borderColor) {
                        L.setBorderColor(aa.borderColor);
                    }
                    if (aa.borderThickness) {
                        L.setBorderThickness(aa.borderThickness);
                    }
                    if (aa.fontColor) {
                        L.setFontColor(aa.fontColor);
                    }
                    return dz.postCreate(L, aa);
                },
                StampAnnotation: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.label) {
                        L.setLabel(aa.label);
                    }
                    if (aa.color) {
                        L.setColor(aa.color);
                    }
                    return dz.postCreate(L, aa);
                },
                StampRedaction: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.label) {
                        L.setLabel(aa.label);
                    }
                    return dz.postCreate(L, aa);
                },
                StrikethroughAnnotation: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.color) {
                        L.setColor(aa.color);
                    }
                    if (aa.thickness) {
                        L.setThickness(aa.thickness);
                    }
                    return dz.postCreate(L, aa);
                },
                TextAnnotation: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.borderColor) {
                        L.setBorderColor(aa.borderColor);
                    }
                    if (aa.borderThickness) {
                        L.setBorderThickness(aa.borderThickness);
                    }
                    if (aa.fillColor) {
                        L.setFillColor(aa.fillColor);
                    }
                    if (aa.fontColor) {
                        L.setFontColor(aa.fontColor);
                    }
                    if (aa.fontName) {
                        L.setFontName(aa.fontName);
                    }
                    if (aa.fontSize) {
                        L.setFontSize(aa.fontSize);
                    }
                    if (aa.fontStyle) {
                        L.setFontStyle(aa.fontStyle);
                    }
                    if (aa.maxLength) {
                        L.setMaxLength(aa.maxLength);
                    }
                    if (aa.horizontalAlignment) {
                        L.setHorizontalAlignment(aa.horizontalAlignment);
                    }
                    if (aa.opacity) {
                        L.setOpacity(aa.opacity);
                    }
                    if (aa.text) {
                        L.setText(aa.text);
                    }
                    return dz.postCreate(L, aa);
                },
                TextAreaSignature: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.text) {
                        L.setText(aa.text);
                    }
                    if (aa.fontColor) {
                        L.setFontColor(aa.fontColor);
                    }
                    if (aa.fontName) {
                        L.setFontName(aa.fontName);
                    }
                    if (aa.maxFontSize) {
                        L.setMaxFontSize(aa.maxFontSize);
                    }
                    if (aa.fontStyle) {
                        L.setFontStyle(aa.fontStyle);
                    }
                    if (aa.maxLength) {
                        L.setMaxLength(aa.maxLength);
                    }
                    if (aa.horizontalAlignment) {
                        L.setHorizontalAlignment(aa.horizontalAlignment);
                    }
                    return dz.postCreate(L, aa);
                },
                TextHyperlinkAnnotation: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.fillColor) {
                        L.setFillColor(aa.fillColor);
                    }
                    if (aa.href) {
                        L.setHref(aa.href);
                    }
                    return dz.postCreate(L, aa);
                },
                TextInputSignature: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.fontColor) {
                        L.setFontColor(aa.fontColor);
                    }
                    if (aa.fontName) {
                        L.setFontName(aa.fontName);
                    }
                    if (aa.text) {
                        L.setText(aa.text);
                    }
                    if (aa.maxLength) {
                        L.setMaxLength(aa.maxLength);
                    }
                    if (aa.mask) {
                        dz.setMask(L, aa.mask);
                    }
                    if (aa.horizontalAlignment) {
                        L.setHorizontalAlignment(aa.horizontalAlignment);
                    }
                    return dz.postCreate(L, aa);
                },
                TextRedaction: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.fontColor) {
                        L.setFontColor(aa.fontColor);
                    }
                    if (aa.fontName) {
                        L.setFontName(aa.fontName);
                    }
                    if (aa.fontSize) {
                        L.setFontSize(aa.fontSize);
                    }
                    if (aa.maxLength) {
                        L.setMaxLength(aa.maxLength);
                    }
                    if (aa.text) {
                        L.setText(aa.text);
                    }
                    if (aa.horizontalAlignment) {
                        L.setHorizontalAlignment(aa.horizontalAlignment);
                    }
                    return dz.postCreate(L, aa);
                },
                TextSelectionRedaction: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.reason) {
                        L.setReason(aa.reason);
                    }
                    return dz.postCreate(L, aa);
                },
                TextSignature: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    if (aa.color) {
                        L.setColor(aa.color);
                    }
                    if (aa.fontName) {
                        L.setFontName(aa.fontName);
                    }
                    if (aa.text) {
                        L.setText(aa.text);
                    }
                    if (aa.horizontalAlignment) {
                        L.setHorizontalAlignment(aa.horizontalAlignment);
                    }
                    return dz.postCreate(L, aa);
                },
                TransparentRectangleRedaction: function(aa, bU) {
                    var L = dz.Common.apply(this, arguments);
                    return dz.postCreate(L, aa);
                }
            };
            module.exports = dz;
        }, {}],
        150: [function(require, module, exports) {
            var BM = {
                HideSideHandlesWhenClose: "HideSideHandlesWhenClose",
                HideCornerHandlesWhenClose: "HideCornerHandlesWhenClose"
            };
            module.exports = BM;
        }, {}],
        151: [function(require, module, exports) {
            var eY = {
                serializeMask: function(iY) {
                    var abR = {
                        value: iY.value,
                        translations: {}
                    };
                    IPCC.T.forEach(iY.translations, function(az, bu) {
                        abR.translations[bu] = az.toString();
                    });
                    return abR;
                },
                copyRectangle: function(R) {
                    return {
                        x: R.x,
                        y: R.y,
                        width: R.width,
                        height: R.height
                    };
                },
                Common: function(bB, bI) {
                    var aS;
                    var bL;
                    if (bB.page) {
                        aS = bB.page.get_pageHeight();
                        bL = bB.page.get_pageWidth();
                    } else {
                        aS = null;
                        bL = null;
                    }
                    var aY = bB.mark.getPageNumber();
                    var aa = {
                        uid: bB.mark.getUid(),
                        interactionMode: bB.mark.getInteractionMode(),
                        pageNumber: aY,
                        type: bB.mark.getType(),
                        creationDateTime: IPCC.T.vF(bB.mark.K.agw()),
                        modificationDateTime: IPCC.T.vF(bB.mark.K.agH()),
                        data: eY.Data(bB.mark),
                        conversation: eY.Conversation(bB.mark.getConversation())
                    };

                    function Ai(al) {
                        return {
                            x: al.x,
                            y: al.y
                        };
                    };

                    function asR() {
                        var GZ = IPCC.T.map([].concat(bB.mark.K, bB.mark.ci), function(K) {
                            if (bL !== null) {
                                return {
                                    pageNumber: K.aw + 1,
                                    pageData: {
                                        width: bL,
                                        height: aS
                                    },
                                    startIndex: K.get_startIndex(),
                                    textLength: K.get_textLength(),
                                    lines: IPCC.T.map(K.bA, function(ap) {
                                        if (ap.get_rectangle) {
                                            return eY.copyRectangle(ap.get_rectangle());
                                        } else {
                                            return eY.copyRectangle(ap);
                                        }
                                    })
                                };
                            } else {
                                return {
                                    pageNumber: K.aw + 1,
                                    startIndex: K.get_startIndex(),
                                    textLength: K.get_textLength(),
                                    lines: IPCC.T.map(K.bA, function(ap) {
                                        if (ap.get_rectangle) {
                                            return eY.copyRectangle(ap.get_rectangle());
                                        } else {
                                            return eY.copyRectangle(ap);
                                        }
                                    })
                                };
                            }
                        });
                        aa.lineGroups = GZ;
                    };

                    function amq() {
                        if (bB.mark.getRectangle) {
                            aa.rectangle = eY.copyRectangle(bB.mark.getRectangle());
                            if (bL !== null) {
                                aa.pageData = {
                                    width: bL,
                                    height: aS
                                };
                            }
                        }
                        if (bB.mark.getStartPoint) {
                            aa.startPoint = Ai(bB.mark.getStartPoint());
                            if (bL !== null) {
                                aa.pageData = aa.pageData || {
                                    width: bL,
                                    height: aS
                                };
                            }
                        }
                        if (bB.mark.getEndPoint) {
                            aa.endPoint = Ai(bB.mark.getEndPoint());
                            if (bL !== null) {
                                aa.pageData = aa.pageData || {
                                    width: bL,
                                    height: aS
                                };
                            }
                        }
                        if (bB.mark.getPoints) {
                            var bF = bB.mark.getPoints();
                            aa.points = IPCC.T.map(bF, Ai);
                            if (bL !== null) {
                                aa.pageData = {
                                    width: bL,
                                    height: aS
                                };
                            }
                        }
                        if (bB.mark.K.bA) {
                            asR();
                        }
                    };
                    if (bL !== undefined && aS !== undefined && bL !== 0 && aS !== 0) {
                        amq();
                        bI(undefined, aa);
                    } else {
                        bB.vc.requestPageAttributes(aY).then(function aGV(ajs) {
                            aS = ajs.height;
                            bL = ajs.width;
                            amq();
                            bI(undefined, aa);
                        }, function aFE(eN) {
                            bI(eN);
                        });
                    }
                },
                Data: function(aa) {
                    return IPCC.T.reduce(aa.getDataKeys(), function(fq, bu) {
                        fq[bu] = aa.getData(bu);
                        return fq;
                    }, {});
                },
                Comment: function(bZ) {
                    return {
                        text: bZ.getText(),
                        data: eY.Data(bZ),
                        creationDateTime: IPCC.T.vF(bZ.getCreationTime())
                    };
                },
                Conversation: function(dq) {
                    return {
                        comments: IPCC.T.map(dq.getComments(), function(bZ) {
                            return eY.Comment(bZ);
                        }),
                        data: eY.Data(dq)
                    };
                },
                EllipseAnnotation: function(bB, bI) {
                    eY.RectangleAnnotation(bB, bI);
                },
                FreehandAnnotation: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        aa = IPCC.T.extend(aa, {
                            color: bB.mark.getColor(),
                            opacity: bB.mark.getOpacity(),
                            path: bB.mark.getPath(),
                            thickness: bB.mark.getThickness()
                        });
                        bI(undefined, aa);
                    });
                },
                FreehandSignature: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        aa = IPCC.T.extend(aa, {
                            color: bB.mark.getColor(),
                            path: bB.mark.getPath(),
                            thickness: bB.mark.getThickness(),
                            horizontalAlignment: bB.mark.getHorizontalAlignment()
                        });
                        bI(undefined, aa);
                    });
                },
                HighlightAnnotation: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        var dK = bB.mark.getPosition();
                        aa = IPCC.T.extend(aa, {
                            fillColor: bB.mark.getFillColor(),
                            textLength: dK.length,
                            startIndex: dK.startIndex,
                            selectedText: bB.mark.getText()
                        });
                        bI(undefined, aa);
                    });
                },
                ImageStampAnnotation: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        var bE = bB.mark.getImage();
                        aa = IPCC.T.extend(aa, {
                            imageDataUrl: bE.dataUrl,
                            imageId: bE.id
                        });
                        bI(undefined, aa);
                    });
                },
                ImageStampRedaction: function(bB, bI) {
                    eY.ImageStampAnnotation(bB, bI);
                },
                LineAnnotation: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        aa = IPCC.T.extend(aa, {
                            color: bB.mark.getColor(),
                            endHeadType: bB.mark.getEndHeadType(),
                            opacity: bB.mark.getOpacity(),
                            thickness: bB.mark.getThickness()
                        });
                        bI(undefined, aa);
                    });
                },
                PolylineAnnotation: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        aa = IPCC.T.extend(aa, {
                            color: bB.mark.getColor(),
                            opacity: bB.mark.getOpacity(),
                            thickness: bB.mark.getThickness()
                        });
                        bI(undefined, aa);
                    });
                },
                RectangleAnnotation: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        aa = IPCC.T.extend(aa, {
                            borderColor: bB.mark.getBorderColor(),
                            borderThickness: bB.mark.getBorderThickness(),
                            fillColor: bB.mark.getFillColor(),
                            opacity: bB.mark.getOpacity()
                        });
                        bI(undefined, aa);
                    });
                },
                RectangleRedaction: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        aa = IPCC.T.extend(aa, {
                            reason: bB.mark.getReason(),
                            fillColor: bB.mark.getFillColor(),
                            borderColor: bB.mark.getBorderColor(),
                            borderThickness: bB.mark.getBorderThickness(),
                            fontColor: bB.mark.getFontColor()
                        });
                        bI(undefined, aa);
                    });
                },
                StampAnnotation: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        aa = IPCC.T.extend(aa, {
                            label: bB.mark.getLabel(),
                            color: bB.mark.getColor()
                        });
                        bI(undefined, aa);
                    });
                },
                StampRedaction: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        aa = IPCC.T.extend(aa, {
                            label: bB.mark.getLabel()
                        });
                        bI(undefined, aa);
                    });
                },
                StrikethroughAnnotation: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        var dK = bB.mark.getPosition();
                        aa = IPCC.T.extend(aa, {
                            color: bB.mark.getColor(),
                            thickness: bB.mark.getThickness(),
                            textLength: dK.length,
                            startIndex: dK.startIndex,
                            selectedText: bB.mark.getText()
                        });
                        bI(undefined, aa);
                    });
                },
                TextAnnotation: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        aa = IPCC.T.extend(aa, {
                            borderColor: bB.mark.getBorderColor(),
                            borderThickness: bB.mark.getBorderThickness(),
                            fillColor: bB.mark.getFillColor(),
                            fontColor: bB.mark.getFontColor(),
                            fontName: bB.mark.getFontName(),
                            fontSize: bB.mark.getFontSize(),
                            fontStyle: bB.mark.getFontStyle(),
                            maxLength: bB.mark.getMaxLength(),
                            horizontalAlignment: bB.mark.getHorizontalAlignment(),
                            opacity: bB.mark.getOpacity(),
                            text: bB.mark.getText()
                        });
                        bI(undefined, aa);
                    });
                },
                TextAreaSignature: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        aa = IPCC.T.extend(aa, {
                            text: bB.mark.getText(),
                            fontColor: bB.mark.getFontColor(),
                            fontName: bB.mark.getFontName(),
                            fontStyle: bB.mark.getFontStyle(),
                            maxFontSize: bB.mark.getMaxFontSize(),
                            maxLength: bB.mark.getMaxLength(),
                            horizontalAlignment: bB.mark.getHorizontalAlignment(),
                        });
                        bI(undefined, aa);
                    });
                },
                TextHyperlinkAnnotation: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        var dK = bB.mark.getPosition();
                        aa = IPCC.T.extend(aa, {
                            href: bB.mark.getHref(),
                            fillColor: bB.mark.getFillColor(),
                            textLength: dK.length,
                            startIndex: dK.startIndex,
                            selectedText: bB.mark.getText()
                        });
                        bI(undefined, aa);
                    });
                },
                TextInputSignature: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        aa = IPCC.T.extend(aa, {
                            fontColor: bB.mark.getFontColor(),
                            fontName: bB.mark.getFontName(),
                            text: bB.mark.getText(),
                            mask: bB.mark.getMask(),
                            maxLength: bB.mark.getMaxLength(),
                            horizontalAlignment: bB.mark.getHorizontalAlignment()
                        });
                        if (bB.mark.getMask()) {
                            aa.mask = eY.serializeMask(bB.mark.getMask());
                        }
                        bI(undefined, aa);
                    });
                },
                TextRedaction: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        aa = IPCC.T.extend(aa, {
                            fontColor: bB.mark.getFontColor(),
                            fontName: bB.mark.getFontName(),
                            fontSize: bB.mark.getFontSize(),
                            text: bB.mark.getText(),
                            maxLength: bB.mark.getMaxLength(),
                            horizontalAlignment: bB.mark.getHorizontalAlignment()
                        });
                        bI(undefined, aa);
                    });
                },
                TextSelectionRedaction: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        var dK = bB.mark.getPosition();
                        aa = IPCC.T.extend(aa, {
                            reason: bB.mark.getReason(),
                            textLength: dK.length,
                            startIndex: dK.startIndex,
                            selectedText: bB.mark.getText()
                        });
                        bI(undefined, aa);
                    });
                },
                TextSignature: function(bB, bI) {
                    eY.Common(bB, function(dj, aa) {
                        if (dj) {
                            bI(dj);
                            return;
                        }
                        aa = IPCC.T.extend(aa, {
                            color: bB.mark.getColor(),
                            fontName: bB.mark.getFontName(),
                            text: bB.mark.getText(),
                            horizontalAlignment: bB.mark.getHorizontalAlignment()
                        });
                        bI(undefined, aa);
                    });
                },
                TransparentRectangleRedaction: function(bB, bI) {
                    eY.Common(bB, bI);
                }
            };
            module.exports = eY;
        }, {}],
        152: [function(require, module, exports) {
            'use strict';
            var IPCC = require('./../IPCC/IPCC');
            var Data = require('./PCCViewer.Data').Data;
            var SessionData = require('./PCCViewer.Data').SessionData;

            function Mark(parameters) {
                this.aY = 0;
                this.cB = undefined;
                this.Cq = false;
                this.nS = Mark.InteractionMode.Full;
                this.bX = true;
                if (parameters.uid && parameters.viewerControl) {
                    (function(aU, kF) {
                        IPCC.T.forEach(aU, function validateMark(mn) {
                            if (mn.getUid() === kF) {
                                throw new Error('Uid ' + kF + ' already exists in the document and cannot be duplicated.');
                            }
                        });
                    })(parameters.viewerControl.getAllMarks(), parameters.uid);
                }
                var kF = parameters.uid || IPCC.T.aik();
                if (parameters.igMark && parameters.igMark instanceof IPCC.Web.UI.Mark) {
                    this.K = parameters.igMark;
                    this.cB = this.K.get_markID().toString();
                    this.dN = this.K.get_data();
                } else {
                    this.dN = new IPCC.Web.UI.Data();
                }
                Data.extend(this);
                this.EL = new IPCC.Web.UI.Data();
                SessionData.extend(this);
                if (parameters.pageNumber !== undefined) {
                    IPCC.aR.ic(parameters.pageNumber, 'pageNumber');
                    this.aY = parameters.pageNumber;
                }
                if (parameters.id !== undefined) {
                    IPCC.aR.mo(parameters.id, 'id');
                    this.cB = parameters.id;
                }
                if (parameters.type && parameters.type === 'PlaceSignature' && parameters.Cq) {
                    this.an = parameters.type;
                    this.Cq = true;
                } else if (parameters.type !== undefined) {
                    IPCC.aR.mo(parameters.type, 'type');
                    var EU = Ps(parameters.type, Mark.Type);
                    if (EU === null) {
                        throw new RangeError("The value of mark type was invalid.");
                    }
                    this.an = EU;
                }
                if ('cI' in parameters) {
                    this.cI = parameters.cI;
                }
                if ('ab' in parameters) {
                    this.ab = parameters.ab;
                }
                addPropertiesToMark(this);
                addMethodsToMark(this);
                this.getUid = function() {
                    return kF;
                };
                if (Object.defineProperties && Object.defineProperty) {
                    Object.defineProperty(this, 'uid', {
                        value: kF,
                        enumerable: true,
                        writable: false
                    });
                }
            };
            Mark.prototype.getType = function() {
                return this.an;
            };
            Mark.prototype.getId = function() {
                return this.cB;
            };
            Mark.prototype.getPageNumber = function() {
                return this.aY;
            };
            Mark.prototype.getConversation = function() {
                if (!this.dq) {
                    this.dq = new PCCViewer.Conversation(this);
                }
                return this.dq;
            };
            Mark.prototype.getBoundingRectangle = function() {
                if (this.K) {
                    var ap = this.K.get_boundingRectangle();
                    if (ap instanceof IPCC.Web.UI.Rectangle) {
                        this.mV = {
                            width: ap.width,
                            height: ap.height,
                            x: ap.x,
                            y: ap.y
                        };
                    }
                }
                return this.mV;
            };
            Mark.prototype.getInteractionMode = function() {
                if (this.K) {
                    switch (this.K.get_interactionMode()) {
                        case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:
                            return PCCViewer.Mark.InteractionMode.SelectionDisabled;
                        case IPCC.Web.UI.MarkInteractionMode.Full:
                            return PCCViewer.Mark.InteractionMode.Full;
                        default:
                            return PCCViewer.Mark.InteractionMode.Full;
                    }
                }
                return this.nS;
            };
            Mark.prototype.setInteractionMode = function(interactionMode) {
                var nS = Ps(interactionMode, PCCViewer.Mark.InteractionMode),
                    Xe;
                switch (nS) {
                    case PCCViewer.Mark.InteractionMode.SelectionDisabled:
                        Xe = IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;
                        break;
                    case PCCViewer.Mark.InteractionMode.Full:
                        Xe = IPCC.Web.UI.MarkInteractionMode.Full;
                        break;
                    default:
                        throw new Error("The specified interactionMode is not valid.");
                }
                if (this.K) {
                    this.K.set_interactionMode(Xe);
                }
                this.nS = nS;
                return this;
            };
            Mark.prototype.reset = function() {
                var dh = new Mark({
                    type: this.an,
                    Cq: this.Cq
                });
                this.dN = {};
                if (this.setBorderColor && dh.getBorderColor) {
                    this.setBorderColor(dh.getBorderColor());
                }
                if (this.setBorderThickness && dh.getBorderThickness) {
                    this.setBorderThickness(dh.getBorderThickness());
                }
                if (this.setColor && dh.getColor) {
                    this.setColor(dh.getColor());
                }
                if (this.setEndHeadType && dh.getEndHeadType) {
                    this.setEndHeadType(dh.getEndHeadType());
                }
                if (this.setEndPoint && dh.getEndPoint) {
                    this.setEndPoint(dh.getEndPoint());
                }
                if (this.setFillColor && dh.getFillColor) {
                    this.setFillColor(dh.getFillColor());
                }
                if (this.setFontColor && dh.getFontColor) {
                    this.setFontColor(dh.getFontColor());
                }
                if (this.setFontName && dh.getFontName) {
                    this.setFontName(dh.getFontName());
                }
                if (this.setFontSize && dh.getFontSize) {
                    this.setFontSize(dh.getFontSize());
                }
                if (this.setFontStyle && dh.getFontStyle) {
                    this.setFontStyle(dh.getFontStyle());
                }
                if (this.setHorizontalAlignment && dh.getHorizontalAlignment) {
                    this.setHorizontalAlignment(dh.getHorizontalAlignment());
                }
                if (this.setLabel && dh.getLabel) {
                    this.setLabel(dh.getLabel());
                }
                if (this.setPosition && this.K && dh.getPosition) {
                    this.setPosition(dh.getPosition());
                }
                if (this.setReason && dh.setReason) {
                    this.setReason(dh.getReason());
                }
                if (this.setOpacity && dh.getOpacity) {
                    this.setOpacity(dh.getOpacity());
                }
                if (this.setRectangle && dh.getRectangle) {
                    this.setRectangle(dh.getRectangle());
                }
                if (this.setStartPoint && dh.getStartPoint) {
                    this.setStartPoint(dh.getStartPoint());
                }
                if (this.setText && dh.getText) {
                    this.setText(dh.getText());
                }
                if (this.setThickness && dh.getThickness) {
                    this.setThickness(dh.getThickness());
                }
                if (this.setPath && dh.getPath) {
                    this.setPath(dh.getPath());
                }
                if (this.setHref && dh.getHref) {
                    this.setHref(dh.getHref());
                }
                if (this.setImage && dh.getImage) {
                    this.setImage(dh.getImage());
                }
                if (this.setInteractionMode && dh.getInteractionMode) {
                    this.setInteractionMode(dh.getInteractionMode());
                }
                if (this.setPoints && dh.getPoints) {
                    this.setPoints(dh.getPoints());
                }
                if (this.setMask && dh.getMask) {
                    this.setMask(dh.getMask());
                }
                if (this.setMaxLength && dh.getMaxLength) {
                    this.setMaxLength(dh.getMaxLength());
                }
                if (this.setMaxFontSize && dh.getMaxFontSize) {
                    this.setMaxFontSize(dh.getMaxFontSize());
                }
            };
            if (Object.defineProperties) {
                Object.defineProperties(Mark.prototype, {
                    "type": {
                        enumerable: true,
                        get: function() {
                            return this.getType();
                        }
                    },
                    "pageNumber": {
                        enumerable: true,
                        get: function() {
                            return this.getPageNumber();
                        }
                    },
                    "id": {
                        enumerable: true,
                        get: function() {
                            return this.getId();
                        }
                    },
                    "conversation": {
                        enumerable: true,
                        get: function() {
                            return this.getConversation();
                        }
                    },
                    "boundingRectangle": {
                        enumerable: true,
                        get: function() {
                            return this.getBoundingRectangle();
                        }
                    },
                    "interactionMode": {
                        enumerable: true,
                        get: function() {
                            return this.getInteractionMode();
                        },
                        set: function(value) {
                            return this.setInteractionMode(value);
                        }
                    }
                });
            }
            Mark.Type = {
                LineAnnotation: "LineAnnotation",
                RectangleAnnotation: "RectangleAnnotation",
                EllipseAnnotation: "EllipseAnnotation",
                TextAnnotation: "TextAnnotation",
                StampAnnotation: "StampAnnotation",
                HighlightAnnotation: "HighlightAnnotation",
                RectangleRedaction: "RectangleRedaction",
                TransparentRectangleRedaction: "TransparentRectangleRedaction",
                TextHyperlinkAnnotation: "TextHyperlinkAnnotation",
                TextRedaction: "TextRedaction",
                StampRedaction: "StampRedaction",
                FreehandAnnotation: "FreehandAnnotation",
                FreehandSignature: "FreehandSignature",
                TextSignature: "TextSignature",
                TextInputSignature: "TextInputSignature",
                TextAreaSignature: "TextAreaSignature",
                TextSelectionRedaction: "TextSelectionRedaction",
                ImageStampAnnotation: "ImageStampAnnotation",
                ImageStampRedaction: "ImageStampRedaction",
                PolylineAnnotation: "PolylineAnnotation",
                StrikethroughAnnotation: "StrikethroughAnnotation"
            };
            Mark.LineHeadType = {
                None: "None",
                FilledTriangle: "FilledTriangle"
            };
            Mark.FontStyles = {
                Bold: "Bold",
                Italic: "Italic",
                Strikeout: "Strikeout",
                Underline: "Underline"
            };
            Mark.InteractionMode = {
                Full: "Full",
                SelectionDisabled: "SelectionDisabled"
            };
            Mark.HorizontalAlignment = {
                Center: "Center",
                Left: "Left",
                Right: "Right"
            };

            function Ps(Uj, an) {
                var Zc = Uj.toLowerCase();
                for (var standardType in an) {
                    if (an.hasOwnProperty(standardType) && standardType.toLowerCase && standardType.toLowerCase() === Zc) {
                        return standardType;
                    }
                }
                return null;
            };

            function addMethodsToMark(L) {
                function arH(L) {
                    L.highlightText = function(highlights) {
                        if (!this.K) {
                            throw new Error("It is invalid to highlight text on this mark.");
                        }
                        var mU;
                        if (highlights !== null && typeof highlights !== "undefined") {
                            if (Object.prototype.toString.call(highlights) !== '[object Array]') {
                                mU = [highlights];
                            } else {
                                mU = highlights;
                            }
                            for (var i = 0; i < mU.length; i++) {
                                auX(mU[i]);
                            }
                        } else {
                            mU = [];
                        }
                        var an = L.getType();
                        switch (an) {
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.TextRedaction:
                                L.K.selectText(mU);
                                break;
                            case Mark.Type.HighlightAnnotation:
                            case Mark.Type.TextSelectionRedaction:
                            case Mark.Type.TextHyperlinkAnnotation:
                            case Mark.Type.StrikethroughAnnotation:
                                var V = this;
                                var Qh = [];
                                var sv = false,
                                    OT = 0,
                                    Qf, Bw;
                                var acu = function(Fa, aol, hA) {
                                    var ye;
                                    var Vk = -1,
                                        Qo = [];
                                    var yD = (Fa.aT + Fa.cq);
                                    if (sv === true && Qf >= 0 && Bw >= 0) {
                                        if (Fa.aw - 1 === Qf) {
                                            ye = 0;
                                            if (OT <= yD) {
                                                Qo.push({
                                                    startIndex: ye,
                                                    length: OT,
                                                    color: hA[Bw].color,
                                                    opacity: (hA[Bw].opacity) ? hA[Bw].opacity : 127
                                                });
                                                sv = false;
                                                OT = 0;
                                                Qf = -1;
                                                Bw = -1;
                                            }
                                        }
                                    }
                                    for (var ba = 0; ba < hA.length; ba++) {
                                        ye = Fa.aT + hA[ba].startIndex - aol;
                                        if (ye < 0) {
                                            continue;
                                        }
                                        if (Array.prototype.indexOf) {
                                            Vk = Qh.indexOf(ba);
                                        } else {
                                            Vk = IPCC.Web.jA(Qh, ba);
                                        }
                                        var cT = 127;
                                        if (Vk === -1) {
                                            if (ye + hA[ba].length <= yD) {
                                                if (hA[ba].opacity) {
                                                    cT = hA[ba].opacity;
                                                }
                                                Qo.push({
                                                    startIndex: ye,
                                                    length: hA[ba].length,
                                                    color: hA[ba].color,
                                                    opacity: cT
                                                });
                                                Qh.push(ba);
                                                V.Bj.push(hA[ba]);
                                            } else {
                                                var WM = yD - ye;
                                                if (WM > 0) {
                                                    OT = hA[ba].length - WM;
                                                    cT = 127;
                                                    if (hA[ba].opacity) {
                                                        cT = hA[ba].opacity;
                                                    }
                                                    Qo.push({
                                                        startIndex: ye,
                                                        length: WM,
                                                        color: hA[ba].color,
                                                        opacity: cT
                                                    });
                                                    Qh.push(ba);
                                                    V.Bj.push(hA[ba]);
                                                    sv = true;
                                                    Bw = ba;
                                                    Qf = Fa.aw;
                                                }
                                            }
                                        }
                                    }
                                    return Qo;
                                };
                                this.Bj = [];
                                var eE = acu(this.K, 0, mU);
                                L.clearHighlights();
                                if (eE.length > 0) {
                                    V.K.selectText(eE);
                                }
                                eE = [];
                                var gS = this.K.cq;
                                if (this.ci && this.ci.length) {
                                    for (var C = 0; C < this.ci.length; C++) {
                                        eE = [];
                                        eE = acu(this.ci[C], gS, mU);
                                        gS += this.ci[C].cq;
                                        if (eE.length > 0) {
                                            this.ci[C].selectText(eE);
                                        }
                                    }
                                }
                                break;
                        }
                        return this;
                    };

                    function auX(Fd) {
                        IPCC.aR.mW(Fd.startIndex, 'highlight.startIndex', 0, L.getText().length);
                        IPCC.aR.mW(Fd.length, 'highlight.length', 1, Number.MAX_VALUE);
                        IPCC.aR.cl(Fd.color, 'highlight.color');
                        if (Fd.opacity) {
                            IPCC.aR.mW(Fd.opacity, "highlight.opacity", 0, 255);
                        }
                    };
                    L.clearHighlights = function() {
                        if (this.K) {
                            if (!this.K) {
                                throw new Error("It is invalid to clear highlights on this mark.");
                            }
                        }
                        var an = L.getType();
                        switch (an) {
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.TextRedaction:
                                L.K.selectText();
                                break;
                            case Mark.Type.HighlightAnnotation:
                            case Mark.Type.TextSelectionRedaction:
                            case Mark.Type.TextHyperlinkAnnotation:
                            case Mark.Type.StrikethroughAnnotation:
                                this.K.selectText();
                                if (this.ci && this.ci.length) {
                                    for (var C = 0; C < this.ci.length; C++) {
                                        this.ci[C].selectText();
                                    }
                                }
                                break;
                        }
                        return this;
                    };
                };
                var an = L.getType();
                switch (an) {
                    case Mark.Type.TextAnnotation:
                    case Mark.Type.TextRedaction:
                    case Mark.Type.HighlightAnnotation:
                    case Mark.Type.TextSelectionRedaction:
                    case Mark.Type.TextHyperlinkAnnotation:
                    case Mark.Type.StrikethroughAnnotation:
                        arH(L);
                        break;
                    default:
                        break;
                }
            };

            function addPropertiesToMark(L) {
                L.mV = {
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0
                };
                var an = L.getType();
                switch (an) {
                    case Mark.Type.LineAnnotation:
                        L.cl = '#18385F';
                        L.jz = IPCC.Web.UI.LineStyle.Solid;
                        L.nA = 6;
                        L.cT = 255;
                        L.Pr = {
                            x: 0,
                            y: 0
                        };
                        L.yD = {
                            x: 0,
                            y: 0
                        };
                        L.mv = "None";
                        break;
                    case Mark.Type.RectangleAnnotation:
                    case Mark.Type.EllipseAnnotation:
                        L.dR = '#FB0404';
                        L.cT = 255;
                        L.nC = '#000000';
                        L.mk = 4;
                        L.R = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                        break;
                    case Mark.Type.RectangleRedaction:
                        L.eN = "";
                        L.dR = '#000000';
                        L.nC = '#000000';
                        L.mk = 1;
                        L.gM = '#FFFFFF';
                        L.R = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                        L.oZ = true;
                        if (L.K) {
                            L.K.kC(L.oZ);
                        }
                        break;
                    case Mark.Type.TransparentRectangleRedaction:
                        L.R = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                        L.oZ = true;
                        if (L.K) {
                            L.K.kC(L.oZ);
                            L.K.set_fillColor('#FFFF00');
                            L.K.set_opacity(127);
                            L.K.set_lineWidth(1);
                            L.K.set_lineColor('#FFFF00');
                        }
                        break;
                    case Mark.Type.TextAnnotation:
                        L.bv = '';
                        L.dR = '#FFFFFF';
                        L.cT = 127;
                        L.nC = '#000000';
                        L.mk = 4;
                        L.gM = '#000000';
                        L.hH = "Arial";
                        L.cu = 12;
                        L.cc = [];
                        L.lV = "Left";
                        L.fY = 0;
                        L.R = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                        break;
                    case Mark.Type.StampAnnotation:
                    case Mark.Type.StampRedaction:
                        L.vx = "Approved";
                        L.R = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                        if (an === Mark.Type.StampRedaction) {
                            L.oZ = true;
                            if (L.K) {
                                L.K.kC(L.oZ);
                                L.K.set_fillColor('#000000');
                            }
                        } else {
                            L.cl = "#000000";
                        }
                        break;
                    case Mark.Type.HighlightAnnotation:
                        L.dR = "#FFFF00";
                        L.bv = '';
                        L.cS = '';
                        if (L.K) {
                            if (L.K.cS) {
                                L.bv = L.K.cS;
                            }
                        }
                        L.dK = {
                            startIndex: 0,
                            length: 0
                        };
                        L.Bj = [];
                        L.ci = [];
                        break;
                    case Mark.Type.TextSelectionRedaction:
                        L.eN = "";
                        L.bv = '';
                        L.dK = {
                            startIndex: 0,
                            length: 0
                        };
                        if (L.K) {
                            L.K.set_fillColor('#000000');
                            if (L.K.cS) {
                                L.bv = L.K.cS;
                            }
                        }
                        L.Bj = [];
                        L.ci = [];
                        break;
                    case Mark.Type.TextHyperlinkAnnotation:
                        L.le = '';
                        L.dR = "#3B00FF";
                        L.bv = '';
                        if (L.K) {
                            if (L.K.cS) {
                                L.bv = L.K.cS;
                            }
                        }
                        L.dK = {
                            startIndex: 0,
                            length: 0
                        };
                        L.Bj = [];
                        L.ci = [];
                        break;
                    case Mark.Type.TextRedaction:
                        L.bv = '';
                        L.gM = '#000000';
                        L.hH = "Arial";
                        L.cu = 12;
                        L.R = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                        L.oZ = true;
                        L.fY = 0;
                        if (L.K) {
                            L.K.kC(L.oZ);
                            L.K.set_fillColor('#FFFFFF');
                        }
                        L.lV = "Left";
                        break;
                    case Mark.Type.FreehandAnnotation:
                        L.cT = 255;
                        L.R = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                        L.nA = 4;
                        L.cl = '#000000';
                        L.hm = 'M0,0';
                        break;
                    case Mark.Type.FreehandSignature:
                        L.R = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                        L.nA = 4;
                        L.cl = '#000000';
                        L.lV = "Center";
                        L.hm = 'M0,0';
                        break;
                    case Mark.Type.TextSignature:
                        L.bv = "John Doe";
                        L.R = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                        L.cl = "#000000";
                        if (L.K) {
                            L.cl = L.K.dR || '#000000';
                            L.K.kC(L.oZ);
                            L.K.set_fillColor(L.cl);
                        }
                        L.lV = "Center";
                        L.hH = "";
                        break;
                    case Mark.Type.TextInputSignature:
                        L.bv = "";
                        L.R = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                        L.gM = "#000000";
                        L.fY = 0;
                        if (L.K) {
                            L.gM = L.K.get_textColor() || '#000000';
                            L.K.kC(false);
                        }
                        L.lV = "Left";
                        L.hH = "Courier New";
                        L.iY = null;
                        break;
                    case Mark.Type.TextAreaSignature:
                        L.bv = "";
                        L.R = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                        L.gM = "#000000";
                        if (L.K) {
                            L.gM = L.K.get_textColor() || '#000000';
                            L.K.kC(false);
                        }
                        L.lV = "Left";
                        L.hH = "Courier New";
                        L.cc = [];
                        L.fY = 0;
                        L.ig = 0;
                        break;
                    case 'PlaceSignature':
                        L.kJ = undefined;
                        L.R = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                        break;
                    case Mark.Type.ImageStampAnnotation:
                    case Mark.Type.ImageStampRedaction:
                        L.bE = "";
                        L.pz = "";
                        L.R = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        };
                        if (L.K && an === Mark.Type.ImageStampRedaction) {
                            L.oZ = true;
                            L.K.kC(L.oZ);
                        }
                        break;
                    case Mark.Type.PolylineAnnotation:
                        L.cl = '#000000';
                        L.jz = IPCC.Web.UI.LineStyle.Solid;
                        L.nA = 2;
                        L.cT = 255;
                        L.bF = [{
                            x: 0,
                            y: 0
                        }, {
                            x: 0,
                            y: 0
                        }];
                        break;
                    case Mark.Type.StrikethroughAnnotation:
                        L.cl = '#000000';
                        L.jz = IPCC.Web.UI.LineStyle.Solid;
                        L.nA = 2;
                        L.bv = '';
                        L.cS = '';
                        if (L.K) {
                            if (L.K.cS) {
                                L.bv = L.K.cS;
                            }
                        }
                        L.dK = {
                            startIndex: 0,
                            length: 0
                        };
                        L.Bj = [];
                        L.ci = [];
                        break;
                }

                function getSignature() {
                    return this.kJ || undefined;
                };

                function setSignature(signature) {
                    if (typeof signature === 'undefined') {
                        this.kJ = undefined;
                        return;
                    } else if (typeof signature !== 'object') {
                        throw new Error("The parameter `signature` is not an Object.");
                    }
                    if (!signature.path && !signature.text) {
                        throw new Error("The parameter `signature` should have at least one of these properties: text, path");
                    } else {
                        if (signature.path) {
                            if (signature.path.length < 1) {
                                throw new Error("The property `signature.path` cannot be empty.");
                            } else if (signature.path.match(/[^MLC0-9,.\s]/)) {
                                throw new Error("The property `signature.path` has invalid characters.");
                            }
                        } else if (signature.text) {
                            if (signature.text.length < 1) {
                                signature.text = '';
                            }
                        }
                    }
                    this.kJ = signature;
                    return this;
                };
                if (L.kJ || L.an === 'PlaceSignature') {
                    L.getSignature = getSignature;
                    L.setSignature = setSignature;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "signature": {
                                enumerable: true,
                                get: function() {
                                    return this.getSignature();
                                },
                                set: function(value) {
                                    return this.setSignature(value);
                                }
                            }
                        });
                    }
                }

                function getColor() {
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.LineAnnotation:
                            case Mark.Type.PolylineAnnotation:
                            case Mark.Type.FreehandSignature:
                            case Mark.Type.FreehandAnnotation:
                            case Mark.Type.StrikethroughAnnotation:
                                this.cl = this.K.get_lineColor() || this.cl;
                                break;
                            case Mark.Type.StampAnnotation:
                            case Mark.Type.TextSignature:
                                this.cl = this.K.get_fillColor() || this.cl;
                                break;
                        }
                    }
                    return this.cl;
                };

                function setColor(value) {
                    IPCC.aR.cl(value, 'color');
                    this.cl = value;
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.LineAnnotation:
                            case Mark.Type.PolylineAnnotation:
                            case Mark.Type.FreehandSignature:
                            case Mark.Type.FreehandAnnotation:
                                this.K.set_lineColor(value);
                                break;
                            case Mark.Type.StampAnnotation:
                                this.K.set_fillColor(value);
                                break;
                            case Mark.Type.TextSignature:
                                this.K.set_textColor(value);
                                this.K.set_fillColor(value);
                                break;
                            case Mark.Type.StrikethroughAnnotation:
                                this.K.set_lineColor(value);
                                if (this.ci && this.ci.length) {
                                    for (var C = 0; C < this.ci.length; C++) {
                                        this.ci[C].set_lineColor(value);
                                    }
                                }
                                break;
                        }
                    }
                    return this;
                };
                if (L.cl !== undefined) {
                    L.getColor = getColor;
                    L.setColor = setColor;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "color": {
                                enumerable: true,
                                get: function() {
                                    return this.getColor();
                                },
                                set: function(value) {
                                    return this.setColor(value);
                                }
                            }
                        });
                    }
                }

                function getFillColor() {
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.RectangleAnnotation:
                            case Mark.Type.EllipseAnnotation:
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.HighlightAnnotation:
                            case Mark.Type.TextHyperlinkAnnotation:
                            case Mark.Type.RectangleRedaction:
                                this.dR = this.K.get_fillColor() || this.dR;
                                break;
                        }
                    }
                    return this.dR;
                };

                function setFillColor(value) {
                    if (this.an === PCCViewer.Mark.Type.HighlightAnnotation || this.an === PCCViewer.Mark.Type.TextHyperlinkAnnotation) {
                        IPCC.aR.cl(value, 'fillColor');
                    } else {
                        IPCC.aR.abH(value, 'fillColor');
                    }
                    this.dR = value;
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.RectangleAnnotation:
                            case Mark.Type.EllipseAnnotation:
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.RectangleRedaction:
                                this.K.set_fillColor(value);
                                break;
                            case Mark.Type.HighlightAnnotation:
                            case Mark.Type.TextHyperlinkAnnotation:
                                this.K.set_fillColor(value);
                                if (this.ci && this.ci.length) {
                                    for (var C = 0; C < this.ci.length; C++) {
                                        this.ci[C].set_fillColor(value);
                                    }
                                }
                                break;
                        }
                    }
                    return this;
                };
                if (L.dR !== undefined) {
                    L.getFillColor = getFillColor;
                    L.setFillColor = setFillColor;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "fillColor": {
                                enumerable: true,
                                get: function() {
                                    return this.getFillColor();
                                },
                                set: function(value) {
                                    return this.setFillColor(value);
                                }
                            }
                        });
                    }
                }

                function getImage() {
                    var retVal = {
                        dataUrl: localStorage.getItem('imageupload'),
                        id: localStorage.getItem('imageId')
                    };
                    return retVal;
                };

                function setImage(params) {
                    IPCC.aR.mo(localStorage.getItem('imageupload'), 'string');
                    IPCC.aR.mo(params.id, 'string');
                    this.bE = localStorage.getItem('imageupload');;
                    this.pz = params.id;
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.ImageStampAnnotation:
                            case Mark.Type.ImageStampRedaction:
                                this.K.set_image(params.dataUrl);
                                this.K.pz = params.id;
                                break;
                        }
                    }
                    return this;
                };
                if (L.bE !== undefined) {
                    L.getImage = getImage;
                    L.setImage = setImage;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "image": {
                                enumerable: true,
                                get: function() {
                                    return this.getImage();
                                },
                                set: function(params) {
                                    return this.setImage(params);
                                }
                            }
                        });
                    }
                }

                function getBorderColor() {
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.RectangleAnnotation:
                            case Mark.Type.EllipseAnnotation:
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.RectangleRedaction:
                                this.nC = this.K.get_lineColor() || this.nC;
                                break;
                        }
                    }
                    return this.nC;
                };

                function setBorderColor(value) {
                    IPCC.aR.abH(value, 'borderColor');
                    this.nC = value;
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.RectangleAnnotation:
                            case Mark.Type.EllipseAnnotation:
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.RectangleRedaction:
                                this.K.set_lineColor(value);
                                break;
                        }
                    }
                    return this;
                };
                if (L.nC !== undefined) {
                    L.getBorderColor = getBorderColor;
                    L.setBorderColor = setBorderColor;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "borderColor": {
                                enumerable: true,
                                get: function() {
                                    return this.getBorderColor();
                                },
                                set: function(value) {
                                    return this.setBorderColor(value);
                                }
                            }
                        });
                    }
                }

                function getOpacity() {
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.LineAnnotation:
                            case Mark.Type.RectangleAnnotation:
                            case Mark.Type.EllipseAnnotation:
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.FreehandAnnotation:
                            case Mark.Type.PolylineAnnotation:
                                this.cT = this.K.get_opacity() || this.cT;
                                break;
                        }
                    }
                    return this.cT;
                };

                function setOpacity(value) {
                    IPCC.aR.mW(value, 'opacity', 0, 255);
                    this.cT = value;
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.LineAnnotation:
                            case Mark.Type.RectangleAnnotation:
                            case Mark.Type.EllipseAnnotation:
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.FreehandAnnotation:
                            case Mark.Type.PolylineAnnotation:
                                this.K.set_opacity(value);
                                break;
                        }
                    }
                    return this;
                };
                if (L.cT !== undefined && L.cT >= 0) {
                    L.getOpacity = getOpacity;
                    L.setOpacity = setOpacity;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "opacity": {
                                enumerable: true,
                                get: function() {
                                    return this.getOpacity();
                                },
                                set: function(value) {
                                    return this.setOpacity(value);
                                }
                            }
                        });
                    }
                }

                function getThickness() {
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.LineAnnotation:
                            case Mark.Type.FreehandSignature:
                            case Mark.Type.FreehandAnnotation:
                            case Mark.Type.PolylineAnnotation:
                            case Mark.Type.StrikethroughAnnotation:
                                this.nA = this.K.get_lineWidth() || this.nA;
                                break;
                        }
                    }
                    return this.nA;
                };

                function setThickness(value) {
                    IPCC.aR.kA(value, 'thickness', 1, 50);
                    this.nA = value;
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.LineAnnotation:
                            case Mark.Type.FreehandSignature:
                            case Mark.Type.FreehandAnnotation:
                            case Mark.Type.PolylineAnnotation:
                                this.K.set_lineWidth(value);
                                break;
                            case Mark.Type.StrikethroughAnnotation:
                                this.K.set_lineWidth(value);
                                if (this.ci && this.ci.length) {
                                    for (var C = 0; C < this.ci.length; C++) {
                                        this.ci[C].set_lineWidth(value);
                                    }
                                }
                                break;
                        }
                    }
                    return this;
                };
                if (L.nA) {
                    L.getThickness = getThickness;
                    L.setThickness = setThickness;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "thickness": {
                                enumerable: true,
                                get: function() {
                                    return this.getThickness();
                                },
                                set: function(value) {
                                    return this.setThickness(value);
                                }
                            }
                        });
                    }
                }

                function getBorderThickness() {
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.RectangleAnnotation:
                            case Mark.Type.EllipseAnnotation:
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.RectangleRedaction:
                                this.mk = this.K.get_lineWidth() || this.mk;
                                break;
                        }
                    }
                    return this.mk;
                };

                function setBorderThickness(value) {
                    IPCC.aR.kA(value, 'borderThickness', 1, 50);
                    this.mk = value;
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.RectangleAnnotation:
                            case Mark.Type.EllipseAnnotation:
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.RectangleRedaction:
                                this.K.set_lineWidth(value);
                                break;
                        }
                    }
                    return this;
                };
                if (L.mk !== undefined) {
                    L.getBorderThickness = getBorderThickness;
                    L.setBorderThickness = setBorderThickness;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "borderThickness": {
                                enumerable: true,
                                get: function() {
                                    return this.getBorderThickness();
                                },
                                set: function(value) {
                                    return this.setBorderThickness(value);
                                }
                            }
                        });
                    }
                }

                function getVisible() {
                    if (this.K) {
                        this.bX = this.K.get_visible();
                    }
                    return this.bX;
                };

                function setVisible(value) {
                    if (value !== true && value !== false) {
                        throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");
                    }
                    this.bX = value;
                    if (this.K) {
                        this.K.set_visible(value);
                    }
                    var C;
                    switch (this.an) {
                        case Mark.Type.TextSelectionRedaction:
                        case Mark.Type.TextHyperlinkAnnotation:
                        case Mark.Type.HighlightAnnotation:
                        case Mark.Type.StrikethroughAnnotation:
                            if (this.ci && this.ci.length) {
                                for (C = 0; C < this.ci.length; C++) {
                                    this.ci[C].set_visible(value);
                                }
                            }
                            if (this.an === PCCViewer.Mark.Type.TextSelectionRedaction) {
                                var dg = this.K;
                                for (C = 0; C < this.K.bA.length; C++) {
                                    dg.bA[C].set_visible(value);
                                }
                                if (dg.ah) {
                                    IPCC.T.forEach(this.ci, function(K) {
                                        for (C = 0; C < K.bA.length; C++) {
                                            K.bA[C].set_visible(value);
                                        }
                                    });
                                }
                            }
                            break;
                    }
                    return this;
                };
                if (L.bX !== undefined) {
                    L.getVisible = getVisible;
                    L.setVisible = setVisible;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "visible": {
                                enumerable: true,
                                get: function() {
                                    return this.getVisible();
                                },
                                set: function(value) {
                                    return this.setVisible(value);
                                }
                            }
                        });
                    }
                }

                function getStartPoint() {
                    if (this.K && this.K !== null) {
                        var bF = this.K.get_points();
                        if (bF.get_length() > 0) {
                            switch (this.an) {
                                case Mark.Type.LineAnnotation:
                                    var al = bF.getPoint(0);
                                    if (al) {
                                        this.Pr = {
                                            x: al.x,
                                            y: al.y
                                        };
                                    }
                                    break;
                            }
                        }
                    }
                    return this.Pr;
                };

                function setStartPoint(value) {
                    IPCC.aR.ic(value.x, 'startPoint' + '.x');
                    IPCC.aR.ic(value.y, 'startPoint' + '.y');
                    if (this.K && this.K !== null) {
                        var bF = this.K.get_points();
                        switch (this.an) {
                            case Mark.Type.LineAnnotation:
                                bF.setPoint(0, new IPCC.Web.UI.Point(value.x, value.y));
                                break;
                        }
                    }
                    this.Pr = value;
                    return this;
                };
                if (L.Pr) {
                    L.getStartPoint = getStartPoint;
                    L.setStartPoint = setStartPoint;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "startPoint": {
                                enumerable: true,
                                get: function() {
                                    return this.getStartPoint();
                                },
                                set: function(value) {
                                    return this.setStartPoint(value);
                                }
                            }
                        });
                    }
                }

                function getEndPoint() {
                    if (this.K && this.K !== null) {
                        var bF = this.K.get_points();
                        if (bF.get_length() > 0) {
                            switch (this.an) {
                                case Mark.Type.LineAnnotation:
                                    var al = bF.getPoint(1);
                                    if (al) {
                                        this.yD = {
                                            x: al.x,
                                            y: al.y
                                        };
                                    }
                                    break;
                            }
                        }
                    }
                    return this.yD;
                };

                function setEndPoint(value) {
                    IPCC.aR.ic(value.x, 'endPoint' + '.x');
                    IPCC.aR.ic(value.y, 'endPoint' + '.y');
                    if (this.K && this.K !== null) {
                        var bF = this.K.get_points();
                        switch (this.an) {
                            case Mark.Type.LineAnnotation:
                                bF.setPoint(1, new IPCC.Web.UI.Point(value.x, value.y));
                                break;
                        }
                    }
                    this.yD = value;
                    return this;
                };
                if (L.yD) {
                    L.getEndPoint = getEndPoint;
                    L.setEndPoint = setEndPoint;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "endPoint": {
                                enumerable: true,
                                get: function() {
                                    return this.getEndPoint();
                                },
                                set: function(value) {
                                    return this.setEndPoint(value);
                                }
                            }
                        });
                    }
                }

                function getEndHeadType() {
                    if (this.K && this.K !== null) {
                        var BP;
                        switch (this.an) {
                            case Mark.Type.LineAnnotation:
                                BP = this.K.get_endHeadType();
                                switch (BP) {
                                    case IPCC.Web.UI.LineHeadType.None:
                                        this.mv = PCCViewer.Mark.LineHeadType.None;
                                        break;
                                    case IPCC.Web.UI.LineHeadType.Solid:
                                        this.mv = PCCViewer.Mark.LineHeadType.FilledTriangle;
                                        break;
                                }
                                break;
                        }
                    }
                    return this.mv;
                };

                function setEndHeadType(value) {
                    var BP;
                    switch (value) {
                        case Mark.LineHeadType.None:
                            BP = IPCC.Web.UI.LineHeadType.None;
                            break;
                        case Mark.LineHeadType.FilledTriangle:
                            BP = IPCC.Web.UI.LineHeadType.Solid;
                            break;
                        default:
                            throw "The specified value is not a valid line head type.";
                    }
                    if (this.K && this.K !== null) {
                        switch (this.an) {
                            case Mark.Type.LineAnnotation:
                                this.K.set_endHeadType(BP);
                                break;
                        }
                    }
                    this.mv = value;
                    return this;
                };
                if (L.mv) {
                    L.getEndHeadType = getEndHeadType;
                    L.setEndHeadType = setEndHeadType;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "endHeadType": {
                                enumerable: true,
                                get: function() {
                                    return this.getEndHeadType();
                                },
                                set: function(value) {
                                    return this.setEndHeadType(value);
                                }
                            }
                        });
                    }
                }

                function getPoints() {
                    if (this.K && this.K !== null) {
                        var FA = this.K.get_points();
                        var ds = FA.get_length();
                        var ail = [];
                        var Yq = function(awV, ay) {
                            ail.push(awV.getPoint(ay));
                        };
                        if (ds > 1) {
                            switch (this.an) {
                                case Mark.Type.PolylineAnnotation:
                                    for (var C = 0; C < ds; C++) {
                                        Yq(FA, C);
                                    }
                                    this.bF = ail;
                                    break;
                            }
                        }
                    }
                    return this.bF.slice();
                };

                function setPoints(value) {
                    if (!(value instanceof Array)) {
                        throw "invalid parameter. The parameter should be an array.";
                    }
                    if (value.length <= 1) {
                        return;
                    }
                    for (var ba = 0; ba < value.length; ba++) {
                        IPCC.aR.al(value[ba], 'PolylinePoint');
                    }
                    if (this.K && this.K !== null) {
                        var FA = this.K.get_points();
                        var aCf = function(ay) {
                            FA.addPoint(new IPCC.Web.UI.Point(value[ay].x, value[ay].y));
                        };
                        switch (this.an) {
                            case Mark.Type.PolylineAnnotation:
                                FA.removeAllPoints();
                                for (var C = 0; C < value.length; C++) {
                                    aCf(C);
                                }
                        }
                    }
                    this.bF = value;
                    return this;
                };
                if (L.bF) {
                    L.getPoints = getPoints;
                    L.setPoints = setPoints;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "points": {
                                enumerable: true,
                                get: function() {
                                    return this.getPoints();
                                },
                                set: function(value) {
                                    return this.setPoints(value);
                                }
                            }
                        });
                    }
                }

                function getRectangle() {
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.RectangleAnnotation:
                            case Mark.Type.RectangleRedaction:
                            case Mark.Type.TransparentRectangleRedaction:
                            case Mark.Type.EllipseAnnotation:
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.TextRedaction:
                            case Mark.Type.StampAnnotation:
                            case Mark.Type.StampRedaction:
                            case Mark.Type.FreehandAnnotation:
                            case Mark.Type.FreehandSignature:
                            case Mark.Type.TextSignature:
                            case Mark.Type.TextInputSignature:
                            case Mark.Type.TextAreaSignature:
                            case Mark.Type.ImageStampAnnotation:
                            case Mark.Type.ImageStampRedaction:
                                var ap = this.K.get_rectangle();
                                if (ap instanceof IPCC.Web.UI.Rectangle) {
                                    this.R = {
                                        width: ap.width,
                                        height: ap.height,
                                        x: ap.x,
                                        y: ap.y
                                    };
                                }
                                break;
                        }
                    }
                    return this.R;
                };

                function setRectangle(value) {
                    IPCC.aR.ic(value.x, 'rectangle' + '.x');
                    IPCC.aR.ic(value.y, 'rectangle' + '.y');
                    IPCC.aR.ic(value.width, 'rectangle' + '.width');
                    IPCC.aR.ic(value.height, 'rectangle' + '.height');
                    if (this.K && this.K !== null) {
                        switch (this.an) {
                            case Mark.Type.RectangleAnnotation:
                            case Mark.Type.RectangleRedaction:
                            case Mark.Type.TransparentRectangleRedaction:
                            case Mark.Type.EllipseAnnotation:
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.TextRedaction:
                            case Mark.Type.StampAnnotation:
                            case Mark.Type.StampRedaction:
                            case Mark.Type.FreehandAnnotation:
                            case Mark.Type.FreehandSignature:
                            case Mark.Type.TextSignature:
                            case Mark.Type.TextInputSignature:
                            case Mark.Type.TextAreaSignature:
                            case Mark.Type.ImageStampAnnotation:
                            case Mark.Type.ImageStampRedaction:
                                var ap = new IPCC.Web.UI.Rectangle(value.x, value.y, value.width, value.height);
                                this.K.set_rectangle(ap);
                                break;
                        }
                    }
                    this.R = value;
                    return this;
                };
                if (L.R) {
                    L.getRectangle = getRectangle;
                    L.setRectangle = setRectangle;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "rectangle": {
                                enumerable: true,
                                get: function() {
                                    return this.getRectangle();
                                },
                                set: function(value) {
                                    return this.setRectangle(value);
                                }
                            }
                        });
                    }
                }

                function getPosition() {
                    var dp = 0;
                    if (this.K && this.K.cS) {
                        dp = this.K.cS.length;
                    } else if (this.K) {
                        dp = IPCC.T.reduce([this.K].concat(this.ci || []), function(ds, K) {
                            return ds + K.get_textLength();
                        }, 0);
                    }
                    return this.K ? {
                        startIndex: this.K.aT,
                        length: dp
                    } : this.dK;
                };

                function setPosition(value) {
                    IPCC.aR.ic(value.startIndex, 'position.startIndex');
                    IPCC.aR.ic(value.length, 'position.length');
                    if (value.startIndex < 0) {
                        throw new Error("The start index must be 0 or greater.");
                    }
                    if (value.length < 0) {
                        throw new Error("The length must be 0 or greater.");
                    }
                    if (this.K === undefined || this.K === null) {
                        throw new Error("The mark must be on a page.");
                    }
                    var aP;
                    var au;
                    var aw = this.aY - 1;
                    var tz = -value.startIndex;
                    var oM = [];
                    var cS = "";
                    var dr;
                    while (true) {
                        if (aw >= this.cI.get_length()) {
                            throw new Error("The specified length is out of range.");
                        }
                        aP = this.cI.getPage(aw);
                        if (aP.ca() && aP.ca().vG() && aP.ca().mY() === true) {
                            var afL = tz;
                            var Uo = aP.ca().AX();
                            tz += Uo.length;
                            if (tz < 0 || (tz === 0 && value.length !== 0)) {
                                throw new Error("The specified start index is out of range for the specified page.");
                            }
                            var Sx = 0;
                            if (aw === this.aY - 1) {
                                Sx = value.startIndex;
                            }
                            if (tz >= value.length) {
                                dr = value.startIndex + value.length - 1;
                                if (afL >= 0) {
                                    dr = value.length - 1 - afL;
                                }
                                oM.push({
                                    pageIndex: aw,
                                    endIndex: dr
                                });
                                cS += Uo.substring(Sx, dr + 1);
                                break;
                            } else {
                                dr = aP.ca().AX().length - 1;
                                oM.push({
                                    pageIndex: aw,
                                    endIndex: dr
                                });
                                cS += Uo.substring(Sx, dr + 1);
                            }
                        } else {
                            throw new Error("The text has not been retrieved for this page.");
                        }
                        aw++;
                    }
                    this.ah = IPCC.wv();
                    var C = 0;
                    if (this.ci) {
                        if (this.K) {
                            this.K.ah = this.ah;
                            au = this.ab.gZ(this.cI.getPage(this.K.aw));
                            if (this.K.get_type() === IPCC.Web.UI.MarkType.TextSelectionRedaction) {
                                for (var abj = this.K.bA.length - 1; abj >= 0; abj--) {
                                    au.removeMark(this.K.bA[abj]);
                                    this.K.bA.pop();
                                }
                            }
                        }
                        for (C = this.ci.length - 1; C >= 0; C--) {
                            var kr = this.ci[C];
                            au = this.ab.gZ(this.cI.getPage(kr.aw));
                            au.removeMark(kr);
                            this.ci.splice(C, 1);
                        }
                    } else {
                        this.ci = [];
                    }
                    JM.call(this, oM, dr, cS, value);
                    this.dK = value;
                    return this;
                };

                function JM(oM, dr, cS, value, ZG) {
                    var C, aw, aP, au;
                    ZG = ZG || {};
                    var bA;
                    this.ci = this.ci || [];
                    var acY = (this.K.get_type() === IPCC.Web.UI.MarkType.TextSelectionRedaction) ? att : auQ;
                    for (C = 0; C < oM.length; C++) {
                        aw = oM[C].pageIndex;
                        aP = this.cI.getPage(aw);
                        var atL = aP.ca().gT();
                        au = this.ab.gZ(aP);
                        var dg;
                        var aT = 0;
                        dr = oM[C].endIndex;
                        if (C === 0) {
                            aT = value.startIndex;
                        }
                        aw = oM[C].pageIndex;
                        bA = ZG[aw] || IPCC.T.WD(atL, aT, dr);
                        if (C === 0) {
                            dg = acY(this.K, aT, dr - aT + 1, cS, bA, aw, this.ah, this.K.get_type(), au);
                            this.K.kl = true;
                        } else {
                            dg = acY(null, aT, dr - aT + 1, cS, bA, aw, this.ah, this.K.get_type(), au);
                            this.ci.push(dg);
                            au.addMark(dg);
                            dg.set_selected(this.K.get_selected());
                            if (this.getFillColor) {
                                dg.set_fillColor(this.K.get_fillColor());
                            }
                            if (this.getColor) {
                                dg.set_lineColor(this.K.get_lineColor());
                            }
                            if (this.getThickness) {
                                dg.set_lineWidth(this.K.get_lineWidth());
                            }
                            if (this.getHref) {
                                dg.set_href(this.K.get_href());
                            }
                            if (this.getReason) {
                                dg.set_text(this.K.get_text());
                            }
                        }
                        if (C === oM.length - 1) {
                            dg.lB = true;
                        }
                    }
                };
                if (L.dK) {
                    L.getPosition = getPosition;
                    L.setPosition = setPosition;
                    L.JM = JM;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "position": {
                                enumerable: true,
                                get: function() {
                                    return this.getPosition();
                                },
                                set: function(value) {
                                    return this.setPosition(value);
                                }
                            }
                        });
                    }
                }

                function auQ(L, aT, dp, cS, bA, aw, kS, bP, au) {
                    if (!L) {
                        L = new IPCC.Web.UI.Mark(bP);
                    }
                    L.aT = aT;
                    L.cq = dp;
                    L.kQ = 'y';
                    L.ah = kS;
                    L.cS = cS;
                    L.bA = bA || [];
                    L.aw = aw;
                    var YG = IPCC.T.reduce(L.bA, function(Hb, ap) {
                        if (!Hb) {
                            return ap.clone();
                        } else {
                            return Hb.union(ap);
                        }
                    }, null);
                    L.set_rectangle(YG);
                    return L;
                };

                function att(L, aT, dp, cS, bA, aw, kS, bP, au) {
                    if (!L) {
                        L = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);
                    }
                    L.aT = aT;
                    L.cq = dp;
                    L.ah = kS;
                    L.cS = cS;
                    L.aw = aw;
                    L.bA = IPCC.T.map(bA, function(ap) {
                        var vw = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);
                        vw.set_rectangle(ap);
                        vw.kC(true);
                        vw.set_fillColor('#000000');
                        vw.set_text(L.bv);
                        vw.set_lineWidth(0);
                        vw.ah = kS;
                        au.addMark(vw);
                        return vw;
                    });
                    var YG = IPCC.T.reduce(bA, function(Hb, ap) {
                        if (!Hb) {
                            return ap.clone();
                        } else {
                            return Hb.union(ap);
                        }
                    }, null);
                    L.set_rectangle(YG);
                    return L;
                };

                function getText() {
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.TextRedaction:
                            case Mark.Type.TextSignature:
                            case Mark.Type.TextInputSignature:
                            case Mark.Type.TextAreaSignature:
                                this.bv = (typeof this.K.get_text() === "string") ? this.K.get_text() : this.bv;
                                break;
                            case Mark.Type.HighlightAnnotation:
                            case Mark.Type.TextSelectionRedaction:
                            case Mark.Type.TextHyperlinkAnnotation:
                            case Mark.Type.StrikethroughAnnotation:
                                if (L.K.cS) {
                                    this.bv = L.K.cS;
                                }
                                break;
                        }
                    }
                    return this.bv;
                };

                function setText(value) {
                    IPCC.aR.mo(value, 'text');
                    this.bv = value;
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.TextRedaction:
                            case Mark.Type.TextSignature:
                            case Mark.Type.TextInputSignature:
                            case Mark.Type.TextAreaSignature:
                                this.K.set_text(value);
                                break;
                        }
                    }
                    return this;
                };
                if (L.bv !== undefined) {
                    L.getText = getText;
                    var bP = L.getType();
                    if (bP !== Mark.Type.HighlightAnnotation && bP !== Mark.Type.TextSelectionRedaction && bP !== Mark.Type.TextHyperlinkAnnotation && bP !== Mark.Type.StrikethroughAnnotation) {
                        L.setText = setText;
                    }
                    if (Object.defineProperties) {
                        var ajH = {
                            enumerable: true,
                            get: function() {
                                return this.getText();
                            }
                        };
                        if (L.setText !== undefined) {
                            ajH.set = function(value) {
                                return this.setText(value);
                            };
                        }
                        Object.defineProperties(L, {
                            "text": ajH
                        });
                    }
                }

                function getFontColor() {
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.TextRedaction:
                            case Mark.Type.TextInputSignature:
                            case Mark.Type.RectangleRedaction:
                            case Mark.Type.TextAreaSignature:
                                this.gM = this.K.get_textColor() || this.gM;
                                break;
                        }
                    }
                    return this.gM;
                };

                function setFontColor(value) {
                    IPCC.aR.cl(value, 'fontColor');
                    this.gM = value;
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.TextRedaction:
                            case Mark.Type.TextInputSignature:
                            case Mark.Type.TextAreaSignature:
                            case Mark.Type.RectangleRedaction:
                                this.K.set_textColor(value);
                                break;
                        }
                    }
                    return this;
                };
                if (L.gM) {
                    L.getFontColor = getFontColor;
                    L.setFontColor = setFontColor;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "fontColor": {
                                enumerable: true,
                                get: function() {
                                    return this.getFontColor();
                                },
                                set: function(value) {
                                    return this.setFontColor(value);
                                }
                            }
                        });
                    }
                }

                function getFontName() {
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.TextRedaction:
                            case Mark.Type.TextSignature:
                            case Mark.Type.TextInputSignature:
                            case Mark.Type.TextAreaSignature:
                                this.hH = this.K.get_fontName() || this.hH;
                                break;
                        }
                    }
                    return this.hH;
                };

                function setFontName(value) {
                    IPCC.aR.mo(value, 'fontName');
                    this.hH = value;
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.TextRedaction:
                            case Mark.Type.TextSignature:
                            case Mark.Type.TextInputSignature:
                            case Mark.Type.TextAreaSignature:
                                this.K.set_fontName(value);
                                break;
                        }
                    }
                    return this;
                };
                if (L.hH !== undefined) {
                    L.getFontName = getFontName;
                    L.setFontName = setFontName;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "fontName": {
                                enumerable: true,
                                get: function() {
                                    return this.getFontName();
                                },
                                set: function(value) {
                                    return this.setFontName(value);
                                }
                            }
                        });
                    }
                }

                function getFontSize() {
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.TextRedaction:
                                this.cu = this.K.get_fontSize() || this.cu;
                                break;
                        }
                    }
                    return this.cu;
                };

                function setFontSize(value) {
                    IPCC.aR.kA(value, 'fontSize', 0.1, 288);
                    this.cu = value;
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.TextRedaction:
                                this.K.set_fontSize(value);
                                break;
                        }
                    }
                    return this;
                };
                if (L.cu) {
                    L.getFontSize = getFontSize;
                    L.setFontSize = setFontSize;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "fontSize": {
                                enumerable: true,
                                get: function() {
                                    return this.getFontSize();
                                },
                                set: function(value) {
                                    return this.setFontSize(value);
                                }
                            }
                        });
                    }
                }

                function getHorizontalAlignment() {
                    if (this.K) {
                        var Am = this.K.get_textHorizontalAlignment();
                        switch (Am) {
                            case IPCC.Web.UI.HorizontalAlignment.Center:
                                this.lV = "Center";
                                break;
                            case IPCC.Web.UI.HorizontalAlignment.Left:
                                this.lV = "Left";
                                break;
                            case IPCC.Web.UI.HorizontalAlignment.Right:
                                this.lV = "Right";
                                break;
                        }
                    }
                    return this.lV;
                };

                function setHorizontalAlignment(value) {
                    IPCC.aR.mo(value, 'horizontalAlignment');
                    var qK = Ps(value, PCCViewer.Mark.HorizontalAlignment);
                    var Am;
                    switch (qK) {
                        case 'Center':
                            Am = IPCC.Web.UI.HorizontalAlignment.Center;
                            break;
                        case 'Left':
                            Am = IPCC.Web.UI.HorizontalAlignment.Left;
                            break;
                        case 'Right':
                            Am = IPCC.Web.UI.HorizontalAlignment.Right;
                            break;
                        default:
                            throw "Invalid value found for the Text horizontalAlignment.";
                    }
                    L.lV = qK;
                    if (this.K && Am !== undefined) {
                        this.K.set_textHorizontalAlignment(Am);
                        this.lV = qK;
                    }
                    return this;
                };
                if (L.lV) {
                    L.getHorizontalAlignment = getHorizontalAlignment;
                    L.setHorizontalAlignment = setHorizontalAlignment;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "horizontalAlignment": {
                                enumerable: true,
                                get: function() {
                                    return this.getHorizontalAlignment();
                                },
                                set: function(value) {
                                    return this.setHorizontalAlignment(value);
                                }
                            }
                        });
                    }
                }

                function ate(XT) {
                    var Ac = [];
                    for (var C = 0; C < XT.length; C++) {
                        switch (XT[C]) {
                            case "Bold":
                                Ac.push(IPCC.Web.UI.FontStyle.Bold);
                                break;
                            case "Italic":
                                Ac.push(IPCC.Web.UI.FontStyle.Italic);
                                break;
                            case "Strikeout":
                                Ac.push(IPCC.Web.UI.FontStyle.Strikeout);
                                break;
                            case "Underline":
                                Ac.push(IPCC.Web.UI.FontStyle.Underline);
                                break;
                            default:
                                throw Error("An unknown font style was encountered: " + XT[C]);
                        }
                    }
                    if (Ac.length === 0) {
                        Ac.push(IPCC.Web.UI.FontStyle.Regular);
                    }
                    return Ac;
                };

                function getFontStyle() {
                    if (this.K) {
                        var ov = [];
                        switch (this.an) {
                            case Mark.Type.TextAreaSignature:
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.TextRedaction:
                                var ud = this.K.get_fontStyle();
                                if (ud & IPCC.Web.UI.FontStyle.Bold) {
                                    ov.push("Bold");
                                }
                                if (ud & IPCC.Web.UI.FontStyle.Italic) {
                                    ov.push("Italic");
                                }
                                if (ud & IPCC.Web.UI.FontStyle.Strikeout) {
                                    ov.push("Strikeout");
                                }
                                if (ud & IPCC.Web.UI.FontStyle.Underline) {
                                    ov.push("Underline");
                                }
                                if (ov.length > 0) {
                                    this.cc = ov;
                                }
                                break;
                        }
                    }
                    return this.cc;
                };

                function setFontStyle(value) {
                    if (!(value instanceof Array)) {
                        throw "invalid parameter. The parameter should be an array.";
                    }
                    var Pf, C, acy = [];
                    for (C = 0; C < value.length; C++) {
                        Pf = Ps(value[C], PCCViewer.Mark.FontStyles);
                        if (Pf === null) {
                            throw new RangeError("The value of font styles " + value[C] + " is invalid.");
                        } else {
                            IPCC.aR.mo(Pf, 'fontStyle');
                            acy.push(Pf);
                        }
                    }
                    this.cc = acy;
                    var ud = [];
                    ud = ate(this.cc);
                    var bi = this;

                    function auw(az) {
                        setTimeout(function() {
                            bi.K.set_fontStyle(az);
                        }, 2);
                    };
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.TextAreaSignature:
                            case Mark.Type.TextAnnotation:
                            case Mark.Type.TextRedaction:
                                var agz = ud[0];
                                for (C = 1; C < ud.length; C++) {
                                    agz |= ud[C];
                                }
                                auw(agz);
                                break;
                        }
                    }
                    return this;
                };
                if (L.cc) {
                    L.getFontStyle = getFontStyle;
                    L.setFontStyle = setFontStyle;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "fontStyle": {
                                enumerable: true,
                                get: function() {
                                    return this.getFontStyle();
                                },
                                set: function(value) {
                                    return this.setFontStyle(value);
                                }
                            }
                        });
                    }
                }

                function getLabel() {
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.StampAnnotation:
                            case Mark.Type.StampRedaction:
                                this.vx = this.K.get_text() || this.vx;
                                break;
                        }
                    }
                    return this.vx;
                };

                function setLabel(value) {
                    IPCC.aR.mo(value, 'label');
                    this.vx = value;
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.StampAnnotation:
                            case Mark.Type.StampRedaction:
                                this.K.set_text(value);
                                break;
                        }
                    }
                    return this;
                };
                if (typeof L.vx !== 'undefined') {
                    L.getLabel = getLabel;
                    L.setLabel = setLabel;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "label": {
                                enumerable: true,
                                get: function() {
                                    return this.getLabel();
                                },
                                set: function(value) {
                                    return this.setLabel(value);
                                }
                            }
                        });
                    }
                }

                function getReason() {
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.RectangleRedaction:
                            case Mark.Type.TextSelectionRedaction:
                                this.eN = this.K.get_text() || this.eN;
                                break;
                        }
                    }
                    return this.eN;
                };

                function setReason(value) {
                    IPCC.aR.mo(value, 'text');
                    this.eN = value;
                    if (this.K) {
                        switch (this.an) {
                            case Mark.Type.RectangleRedaction:
                                this.K.set_text(value);
                                break;
                            case Mark.Type.TextSelectionRedaction:
                                this.K.set_text(value);
                                if (this.ci && this.ci.length) {
                                    for (var C = 0; C < this.ci.length; C++) {
                                        this.ci[C].set_text(value);
                                    }
                                }
                                break;
                        }
                    }
                    return this;
                };
                if (typeof L.eN !== 'undefined') {
                    L.getReason = getReason;
                    L.setReason = setReason;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "reason": {
                                enumerable: true,
                                get: function() {
                                    return this.getReason();
                                },
                                set: function(value) {
                                    return this.setReason(value);
                                }
                            }
                        });
                    }
                }

                function getPath() {
                    if (this.K) {
                        return this.K.get_pathString();
                    } else {
                        return this.hm;
                    }
                };

                function setPath(path) {
                    if (path.match(/[^MLC0-9.,\s]/)) {
                        throw new Error("The path string contains illegal characters.");
                    }
                    var tU = IPCC.T.UD(path);
                    this.hm = path;
                    if (this.K) {
                        this.K.set_pathString(path);
                        this.K.set_pathWidth(tU.width);
                        this.K.set_pathHeight(tU.height);
                    }
                    return this;
                };
                if (L.hm) {
                    L.setPath = setPath;
                    L.getPath = getPath;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "path": {
                                enumerable: true,
                                get: getPath,
                                set: setPath
                            }
                        });
                    }
                }

                function getHref() {
                    if (this.K) {
                        return this.K.get_href();
                    } else {
                        return this.le;
                    }
                };

                function setHref(href) {
                    if (href !== null) {
                        var an = typeof href;
                        if (an !== "undefined" && an !== "number" && an !== "string") {
                            throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");
                        }
                    }
                    this.le = href;
                    if (this.K) {
                        this.K.set_href(href);
                    }
                    if (this.ci) {
                        IPCC.T.forEach(this.ci, function(K) {
                            K.set_href(href);
                        });
                    }
                    return this;
                };
                if (typeof L.le !== 'undefined') {
                    L.setHref = setHref;
                    L.getHref = getHref;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "href": {
                                enumerable: true,
                                get: getHref,
                                set: setHref
                            }
                        });
                    }
                }

                function setMaxLength(maxLength) {
                    if (typeof maxLength !== 'number' || maxLength < 0 || maxLength > Number.MAX_VALUE || Math.round(maxLength) !== maxLength) {
                        throw new Error('`maxLength` can only be set to a value that is a positive integer.');
                    }
                    this.fY = maxLength;
                    if (this.K) {
                        this.K.set_maxLength(this.fY);
                    }
                    return this;
                };

                function getMaxLength() {
                    if (this.K) {
                        this.fY = this.K.get_maxLength();
                    }
                    return this.fY;
                };
                if (typeof L.fY !== 'undefined') {
                    L.getMaxLength = getMaxLength;
                    L.setMaxLength = setMaxLength;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "maxLength": {
                                enumerable: true,
                                get: getMaxLength,
                                set: setMaxLength
                            }
                        });
                    }
                }

                function setMaxFontSize(maxFontSize) {
                    if (typeof maxFontSize !== 'number' || maxFontSize < 0 || maxFontSize > Number.MAX_VALUE || Math.round(maxFontSize) !== maxFontSize) {
                        throw new Error('`maxFontSize` can only be set to a value that is a positive integer.');
                    }
                    this.ig = maxFontSize;
                    if (this.K) {
                        this.K.set_maxFontSize(this.ig);
                    }
                    return this;
                };

                function getMaxFontSize() {
                    if (this.K) {
                        this.ig = this.K.get_maxFontSize();
                    }
                    return this.ig;
                };
                if (typeof L.ig !== 'undefined') {
                    L.getMaxFontSize = getMaxFontSize;
                    L.setMaxFontSize = setMaxFontSize;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "maxFontSize": {
                                enumerable: true,
                                get: getMaxFontSize,
                                set: setMaxFontSize
                            }
                        });
                    }
                }

                function getMask() {
                    return this.iY;
                };

                function setMask(mask) {
                    if (mask === null || typeof mask === 'undefined') {
                        this.iY = null;
                        if (this.K) {
                            this.K.set_mask(this.iY);
                        }
                        return this;
                    }
                    if (typeof mask !== 'object' || Array.isArray(mask)) {
                        throw new Error('`mask` can only be set to a value that is an Object, null or undefined.');
                    }
                    if (typeof mask.value !== 'string') {
                        throw new Error('`mask.value` can only be set to a value that is a string.');
                    }
                    if (typeof mask.translations !== 'object' || mask.translations === null || Array.isArray(mask.translations)) {
                        throw new Error('`mask.translations` can only be set to a value that is an Object.');
                    }
                    var aiH = false;
                    IPCC.T.forEach(mask.translations, function(val, key) {
                        aiH = true;
                        if (key.length !== 1) {
                            throw new Error('`' + key + '` does not have a string length of 1.');
                        }
                        if (!(val instanceof RegExp) || !(/\/$/).exec(val.toString())) {
                            throw new Error('`mask.translations[' + key + ']` must be a regular expression without flags.');
                        }
                    });
                    if (!aiH) {
                        throw new Error('`mask.translations` must have at least one translation.');
                    }
                    this.iY = mask;
                    if (this.K) {
                        this.K.set_mask(this.iY);
                    }
                    return this;
                };
                if (typeof L.iY !== 'undefined') {
                    L.getMask = getMask;
                    L.setMask = setMask;
                    if (Object.defineProperties) {
                        Object.defineProperties(L, {
                            "mask": {
                                enumerable: true,
                                get: getMask,
                                set: setMask
                            }
                        });
                    }
                }
            };
            module.exports = Mark;
        }, {
            "./../IPCC/IPCC": 30,
            "./PCCViewer.Data": 137
        }],
        153: [function(require, module, exports) {
            var EventEmitter = require('./PCCViewer.EventEmitter');
            var hW = function(viewerControl, markReferences) {
                var V = this;
                if (!viewerControl) {
                    throw new Error('`viewerControl` param is missing.');
                }
                this.cB = function() {
                    var d = new Date().getTime();
                    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                        var r = (d + Math.random() * 16) % 16 | 0;
                        d = Math.floor(d / 16);
                        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);
                    });
                    return uuid;
                }();
                this.ae = viewerControl;
                this.aN = undefined;
                this.Zg = undefined;
                this.amU = undefined;
                this.aU = [];
                this.hq = {};
                this.nS = PCCViewer.Mark.InteractionMode.Full;
                if (markReferences !== undefined) {
                    switch (Object.prototype.toString.call(markReferences)) {
                        case "[object Object]":
                            markReferences = [markReferences];
                            break;
                        case "[object Array]":
                            break;
                        default:
                            throw new Error('`markReferences` param is not an object or an array.');
                    }
                    IPCC.T.forEach(markReferences, function(pQ) {
                        var MV = pQ.markUid;
                        pQ.markupLayer = V;
                        if (V.hq[MV]) {
                            V.hq[MV] = V.hq[MV].concat(pQ);
                        } else {
                            V.hq[MV] = [pQ];
                        }
                    });
                }
                var qM = {};
                EventEmitter.extend(qM);
                qM.MQ = function(Ev, cA) {
                    var V = this;
                    return setTimeout(function() {
                        V.trigger(Ev, cA);
                    }, 0);
                };
                EventEmitter.extend(this);
                this.dN = new IPCC.Web.UI.Data();
                PCCViewer.Data.extend(this);
                this.EL = new IPCC.Web.UI.Data();
                PCCViewer.SessionData.extend(this);
                setTimeout(function() {
                    V.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated, {});
                }, 0);
            };
            hW.EventType = {
                MarkupLayerCreated: "MarkupLayerCreated",
                MarkupLayerDestroyed: "MarkupLayerDestroyed",
                MarksAddedToLayer: "MarksAddedToLayer",
                MarksRemovedFromLayer: "MarksRemovedFromLayer",
                MarkupLayerInteractionModeChanged: "MarkupLayerInteractionModeChanged",
                MarkupLayerHidden: "MarkupLayerHidden",
                MarkupLayerShown: "MarkupLayerShown"
            };
            hW.prototype.getViewerControl = function() {
                return this.ae;
            };
            hW.prototype.addMarks = function(marks) {
                var V = this,
                    asp = function(bZ) {
                        bZ.jC = V;
                    };
                switch (Object.prototype.toString.call(marks)) {
                    case "[object Object]":
                        marks = [marks];
                        break;
                    case "[object Array]":
                        break;
                    default:
                        throw new Error('`marks` param is not an object or an array.');
                }
                for (var C = 0; C < marks.length; C++) {
                    if (!(marks[C] instanceof PCCViewer.Mark)) {
                        throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');
                    }
                    if (this.hasMark(marks[C].getId())) {
                        marks.splice(C, 1);
                        continue;
                    }
                    IPCC.T.forEach(marks[C].getConversation().getComments(), asp);
                }
                if (marks.length) {
                    this.aU = this.aU.concat(marks);
                    this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer, {
                        marks: marks
                    });
                }
                return this;
            };
            hW.prototype.removeMarks = function(marks) {
                switch (Object.prototype.toString.call(marks)) {
                    case "[object Object]":
                        marks = [marks];
                        break;
                    case "[object Array]":
                        break;
                    default:
                        throw new Error('`marks` param is not an object or an array.');
                }
                for (var C = 0; C < this.aU.length; C++) {
                    for (var ba = 0; ba < marks.length; ba++) {
                        if (this.aU[C].getUid() === marks[ba].getUid()) {
                            this.aU.splice(C, 1);
                            this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer, {
                                marks: [marks[ba]]
                            });
                            break;
                        }
                    }
                }
            };
            hW.prototype.getMarks = function() {
                var ahd = [];
                IPCC.T.forEach(this.aU, function(L) {
                    ahd.push(L);
                });
                return ahd;
            };
            hW.prototype.hasMark = function(markId) {
                if (typeof markId !== 'string') {
                    throw new Error('`markId` param is not a string.');
                }
                var C = 0,
                    aeb = false,
                    L;
                for (C; C < this.aU.length; C++) {
                    L = this.aU[C];
                    if (L.getId() === markId) {
                        aeb = true;
                        break;
                    }
                }
                return aeb;
            };
            hW.prototype.getMarkReferences = function() {
                var hq = [];
                for (var mI in this.hq) {
                    if (this.hq.hasOwnProperty(mI)) {
                        hq = hq.concat(this.hq[mI]);
                    }
                }
                return hq;
            };
            hW.prototype.hide = function() {
                var ae = this.ae;
                ae.hideMarks(this.getMarks());
                this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden, {});
                return this;
            };
            hW.prototype.show = function() {
                var ae = this.ae;
                ae.showMarks(this.getMarks());
                this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown, {});
                return this;
            };
            hW.prototype.copyLayers = function(markupLayers) {
                var ae = this.ae,
                    V = this;
                if (markupLayers instanceof PCCViewer.MarkupLayer) {
                    markupLayers = [markupLayers];
                }
                if (markupLayers instanceof Array === false) {
                    throw new PCCViewer.Error("InvalidArgument", "The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");
                }
                var aU = [];
                IPCC.T.forEach(markupLayers, function(jC) {
                    ae.getMarkupLayerCollection().getItem(jC.getId());
                    aU = aU.concat(jC.getMarks());
                });
                var copiedMarks = ae.copyMarks(aU);
                this.addMarks(copiedMarks);
                IPCC.T.forEach(this.aU, function(L) {
                    IPCC.T.forEach(L.getConversation().getComments(), function(bZ) {
                        bZ.jC = V;
                    });
                });
                return this;
            };
            hW.prototype.getId = function() {
                return this.cB;
            };
            hW.prototype.getName = function() {
                return this.aN;
            };
            hW.prototype.setName = function(name) {
                if (typeof name !== 'string') {
                    throw new Error('`name` param is not a string.');
                }
                this.aN = name;
                return this;
            };
            hW.prototype.getRecordId = function() {
                return this.Zg;
            };
            hW.prototype.destroy = function() {
                this.ae.getMarkupLayerCollection().removeItem(this.cB);
                this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed, {});
            };
            hW.prototype.setInteractionMode = function(interactionMode) {
                if (typeof interactionMode !== 'string') {
                    throw new Error('`interactionMode` param is not a string.');
                }
                this.nS = interactionMode;
                IPCC.T.forEach(this.aU, function(L) {
                    L.setInteractionMode(interactionMode);
                });
                this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged, {
                    interactionMode: interactionMode
                });
                return this;
            };
            hW.prototype.getOriginalXmlName = function() {
                return this.amU;
            };
            hW.prototype.setOriginalXmlName = function(name) {
                if (typeof name !== 'string') {
                    throw new Error('`name` param is not a string.');
                }
                this.amU = name;
                return this;
            };
            if (Object.defineProperties) {
                Object.defineProperties(hW.prototype, {
                    "id": {
                        enumerable: true,
                        get: function() {
                            return this.getId();
                        }
                    },
                    "recordId": {
                        enumerable: true,
                        get: function() {
                            return this.getRecordId();
                        }
                    },
                    "name": {
                        enumerable: true,
                        get: function() {
                            return this.getName();
                        },
                        set: function(name) {
                            return this.setName(name);
                        }
                    },
                    "viewerControl": {
                        enumerable: true,
                        get: function() {
                            return this.getViewerControl();
                        }
                    },
                    "originalXmlName": {
                        enumerable: true,
                        get: function() {
                            return this.getOriginalXmlName();
                        },
                        set: function(name) {
                            return this.setOriginalXmlName(name);
                        }
                    },
                });
            }
            module.exports = hW;
        }, {
            "./PCCViewer.EventEmitter": 142
        }],
        154: [function(require, module, exports) {
            var EventEmitter = require('./PCCViewer.EventEmitter');
            var MarkupLayerCollection = function(viewerControl) {
                if (!viewerControl) {
                    throw new Error('`viewerControl` param is missing.');
                }
                this.ae = viewerControl;
                this.sJ = {};
                this.aU = {};
                this.jp = {};
                this.qR = 0;
                EventEmitter.extend(this);
            };
            MarkupLayerCollection.EventType = {
                MarkupLayerAdded: "MarkupLayerAdded",
                MarkupLayerRemoved: "MarkupLayerRemoved"
            };
            MarkupLayerCollection.prototype.getViewerControl = function() {
                return this.ae;
            };
            MarkupLayerCollection.prototype.forEach = function(iterator, thisArg) {
                if (typeof iterator !== 'function') {
                    throw new TypeError('The iterator parameter is not a function');
                }
                IPCC.T.forEach(this.sJ, iterator, thisArg);
                return this;
            };
            MarkupLayerCollection.prototype.getItem = function(layerId) {
                if (typeof layerId !== 'string') {
                    throw new Error('`layerId` param is not a string.');
                }
                return this.sJ[layerId];
            };
            MarkupLayerCollection.prototype.getCount = function() {
                return this.qR;
            };
            MarkupLayerCollection.prototype.getAll = function() {
                var ahv = [],
                    abO;
                for (abO in this.sJ) {
                    if (this.sJ.hasOwnProperty(abO)) {
                        ahv.push(this.sJ[abO]);
                    }
                }
                return ahv;
            };
            MarkupLayerCollection.prototype.addItem = function(layer) {
                var V = this,
                    hq, abD = layer.hq,
                    Jf = function(L, pQ) {
                        var bZ = L.getConversation().addComment(pQ.text);
                        bZ.creationTime = new Date(pQ.creationDateTime);
                        bZ.jC = pQ.markupLayer;
                        for (var tZ in pQ.data) {
                            if (pQ.data.hasOwnProperty(tZ)) {
                                bZ.setData(tZ, pQ.data[tZ]);
                            }
                        }
                    },
                    axj = function(aze) {
                        Jf(V.aU[wp], aze);
                    },
                    ahZ = function(L) {
                        var mI = L.getUid();
                        V.aU[L.getUid()] = L;
                        if (V.jp[mI]) {
                            IPCC.T.forEach(V.jp[mI], function(rj) {
                                Jf(L, rj);
                            });
                            delete V.jp[mI];
                        }
                    };
                if (!(layer instanceof PCCViewer.MarkupLayer)) {
                    throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');
                }
                this.sJ[layer.getId()] = layer;
                for (var wp in abD) {
                    if (abD.hasOwnProperty(wp)) {
                        hq = abD[wp];
                        if (V.aU[wp]) {
                            IPCC.T.forEach(hq, axj);
                        } else if (V.jp[wp]) {
                            V.jp[wp] = V.jp[wp].concat(hq);
                        } else {
                            V.jp[wp] = hq;
                        }
                    }
                }
                IPCC.T.forEach(layer.getMarks(), function(L) {
                    ahZ(L);
                });
                this.qR++;
                this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded, {
                    layerId: layer.getId()
                });
                layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer, function(ev) {
                    IPCC.T.forEach(ev.marks, function(L) {
                        ahZ(L);
                    });
                });
                layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer, function(ev) {
                    var aGg = ev.bK;
                    IPCC.T.forEach(ev.marks, function(L) {
                        var mI = L.getUid();
                        IPCC.T.forEach(V.aU[mI].getConversation().getComments(), function(GY) {
                            if (aGg.id !== GY.jC.id) {
                                var rj = {
                                    creationDateTime: IPCC.T.vF(GY.creationTime),
                                    data: GY.dN.wc(),
                                    markUid: L.getUid(),
                                    markupLayer: GY.jC,
                                    text: GY.text
                                };
                                if (V.jp[mI]) {
                                    V.jp[mI] = V.jp[mI].concat([rj]);
                                } else {
                                    V.jp[mI] = [rj];
                                }
                            }
                        });
                        V.ty(L);
                    });
                });
                return this;
            };
            MarkupLayerCollection.prototype.ty = function(L) {
                var NF;
                IPCC.T.forEach(this.sJ, function(ed) {
                    var ahq = ed.hasMark(L.getId());
                    NF = (typeof NF !== 'undefined') ? +ahq ^ NF : +ahq;
                });
                if (NF === 0) {
                    delete this.aU[L.getUid()];
                }
            };
            MarkupLayerCollection.prototype.removeItem = function(layerId) {
                var ed = this.sJ[layerId],
                    V = this,
                    avr = function(rj, ay) {
                        if (rj.markupLayer.getId() === layerId) {
                            V.jp[cB].splice(ay);
                        }
                    };
                if (typeof layerId !== 'string') {
                    throw new Error('`layerId` param is not a string.');
                }
                IPCC.T.forEach(this.aU, function(L) {
                    var gQ = L.getConversation().getComments();
                    var Qr = ed.hasMark(L.getId());
                    IPCC.T.forEach(gQ, function(bZ) {
                        if (Qr && bZ.jC.getId() !== layerId) {
                            var acL = {
                                "markUid": L.getUid(),
                                "markupLayer": bZ.jC,
                                "text": bZ.getText(),
                                "data": bZ.dN.dN,
                                "creationDateTime": IPCC.T.vF(bZ.getCreationTime())
                            };
                            if (V.jp[L.getUid()]) {
                                V.jp[L.getUid()].push(acL);
                            } else {
                                V.jp[L.getUid()] = [acL];
                            }
                            L.getConversation().deleteComments(bZ);
                        } else if (Qr && bZ.jC.getId() === layerId) {
                            L.getConversation().deleteComments(bZ);
                        } else if (!Qr && bZ.jC.getId() === layerId) {
                            L.getConversation().deleteComments(bZ);
                        }
                    });
                    if (Qr && V.aU[L.getUid()]) {
                        V.ty(L);
                    }
                });
                for (var cB in this.jp) {
                    if (this.jp.hasOwnProperty(cB)) {
                        IPCC.T.forEach(this.jp[cB], avr);
                    }
                }
                delete this.sJ[layerId];
                this.qR--;
                this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved, {
                    layerId: layerId
                });
                return this;
            };
            MarkupLayerCollection.prototype.removeAll = function() {
                this.sJ = {};
                this.qR = 0;
                return this;
            };
            if (Object.defineProperties) {
                Object.defineProperties(MarkupLayerCollection.prototype, {
                    "viewerControl": {
                        enumerable: true,
                        get: function() {
                            return this.getViewerControl();
                        }
                    },
                    "count": {
                        enumerable: true,
                        get: function() {
                            return this.getCount();
                        }
                    }
                });
            }
            module.exports = MarkupLayerCollection;
        }, {
            "./PCCViewer.EventEmitter": 142
        }],
        155: [function(require, module, exports) {
            'use strict';
            var Mark = require('./PCCViewer.Marks');

            function MouseTool(name, type) {
                this.aN = name;
                var EU = apO(type);
                if (EU === null) {
                    throw new RangeError("The value of type was invalid.");
                }
                this.an = EU;
                addPropertiesToMouseTool(this);
            };
            MouseTool.prototype.getName = function() {
                return this.aN;
            };
            MouseTool.prototype.getType = function() {
                return this.an;
            };
            if (Object.defineProperties) {
                Object.defineProperties(MouseTool.prototype, {
                    "name": {
                        enumerable: true,
                        get: function() {
                            return this.getName();
                        }
                    },
                    "type": {
                        enumerable: true,
                        get: function() {
                            return this.getType();
                        }
                    }
                });
            }

            function apO(Uj) {
                var Zc = Uj.toLowerCase();
                for (var standardType in MouseTool.Type) {
                    if (MouseTool.Type.hasOwnProperty(standardType) && standardType.toLowerCase && standardType.toLowerCase() === Zc) {
                        return standardType;
                    }
                }
                return null;
            };

            function addPropertiesToMouseTool(mouseTool) {
                var an = mouseTool.getType();
                switch (an) {
                    case MouseTool.Type.Magnifier:
                        break;
                    case MouseTool.Type.SelectToZoom:
                        break;
                    case MouseTool.Type.Pan:
                        mouseTool.ys = false;
                        break;
                    case MouseTool.Type.PanAndEdit:
                        mouseTool.ys = true;
                        break;
                    case MouseTool.Type.SelectText:
                        break;
                    case MouseTool.Type.EditMarks:
                        break;
                    case MouseTool.Type.LineAnnotation:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.LineAnnotation
                        });
                        break;
                    case MouseTool.Type.RectangleAnnotation:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.RectangleAnnotation
                        });
                        break;
                    case MouseTool.Type.EllipseAnnotation:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.EllipseAnnotation
                        });
                        break;
                    case MouseTool.Type.TextAnnotation:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.TextAnnotation
                        });
                        break;
                    case MouseTool.Type.StampAnnotation:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.StampAnnotation
                        });
                        break;
                    case MouseTool.Type.HighlightAnnotation:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.HighlightAnnotation
                        });
                        break;
                    case MouseTool.Type.TextHyperlinkAnnotation:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.TextHyperlinkAnnotation
                        });
                        break;
                    case MouseTool.Type.FreehandAnnotation:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.FreehandAnnotation
                        });
                        break;
                    case MouseTool.Type.RectangleRedaction:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.RectangleRedaction
                        });
                        break;
                    case MouseTool.Type.TransparentRectangleRedaction:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.TransparentRectangleRedaction
                        });
                        break;
                    case MouseTool.Type.TextRedaction:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.TextRedaction
                        });
                        break;
                    case MouseTool.Type.TextInputSignature:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.TextInputSignature
                        });
                        break;
                    case MouseTool.Type.TextAreaSignature:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.TextAreaSignature
                        });
                        break;
                    case MouseTool.Type.StampRedaction:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.StampRedaction
                        });
                        break;
                    case MouseTool.Type.PlaceSignature:
                        mouseTool.aG = new Mark({
                            type: 'PlaceSignature',
                            Cq: true
                        });
                        break;
                    case MouseTool.Type.TextSelectionRedaction:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.TextSelectionRedaction
                        });
                        break;
                    case MouseTool.Type.ImageStampAnnotation:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.ImageStampAnnotation
                        });
                        break;
                    case MouseTool.Type.ImageStampRedaction:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.ImageStampRedaction
                        });
                        break;
                    case MouseTool.Type.PolylineAnnotation:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.PolylineAnnotation
                        });
                        break;
                    case MouseTool.Type.StrikethroughAnnotation:
                        mouseTool.aG = new Mark({
                            type: Mark.Type.StrikethroughAnnotation
                        });
                        break;
                }
                if (mouseTool.aG) {
                    mouseTool.getTemplateMark = function() {
                        return this.aG;
                    };
                    if (Object.defineProperties) {
                        Object.defineProperties(mouseTool, {
                            "templateMark": {
                                enumerable: true,
                                get: mouseTool.getTemplateMark
                            }
                        });
                    }
                }
            };
            MouseTool.prototype.reset = function() {
                if (this.aG) {
                    this.aG.reset();
                }
            };
            var MouseTools = {
                rA: {},
                createMouseTool: function(name, type) {
                    if (!this.rA) {
                        this.rA = {};
                        createDefaultMouseTools();
                    }
                    var xU = name.toLowerCase();
                    var existingTool = this.rA[xU];
                    if (existingTool) {
                        if (existingTool.getType().toLowerCase() !== type.toLowerCase()) {
                            throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");
                        }
                        existingTool.reset();
                    } else {
                        this.rA[xU] = new MouseTool(name, type);
                    }
                    return this.rA[xU];
                },
                getMouseTool: function(name) {
                    if (name && name.toLowerCase) {
                        if (!this.rA) {
                            this.rA = {};
                            createDefaultMouseTools();
                        }
                        var xU = name.toLowerCase();
                        return this.rA[xU];
                    }
                    return undefined;
                }
            };
            MouseTool.Type = {
                Magnifier: "Magnifier",
                SelectToZoom: "SelectToZoom",
                Pan: "Pan",
                PanAndEdit: "PanAndEdit",
                SelectText: "SelectText",
                EditMarks: "EditMarks",
                LineAnnotation: "LineAnnotation",
                RectangleAnnotation: "RectangleAnnotation",
                EllipseAnnotation: "EllipseAnnotation",
                TextAnnotation: "TextAnnotation",
                StampAnnotation: "StampAnnotation",
                HighlightAnnotation: "HighlightAnnotation",
                TextHyperlinkAnnotation: "TextHyperlinkAnnotation",
                FreehandAnnotation: "FreehandAnnotation",
                RectangleRedaction: "RectangleRedaction",
                TransparentRectangleRedaction: "TransparentRectangleRedaction",
                TextRedaction: "TextRedaction",
                TextInputSignature: "TextInputSignature",
                TextAreaSignature: "TextAreaSignature",
                StampRedaction: "StampRedaction",
                PlaceSignature: "PlaceSignature",
                TextSelectionRedaction: "TextSelectionRedaction",
                ImageStampAnnotation: "ImageStampAnnotation",
                ImageStampRedaction: "ImageStampRedaction",
                PolylineAnnotation: "PolylineAnnotation",
                StrikethroughAnnotation: "StrikethroughAnnotation"
            };

            function createDefaultMouseTools() {
                MouseTools.createMouseTool("AccusoftMagnifier", MouseTool.Type.Magnifier);
                MouseTools.createMouseTool("AccusoftSelectToZoom", MouseTool.Type.SelectToZoom);
                MouseTools.createMouseTool("AccusoftPan", MouseTool.Type.Pan);
                MouseTools.createMouseTool("AccusoftPanAndEdit", MouseTool.Type.PanAndEdit);
                MouseTools.createMouseTool("AccusoftSelectText", MouseTool.Type.SelectText);
                MouseTools.createMouseTool("AccusoftEditMarks", MouseTool.Type.EditMarks);
                MouseTools.createMouseTool("AccusoftLineAnnotation", MouseTool.Type.LineAnnotation);
                MouseTools.createMouseTool("AccusoftArrowAnnotation", MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");
                MouseTools.createMouseTool("AccusoftRectangleAnnotation", MouseTool.Type.RectangleAnnotation);
                MouseTools.createMouseTool("AccusoftEllipseAnnotation", MouseTool.Type.EllipseAnnotation);
                MouseTools.createMouseTool("AccusoftTextAnnotation", MouseTool.Type.TextAnnotation);
                MouseTools.createMouseTool("AccusoftStampAnnotation", MouseTool.Type.StampAnnotation);
                MouseTools.createMouseTool("AccusoftHighlightAnnotation", MouseTool.Type.HighlightAnnotation);
                MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation", MouseTool.Type.TextHyperlinkAnnotation);
                MouseTools.createMouseTool("AccusoftFreehandAnnotation", MouseTool.Type.FreehandAnnotation);
                MouseTools.createMouseTool("AccusoftPlaceSignature", MouseTool.Type.PlaceSignature);
                MouseTools.createMouseTool("AccusoftTextSelectionRedaction", MouseTool.Type.TextSelectionRedaction);
                MouseTools.createMouseTool("AccusoftRectangleRedaction", MouseTool.Type.RectangleRedaction);
                MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction", MouseTool.Type.TransparentRectangleRedaction);
                MouseTools.createMouseTool("AccusoftTextRedaction", MouseTool.Type.TextRedaction);
                MouseTools.createMouseTool("AccusoftTextInputSignature", MouseTool.Type.TextInputSignature);
                MouseTools.createMouseTool("AccusoftTextAreaSignature", MouseTool.Type.TextAreaSignature);
                MouseTools.createMouseTool("AccusoftStampRedaction", MouseTool.Type.StampRedaction);
                MouseTools.createMouseTool("AccusoftImageStampAnnotation", MouseTool.Type.ImageStampAnnotation);
                MouseTools.createMouseTool("AccusoftImageStampRedaction", MouseTool.Type.ImageStampRedaction);
                MouseTools.createMouseTool("AccusoftPolylineAnnotation", MouseTool.Type.PolylineAnnotation);
                MouseTools.createMouseTool("AccusoftStrikethroughAnnotation", MouseTool.Type.StrikethroughAnnotation);
                return MouseTools.rA;
            };
            createDefaultMouseTools();
            module.exports = {
                MouseTool: MouseTool,
                MouseTools: MouseTools
            };
        }, {
            "./PCCViewer.Marks": 152
        }],
        156: [function(require, module, exports) {
            var EventEmitter = require('./PCCViewer.EventEmitter');
            var ObservableCollection = function() {
                var BV = [];
                var qM = {};
                EventEmitter.extend(qM);
                qM.MQ = function(Ev, cA) {
                    var V = this;
                    return setTimeout(function() {
                        V.trigger(Ev, cA);
                    }, 0);
                };
                this.add = function(item) {
                    BV.push(item);
                    qM.MQ(this.EventType.ItemAdded, {
                        item: item,
                        count: BV.length
                    });
                    return this;
                };
                this.remove = function(item) {
                    var V = this;
                    this.forEach(function(e, idx) {
                        if (e === item) {
                            BV.splice(idx, 1);
                            qM.MQ(V.EventType.ItemRemoved, {
                                item: item,
                                count: BV.length
                            });
                        }
                    });
                    return this;
                };
                this.removeAll = function() {
                    BV = [];
                    qM.MQ(this.EventType.ItemRemoved, {
                        count: BV.length
                    });
                    return this;
                };
                this.forEach = function(iterator, thisArg) {
                    if (typeof iterator !== 'function') {
                        throw new TypeError('The iterator parameter is not a function');
                    }
                    IPCC.T.forEach(this.toArray(), iterator, thisArg);
                    return this;
                };
                this.toArray = function() {
                    return [].concat(BV);
                };
                this.on = function(eventType, handler) {
                    qM.on.apply(qM, arguments);
                    return this;
                };
                this.off = function(eventType, handler) {
                    qM.off.apply(qM, arguments);
                    return this;
                };
            };
            ObservableCollection.prototype.EventType = {
                ItemAdded: "ItemAdded",
                ItemRemoved: "ItemRemoved"
            };
            module.exports = ObservableCollection;
        }, {
            "./PCCViewer.EventEmitter": 142
        }],
        157: [function(require, module, exports) {
            var Cv = {
                Horizontal: "Horizontal",
                Vertical: "Vertical"
            };
            module.exports = Cv;
        }, {}],
        158: [function(require, module, exports) {
            var PasswordProtectedDocumentLoader = function PasswordProtectedDocumentLoader(Xu) {
                this.Xu = Xu;
            };
            PasswordProtectedDocumentLoader.prototype.load = function(password) {
                return this.Xu(password);
            };
            module.exports = PasswordProtectedDocumentLoader;
        }, {}],
        159: [function(require, module, exports) {
            var printAlgorithm = {
                standard: 1,
                contentWindowContents: 2
            };
            var Ue = function Ue(aa, cZ, H) {
                if (aa.addEventListener) {
                    aa.addEventListener(cZ, H, false);
                } else if (aa.attachEvent) {
                    aa.attachEvent('on' + cZ, H);
                }
            };
            var ST = function ST(aa, cZ, H) {
                if (aa.removeEventListener) {
                    aa.removeEventListener(cZ, H, false);
                } else if (aa.detachEvent) {
                    aa.detachEvent('on' + cZ, H);
                }
            };

            function arn(fM) {
                var adg = {};
                fM = fM.split('&');
                for (var i = fM.length; i--;) {
                    var q = fM[i].split('=');
                    adg[q.shift()] = q.join('=');
                }
                return adg;
            };

            function auN() {
                var yt = document.getElementById('pccPrintFrame');
                if (yt) {
                    if (yt.contentWindow && yt.contentWindow.destroy) {
                        yt.contentWindow.destroy();
                    }
                    if (yt.parentElement) {
                        yt.parentElement.removeChild(yt);
                    }
                }
            };

            function aqB(bU) {
                bU.anh();
                auN();
                bU.ang();
                if (!bU.algorithm) {
                    bU.algorithm = printAlgorithm.standard;
                }
                var hv;
                var gD = document.createElement('iframe');
                gD.id = 'pccPrintFrame';
                gD.className = 'pccPrintFrame';
                gD.style.position = 'absolute';
                gD.style.bottom = gD.style.right = '0px';
                gD.style.width = gD.style.height = '1px';
                gD.style.zIndex = '0';
                gD.style.border = 'none';
                if (bU.algorithm !== printAlgorithm.contentWindowContents) {
                    gD.style.visibility = '0';
                }

                function Rw() {
                    ST(window, 'message', alx);
                };

                function amv() {
                    ST(gD, 'load', amv);
                    if (gD.contentDocument) {
                        hv = gD.contentDocument;
                    } else if (gD.contentWindow) {
                        hv = gD.contentWindow.document;
                    } else {
                        hv = gD.document;
                    }
                    if (bU.algorithm === printAlgorithm.contentWindowContents) {
                        gD.contentWindow.contents = bU.template;
                        gD.src = 'javascript:window["contents"]';
                    } else {
                        hv.open();
                        hv.write(bU.template);
                        hv.close();
                    }
                };
                var alx = function(message) {
                    message.source.PCCViewer.Ajax.setHeaders(PCCViewer.Ajax.getHeaders()).setOverrideMethod(PCCViewer.Ajax.getOverrideMethod());
                    if (message.data.match(/loadArt/)) {
                        var ajt = JSON.parse(message.data);
                        var au = bU.akG(ajt.pageIndex);
                        bU.anh();
                        gD.contentWindow[ajt.callbackName](au);
                        bU.ang();
                    } else if (message.data === 'extra') {
                        var HM = bU.alN(bU);
                        gD.contentWindow['extra'](bU.encryption, HM);
                    } else if (message.data === 'done') {
                        if (bU.algorithm === printAlgorithm.contentWindowContents) {
                            setTimeout(function() {
                                gD.contentWindow.focus();
                                gD.contentWindow.document.execCommand('print', false, null);
                                window.focus();
                                Rw();
                                bU.tO.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);
                            }, 200);
                        } else {
                            setTimeout(function() {
                                gD.contentWindow.focus();
                                gD.contentWindow.print();
                                window.focus();
                                Rw();
                                bU.tO.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);
                            }, 200);
                        }
                    } else if (message.data === 'fail') {
                        Rw();
                        bU.tO.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);
                    } else {
                        var sD = arn(message.data);
                        sD.index = +sD.index;
                        sD.pageNumber = +sD.pageNumber;
                        sD.totalPages = +sD.totalPages;
                        bU.tO.afo = +sD.index + 1;
                        bU.tO.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared, sD);
                    }
                };
                Ue(window, 'message', alx);
                Ue(gD, 'load', amv);
                document.body.appendChild(gD);
                return Rw;
            };

            function ast(ae) {
                return function akG(aw) {
                    return ae.ab.gZ(ae.cI.getPage(aw));
                };
            };

            function asX(ae) {
                return function alN(options) {
                    var aU, L, uI = [],
                        AG = [],
                        By = {},
                        JF = {},
                        xb = {},
                        eN = {},
                        Bm = '',
                        akA, dq, ay, Iv, ap, Jv, aY, ank = {},
                        BF = {},
                        C = 0,
                        dw = 0,
                        ba = 0,
                        aoK = function(a, b) {
                            return a - b;
                        };
                    if (options.includeComments !== 'none' || options.includeReasons !== 'none') {
                        aU = ae.getAllMarks();
                        for (C = 0; C < options.pages.length; C++) {
                            ank[options.pages[C]] = true;
                        }
                        for (dw = 0; dw < aU.length; dw++) {
                            L = aU[dw];
                            aY = L.aY;
                            if (options.includeReasons !== 'none' && L.getReason) {
                                Bm = L.getReason();
                                if (Bm) {
                                    if (!xb[aY]) {
                                        eN[Bm] = 1;
                                        xb[aY] = eN;
                                        eN = {};
                                    } else {
                                        if (xb[aY][Bm]) {
                                            xb[aY][Bm] += 1;
                                        } else {
                                            xb[aY][Bm] = 1;
                                        }
                                    }
                                }
                            }
                            if (L.oZ || L.an.search("Redaction") !== -1) {
                                if (BF[aY]) {
                                    BF[aY] += 1;
                                } else {
                                    BF[aY] = 1;
                                }
                            }
                            if (options.range.length && ank[aY] !== true || !options.includeRedactions && L.oZ || !options.includeAnnotations && !L.oZ) {
                                continue;
                            }
                            dq = L.getConversation();
                            if (dq && dq.getComments().length) {
                                if (!Iv) {
                                    Iv = aY;
                                } else if (aY !== Iv) {
                                    uI.sort(aoK);
                                    for (ba = 0; ba < uI.length; ba++) {
                                        AG = AG.concat(By[uI[ba]]);
                                    }
                                    JF[Iv] = AG;
                                    Iv = aY;
                                    uI = [];
                                    By = {};
                                    AG = [];
                                }
                                ay = ae.getCharacterIndex(L);
                                akA = aY;
                                ap = L.K.get_boundingRectangle();
                                Jv = (ay > 0) ? ay * 10000 + ap.y : ap.y;
                                uI.push(Jv);
                                if (!By[Jv]) {
                                    By[Jv] = [dq];
                                } else {
                                    By[Jv].push(dq);
                                }
                            }
                        }
                        if (uI.length) {
                            uI.sort(function(a, b) {
                                return a - b;
                            });
                            for (C = 0; C < uI.length; C++) {
                                AG = AG.concat(By[uI[C]]);
                            }
                            JF[akA] = AG;
                        }
                    }
                    return {
                        JF: JF,
                        xb: xb,
                        BF: BF
                    };
                };
            };

            function auv(ae) {
                return function() {
                    if (ae && ae.ab) {
                        ae.ab.remove_markChanged(ae.nj);
                    }
                };
            };

            function QZ(ae) {
                return function() {
                    if (ae && ae.ab) {
                        ae.ab.add_markChanged(ae.nj);
                    }
                };
            };

            function print(options) {
                options = options || {};
                options.range = options.range || 'all';
                options.orientation = (options.orientation && options.orientation.toLowerCase() === 'landscape') ? 'landscape' : 'portrait';
                options.paperSize = options.paperSize || 'letter';
                options.margins = (options.margins && options.margins.toLowerCase() === 'none') ? 'none' : 'default';
                options.includeMarks = options.includeMarks !== undefined ? (!!options.includeMarks && this.canPrintMarks()) : undefined;
                options.includeAnnotations = options.includeAnnotations !== undefined ? (!!options.includeAnnotations && this.canPrintMarks()) : undefined;
                options.includeRedactions = options.includeRedactions !== undefined ? (!!options.includeRedactions && this.canPrintMarks()) : undefined;
                options.includeComments = (options.includeComments) ? options.includeComments : 'none';
                options.includeReasons = (options.includeReasons) ? options.includeReasons : 'none';
                options.redactionViewMode = (options.redactionViewMode) ? options.redactionViewMode : 'Normal';
                if (options.includeAnnotations === undefined) {
                    options.includeAnnotations = options.includeMarks;
                }
                if (options.includeRedactions === undefined) {
                    options.includeRedactions = options.includeMarks;
                }
                var dQ = PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(), {
                    upperLimit: this.getPageCount()
                });
                var oI = this.bU.imageHandlerUrl;
                var arm = this.bU.documentID;
                var anH = this.ayQ;
                options.vsID = arm;
                options.handler = oI;
                options.pages = dQ;
                var isOldIE = !!navigator.appName.match('Microsoft');
                var isIE = !!navigator.userAgent.match('Trident');
                var isSafari = !!(navigator.userAgent.search('Safari') >= 0 && navigator.userAgent.search('Chrome') < 0);
                options.template = anH.replace(/{{viewingSessionId}}/g, options.vsID).replace(/{{handler}}/g, options.handler).replace(/{{pages}}/g, options.pages.join(',')).replace(/{{orientation}}/g, options.orientation).replace(/{{paperSize}}/g, options.paperSize).replace(/{{isIE}}/g, isIE.toString()).replace(/{{isSafari}}/g, isSafari.toString()).replace(/{{includeAnnotations}}/g, options.includeAnnotations).replace(/{{includeRedactions}}/g, options.includeRedactions).replace(/{{includeComments}}/g, options.includeComments).replace(/{{includeReasons}}/g, options.includeReasons).replace(/{{margins}}/g, options.margins).replace(/{{redactionViewMode}}/g, options.redactionViewMode).replace(/{{viewerAssetsPath}}/g, this.bU.viewerAssetsPath);
                options.encryption = !!this.bU.encryption;
                if (isOldIE) {
                    options.algorithm = printAlgorithm.contentWindowContents;
                }
                var TL;

                function aB() {
                    if (!!TL) {
                        TL();
                    }
                };
                var tO = new PCCViewer.PrintRequest(options, dQ.length, aB, this);
                this.trigger(PCCViewer.EventType.PrintRequested, {
                    printRequest: tO
                });
                options.tO = tO;
                options.akG = ast(this);
                options.alN = asX(this);
                options.anh = auv(this);
                options.ang = QZ(this);
                TL = aqB(options);
                return tO;
            };

            function validatePrintRange(range) {
                return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(), {
                    upperLimit: this.getPageCount()
                });
            };

            function canPrintMarks() {
                return (document.documentMode !== 8);
            };
            var PrintRequest = function(options, totalPages, cancelFunc, that) {
                this.bU = options;
                this.aB = cancelFunc;
                this.afo = 0;
                PCCViewer.EventEmitter.extend(this);
            };
            PrintRequest.EventType = {
                PrintPagePrepared: "PrintPagePrepared",
                PrintCompleted: "PrintCompleted",
                PrintCancelled: "PrintCancelled",
                PrintFailed: "PrintFailed"
            };
            PrintRequest.prototype.cancel = function() {
                this.aB();
                this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);
            };
            PrintRequest.prototype.getOptions = function() {
                return {
                    range: this.bU.pages.toString(),
                    orientation: this.bU.orientation,
                    paperSize: this.bU.paperSize,
                    margins: this.bU.margins,
                    includeMarks: this.bU.includeMarks,
                    includeAnnotations: this.bU.includeAnnotations,
                    includeRedactions: this.bU.includeRedactions,
                    includeComments: this.bU.includeComments,
                    includeReasons: this.bU.includeReasons,
                    redactionViewMode: this.bU.redactionViewMode
                };
            };
            PrintRequest.prototype.getPageCount = function() {
                return this.bU.pages.length;
            };
            PrintRequest.prototype.getPreparedCount = function() {
                return this.afo;
            };
            if (Object.defineProperties) {
                Object.defineProperties(PrintRequest.prototype, {
                    "options": {
                        enumerable: true,
                        get: function() {
                            return this.getOptions();
                        }
                    },
                    "pageCount": {
                        enumerable: true,
                        get: function() {
                            return this.getPageCount();
                        }
                    },
                    "preparedCount": {
                        enumerable: true,
                        get: function() {
                            return this.getPreparedCount();
                        }
                    }
                });
            }
            var PrintControl = function(domElement, options) {
                var acw = [];
                IPCC.T.ZZ = true;
                options.includeAnnotations = options.includeAnnotations !== 'false';
                options.includeRedactions = options.includeRedactions !== 'false';
                domElement.className = domElement.className + ' ' + options.orientation;

                function zR(n) {
                    (window.parent) ? window.parent.postMessage(n, '*'): window.opener.postMessage(n, '*');
                };

                function auC(aY, JS) {
                    var iq = [];
                    iq.push("pageNumber=" + (1 + aY));
                    iq.push("index=" + JS);
                    iq.push("totalPages=" + options.pages.length);
                    return iq.join('&');
                };

                function jq(aY, JS, next) {
                    var bB = {
                        documentIdentifier: options.vsID,
                        pageNumber: aY,
                        viewFitType: IPCC.Web.UI.FitType.FullImage,
                        imageHandlerUrl: options.handler,
                        encryption: options.encryption
                    };
                    var jy = document.createElement('div');
                    jy.className = options.paperSize + " ";
                    jy.className += options.isIE ? 'pageIE' : options.isSafari ? 'pageSafari' : 'page';
                    jy.id = 'printpage' + aY;
                    if (options.margins === 'none') {
                        jy.className += ' nomargins';
                    }
                    domElement.appendChild(jy);
                    var pv = IPCC.initializePageViewPlugin(jy, bB);
                    pv.set_debug(false);
                    pv.set_requireRequestsOptimize(true);
                    acw.push(pv);
                    var yj = false;

                    function GJ() {
                        zR(auC(aY, JS));
                        next();
                    };
                    pv.add_pageOpened(function() {
                        var bL = pv.kt(),
                            aS = pv.jk();
                        var wI = (options.orientation === 'portrait' && bL > aS) || (options.orientation === 'landscape' && aS > bL);
                        if (wI) {
                            pv.wI(90);
                        }
                    });
                    pv.add_pageDisplayed(function() {
                        if (!yj) {
                            GJ();
                        }
                    });
                    pv.add_textPageReady(function() {
                        if (yj) {
                            pv.dv();
                            GJ();
                        }
                    });
                    pv.add_pageOpenFailed(function() {
                        zR('fail');
                    });
                    pv.add_textExtractionFailed(function() {
                        if (yj) {
                            zR('fail');
                        }
                    });
                    if (options.redactionViewMode) {
                        if (options.redactionViewMode.toLowerCase() === "draft") {
                            pv.qZ(true);
                        } else if (options.redactionViewMode.toLowerCase() === "normal") {
                            pv.qZ(false);
                        }
                    }
                    if (PCCViewer.ViewerControl.prototype.canPrintMarks() && (options.includeAnnotations || options.includeRedactions)) {
                        var afR = 'loadArt' + aY;
                        var sD = {
                            pageIndex: aY,
                            callbackName: afR
                        };
                        window[afR] = function(au) {
                            var nq, KI, C, dq = {},
                                Qb = {},
                                zr = '',
                                mp, GS, eN, Bi = '';
                            var MC = [];
                            au.Cx(function(L) {
                                if (L.get_type() === IPCC.Web.UI.MarkType.HighlightText) {
                                    yj = true;
                                }
                                if (options.includeRedactions && L.jR()) {
                                    MC.push(L);
                                }
                                if (options.includeAnnotations && !L.jR()) {
                                    MC.push(L);
                                }
                            });
                            var adB = new IPCC.Web.UI.ArtPage();
                            IPCC.T.forEach(MC, function(L) {
                                L.lH(undefined);
                                adB.addMark(L);
                            });
                            bB.artPage = adB;
                            Qb = options.pagedConversations[aY + 1];
                            if (options.pagedConversations && Qb && options.includeComments === 'followingPage') {
                                nq = document.createElement('div');
                                nq.className += 'commentPage';
                                nq.id = 'printcommentpage' + aY;
                                if (options.margins === 'none') {
                                    nq.className += ' nomargins';
                                }
                                KI = '<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';
                                for (C = 0; C < Qb.length; C++) {
                                    dq = Qb[C];
                                    zr += alR(dq, aY + 1);
                                }
                                nq.innerHTML = KI.replace('{{pageNumber}}', aY + 1).replace('{{conversationList}}', zr);
                                domElement.appendChild(nq);
                            }
                            GS = options.pagedReasons[aY + 1];
                            if (options.pagedReasons && GS && options.includeReasons === 'followingPage') {
                                mp = document.createElement('div');
                                mp.className += 'reasonPage';
                                mp.id = 'printreasonpage' + aY;
                                if (options.margins === 'none') {
                                    mp.className += ' nomargins';
                                }
                                KI = '<h1>Redaction Reasons for Page {{pageNumber}}</h1>' + '<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>' + '<div class="pageReasons">{{reasonList}}</div>';
                                for (eN in GS) {
                                    if (GS.hasOwnProperty(eN)) {
                                        Bi += anw(eN, GS[eN]);
                                    }
                                }
                                mp.innerHTML = KI.replace('{{pageNumber}}', aY + 1).replace('{{reasonList}}', Bi).replace('{{date}}', ajP()).replace('{{count}}', options.pagedRedactionCount[aY + 1]);
                                domElement.appendChild(mp);
                            }
                            pv.openPage(bB);
                            IPCC.T.forEach(MC, function(L) {
                                L.lH(au);
                            });
                        };
                        zR(JSON.stringify(sD));
                    } else {
                        pv.openPage(bB);
                    }
                };

                function alR(dq, aY) {
                    var ahD = '',
                        il = '',
                        L = dq.getMark(),
                        gQ, bZ, C;
                    switch (L.K.jh()) {
                        case IPCC.Web.UI.MarkType.Rectangle:
                            il = (L.K.jR()) ? 'Highlight Redaction ' : 'Rectangle Annotation';
                            break;
                        case IPCC.Web.UI.MarkType.Ellipse:
                            il = 'Ellipse Annotation';
                            break;
                        case IPCC.Web.UI.MarkType.RectangleRedaction:
                            il = 'Rectangle Redaction';
                            break;
                        case IPCC.Web.UI.MarkType.Line:
                            il = (L.mv === 'None') ? 'Line Annotation' : 'Arrow Annotation';
                            break;
                        case IPCC.Web.UI.MarkType.Polyline:
                            il = 'Polyline Annotation';
                            break;
                        case IPCC.Web.UI.MarkType.Polygon:
                            il = 'Polygon Annotation';
                            break;
                        case IPCC.Web.UI.MarkType.Text:
                            il = 'Text Annotation';
                            break;
                        case IPCC.Web.UI.MarkType.Highlight:
                            il = 'Highlight Annotation';
                            break;
                        case IPCC.Web.UI.MarkType.Stamp:
                            il = 'Stamp Annotation';
                            break;
                        case IPCC.Web.UI.MarkType.HighlightText:
                            il = 'Highlight Text Annotation';
                            break;
                        case IPCC.Web.UI.MarkType.SignaturePath:
                            il = 'Signature Path';
                            break;
                        case IPCC.Web.UI.MarkType.Freehand:
                            il = 'Freehand Annotation';
                            break;
                        case IPCC.Web.UI.MarkType.SignatureText:
                            il = 'Signature Text';
                            break;
                        case IPCC.Web.UI.MarkType.TextLine:
                            il = 'Text Input Signature';
                            break;
                        case IPCC.Web.UI.MarkType.TextAreaSignature:
                            il = 'Text Area Signature';
                            break;
                        case IPCC.Web.UI.MarkType.SignatureImage:
                            il = 'Signature Image';
                            break;
                        case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                            il = 'Text Selection Redaction';
                            break;
                        case IPCC.Web.UI.MarkType.ImageStampAnnotation:
                            il = 'Image Stamp Annotation';
                            break;
                        case IPCC.Web.UI.MarkType.ImageStampRedaction:
                            il = 'Image Stamp Redaction';
                            break;
                        case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:
                            il = 'Text Hyperlink Annotation';
                            break;
                        case IPCC.Web.UI.MarkType.Strikethrough:
                            il = 'Strikethrough Annotation';
                            break;
                        default:
                            break;
                    }
                    gQ = dq.getComments();
                    for (C = 0; C < gQ.length; C++) {
                        bZ = gQ[C];
                        ahD += '<li>' + aqh({
                            text: bZ.getText(),
                            createDate: bZ.oO.YU,
                            pageNumber: aY + 1
                        }) + '</li>';
                    }
                    return '<h3>' + il + '</h3><ul>' + ahD + '</ul>';
                };

                function aqh(bZ) {
                    var fW = new Date(bZ.createDate),
                        VE = '{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}', fW.getMonth() + 1).replace('{{day}}', fW.getDate()).replace('{{year}}', fW.getFullYear()).replace('{{hour}}', (fW.getHours() < 10 ? '0' : '') + fW.getHours()).replace('{{minutes}}', (fW.getMinutes() < 10 ? '0' : '') + fW.getMinutes()).replace('{{period}}', fW.getHours() < 12 ? 'am' : 'pm');
                    var bv = bZ.text.replace(/</g, '&#60;').replace(/>/g, '&#62;').replace(/\n/g, '<br/>');
                    return "{{comment}} - {{date}}".replace('{{comment}}', bv).replace('{{date}}', VE);
                };

                function ajP() {
                    var fW = new Date();
                    return '{{month}}/{{day}}/{{year}}'.replace('{{month}}', fW.getMonth() + 1).replace('{{day}}', fW.getDate()).replace('{{year}}', fW.getFullYear());
                };

                function anw(eN, qR) {
                    eN = eN.replace(/</g, '&#60;').replace(/>/g, '&#62;').replace(/\n/g, '<br/>');
                    var auA = (qR > 1) ? 'times' : 'time';
                    return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}', eN).replace('{{count}}', qR).replace('{{times}}', auA);
                };

                function atU() {
                    window.onerror = function(ev) {
                        zR('fail');
                    };

                    function sync(funcs, done) {
                        var counter = funcs.length;
                        var idx = 0;
                        var next = function() {
                            if (--counter === 0) done();
                            else funcs[idx++](next);
                        };
                        funcs[idx++](next);
                    };

                    function apK(aY, JS) {
                        return function(next) {
                            jq(aY, JS, next);
                        };
                    };
                    var funcs = [];
                    for (var i = 0; i < options.pages.length; i++) {
                        var aP = +options.pages[i] - 1;
                        funcs.push(apK(aP, i));
                    }
                    sync(funcs, function() {
                        var nq, NN = '',
                            aP, BZ = '',
                            zr = '',
                            dq, L, agN = '<h1>Comments</h1><hr>{{pageSections}}',
                            mp, Bi = '',
                            azi = '<h1>Redaction Reasons</h1><hr>{{pageSections}}';
                        if (options.includeComments === 'documentEnd') {
                            for (aP in options.pagedConversations) {
                                if (options.pagedConversations.hasOwnProperty(aP)) {
                                    if (!nq) {
                                        nq = document.createElement('div');
                                        nq.className += ' commentPage';
                                        nq.id = 'printpage_comments';
                                        if (options.margins === 'none') {
                                            nq.className += ' nomargins';
                                        }
                                    }
                                    NN = '<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';
                                    zr = '';
                                    for (var C = 0; C < options.pagedConversations[aP].length; C++) {
                                        dq = options.pagedConversations[aP][C];
                                        L = dq.getMark();
                                        zr += alR(dq, L.pageNumber);
                                    }
                                    BZ += NN.replace('{{pageNumber}}', L.pageNumber).replace('{{conversationList}}', zr);
                                    if (zr.length) {
                                        nq.innerHTML = agN.replace('{{pageSections}}', BZ);
                                        domElement.appendChild(nq);
                                    }
                                }
                            }
                        }
                        if (options.includeReasons === 'documentEnd') {
                            BZ = '';
                            agN = '';
                            NN = '<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';
                            for (aP in options.pagedReasons) {
                                if (options.pagedReasons.hasOwnProperty(aP)) {
                                    if (!mp) {
                                        mp = document.createElement('div');
                                        mp.className += 'reasonPage';
                                        mp.id = 'printpage_reason';
                                        if (options.margins === 'none') {
                                            mp.className += ' nomargins';
                                        }
                                    }
                                    Bi = '';
                                    for (var eN in options.pagedReasons[aP]) {
                                        if (options.pagedReasons[aP].hasOwnProperty(eN)) {
                                            Bi += anw(eN, options.pagedReasons[aP][eN]);
                                        }
                                    }
                                    BZ += NN.replace('{{pageNumber}}', aP).replace('{{reasonList}}', Bi).replace('{{date}}', ajP()).replace('{{count}}', options.pagedRedactionCount[aP]);
                                }
                            }
                            if (BZ.length) {
                                mp.innerHTML = azi.replace('{{pageSections}}', BZ);
                                domElement.appendChild(mp);
                            }
                        }
                        zR('done');
                    });
                };

                function asP() {
                    window['extra'] = function(bool, HM) {
                        options.encryption = !!bool;
                        options.pagedConversations = HM.JF;
                        options.pagedReasons = HM.xb;
                        options.pagedRedactionCount = HM.BF;
                        atU();
                        window['extra'] = function() {};
                    };
                    zR('extra');
                };

                function asv() {
                    var au;
                    IPCC.T.forEach(acw, function(by) {
                        au = by.get_artPage();
                        if (au) {
                            au.removeAllMarks();
                        }
                        by.dispose();
                        au = undefined;
                    });
                };
                window['destroy'] = asv;
                asP();
            };
            module.exports = {
                PrintRequest: PrintRequest,
                PrintControl: PrintControl,
                print: print,
                validatePrintRange: validatePrintRange,
                canPrintMarks: canPrintMarks
            };
        }, {}],
        160: [function(require, module, exports) {
            var avN = {
                Draft: "Draft",
                Normal: "Normal"
            };
            module.exports = avN;
        }, {}],
        161: [function(require, module, exports) {
            var Revision = function() {
                this.cB = 0;
                this.ym = 0;
                this.an = '';
            };
            Revision.prototype.getId = function() {
                return this.cB;
            };
            Revision.prototype.getEndPageNumber = function() {
                return this.ym;
            };
            Revision.prototype.getType = function() {
                return this.an;
            };
            if (Object.defineProperties) {
                Object.defineProperties(Revision.prototype, {
                    "endPageNumber": {
                        enumerable: true,
                        get: function() {
                            return this.ym;
                        }
                    },
                    "id": {
                        enumerable: true,
                        get: function() {
                            return this.cB;
                        }
                    },
                    "type": {
                        enumerable: true,
                        get: function() {
                            return this.an;
                        }
                    }
                });
            }
            Revision.Type = {
                ContentInserted: "ContentInserted",
                ContentDeleted: "ContentDeleted",
                PropertyChanged: "PropertyChanged",
                ParagraphNumberChanged: "ParagraphNumberChanged",
                FieldDisplayChanged: "FieldDisplayChanged",
                RevisionMarkedAsReconciledConflict: "RevisionMarkedAsReconciledConflict",
                RevisionMarkedAsConflict: "RevisionMarkedAsConflict",
                StyleChanged: "StyleChanged",
                ContentReplaced: "ContentReplaced",
                ParagraphPropertyChanged: "ParagraphPropertyChanged",
                TablePropertyChanged: "TablePropertyChanged",
                SectionPropertyChanged: "SectionPropertyChanged",
                StyleDefinitionChanged: "StyleDefinitionChanged",
                ContentMovedFrom: "ContentMovedFrom",
                ContentMovedTo: "ContentMovedTo",
                TableCellInserted: "TableCellInserted",
                TableCellDeleted: "TableCellDeleted",
                TableCellsMerged: "TableCellsMerged",
                Unknown: "Unknown"
            };
            module.exports = Revision;
        }, {}],
        162: [function(require, module, exports) {
            var IM = function(bU) {
                var ku = new PCCViewer.RevisionsRequest(true);

                function atC(an) {
                    for (var VI in PCCViewer.Revision.Type) {
                        if (PCCViewer.Revision.Type.hasOwnProperty(VI)) {
                            if (VI.toLowerCase() === an.toLowerCase()) {
                                return PCCViewer.Revision.Type[VI];
                            }
                        }
                    }
                    return PCCViewer.Revision.Type.Unknown;
                };

                function apv(ej, aT) {
                    var vj = [];
                    if (ej.changes && ej.changes.length) {
                        vj = ej.changes.map(function(YY) {
                            var OJ = new PCCViewer.Revision();
                            OJ.cB = YY.id;
                            OJ.ym = YY.endPageIndex + 1;
                            OJ.an = atC(YY.type);
                            return OJ;
                        });
                    }
                    return vj;
                };

                function apx(NV) {
                    var UK = NV ? '&continueToken=' + NV : '';
                    var aqj = bU.imageHandlerUrl + '/v2/viewingSessions/' + bU.documentID;
                    return aqj + '/revisionData?limit=100' + UK;
                };

                function akY(NV) {
                    var aL = PCCViewer.Deferred();
                    var aq = apx(NV);
                    PCCViewer.Ajax.eh({
                        url: aq,
                        method: 'GET'
                    }).then(function eI(aX) {
                        var dN = JSON.parse(aX.responseText);
                        var Gz = dN.continueToken;
                        var vj = apv(dN, ku.Ji.length);
                        ku.Ji = ku.Ji.concat(vj);
                        if (Gz) {
                            if (vj.length) {
                                ku.trigger(PCCViewer.EventType.PartialRevisionsAvailable, {
                                    partialRevisions: vj
                                });
                            }
                            setTimeout(function() {
                                akY(Gz);
                            }, dN.continueAfter || 0);
                        } else {
                            if (vj.length) {
                                ku.trigger(PCCViewer.EventType.PartialRevisionsAvailable, {
                                    partialRevisions: vj
                                });
                            }
                            ku.trigger(PCCViewer.EventType.RevisionsAvailable, {
                                completedRevisions: ku.getRevisions()
                            });
                            ku.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted, {
                                completedRevisions: ku.getRevisions()
                            });
                        }
                        aL.resolve();
                    }, function fc(bk) {
                        var eH = 'RequestFailed';
                        var cN = 'The request to get revisions failed.';
                        var np = bk.response.responseText ? JSON.parse(bk.response.responseText) : '';
                        var kz = bk.response.status;
                        if (np && (kz === 580 || (kz === 480 && np.errorCode === 'DocumentNotProvidedYet'))) {
                            eH = np.errorCode;
                        }
                        ku.eH = eH;
                        ku.cN = cN;
                        ku.trigger(PCCViewer.EventType.RevisionsRetrievalFailed, {
                            errorMessage: ku.getErrorMessage()
                        });
                        ku.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted, {
                            completedRevisions: ku.getRevisions()
                        });
                        aL.reject(bk.error);
                    });
                };
                this.axq = function() {
                    setTimeout(function() {
                        akY();
                    }, 0);
                    return ku;
                };
            };
            var RevisionsRequest = function(vt) {
                this.Ji = [];
                this.eH = null;
                this.cN = null;
                if (Object.defineProperties) {
                    Object.defineProperties(this, {
                        "revisions": {
                            configurable: !!vt,
                            enumerable: true,
                            get: function() {
                                return this.Ji;
                            }
                        },
                        "errorCode": {
                            configurable: !!vt,
                            enumerable: true,
                            get: function() {
                                return this.eH;
                            }
                        },
                        "errorMessage": {
                            configurable: !!vt,
                            enumerable: true,
                            get: function() {
                                return this.cN;
                            }
                        }
                    });
                }
                PCCViewer.EventEmitter.extend(this);
            };
            RevisionsRequest.prototype.getRevisions = function() {
                return this.Ji;
            };
            RevisionsRequest.prototype.getErrorCode = function() {
                return this.eH;
            };
            RevisionsRequest.prototype.getErrorMessage = function() {
                return this.cN;
            };
            module.exports = {
                RevisionsRequest: RevisionsRequest,
                IM: IM
            };
        }, {}],
        163: [function(require, module, exports) {
            var Ck = {
                Pinch: "Pinch",
                Zoom: "Zoom",
                Fit: "Fit",
                ViewMode: "ViewMode"
            };
            module.exports = Ck;
        }, {}],
        164: [function(require, module, exports) {
            var _Search = function() {
                this.bH = '';
                this.Fu = {};
                this.bY = {};
                this.RH = 0;
                this.bm = new PCCViewer.SearchRequest();
                var V = this;
                this.Yb = function() {
                    var KU = [];
                    for (var C = 0; C < V.Fu.searchTerms.length; C++) {
                        var bH = V.Fu.searchTerms[C];
                        var nI = IPCC.T.Pz(bH.type);
                        var LN;
                        switch (nI) {
                            case 'proximity':
                                var yN = {
                                    uS: bH,
                                    bY: [],
                                    type: bH.type,
                                    highlightColor: this.XP(bH.highlightColor),
                                    distance: bH.distance,
                                    contextPadding: bH.contextPadding
                                };
                                for (var x = 0; x < bH.terms.length; x++) {
                                    var abv = bH.terms[x];
                                    LN = this.ahl(abv);
                                    yN.bY = yN.bY.concat(LN);
                                }
                                KU.push(yN);
                                break;
                            default:
                                LN = this.ahl(bH);
                                KU = KU.concat(LN);
                                break;
                        }
                    }
                    return KU;
                };
                this.ahl = function(bH) {
                    var eQ = [];
                    var bY = {};
                    if (bH.matchingOptions.exactPhrase === false && bH.searchTermIsRegex === false) {
                        var Ar = bH.searchTerm.split(' ');
                        for (var ba = 0; ba < Ar.length; ba++) {
                            bY = {};
                            if (Ar[ba].length < 0) {
                                continue;
                            }
                            bY.searchText = Ar[ba];
                            bY.uS = bH;
                            if (bH.matchingOptions.matchWholeWord) {
                                bY.searchTerm = this.amA(this.Be(Ar[ba]), bH.matchingOptions);
                            } else {
                                if (bH.matchingOptions.wildcard === true) {
                                    bY.searchTerm = this.agd(this.Be(Ar[ba]), bH.matchingOptions);
                                } else if (bH.matchingOptions.beginsWith === true || bH.matchingOptions.endsWith === true) {
                                    bY.searchTerm = this.amc(this.Be(Ar[ba]), bH.matchingOptions);
                                } else {
                                    bY.searchTerm = this.aeN(Ar[ba], bH.matchingOptions, false);
                                }
                            }
                            bY.highlightColor = this.XP(bH.highlightColor);
                            eQ.push(bY);
                        }
                    } else {
                        bY = {};
                        bY.searchText = bH.searchTerm;
                        bY.uS = bH;
                        if (bH.matchingOptions.matchWholeWord) {
                            bY.searchTerm = this.amA(this.Be(bH.searchTerm), bH.matchingOptions);
                        } else {
                            if (bH.matchingOptions.wildcard === true) {
                                bY.searchTerm = this.agd(this.Be(bH.searchTerm), bH.matchingOptions);
                            } else if (bH.matchingOptions.beginsWith === true || bH.matchingOptions.endsWith === true) {
                                bY.searchTerm = this.amc(this.Be(bH.searchTerm), bH.matchingOptions);
                            } else {
                                bY.searchTerm = this.aeN(bH.searchTerm, bH.matchingOptions, bH.searchTermIsRegex);
                            }
                        }
                        bY.highlightColor = this.XP(bH.highlightColor);
                        eQ.push(bY);
                    }
                    return eQ;
                };
                this.amA = function(rC, wy) {
                    var JZ = new RegExp('\\b' + rC + '\\b', this.Ka(wy.matchCase));
                    return JZ;
                };
                this.amc = function(rC, wy) {
                    if (wy.beginsWith) {
                        return new RegExp("\\b" + rC + '(\\w+)', this.Ka(wy.matchCase));
                    }
                    if (wy.endsWith) {
                        rC = rC.replace("*", "");
                        return new RegExp('(\\w+)' + rC + "\\b", this.Ka(wy.matchCase));
                    }
                };
                this.Be = function(rC) {
                    return rC.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
                };
                this.agd = function(sC, wy) {
                    sC = sC.replace(/[*]{2,}/g, '*').replace(/(\\\*){2,}/g, '\\*');
                    if (sC === '\\*') {
                        var dj = new Error('The search term must contain one or more non-wildcard characters.');
                        dj.aAC = true;
                        throw dj;
                    }
                    var regexFlags = 'gim';
                    if (wy.matchCase) {
                        regexFlags = 'gm';
                    }
                    sC = sC.replace(/\*/g, '\S*');
                    sC = sC.replace(/\?/g, '\S');
                    var JZ = new RegExp('(\\s|^)' + sC + '(?=\\s|$)', regexFlags);
                    return JZ;
                };
                this.TK = function(rC) {
                    return rC.replace(/\ /g, '\\s+');
                };
                this.aeN = function(Kp, matchingOptions, isRegex) {
                    var tm = '';
                    if (isRegex === true) {
                        tm = this.TK(Kp);
                    } else if (matchingOptions.wildcard === true) {
                        tm = Kp.replace(/[-[\]{}()+,^$|#]/g, "\\$&");
                        tm = this.TK(tm);
                    } else if (matchingOptions.exactPhrase) {
                        tm = Kp.replace(/[-[\]{}()*+?.,\\^$|#]/g, "\\$&");
                        tm = this.TK(tm);
                    } else {
                        tm = Kp.replace(/[-[\]{}()*+?.,\\^$|#]/g, "\\$&");
                    }
                    var azX = tm.replace(/'/g, '[\'|‘|’]').replace(/"/g, '["|“|”]');
                    return new RegExp(azX, this.Ka(matchingOptions.matchCase));
                };
                this.Ka = function(matchCase) {
                    if (matchCase) {
                        return 'gm';
                    } else {
                        return 'igm';
                    }
                };
                this.aFF = function(sC) {
                    var JZ = new RegExp('\\b' + sC + '\\b', V.Ka());
                    return JZ;
                };
                var aiz = ["#1c86ee", "#ff8c00", "#9932cc", "#FFBA00", "#00c5cd", "#ee3a8c", "#4169e1", "#00cd00", "#6959cd", "#ff4500"];
                this.XP = function(cl) {
                    if (!cl) {
                        return aiz[V.RH++ % aiz.length];
                    } else {
                        return cl;
                    }
                };
                this.Tm = function(eG) {
                    if (typeof eG === 'string') {
                        eG = {
                            searchTerms: [{
                                searchTerm: eG,
                                highlightColor: undefined,
                                contextPadding: 25,
                                searchTermIsRegex: false,
                                matchingOptions: {
                                    exactPhrase: true,
                                    matchCase: false,
                                    matchWholeWord: false,
                                    beginsWith: false,
                                    endsWith: false,
                                    wildcard: false
                                }
                            }]
                        };
                        return eG;
                    }
                    IPCC.T.forEach(eG.searchTerms, function(bH) {
                        if (!bH.matchingOptions) {
                            bH.matchingOptions = {};
                        }
                        var nI = IPCC.T.Pz(bH.type);
                        switch (nI) {
                            case 'proximity':
                                IPCC.T.forEach(bH.terms, function(abv) {
                                    V.ako(abv);
                                });
                                break;
                            default:
                                V.ako(bH);
                                break;
                        }
                    });
                    return eG;
                };
                this.ako = function(bH) {
                    if (typeof bH.contextPadding === "undefined") {
                        bH.contextPadding = 25;
                    }
                    if (typeof bH.searchTermIsRegex === "undefined") {
                        bH.searchTermIsRegex = false;
                    }
                    if (typeof bH.matchingOptions === "undefined") {
                        bH.matchingOptions = {};
                    }
                    if (!bH.matchingOptions.hasOwnProperty('matchCase')) {
                        bH.matchingOptions.matchCase = false;
                    }
                    if (!bH.matchingOptions.hasOwnProperty('exactPhrase')) {
                        bH.matchingOptions.exactPhrase = true;
                    }
                    if (!bH.matchingOptions.hasOwnProperty('matchWholeWord')) {
                        bH.matchingOptions.matchWholeWord = false;
                    }
                    if (!bH.matchingOptions.hasOwnProperty('beginsWith')) {
                        bH.matchingOptions.beginsWith = false;
                    }
                    if (!bH.matchingOptions.hasOwnProperty('endsWith')) {
                        bH.matchingOptions.endsWith = false;
                    }
                    if (!bH.matchingOptions.hasOwnProperty('wildcard')) {
                        bH.matchingOptions.wildcard = false;
                    }
                    if (typeof bH.highlightColor !== 'undefined') {
                        try {
                            IPCC.aR.cl(bH.highlightColor, "selectText");
                        } catch (e) {
                            bH.highlightColor = undefined;
                        }
                    }
                };
                this.avE = function() {
                    return V.bY;
                };
                this.ajQ = function(e) {
                    V.bm.cN = e.message;
                    V.bm.eH = "1010";
                    V.bm.wY = true;
                    setTimeout(function() {
                        V.bm.trigger("SearchFailed", {
                            errorMessage: (e.message)
                        });
                    }, 10);
                    setTimeout(function() {
                        V.bm.trigger("SearchCompleted", {
                            completedSearchResults: (V.rH)
                        });
                    }, 10);
                    return V.bm;
                };
                this.vp = function(eG, bQ) {
                    this.bY = {};
                    this.Fu = eG;
                    this.bH = eG;
                    this.RH = 0;
                    var vp = new PCCViewer.Mg();
                    try {
                        V.bY = this.Yb();
                        return vp.Wr(bQ, V.bY, eG, V.bm);
                    } catch (e) {
                        return V.ajQ(e);
                    }
                };
                this.Bu = function(eG, bQ) {
                    this.bY = {};
                    this.Fu = eG;
                    this.bH = eG;
                    this.RH = 0;
                    var Bu = new PCCViewer.WA();
                    try {
                        V.bY = this.Yb();
                        return Bu.Wr(bQ, V.bY, eG, V.bm);
                    } catch (e) {
                        return V.ajQ(e);
                    }
                };
            };
            _Search.prototype.xz = function(searchQuery) {
                this.bY = {};
                this.bm = new PCCViewer.SearchRequest();
                this.Fu = searchQuery;
                this.bm.eG = searchQuery;
                this.bH = searchQuery;
                this.RH = 0;
                return this.bm;
            };
            var SearchTask = function(searchQuery) {
                this.aer(searchQuery);
                var _search = new PCCViewer._Search();
                searchQuery = _search.Tm(searchQuery);
                this.bm = _search.xz(searchQuery);
                try {
                    _search.bY = _search.Yb();
                } catch (e) {
                    if (e.aAC) {
                        throw new Error(e.message);
                    } else {
                        throw new Error(e.message);
                    }
                }
                var vp = new PCCViewer.Mg();
                this.search = function(text) {
                    vp.rH = [];
                    vp.aj = 0;
                    vp.bY = _search.bY;
                    vp.aBJ(text);
                    return vp.rH;
                };
            };
            SearchTask.prototype.aer = function(searchQuery) {
                if (typeof searchQuery === 'string') {
                    return;
                }
                var yx;
                if (searchQuery && searchQuery.searchTerms && Object.prototype.toString.call(searchQuery.searchTerms) === '[object Array]') {
                    yx = searchQuery.searchTerms;
                } else {
                    throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');
                }
                IPCC.T.forEach(yx, function(vH, C) {
                    var nI = vH.type ? IPCC.T.trim(vH.type).toLowerCase() : undefined;
                    switch (nI) {
                        case 'proximity':
                            IPCC.T.forEach(vH.terms, function(axF, aM) {
                                if (!ajj(axF)) {
                                    throw new Error("Search term index " + aM + " under Proximity search term index " + C + " does not have a valid `searchTerm` string property.");
                                }
                            });
                            break;
                        default:
                            if (!ajj(vH)) {
                                throw new Error("Search term index " + C + " does not have a valid `searchTerm` string property.");
                            }
                            break;
                    }
                });

                function ajj(vH) {
                    return (typeof vH.searchTerm === 'string');
                }
            };
            module.exports = {
                _Search: _Search,
                SearchTask: SearchTask
            };
        }, {}],
        165: [function(require, module, exports) {
            function aqX(eG) {
                var yx = eG.map(function(bH, afd) {
                    if (bH.type === 'proximity') {
                        return {
                            type: 'proximity',
                            distance: bH.distance,
                            subTerms: bH.bY.map(function(aci) {
                                return {
                                    pattern: aci.searchTerm.source,
                                    caseSensitive: aci.uS.matchingOptions.matchCase
                                };
                            }),
                            termId: afd.toString(),
                            contextPadding: bH.contextPadding
                        };
                    }
                    return {
                        type: 'simple',
                        pattern: bH.searchTerm.source,
                        caseSensitive: bH.uS.matchingOptions.matchCase,
                        termId: afd.toString(),
                        contextPadding: bH.contextPadding
                    };
                });
                return {
                    input: {
                        searchTerms: yx
                    }
                };
            };
            var WA = function() {
                var V = this;
                var xz, Gz, afx;
                var OC = [];
                this.xV = false;
                this.yZ = {};
                this.zg = [];

                function arb() {
                    var UK = Gz ? '&continueToken=' + Gz : '';
                    return V.bQ.qf + '/v2/searchTasks/' + xz.processId + '/results?limit=100' + UK;
                };

                function asZ(eQ) {
                    var Mt = V.yZ.input.searchTerms.reduce(function(pe, vH) {
                        pe[vH.termId] = V.bY[vH.termId];
                        return pe;
                    }, {});
                    return eQ.map(function(bk) {
                        var ey = new PCCViewer.SearchResult();
                        if (V.bY[0].uS.matchingOptions.wildcard && (bk.text[0] === " " || bk.text[0] === "\n")) {
                            bk.text = bk.text.substring(1);
                            bk.startIndex += 1;
                            bk.startIndexInContext += 1;
                        }
                        ey.mV = bk.boundingRectangle;
                        ey.cX = bk.context;
                        ey.zC = bk.startIndexInContext;
                        ey.nx = bk.id;
                        ey.bY = V.bY;
                        ey.bA = bk.lineRectangles;
                        ey.hE = bk.pageData;
                        ey.qQ = bk.startIndex;
                        ey.bv = bk.text;
                        ey.aY = bk.pageIndex + 1;
                        ey.cB = bk.id;
                        ey.IS = V.bQ.get_documentIdentifier();
                        ey.bH = Mt[bk.searchTerm.termId].uS;
                        ey.rc = Mt[bk.searchTerm.termId].highlightColor;
                        return ey;
                    });
                };

                function qk(ER, WN) {
                    switch (ER) {
                        case 'failed':
                            setTimeout(function() {
                                V.bm.trigger(PCCViewer.EventType.SearchFailed, WN);
                            }, 10);
                            break;
                        case 'complete':
                            V.bm.Rg = V.zg;
                            V.bm.wY = true;
                            setTimeout(function() {
                                V.bm.trigger(PCCViewer.EventType.SearchResultsAvailable, {
                                    completedSearchResults: (V.bm.getResults())
                                });
                            }, 10);
                            break;
                        case 'cancelled':
                            break;
                    }
                    setTimeout(function() {
                        V.bm.trigger(PCCViewer.EventType.SearchCompleted, {
                            completedSearchResults: (V.bm.getResults())
                        });
                    }, 10);
                };

                function arS(mE) {
                    var aq = V.bQ.qf + '/v2/viewingSessions/' + encodeURIComponent(V.bQ.get_documentIdentifier()) + '/searchTasks';

                    function eI(aX) {
                        var bk = JSON.parse(aX.responseText);
                        xz = bk;
                        if (OC.length) {
                            OC.forEach(function(vz) {
                                vz();
                            });
                        }
                        OC = [];
                        mE();
                    };

                    function fc(bb) {
                        V.bm.off('SearchCancelled', V.alp);
                        V.bm.cN = 'The request to create a search task failed.';
                        var aEi = bb && bb.response && bb.response.status === 501;
                        var ayG = bb && bb.response && bb.response.status === 480 && (function(aps) {
                            try {
                                return JSON.parse(aps).errorCode === 'FeatureDisabled';
                            } catch (e) {
                                return false;
                            }
                        }(bb.response.responseText));
                        if (aEi || ayG) {
                            V.bm.eH = 'ServerSearchUnavailable';
                            V.bm.cN = 'Server-side search is not available.';
                            qk('failed', {
                                errorMessage: V.bm.cN
                            });
                            return;
                        }
                        qk('failed', {
                            errorMessage: V.bm.cN
                        });
                    };
                    PCCViewer.Ajax.eh({
                        url: aq,
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(V.yZ)
                    }).then(eI, fc);
                };

                function OX(mE) {
                    var aq = arb();
                    var gR = {};
                    if (xz.affinityToken) {
                        gR['Accusoft-Affinity-Token'] = xz.affinityToken;
                    }
                    if (!V.xV) {
                        return;
                    }

                    function eI(aX) {
                        if (!V.xV) {
                            return;
                        }
                        var bk = JSON.parse(aX.responseText);
                        var Tw = asZ(bk.results);
                        V.zg = bk.pagesWithoutText;
                        V.bm.eQ.push.apply(V.bm.eQ, Tw);
                        if (Tw.length) {
                            setTimeout(function() {
                                IPCC.T.forEach(Tw.reduce(function(pe, bk) {
                                    var cF = bk.aY;
                                    if (!pe[cF]) {
                                        pe[cF] = [];
                                    }
                                    pe[cF].push(bk);
                                    return pe;
                                }, {}), function(eQ, cF) {
                                    V.bm.trigger('PartialSearchResultsAvailable', {
                                        partialSearchResults: eQ,
                                        pagesWithoutText: V.zg
                                    });
                                });
                            }, 10);
                        }
                        if (bk.continueToken) {
                            Gz = bk.continueToken;
                            afx = bk.continueAfter;
                            mE();
                        } else if (V.xV) {
                            qk('complete');
                        }
                    };

                    function fc(bk) {
                        if (!V.xV) {
                            return;
                        }
                        V.xV = false;
                        V.bm.cN = 'The request to poll the search task failed.';
                        V.bm.wY = true;
                        qk('failed', {
                            errorMessage: V.bm.cN
                        });
                    };
                    PCCViewer.Ajax.eh({
                        method: 'GET',
                        url: aq,
                        headers: gR
                    }).then(eI, fc);
                };

                function apZ() {
                    (function aqD() {
                        setTimeout(function() {
                            OX(aqD);
                        }, afx || 0);
                    }());
                };

                function alp() {
                    qk('cancelled');
                    V.xV = false;

                    function ajN() {};
                    if (!xz) {
                        OC.push(ajN);
                        return;
                    }
                    ajN();
                };
                this.Wr = function(bQ, bY, eG, bm) {
                    V.bQ = bQ;
                    V.bY = bY;
                    V.bm = bm;
                    V.bm.eG = eG;
                    V.yZ = aqX(V.bY);
                    V.xV = true;
                    V.bm.on('SearchCancelled', alp);
                    arS(function() {
                        apZ();
                    });
                    return V.bm;
                };
            };
            module.exports = WA;
        }, {}],
        166: [function(require, module, exports) {
            var ObservableCollection = require('./PCCViewer.ObservableCollection');

            function akc(clientBB) {
                this.top = clientBB.top;
                this.bottom = clientBB.bottom;
                this.left = clientBB.left;
                this.right = clientBB.right;
                this.width = clientBB.width || clientBB.right - clientBB.left;
                this.height = clientBB.height || clientBB.bottom - clientBB.top;
            };

            function vY(x, y) {
                this.x = x;
                this.y = y;
                this.getDistance = function(point) {
                    var x = point.x - this.x,
                        y = point.y - this.y,
                        d = x * x + y * y,
                        squared = false;
                    return squared ? d : Math.sqrt(d);
                };
                this.equals = function(point) {
                    return this === point || point && (this.x === point.x && this.y === point.y) || false;
                };
                this.close = function(point) {
                    return this.getDistance(point) < 4;
                };
                this.clone = function() {
                    return new vY(this.x, this.y);
                };
            };

            function Ta(bx) {
                return (bx && bx.nodeType === 1);
            };

            function KP(gG, FB) {
                var Tc = (FB && IPCC.T.Dy) ? 'm' : 'M';
                var ZY = (FB && IPCC.T.Dy) ? 'l' : 'L';
                return IPCC.T.map(gG, function(el, i) {
                    if (i === 0) {
                        return Tc + el.x + ',' + el.y;
                    } else {
                        return ZY + el.x + ',' + el.y;
                    }
                }).join('');
            };

            function adW(cX, oS, ek) {
                return function(bb) {
                    if (IPCC.T.CI && bb.type.match('mouse')) {
                        bb.preventDefault();
                        bb.stopPropagation();
                        return false;
                    }
                    if (bb.preventDefault) {
                        bb.preventDefault();
                    } else {
                        bb.returnValue = false;
                    }
                    var x, y;
                    if (bb.changedTouches) {
                        var ha = bb.changedTouches[0];
                        if (bb.type === 'touchstart') {
                            oS = bb.target.getBoundingClientRect();
                        } else if (bb.type === 'touchend') {
                            ek && ek();
                            return;
                        }
                        x = ha.clientX - oS.left;
                        y = ha.clientY - oS.top;
                    } else {
                        x = bb.clientX - oS.left;
                        y = bb.clientY - oS.top;
                    }
                    var al = new vY(x, y);
                    cX.gG.push(al);
                    var rq = KP(cX.gG);
                    if (IPCC.T.Dy) {
                        cX.hm.path = rq.toLowerCase();
                    } else {
                        cX.hm.setAttribute('d', rq);
                    }
                    ek && ek();
                };
            };

            function arZ(points) {
                var zm = 3,
                    dM = '',
                    sc;
                var qN = (points.length < zm) ? points : IPCC.T.filter(points, function(el) {
                    if (sc && sc.close(el)) {
                        return false;
                    } else {
                        sc = el;
                        return true;
                    }
                });
                if (qN.length < zm) {
                    qN = [points[0], points[points.length - 1]];
                }
                sc = undefined;
                if (qN.length < zm) {
                    dM += KP(qN);
                } else {
                    dM = 'M' + IPCC.T.bspline(qN);
                    dM = dM.replace(/\d*\.?\d*/g, function(az) {
                        var Ft = az.indexOf('.');
                        if (az.length && Ft > 0) {
                            return az.substr(0, Ft + 3);
                        } else if (az !== "") {
                            return az;
                        } else {
                            return az;
                        }
                    });
                }
                return dM;
            };

            function SignatureControl(dom) {
                var V = this;
                if (typeof dom === 'string') {
                    this.aZ = document.querySelector(dom);
                    if (!(Ta(this.aZ))) {
                        throw new Error('The query selector "' + dom + '" did not match any DOM element.');
                    }
                } else if (Ta(dom)) {
                    this.aZ = dom;
                } else {
                    throw new Error('The SignatureControl target is not a valid DOM element.');
                }
                this.FT = [];
                this.oS = new akc(this.aZ.getBoundingClientRect());
                this.fz = IPCC.T.AM.SVG([0, 0, this.oS.width, this.oS.height].join(' '));
                this.aZ.appendChild(this.fz);

                function DF(ev) {
                    var hm = IPCC.T.AM.Path(undefined, {
                        width: 2000,
                        height: 2000,
                        color: 'black',
                        thickness: 4
                    });
                    V.fz.appendChild(hm);
                    var cX = {
                        gG: [],
                        hm: hm,
                        ek: function() {
                            V.FT.push(cX.gG);
                            IPCC.T.removeEvent(V.aZ, 'mousemove', zn);
                            IPCC.T.removeEvent(V.aZ, 'mouseup', Ca);
                            if (IPCC.T.CI) {
                                IPCC.T.removeEvent(V.aZ, IPCC.T.oJ['move'], zn);
                                IPCC.T.removeEvent(V.aZ, IPCC.T.oJ['up'], Ca);
                            }
                            if (IPCC.T.HZ) {
                                IPCC.T.removeEvent(V.aZ, 'touchmove', zn);
                                IPCC.T.removeEvent(V.aZ, 'touchend', Ca);
                            }
                        }
                    };
                    var zn = adW(cX, V.oS);
                    var Ca = adW(cX, V.oS, cX.ek);
                    zn(ev);
                    IPCC.T.addEvent(V.aZ, 'mousemove', zn);
                    IPCC.T.addEvent(V.aZ, 'mouseup', Ca);
                    if (IPCC.T.CI) {
                        IPCC.T.addEvent(V.aZ, IPCC.T.oJ['move'], zn);
                        IPCC.T.addEvent(V.aZ, IPCC.T.oJ['up'], Ca);
                    }
                    if (IPCC.T.HZ) {
                        IPCC.T.addEvent(V.aZ, 'touchmove', zn);
                        IPCC.T.addEvent(V.aZ, 'touchend', Ca);
                    }
                };
                IPCC.T.addEvent(V.aZ, 'mousedown', DF);
                if (IPCC.T.CI) {
                    this.aZ.style['-ms-touch-action'] = 'none';
                    this.aZ.style['touch-action'] = 'none';
                    IPCC.T.addEvent(V.aZ, IPCC.T.oJ['down'], DF);
                }
                if (IPCC.T.HZ) {
                    IPCC.T.addEvent(V.aZ, 'touchstart', DF);
                }
                this.SF = function() {
                    V.oS = new akc(V.aZ.getBoundingClientRect());
                    V.fz.setAttribute('viewBox', [0, 0, V.oS.width, V.oS.height].join(' '));
                };
                IPCC.T.addEvent(window, 'resize', this.SF);
                this.aip = function() {
                    IPCC.T.removeEvent(window, 'resize', V.SF);
                    IPCC.T.removeEvent(V.aZ, 'mousedown', DF);
                    if (IPCC.T.CI) {
                        IPCC.T.removeEvent(V.aZ, IPCC.T.oJ['down'], DF);
                    }
                    if (IPCC.T.HZ) {
                        IPCC.T.removeEvent(V.aZ, 'touchstart', DF);
                    }
                    while (V.aZ.firstChild) {
                        V.aZ.removeChild(V.aZ.firstChild);
                    }
                };
            };
            SignatureControl.prototype.done = function() {
                var mP, mJ, mK, mC, rq = 'M0,0',
                    aep = this;
                IPCC.T.forEach(aep.FT, function(oW) {
                    IPCC.T.forEach(oW, function(p) {
                        if (mP === undefined || mP > p.x) {
                            mP = p.x;
                        }
                        if (mJ === undefined || mJ > p.y) {
                            mJ = p.y;
                        }
                        if (mK === undefined || mK < p.x) {
                            mK = p.x;
                        }
                        if (mC === undefined || mC < p.y) {
                            mC = p.y;
                        }
                    });
                });
                IPCC.T.forEach(aep.FT, function(oW) {
                    var awa = IPCC.T.map(oW, function(p) {
                        return new vY(p.x - mP, p.y - mJ);
                    });
                    rq += arZ(awa);
                });
                this.aip();
                return {
                    type: 'path',
                    path: rq,
                    width: (mK - mP) || 0,
                    height: (mC - mJ) || 0
                };
            };
            SignatureControl.prototype.resize = function() {
                this.SF();
                return this;
            };
            SignatureControl.prototype.clear = function() {
                var svg = this.fz;
                while (svg && svg.firstChild) {
                    svg.removeChild(svg.firstChild);
                }
                this.FT = [];
                return this;
            };
            SignatureControl.prototype.undo = function() {
                if (this.fz.lastChild) {
                    this.fz.removeChild(this.fz.lastChild);
                }
                this.FT.pop();
                return this;
            };
            SignatureControl.prototype.cancel = function() {
                this.aip();
                return this;
            };
            var Signatures = new ObservableCollection();
            var SignatureDisplay = function(domElement, signature) {
                function handleSignatureAsPath() {
                    if (!signature.path || signature.path.match(/[^MLC0-9.,\s]/)) {
                        throw new Error('A valid path is required in the signature object.');
                    }
                    var qa = IPCC.T.UD(signature.path);
                    var fz = IPCC.T.AM.SVG([0, 0, qa.width, qa.height].join(' '));
                    var hm = IPCC.T.AM.Path(signature.path, {
                        width: qa.width,
                        height: qa.height,
                        color: 'black',
                        thickness: 4
                    });
                    if (IPCC.T.Dy) {
                        var axx = (qa.height / qa.width) * 100;
                        fz.style.width = hm.style.width = '100%';
                        fz.style.height = hm.style.height = '0px';
                        fz.style.paddingBottom = hm.style.paddingBottom = axx + '%';
                    } else {
                        fz.style.width = '100%';
                        fz.style.maxHeight = '100%';
                        fz.setAttribute('preserveAspectRatio', 'xMinYMin meet');
                    }
                    fz.appendChild(hm);
                    domElement.appendChild(fz);
                    return {
                        width: qa.width,
                        height: qa.height,
                        clear: function() {
                            domElement.removeChild(fz);
                        }
                    };
                };

                function handleSignatureAsText() {
                    if (!signature.text || typeof signature.text !== 'string') {
                        throw new Error('The signature text is not a valid string.');
                    }
                    var jy = document.createElement('div');
                    var nd = document.createTextNode(signature.text);
                    var jH = (typeof signature.fontName === 'string') ? signature.fontName : 'serif';
                    jy.appendChild(nd);
                    jy.style.textAlign = 'center';
                    jy.style.fontFamily = '"' + jH + '", cursive';
                    jy.style.fontSize = '2.5em';
                    jy.style.overflow = 'hidden';
                    domElement.appendChild(jy);
                    var qa = IPCC.T.tJ(signature.text, jH);
                    return {
                        width: qa.width,
                        height: qa.height,
                        clear: function() {
                            domElement.removeChild(jy);
                        }
                    };
                };
                if (!Ta(domElement)) {
                    throw new Error('The `domElement` parameter is not a valid HTMLElement.');
                } else if (!signature) {
                    throw new Error('The `signature` parameter is required.');
                } else if (signature.path) {
                    return handleSignatureAsPath();
                } else if (signature.text) {
                    return handleSignatureAsText();
                } else {
                    throw new Error('The signature provided does not have a known type.');
                }
            };
            module.exports = {
                SignatureControl: function(dom) {
                    return new SignatureControl(dom);
                },
                SignatureDisplay: SignatureDisplay,
                Signatures: Signatures
            };
        }, {
            "./PCCViewer.ObservableCollection": 156
        }],
        167: [function(require, module, exports) {
            var UY = function() {},
                kz = {
                    aeY: 0,
                    awj: 1,
                    atS: 2
                };
            var ThumbnailControl = function(domElement, viewerControl) {
                if (!domElement || !IPCC.T.xa(domElement)) {
                    throw new Error('The "domElement" parameter is not a valid HTML Element');
                }
                if (!viewerControl || !(viewerControl instanceof PCCViewer.ViewerControl)) {
                    throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');
                }
                var V = this;
                this.kz = kz.aeY;
                this.bU = viewerControl.bU;
                this._debug = !!this.bU.debug;
                this.aGC = "Single";
                this.Kj = [];
                this.qd = {};
                if (!this.ae) {
                    this.ae = viewerControl;
                } else {
                    throw new Error("This instance of thumbnail already is attached to a ViewerControl.");
                }
                PCCViewer.EventEmitter.extend(this);
                this.bo = domElement;
                if (viewerControl.oH) {
                    V.kz = kz.atS;
                    V.Vi(viewerControl.getPageCount());
                    V.UF(V.bo);
                } else {
                    V.kz = kz.awj;
                    V.Vi(1, 0);
                    viewerControl.on('PageCountReady', function() {
                        V.Vi(viewerControl.getPageCount(), 1);
                        V.UF(V.bo);
                    });
                }
                viewerControl.on('PageRotated', function(bb) {
                    IPCC.T.forEach(V.qd, function(bh) {
                        if (bh.aw === (bb.pageNumber - 1)) {
                            if (bh.vW === true) {
                                V.WQ(bh);
                            }
                        }
                    });
                });
                viewerControl.on('DocumentRotated', function(bb) {
                    IPCC.T.forEach(V.qd, function(bh) {
                        if (bh.vW === true) {
                            V.WQ(bh);
                        }
                    });
                });
            };
            ThumbnailControl.prototype.getViewerControl = function() {
                return this.ae;
            };
            ThumbnailControl.prototype.Vi = function(ee, gS) {
                gS = gS || 0;
                var V = this,
                    Je = document.createDocumentFragment();
                for (var i = gS; i < ee; i++) {
                    var _parent = document.createElement('div');
                    _parent.className = 'pccThumbnailWrapper';
                    var eC = document.createElement('div');
                    eC.className = 'pccThumbnail';
                    var sn = document.createElement('div');
                    sn.className = 'pccThumbnailView';
                    sn.id = 'pcc-thumbnailPage-' + i + '-' + IPCC.wv();
                    eC.appendChild(sn);
                    _parent.appendChild(eC);
                    Je.appendChild(_parent);
                    V.qd[i] = {
                        Tg: _parent,
                        aZ: eC,
                        sn: sn,
                        aw: i,
                        by: {},
                        vW: false,
                        kx: 0,
                        ki: 0,
                        hk: 0
                    };
                }
                IPCC.T.forEach(V.qd, function(bh) {
                    var YX = document.createElement('div'),
                        vx = document.createElement('span'),
                        aAw = document.createTextNode(bh.aw + 1);
                    YX.className = 'pccThumbnailLabel';
                    vx.appendChild(aAw);
                    YX.appendChild(vx);
                    bh.aZ.appendChild(YX);
                    bh.aZ.onclick = function() {
                        V.acU([bh.aw + 1]);
                    };
                });
                V.bo.appendChild(Je);
                this.Ze();
                return this;
            };
            ThumbnailControl.EventType = {
                PageSelectionChanged: "PageSelectionChanged"
            };
            ThumbnailControl.prototype.getSelectedPages = function getSelectedPages() {
                if (!this.kz) {
                    return [];
                }
                return [].concat(this.Kj);
            };
            ThumbnailControl.prototype.setSelectedPages = function setSelectedPages(pageNumbers) {
                if (!this.kz) {
                    return this;
                }
                var ee = this.ae.getPageCount();
                if (typeof pageNumbers === 'number') {
                    pageNumbers = [pageNumbers];
                } else if (Object.prototype.toString.call(pageNumbers) !== '[object Array]') {
                    throw new Error(pageNumbers + ' is not a number or an array of numbers');
                }
                IPCC.T.forEach(pageNumbers, function(hd, C) {
                    if (isNaN(hd)) {
                        throw new Error(hd + ' (array index ' + C + ') is not a number');
                    }
                    if (hd < 1 || hd > ee) {
                        throw new Error(hd + ' (array index ' + C + ') is out of range');
                    }
                });
                this.acU([].concat(pageNumbers).sort());
                return this;
            };
            if (Object.defineProperties) {
                Object.defineProperties(ThumbnailControl.prototype, {
                    "selectedPages": {
                        enumerable: true,
                        get: function() {
                            return this.getSelectedPages();
                        },
                        set: function(pageNumbers) {
                            return this.setSelectedPages(pageNumbers);
                        }
                    },
                    "viewerControl": {
                        enumerable: true,
                        get: function() {
                            return this.getViewerControl();
                        }
                    },
                    "visiblePages": {
                        emunerable: true,
                        get: function() {
                            return this.getVisiblePages();
                        }
                    }
                });
            }
            ThumbnailControl.prototype.scrollTo = function(pageNumber, options) {
                var hd = Number(pageNumber);
                if (hd !== (hd | 0) || hd < 1 || hd > this.ae.getPageCount()) {
                    throw new Error(pageNumber + ' is not a valid page number');
                }
                var mZ = false,
                    V = this,
                    bU = options || {};
                IPCC.T.forEach(this.qd, function(bh) {
                    if (mZ) {
                        return;
                    }
                    if (bh.aw + 1 === hd) {
                        mZ = true;
                        V.ZA(bh, undefined, !!bU.forceAlignTop);
                    }
                });
                return this;
            };
            ThumbnailControl.prototype.ZA = function(bh, jX, auF) {
                jX = jX || IPCC.T.Vq(this.bo.getBoundingClientRect());
                var vf = IPCC.T.Vq(bh.Tg.getBoundingClientRect());
                if (vf.top > jX.top && vf.bottom < jX.bottom) {
                    return;
                }
                var agf = window.getComputedStyle ? getComputedStyle(bh.Tg) : bh.Tg.currentStyle,
                    hf;
                if (vf.top < jX.top || auF) {
                    hf = vf.top - jX.top + this.bo.scrollTop - parseInt(agf.marginTop, 10);
                } else if (vf.bottom > jX.bottom) {
                    hf = vf.bottom - jX.top - jX.height + this.bo.scrollTop + parseInt(agf.marginBottom, 10);
                }
                if (hf !== undefined) {
                    this.bo.scrollTop = hf;
                }
                return this;
            };
            ThumbnailControl.prototype.acU = function(kq) {
                if (IPCC.T.auh(this.Kj, kq)) {
                    return this;
                }
                var WW = 'pcc-thumbnail-selected',
                    Hw = new RegExp(WW),
                    XD = false,
                    abL = [].concat(kq),
                    abr = abL.shift(),
                    aaf = false,
                    jX = IPCC.T.Vq(this.bo.getBoundingClientRect()),
                    V = this;
                IPCC.T.forEach(this.qd, function(bh) {
                    if (bh.aw === abr - 1) {
                        IPCC.T.amJ(bh.aZ, WW);
                        XD = true;
                        abr = abL.shift() || 0;
                        if (!aaf) {
                            aaf = true;
                            V.ZA(bh, jX);
                        }
                        return;
                    }
                    if (Hw.test(bh.aZ.className)) {
                        IPCC.T.afT(bh.aZ, WW);
                        XD = true;
                    }
                });
                this.Kj = kq;
                if (XD) {
                    this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged, {
                        pageNumbers: [].concat(this.Kj)
                    });
                }
                return this;
            };
            ThumbnailControl.prototype.awF = function() {
                var bX = this.Ot(),
                    V = this,
                    wr;
                IPCC.T.forEach(bX, function(bh) {
                    if (!wr && IPCC.T.inArray(V.Kj, bh.aw + 1)) {
                        wr = bh;
                    }
                });
                if (!wr) {
                    wr = bX[0];
                }
                return wr;
            };
            ThumbnailControl.prototype.reflow = function() {
                if (!this.kz) {
                    return this;
                }
                var Ff, DG, bL, aS, Ml, MG, hk, wr = this.awF();
                IPCC.T.forEach(this.qd, function(bh) {
                    if (bh.vW) {
                        bh.aZ.style.height = bh.sn.style.height = '';
                        bh.aZ.style.width = bh.sn.style.width = '';
                    }
                });
                IPCC.T.forEach(this.qd, function(bh) {
                    if (bh.vW && bh.by.dZ()) {
                        Ff = bh.aZ.offsetWidth;
                        DG = bh.aZ.offsetHeight;
                        hk = bh.by.aDH();
                        if (Math.abs(hk) === 90 || Math.abs(hk) === 270) {
                            aS = bh.by.kt();
                            bL = bh.by.jk();
                        } else {
                            bL = bh.by.kt();
                            aS = bh.by.jk();
                        }
                        Ml = bL / aS;
                        MG = Ff / DG;
                        var kx, ki;
                        if (Ml < MG) {
                            ki = DG;
                            kx = Math.floor(ki * bL / aS);
                        } else {
                            kx = Ff;
                            ki = Math.floor(kx * aS / bL);
                        }
                        bh.kx = kx;
                        bh.ki = ki;
                    }
                });
                IPCC.T.forEach(this.qd, function(bh) {
                    if (bh.vW && bh.by && bh.by.dZ()) {
                        bh.sn.style.height = bh.ki + 'px';
                        bh.sn.style.width = bh.kx + 'px';
                        bh.by.XB(IPCC.Web.UI.FitType.FullImage);
                        bh.by.dv();
                    }
                });
                if (wr) {
                    this.ZA(wr);
                }
                this.Ze();
                return this;
            };
            ThumbnailControl.prototype.destroy = function() {
                if (!this.kz) {
                    return this;
                }
                this.kz = kz.aeY;
                IPCC.T.forEach(this.qd, function(bh) {
                    if (bh.by && bh.by.dispose) {
                        bh.by.dispose();
                    }
                });
                while (this.bo.firstChild) {
                    this.bo.removeChild(this.bo.firstChild);
                }
                this.on = this.off = this.trigger = UY;
                this.ia = {};
            };
            ThumbnailControl.prototype.getVisiblePages = function() {
                if (!this.kz) {
                    return [];
                }
                var bX = this.Ot();
                return IPCC.T.map(bX, function(bh) {
                    return bh.aw + 1;
                });
            };
            ThumbnailControl.prototype.Ot = function Ot() {
                var aFM = this.bo.getBoundingClientRect(),
                    vf;

                function TG(jX, Sl) {
                    return (!(Sl.top >= jX.bottom || Sl.left >= jX.right || Sl.bottom <= jX.top || Sl.right <= jX.left));
                };
                return IPCC.T.filter(this.qd, function(bh) {
                    vf = bh.aZ.getBoundingClientRect();
                    return TG(aFM, vf);
                });
            };
            ThumbnailControl.prototype.Ze = function() {
                var V = this,
                    bX = V.Ot();
                IPCC.T.forEach(bX, function(bh) {
                    if (!bh.vW) {
                        bh.by = V.jq(bh);
                        bh.vW = true;
                    }
                });
                return this;
            };
            ThumbnailControl.prototype.UF = function UF(aZ) {
                var Mf = {},
                    V = this;

                function awM(aN, vz, uM) {
                    if (Mf[aN]) {
                        clearTimeout(Mf[aN]);
                        Mf[aN] = undefined;
                    }
                    Mf[aN] = setTimeout(vz, uM || 0);
                };
                IPCC.Web.UI.ao.addHandler(aZ, 'scroll', function(ev) {
                    awM('scroll', function() {
                        V.Ze();
                    }, 300);
                });
            };
            ThumbnailControl.prototype.jq = function(bh, mE) {
                var V = this;
                mE = mE || UY;
                var bB = {
                    documentIdentifier: V.bU.documentID,
                    pageNumber: bh.aw,
                    viewFitType: IPCC.Web.UI.FitType.FullImage,
                    imageHandlerUrl: V.bU.imageHandlerUrl,
                    encryption: V.bU.encryption,
                    handleTouchEvents: false
                };
                var by = IPCC.initializePageViewPlugin(bh.sn, bB);
                by.set_debug(V._debug);
                by.set_mouseTool(IPCC.Web.UI.MouseTool.None);
                var yj = false;

                function GJ() {
                    mE();
                };
                by.add_pageOpened(function() {
                    V.WQ(bh);
                });
                by.add_pageDisplayed(function() {
                    if (!yj) {
                        GJ();
                    }
                });
                by.add_textPageReady(function() {
                    if (yj) {
                        by.dv();
                        GJ();
                    }
                });
                by.add_pageOpenFailed(function() {});
                by.add_textExtractionFailed(function() {});
                bB.artPage = V.ae.ab.gZ(V.ae.cI.getPage(bh.aw));
                bB.artPage.Cx(function(L) {
                    if (L.get_type() === 608) {
                        yj = true;
                    }
                });
                by.aGy(bB);
                by.set_mouseTool(IPCC.Web.UI.MouseTool.None);
                return by;
            };
            ThumbnailControl.prototype.WQ = function(bh) {
                var V = this;
                var Gw = V.ae.ab.Yk(bh.aw);
                var hk = bh.hk;
                var adT = hk;
                if (Gw !== bh.hk) {
                    adT = Gw - hk;
                }
                var by = bh.by,
                    jy = bh.sn,
                    aS, bL;
                if (!bh.vW || !by.dZ()) {
                    return;
                }
                jy.style.height = '';
                jy.style.width = '';
                if (Math.abs(Gw) === 90 || Math.abs(Gw) === 270) {
                    aS = by.kt();
                    bL = by.jk();
                } else {
                    aS = by.jk();
                    bL = by.kt();
                }
                var Ff = jy.offsetWidth,
                    DG = jy.offsetHeight;
                if (bh.hk !== Gw) {
                    by.rotate(adT);
                    bh.hk = Gw;
                }
                var Ml = bL / aS,
                    MG = Ff / DG;
                var kx, ki;
                if (Ml < MG) {
                    ki = DG;
                    kx = Math.floor(ki * bL / aS);
                } else {
                    kx = Ff;
                    ki = Math.floor(kx * aS / bL);
                }
                jy.style.height = ki + 'px';
                jy.style.width = kx + 'px';
            };
            module.exports = ThumbnailControl;
        }, {}],
        168: [function(require, module, exports) {
            function ahc(message, value) {
                var err = new Error('PCC Range Error: ' + message);
                err.value = value;
                return err;
            };

            function apY(axS) {
                var bJ = [];
                var ahh = function(n) {
                    return !(isNaN(+n));
                };
                var ade = axS.split(',');
                var Nr, aaE;
                var OS = 0;
                var ym = 0;
                for (var C = 0; C < ade.length; C++) {
                    var Gu = ade[C].split('-');
                    var EB = Gu[0].replace(/\s+/g, '');
                    if (EB.length === 0) {
                        continue;
                    }
                    var Gc = EB;
                    if (Gu[1] !== undefined && Gu[1] !== "") {
                        Gc = Gu[1].replace(/\s+/g, '');
                    }
                    EB = +(EB);
                    Gc = +(Gc);
                    if (ahh(EB) === true) {
                        OS = parseInt(EB);
                    }
                    if (ahh(Gc) === true) {
                        ym = parseInt(Gc);
                    }
                    if (OS < ym) {
                        Nr = OS;
                        aaE = ym;
                    } else {
                        Nr = ym;
                        aaE = OS;
                    }
                    if (Gu.length > 1) {
                        for (var ay = Nr; ay <= aaE; ay++) {
                            bJ.push(ay);
                        }
                    } else {
                        bJ.push(Nr);
                    }
                }
                bJ.sort(function(a, b) {
                    return a - b;
                });
                for (C = bJ.length - 1; C > 0; C--) {
                    if (bJ[C - 1] === bJ[C]) {
                        bJ.splice(C, 1);
                    }
                }
                return bJ;
            };
            var alternateObjectURL = function(blob, str) {
                blob.data = str;
                var type = blob.type,
                    data_URI_header;
                if (type === null) {
                    type = "application/octet-stream";
                }
                data_URI_header = "data:" + type;
                if (blob.encoding === "base64") {
                    return data_URI_header + ";base64," + blob.data;
                } else if (blob.encoding === "URI") {
                    return data_URI_header + "," + decodeURIComponent(blob.data);
                }
                if (btoa) {
                    return data_URI_header + ";base64," + btoa(blob.data);
                } else {
                    return data_URI_header + "," + encodeURIComponent(blob.data);
                }
            };
            var Util = {
                save: function(filename, stringValue) {
                    if ('Blob' in window) {
                        var blob = new Blob([stringValue], {
                            'type': 'text/plain;charset=utf-8'
                        });
                        if (window.navigator.msSaveBlob) {
                            window.navigator.msSaveBlob(blob, filename);
                        } else if (window.saveAs) {
                            window.saveAs(blob, filename);
                        } else if (window.URL && window.URL.createObjectURL) {
                            var a = document.createElement('a');
                            a.href = URL.createObjectURL(blob);
                            a.target = '_blank';
                            a.download = filename;
                            a.style.display = 'none';
                            document.body.appendChild(a);
                            a.click();
                            document.body.removeChild(a);
                        } else {
                            var objectURL = alternateObjectURL(blob, stringValue);
                            window.open(objectURL);
                        }
                    } else {
                        if (document.execCommand) {
                            var oWin = window.open('about:blank', '_blank');
                            oWin.document.write(stringValue);
                            oWin.document.close();
                            oWin.document.execCommand('SaveAs', true, filename + '.txt');
                            oWin.close();
                        }
                    }
                },
                calculateNonOverlappingSelections: function(selections, backgroundColor) {
                    var hA;
                    if (!(selections instanceof Array)) {
                        hA = [selections];
                    } else {
                        hA = selections;
                    }
                    IPCC.T.forEach(hA, function(cW) {
                        IPCC.aR.mW(cW.startIndex, 'selection.startIndex', 0, Number.MAX_VALUE);
                        IPCC.aR.mW(cW.length, 'selection.length', 1, Number.MAX_VALUE);
                        IPCC.aR.cl(cW.color, 'selection.color');
                        IPCC.aR.mW(cW.opacity, 'selection.opacity', 0, 255);
                    });
                    IPCC.aR.cl(backgroundColor, 'backgroundColor');
                    var aoF = IPCC.T.afs(hA);
                    return IPCC.T.map(aoF, function(bx) {
                        bx.length = bx.endIndex - bx.startIndex + 1;
                        return bx;
                    });
                },
                layerColors: function(colors, backgroundColor) {
                    var QC;
                    if (!(colors instanceof Array)) {
                        QC = [colors];
                    } else {
                        QC = colors;
                    }
                    IPCC.T.forEach(QC, function(cW) {
                        IPCC.aR.cl(cW.color, 'selection.color');
                        IPCC.aR.mW(cW.opacity, 'selection.opacity', 0, 255);
                    });
                    IPCC.aR.cl(backgroundColor, 'backgroundColor');
                    return IPCC.T.ahw(QC, backgroundColor);
                },
                validatePageRange: function(pageRange, options) {
                    if (pageRange && typeof pageRange !== 'string') {
                        return false;
                    } else {
                        try {
                            PCCViewer.Util.convertPageRangeToArray(pageRange, options);
                        } catch (e) {
                            return false;
                        }
                        return true;
                    }
                },
                convertPageRangeToArray: function(pageRange, options) {
                    options = options || {};
                    var lowerLimit = options.lowerLimit || 1,
                        upperLimit = options.upperLimit || Number.MAX_VALUE,
                        allowEmpty = options.allowEmpty || false;
                    if (pageRange !== 'all' && pageRange.match(/[^0-9\-\,\s]/g)) {
                        throw ahc('Illegal page range value', pageRange);
                    }
                    var dQ = [];
                    if (pageRange === 'all') {
                        while (upperLimit >= lowerLimit) {
                            dQ.unshift(upperLimit--);
                        }
                    } else {
                        dQ = apY(pageRange);
                        if ((dQ.length === 0 && !allowEmpty) || dQ[0] < lowerLimit || dQ[dQ.length - 1] > upperLimit) {
                            throw ahc('Pages are out of range', dQ.join(', '));
                        }
                    }
                    return dQ;
                }
            };
            module.exports = Util;
        }, {}],
        169: [function(require, module, exports) {
            var EF = {
                Document: "Document",
                EqualWidthPages: "EqualWidthPages",
                SinglePage: "SinglePage",
                EqualFitPages: "EqualFitPages"
            };
            module.exports = EF;
        }, {}],
        170: [function(require, module, exports) {
            "use strict";
            var IPCC = require('./../IPCC/IPCC');
            var rO = require('./PCCViewer.Helper');
            var Print = require('./PCCViewer.Print');
            var EventEmitter = require('./PCCViewer.EventEmitter');
            var dz = require('./PCCViewer.MarkDeserializer');
            var eY = require('./PCCViewer.MarkSerializer');

            function ViewerControl(element, options) {
                if (!(this instanceof ViewerControl)) {
                    return new ViewerControl(element, options);
                }
                if (!IPCC.T.xa(element)) {
                    throw new Error("The 'element' argument is required.");
                }
                if (!options.documentID) {
                    throw new Error("A valid value for 'options.documentID' is required");
                }
                if (!options.imageHandlerUrl) {
                    throw new Error("A valid value for 'options.imageHandlerUrl' is required");
                }
                var V = this;
                IPCC.T.OI(element);
                var kN = document.createElement('div');
                kN.className = 'pccViewerControl';
                kN.id = 'pccViewerControl-' + IPCC.wv();
                element.appendChild(kN);
                this.db = kN;
                this.gx = element;
                var rE = document.createElement('div');
                rE.className = 'pccPageListLoading';
                kN.appendChild(rE);
                this.rE = rE;
                EventEmitter.extend(this);
                this.wK = false;
                this.bU = rO.sv({}, ViewerControl.AK, options);
                this.bU.language = rO.sv({}, ViewerControl.aoz, (options.language ? options.language : {}));
                if (options.language) {
                    PCCViewer.Language.initializeData(options.language);
                }
                if (this.bU.pageLayout.toLowerCase() === "vertical") {
                    this.bU.pageLayout = IPCC.PageLayout.VerticalScrollDirection;
                } else if (this.bU.pageLayout.toLowerCase() === "horizontal") {
                    this.bU.pageLayout = IPCC.PageLayout.HorizontalScrollDirection;
                } else {
                    throw new Error("The value of 'options.pageLayout' is invalid.");
                }
                if (this.bU.viewMode.toLowerCase() === "document") {
                    this.bU.viewMode = IPCC.ViewMode.Document;
                } else if (this.bU.viewMode.toLowerCase() === "equalwidthpages") {
                    this.bU.viewMode = IPCC.ViewMode.EqualWidthPages;
                } else if (this.bU.viewMode.toLowerCase() === "equalfitpages") {
                    this.bU.viewMode = IPCC.ViewMode.EqualFitPages;
                } else if (this.bU.viewMode.toLowerCase() === "singlepage") {
                    this.bU.viewMode = IPCC.ViewMode.SinglePage;
                } else {
                    throw new Error("The value of 'options.viewMode' is invalid.");
                }

                function isValidSearchMethodType() {
                    return -1 < ['auto', 'server', 'client'].indexOf(V.bU.searchMethodType.toLowerCase());
                };
                if (!isValidSearchMethodType()) {
                    throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");
                }
                if (isNaN(this.bU.searchMethodPageCountThreshold) && (typeof this.bU.searchMethodPageCountThreshold !== 'number') && this.bU.searchMethodPageCountThreshold <= 1) {
                    throw new Error("The value of 'options.searchMethodPageCountThreshold' must be a number greater than 1.");
                }
                if (this.bU.redactionViewMode) {
                    if (this.bU.redactionViewMode.toLowerCase() === "draft") {
                        this.bU.redactionViewMode = PCCViewer.RedactionViewMode.Draft;
                    } else if (this.bU.redactionViewMode.toLowerCase() === "normal") {
                        this.bU.redactionViewMode = PCCViewer.RedactionViewMode.Normal;
                    }
                } else {
                    this.bU.redactionViewMode = PCCViewer.RedactionViewMode.Normal;
                }
                var iO = this.bU.pageRotation % 360;
                if (iO !== 0) {
                    var wa = [90, 180, 270, -90, -180, -270];
                    if (Array.prototype.indexOf) {
                        if (!iO || wa.indexOf(iO) === -1) {
                            throw new Error("The value of 'options.pageRotation' is invalid.");
                        }
                    } else {
                        if (!iO || IPCC.Web.jA(wa, iO) === -1) {
                            throw new Error("The value of 'options.pageRotation' is invalid.");
                        }
                    }
                }
                this.bU.pageRotation = iO;
                if (this.bU.markHandleMode.toLowerCase() === "hidesidehandleswhenclose") {
                    this.bU.markHandleMode = IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;
                } else if (this.bU.markHandleMode.toLowerCase() === "hidecornerhandleswhenclose") {
                    this.bU.markHandleMode = IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;
                } else {
                    throw new Error("The value of 'options.markHandleMode' is invalid.");
                }
                if (isNaN(this.bU.serviceResponseTimeout) || typeof this.bU.serviceResponseTimeout !== 'number' || this.bU.serviceResponseTimeout < 0) {
                    throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");
                }
                if (typeof this.bU.debug !== 'boolean') {
                    throw new Error("The value of 'options.debug' is invalid.");
                }
                if (typeof this.bU.viewerAssetsPath !== 'string') {
                    throw new Error("The value of 'options.viewerAssetsPath' is invalid.");
                }
                this.ia = {};
                this.aq = "";
                this.ee = 1;
                this.afh = 1;
                this.abl = 0;
                this.lm = 1;
                this.ab = undefined;
                this.VJ = new PCCViewer.Deferred();
                this.qJ = this.VJ.getPromise();
                this.ef = false;
                this.bQ = undefined;
                this.NY = 0;
                this.cI = undefined;
                this.cJ = PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");
                this.oH = false;
                this.zv = false;
                this.Dv = false;
                this.BY = [];
                this.PZ = new PCCViewer.Deferred();
                this.aBZ = this.PZ.getPromise();
                this.yC = [];
                this.dm = {};
                this.Ew = [];
                this.DN = [];
                this.bd = null;
                this.JR = {};
                this.gf = null;
                this.nk = new PCCViewer.MarkupLayerCollection(this);
                this.uh = new PCCViewer.MarkupLayer(this);
                this.nk.addItem(this.uh);
                this.sB = true;
                setTimeout(function() {
                    V.aeL(kN, V.bU);
                }, 0);
                this.yz = null;
                this.bm = null;
                this.yl = false;
                this.Fs = -1;
                this.Gg = {};
                this.akZ = false;
                this.ayQ = this.bU.printTemplate || (this.bU.template ? this.bU.template.print : "");
                this.jZ = null;
                this.wg = null;
                this.lK = function(dq, fk, amr) {
                    var cr = document.createElement('div'),
                        eF = cr.style;
                    eF.position = 'absolute';
                    if (fk.isSelected) {
                        eF.backgroundColor = 'white';
                    } else {
                        eF.backgroundColor = 'lightgray';
                    }
                    eF.left = '10px';
                    eF.right = '0';
                    eF.textAlign = 'left';
                    IPCC.T.forEach(dq.getComments(), function(po, C) {
                        var WX = document.createElement('div'),
                            Pl = WX.style;
                        Pl.position = 'relative';
                        Pl.padding = '5px';
                        Pl.border = '1px solid gray';
                        if (C > 0) {
                            Pl.borderTop = 'none';
                        }
                        WX.appendChild(document.createTextNode(po.getText()));
                        cr.appendChild(WX);
                    });
                    return cr;
                };
                return V;
            };
            ViewerControl.AK = {
                encryption: false,
                viewMode: "Document",
                debug: false,
                pageLayout: "Vertical",
                resourcePath: "img",
                serviceResponseTimeout: 60 * 1000,
                printTemplate: "",
                pageRotation: 0,
                markHandleMode: "HideSideHandlesWhenClose",
                debugErrorLevel: IPCC.Web.UI.DebugErrorLevel.Detailed,
                maxPrefetch: 3,
                displayPagesWhenScrolling: true,
                maxOutOfViewDisplay: 0,
                scrollDisplayThreshold: 0.5,
                requireRequestsOptimize: true,
                loadingContent: "",
                redactionViewMode: "Normal",
                searchMethodType: 'auto',
                searchMethodPageCountThreshold: 80,
                viewerAssetsPath: 'viewer-assets'
            };
            ViewerControl.aoz = {
                pageLoadFailed: "Page Load Failed",
                pageLoadFailedPassword: "Page Load Failed - Password Required",
                pageLoadFailedRetry: "Retry"
            };
            ViewerControl.prototype.aeL = function(element, options) {
                if (this.wK) {
                    return;
                }
                var V = this;
                var SU = function() {
                    if (V.bU.viewMode === IPCC.ViewMode.SinglePage || V.wK) {
                        return;
                    }
                    var apG = V.ab.get_pageNodeId(V.getPageNumber() - 1);
                    var bN = document.getElementById(apG);
                    var aae = V.db.childNodes[0].childNodes[0].childNodes[0].childNodes;
                    if (!bN) {
                        return;
                    }
                    IPCC.T.forEach(aae, function(jB) {
                        if (bN !== jB) {
                            if (document.documentMode === 8 && jB.style.outline) {
                                jB.style.outline = '';
                            } else if (jB.style.boxShadow) {
                                jB.style.boxShadow = '';
                            }
                        }
                    });
                    if (document.documentMode === 8) {
                        bN.style.outline = '2px solid #aaa';
                    } else {
                        bN.style.boxShadow = '0 0 4px 1px rgba(0,0,0,.4)';
                    }
                };
                var ajM = function() {
                    if (V.rE.parentNode) {
                        V.rE.parentNode.removeChild(V.rE);
                    }
                    V.ab.remove_pageOpenFailed(Rh);
                    V.ab.remove_pageDisplayed(ajM);
                    var aw = arguments[1].pageIndex;
                    setTimeout(function() {
                        V.trigger("PageDisplayed", {
                            pageNumber: (aw + 1)
                        });
                        SU();
                    }, 10);
                    if (aw !== 0) {
                        return;
                    }

                    function eI(aX) {
                        if (V.wK) {
                            return;
                        }
                        var bk;
                        if (aX.status === 200) {
                            if (typeof JSON !== 'undefined') {
                                bk = JSON.parse(aX.responseText);
                            } else {
                                bk = IPCC.ce.tg(aX.responseText);
                            }
                            if (bk.pageCountConfidence < 100) {
                                var aq;
                                if (!(/^[\x00-\x7F]*$/.test(qw))) {
                                    aq = V.bU.imageHandlerUrl + passURL + '/Document/q/Attributes?DocumentID=e' + qw + '&DesiredPageCountConfidence=100';
                                } else {
                                    aq = V.bU.imageHandlerUrl + passURL + '/Document/q/Attributes?DocumentID=u' + encodeURIComponent(V.bU.documentID) + '&DesiredPageCountConfidence=100';
                                }
                                PCCViewer.Ajax.eh({
                                    method: 'GET',
                                    url: aq,
                                    headers: {
                                        'Content-Type': 'application/json'
                                    }
                                }).then(eI, fc);
                                V.ee = bk.pageCount;
                                V.bQ.ee = bk.pageCount;
                                V.Dv = true;
                                setTimeout(function() {
                                    V.trigger("EstimatedPageCountReady", {
                                        pageCount: bk.pageCount
                                    });
                                }, 10);
                                anv();
                            } else {
                                if (V.ee > 1) {
                                    V.bQ.ee = bk.pageCount;
                                    setTimeout(function() {
                                        var C;
                                        if (bk.pageCount < V.ee) {
                                            for (C = V.ee - 1; C >= bk.pageCount; C--) {
                                                V.cI.removePage(C);
                                            }
                                        } else if (bk.pageCount > V.ee) {
                                            for (C = V.ee; C < bk.pageCount; C++) {
                                                var TF = new IPCC.Web.UI.ImGearPage({
                                                    pageNumber: C
                                                });
                                                V.cI.addPage(TF);
                                            }
                                        }
                                        V.ee = bk.pageCount;
                                        if (V.ef === true) {
                                            V.oH = true;
                                            V.zv = true;
                                            setTimeout(function() {
                                                V.trigger("PageCountReady", {
                                                    pageCount: bk.pageCount
                                                });
                                            }, 30);
                                        }
                                    }, 30);
                                } else {
                                    V.ee = bk.pageCount;
                                    V.bQ.ee = bk.pageCount;
                                    if (V.ef === true) {
                                        anv(function() {
                                            V.oH = true;
                                            V.zv = true;
                                            setTimeout(function() {
                                                V.trigger("PageCountReady", {
                                                    pageCount: bk.pageCount
                                                });
                                            }, 0);
                                        });
                                    }
                                }
                            }
                        }
                    };

                    function fc(bk) {
                        if (V.wK) {
                            return;
                        }
                        var Xc = "None",
                            alM, Wm;
                        var alb = bk.response.getResponseHeader('Accusoft-Status-Message');
                        if (alb) {
                            Xc = alb;
                            Wm = bk.response.getResponseHeader('Accusoft-Status-Number');
                            if (IPCC.Web.vR(Wm)) {
                                alM = parseInt(Wm, 10);
                            }
                        } else if (bk.response.statusText) {
                            Xc = bk.response.statusText;
                        }
                        setTimeout(function() {
                            V.trigger("PageLoadFailed", {
                                statusCode: bk.response.status,
                                errorMessage: Xc,
                                accusoftErrorNumber: alM
                            });
                        }, 1);
                        throw ("Unable to obtain document information from the server");
                    };
                    var qw = IPCC.gL.su(V.bU.documentID);
                    if (!qw || qw === "") {
                        throw ("Invalid encoded Identifier");
                    }
                    if (!(/^[\x00-\x7F]*$/.test(qw))) {
                        V.aq = V.bU.imageHandlerUrl + passURL +  '/Document/q/Attributes?DocumentID=e' + qw + '&DesiredPageCountConfidence=50';
                    } else {
                        V.aq = V.bU.imageHandlerUrl + passURL +  '/Document/q/Attributes?DocumentID=u' + encodeURIComponent(V.bU.documentID) + '&DesiredPageCountConfidence=50';
                    }
                    PCCViewer.Ajax.eh({
                        method: 'GET',
                        url: V.aq,
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    }).then(eI, fc);
                };

                function anv(nB) {
                    nB = nB || function() {};
                    var amC = V.ee;

                    function ajU() {
                        V.ab.remove_allPagesAdded(ajU);
                        nB();
                    };
                    if (amC > 1) {
                        V.ab.add_allPagesAdded(ajU);
                        if (!V.ajR) {
                            V.ab.add_currentPageChanged(function() {
                                if (arguments.length < 2) {
                                    throw ("Controls currentPageChanged event did not provide any expected information");
                                }
                                var cA = arguments[1];
                                setTimeout(function() {
                                    V.trigger('PageChanged', {
                                        pageNumber: cA.pageIndex + 1
                                    });
                                    SU();
                                }, 0);
                            });
                            V.ab.add_pageDisplayed(function() {
                                if (arguments.length < 2) {
                                    throw ("Controls pageDisplayed event did not provide any expected information");
                                }
                                var cA = arguments[1];
                                if (V.jZ) {
                                    V.jZ();
                                    V.jZ = null;
                                    if (V.gf) {
                                        V.gf.resolve();
                                    }
                                    V.gf = null;
                                }
                                setTimeout(function() {
                                    V.trigger('PageDisplayed', {
                                        pageNumber: cA.pageIndex + 1
                                    });
                                    SU();
                                }, 0);
                                setTimeout(function() {
                                    V.requestPageText(cA.pageIndex + 1).then(function DZ() {
                                        V.Yr(cA.pageIndex + 1, V.Fs);
                                    });
                                }, 10);
                            });
                            V.ab.add_pageOpenFailed(function() {
                                akL(arguments);
                            });
                            V.ajR = true;
                        }
                        for (var C = V.NY; C < amC; C++) {
                            V.cI.addPage(new IPCC.Web.UI.ImGearPage({
                                pageNumber: C
                            }));
                            V.NY++;
                        }
                    } else {
                        nB();
                    }
                };
                var aCn = function(cA) {
                    var bN = document.getElementById(cA.pageNodeID),
                        bx = document.createElement('div'),
                        AS = document.createElement('button'),
                        ain = 'pccPageLoadFailRetry' + cA.pageIndex,
                        afF = function() {
                            V.ab.QM(cA.pageIndex);
                        },
                        anK = PCCViewer.Language.data.pageLoadFailed,
                        aop = PCCViewer.Language.getValue("pageLoadFailedPassword"),
                        aot = PCCViewer.Language.data.pageLoadFailedRetry,
                        aDc = cA.exception.statusCode === 480 && cA.exception.customErrorCode === 4001;
                    if (bN === null) {
                        return;
                    }
                    AS.id = ain;
                    AS.innerHTML = aot;
                    bx.className = 'pccPageLoadFail';
                    if (aDc) {
                        bx.innerHTML = aop + '<br>';
                        bN.appendChild(bx);
                    } else {
                        bx.innerHTML = anK + '<br>';
                        bx.appendChild(AS);
                        bN.appendChild(bx);
                        AS = document.getElementById(ain);
                        if (!AS.addEventListener) {
                            AS.attachEvent('onclick', afF);
                        } else {
                            AS.addEventListener('click', afF, false);
                        }
                    }
                };

                function akL(GA) {
                    if (GA.length < 2) {
                        throw ("controls PageOpenFailed event did not provide any expected information");
                    }
                    var akJ, akE, cA = GA[1];
                    if (GA[1].exception.customErrorCode !== undefined) {
                        akE = GA[1].exception.customErrorCode;
                    }
                    if (GA[1].exception.message !== undefined) {
                        akJ = GA[1].exception.message;
                    }
                    setTimeout(function() {
                        V.trigger('PageLoadFailed', {
                            statusCode: cA.exception.statusCode,
                            pageNumber: cA.pageIndex + 1,
                            errorMessage: akJ,
                            accusoftErrorNumber: akE
                        });
                        aCn(cA);
                    }, 0);
                };

                function asx() {
                    if (V.ab && typeof V.ab.dispose === "function") {
                        V.ab.dispose();
                    }
                    V.aq = "";
                    V.ab = undefined;
                    while (V.db.firstChild) {
                        V.db.removeChild(V.db.firstChild);
                    }
                };

                function aHz(adY) {
                    var aL = new PCCViewer.Deferred();
                    if (typeof adY === "string") {
                        PCCViewer.Ajax.eh({
                            url: V.bU.imageHandlerUrl + '/ViewingSession/u' + V.bU.documentID + '/Replacement',
                            body: JSON.stringify({
                                password: adY
                            }),
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json;charset=utf-8'
                            }
                        }).then(function aIg(aX) {
                            var result = JSON.parse(aX.responseText);
                            var ajT = result.viewingSessionId;
                            V.bU.documentID = ajT;
                            asx();
                            V.aeL(V.db, V.bU);
                            aL.resolve(ajT);
                        }, function aHo(err) {
                            aL.reject(new PCCViewer.Error("AjaxError", "The call to replace the viewing session failed."));
                        });
                    } else {
                        aL.reject(new PCCViewer.Error("InvalidArgument", "The value of the 'password' parameter must be a string."));
                    }
                    return aL.getPromise();
                };

                function Rh() {
                    V.ab.remove_pageOpenFailed(Rh);
                    akL(arguments);
                };
                var aBi = function(bC, F) {
                    V.vs = true;
                    var SD = {
                        width: F.width,
                        height: F.height,
                        pageNumber: F.pageNumber
                    };
                    V.trigger("PageOpening", SD);
                };

                function akU() {
                    V.VJ.resolve(V.ab);
                    V.ab.remove_pageOpened(akU);
                    V.ef = true;
                    var bi = V;
                    setTimeout(function() {
                        V.trigger("ViewerReady", {});
                        if (bi.oH === true && bi.zv === false) {
                            bi.zv = true;
                            setTimeout(function() {
                                V.trigger("PageCountReady", {
                                    pageCount: bi.getPageCount()
                                });
                            }, 10);
                        }
                    }, 10);
                    V.setCurrentMouseTool("AccusoftPanAndEdit");
                };
                var atm = function(bC, F) {
                    if (F.containsText === true) {
                        V.PZ.resolve(true);
                    }
                    var xl = -1;
                    if (Array.prototype.indexOf) {
                        xl = (V.yC.indexOf(F.pageIndex) >= 0);
                    } else {
                        xl = (IPCC.Web.jA(V.yC, F.pageIndex) >= 0);
                    }
                    if (xl === false) {
                        V.yC.push(F.pageIndex);
                        if (V.yC.length === V.ee) {
                            V.PZ.resolve(false);
                        }
                    }
                    setTimeout(function() {
                        V.trigger("PageTextReady", {
                            pageNumber: F.pageIndex + 1
                        });
                    }, 0);
                };
                var aui = function(bC, F) {
                    var xl = -1;
                    if (Array.prototype.indexOf) {
                        xl = (V.yC.indexOf(F.pageIndex) >= 0);
                    } else {
                        xl = (IPCC.Web.jA(V.yC, F.pageIndex) >= 0);
                    }
                    if (xl === false) {
                        V.yC.push(F.pageIndex);
                        if (V.yC.length === V.ee) {
                            V.PZ.resolve(false);
                        }
                    }
                };

                function atX(sender, eventArgs) {
                    if (!eventArgs.text || (eventArgs.text.length === 0)) {
                        return;
                    }
                    var kq = [];
                    for (var i = 0; i < eventArgs.pageNumbers.length; i++) {
                        kq.push(eventArgs.pageNumbers[i] + 1);
                    }
                    var fV = [],
                        tz = -eventArgs.startIndex,
                        aT, dr, jE, bA, j, k;
                    for (j = 0; j < kq.length; j++) {
                        jE = V.cI.jq(kq[j] - 1).ca().gT();
                        tz += jE.en();
                        aT = 0;
                        if (j === 0) {
                            aT = eventArgs.startIndex;
                        }
                        if (tz >= eventArgs.text.length) {
                            dr = tz - eventArgs.text.length - 1;
                        } else {
                            dr = jE.en() - 1;
                        }
                        bA = IPCC.T.WD(jE, aT, dr);
                        for (k = 0; k < bA.length; k++) {
                            fV.push({
                                x: bA[k].x,
                                y: bA[k].y,
                                width: bA[k].width,
                                height: bA[k].height,
                                pageNumber: kq[j]
                            });
                        }
                    }
                    V.bd = {
                        pageNumber: kq[0],
                        length: eventArgs.text.length,
                        text: eventArgs.text,
                        startIndex: eventArgs.startIndex,
                        rectangles: fV
                    };
                    var L, aaj = {
                        selectedText: eventArgs.text,
                        pageNumbers: kq,
                        clientX: eventArgs.clientX,
                        clientY: eventArgs.clientY,
                        handleClientX: eventArgs.handleClientX,
                        handleClientY: eventArgs.handleClientY,
                        textSelection: V.bd
                    };

                    function arj() {
                        var tP = V.hK;
                        V.alh = true;
                        V.hK = function(sender, args) {
                            V.hK = tP;
                            setTimeout(function() {
                                V.trigger(PCCViewer.EventType.MarkCreated, {
                                    mark: L,
                                    pageNumber: kq[0],
                                    clientX: eventArgs.clientX,
                                    clientY: eventArgs.clientY
                                });
                            }, 0);
                        };
                    };
                    if (eventArgs.previousFirstMark) {
                        L = V.dm[eventArgs.previousFirstMark.get_markID()];
                        V.ab.remove_markRemoved(V.Dx);
                        V.ab.remove_markSelectionChanged(V.EJ);
                        if (eventArgs.pageNumbers[0] !== eventArgs.previousFirstMark.aw) {
                            var azk = L.K.abC;
                            var TJ;
                            if (L.getReason) {
                                TJ = L.K.get_text();
                            }
                            var UZ;
                            if (L.getFillColor) {
                                UZ = L.K.get_fillColor();
                            }
                            var Ut;
                            if (L.getColor) {
                                Ut = L.K.get_lineColor();
                            }
                            var SM;
                            if (L.getThickness) {
                                SM = L.K.get_lineWidth();
                            }
                            var Uh;
                            if (L.getHref) {
                                Uh = L.K.get_href();
                            }
                            var azv = new PCCViewer.Conversation(L);
                            var au = V.ab.gZ(V.cI.getPage(L.K.aw));
                            au.removeMark(L.K);
                            for (var C = L.ci.length - 1; C >= 0; C--) {
                                var kr = L.ci[C];
                                au = V.ab.gZ(V.cI.getPage(kr.aw));
                                au.removeMark(kr);
                                L.ci.splice(C, 1);
                            }
                            L.K = new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());
                            L.K.aw = eventArgs.pageNumbers[0];
                            L.aY = eventArgs.pageNumbers[0] + 1;
                            L.K.kl = true;
                            L.K.abC = azk;
                            var tP = V.hK;
                            V.hK = null;
                            V.ab.remove_markChanged(V.nj);
                            au = V.ab.gZ(V.cI.getPage(L.K.aw));
                            au.addMark(L.K);
                            if (TJ) {
                                L.K.set_text(TJ);
                            }
                            if (UZ) {
                                L.K.set_fillColor(UZ);
                            }
                            if (Ut) {
                                L.K.set_lineColor(Ut);
                            }
                            if (SM) {
                                L.K.set_lineWidth(SM);
                            }
                            if (Uh) {
                                L.K.set_href(Uh);
                            }
                            L.dq = new PCCViewer.Conversation(L);
                            PCCViewer.Conversation.qb(azv, L.dq);
                            V.ab.add_markChanged(V.nj);
                            V.hK = tP;
                        }
                        L.K.set_selected(true);
                        L.K.set_visible(true);
                        L.setPosition({
                            startIndex: eventArgs.startIndex,
                            length: eventArgs.text.length
                        });
                        V.ab.add_markRemoved(V.Dx);
                        V.ab.add_markSelectionChanged(V.EJ);
                        V.nN(L, eventArgs.pageNumbers[0]);
                        return;
                    }
                    var xE = null;
                    switch (eventArgs.mouseTool) {
                        case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:
                            xE = 'HighlightAnnotation';
                            break;
                        case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:
                            xE = 'TextSelectionRedaction';
                            break;
                        case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:
                            xE = 'TextHyperlinkAnnotation';
                            break;
                        case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:
                            xE = 'StrikethroughAnnotation';
                            break;
                        case IPCC.Web.UI.MouseTool.SelectText:
                            auc(eventArgs.text);
                            V.JR[kq[0]] = 'selectText';
                            break;
                    }
                    var cJ = PCCViewer.MouseTools.getMouseTool(V.getCurrentMouseTool());
                    var aG = (cJ && cJ.getTemplateMark) ? cJ.getTemplateMark() : undefined;
                    var aph = aG ? aG.getType() : "";
                    if (xE) {
                        arj();
                        V.trigger(PCCViewer.EventType.TextSelected, aaj);
                        L = V.addMark(kq[0], xE);
                        if (V.sB) {
                            V.uh.addMarks(L);
                        }
                        L.K.kl = true;
                        L.setPosition({
                            startIndex: eventArgs.startIndex,
                            length: eventArgs.text.length
                        });
                        if (aph === xE) {
                            if (aG.getFillColor) {
                                L.setFillColor(aG.getFillColor());
                            }
                            if (aG.getReason) {
                                L.setReason(aG.getReason());
                            }
                            if (aG.getHref) {
                                L.setHref(aG.getHref());
                            }
                            if (aG.getColor) {
                                L.setColor(aG.getColor());
                            }
                            if (aG.getThickness) {
                                L.setThickness(aG.getThickness());
                            }
                            PCCViewer.Data.nX(aG, L);
                        }
                        return;
                    }
                    setTimeout(function() {
                        V.trigger(PCCViewer.EventType.TextSelected, aaj);
                    }, 0);
                };

                function ath() {
                    var bN = V.db,
                        bx = document.createElement('div');
                    bx.className = 'pccCopyText';
                    bN.appendChild(bx);
                    V.Ga = bx;
                };

                function auc(bv) {
                    var nd, aGp = bv.split('\n'),
                        Je = document.createDocumentFragment(),
                        Cy, lk;
                    nd = document.createTextNode(bv);
                    Je.appendChild(nd);
                    IPCC.T.OI(V.Ga);
                    V.Ga.appendChild(Je);
                    if (document.body.createTextRange) {
                        Cy = document.body.createTextRange();
                        Cy.moveToElementText(V.Ga);
                        Cy.select();
                    } else if (window.getSelection) {
                        lk = window.getSelection();
                        Cy = document.createRange();
                        Cy.selectNodeContents(V.Ga);
                        lk.removeAllRanges();
                        lk.addRange(Cy);
                    }
                };
                this.bQ = new IPCC.Web.UI.ImGearDocument({
                    documentIdentifier: this.bU.documentID,
                    imageServicePath: this.bU.imageHandlerUrl
                });
                this.bQ.set_encryption(this.bU.encryption || false);
                var TF = new IPCC.Web.UI.ImGearPage({
                    pageNumber: 0
                });
                this.bQ.get_pages().addPage(TF);
                this.cI = this.bQ.get_pages();
                this.ab = IPCC.initializePageListPlugin(element, options);
                this.ab.get_documents().addDocument(this.bQ);
                this.NY = 1;
                this.ab.add_pageDisplayed(ajM);
                this.ab.add_pageOpenFailed(Rh);
                this.ab.add_pageOpening(aBi);
                this.ab.add_pageOpened(akU);
                this.ab.add_textPageReady(atm);
                this.ab.add_textExtractionFailed(aui);
                this.ab.set_conversationDOMFactory(function(K, fk, amr) {
                    var L = V.dm[K.get_markID()];
                    if (L) {
                        return V.lK(L.getConversation(), fk, amr);
                    }
                });
                ath();
                this.ab.add_selectTextMouseToolCompleted(atX);
                this.ab.add_propertyChanged(function(pD, cZ) {
                    var proprtyName = cZ.aDX();
                    if (proprtyName === "mouseTool") {
                        setTimeout(function() {
                            V.trigger(PCCViewer.EventType.MouseToolChanged, {
                                mouseToolName: V.cJ.getName()
                            });
                        }, 0);
                    }
                });
                this.ab.add_markAdded(function(sender, eventArgs) {
                    if ((eventArgs.mark.get_type() === IPCC.Web.UI.MarkType.HighlightText || eventArgs.mark.get_type() === IPCC.Web.UI.MarkType.TextSelectionRedaction || eventArgs.mark.get_type() === IPCC.Web.UI.MarkType.Strikethrough || eventArgs.mark.get_type() === IPCC.Web.UI.MarkType.TextHyperlinkAnnotation) && V.dm[eventArgs.mark.get_markID()] === undefined && eventArgs.mark.ah !== undefined) {
                        V.nN(eventArgs.mark, eventArgs.pageIndex);
                    }
                    if (V.hK) {
                        var bP = eventArgs.mark.get_type();
                        if (bP !== IPCC.Web.UI.MarkType.Highlight && !(bP === IPCC.Web.UI.MarkType.RectangleRedaction && eventArgs.mark.ah !== undefined)) {
                            V.hK(sender, eventArgs);
                        }
                    }
                });
                this.ab.add_markCreating(function(sender, eventArgs) {
                    if (V.FU) {
                        V.FU(sender, eventArgs);
                    }
                });
                this.ab.LH(function(sender, eventArgs) {
                    var Es = 0;
                    var At = 0;
                    var acq = 0;
                    var tN = 0;
                    var uN = 0;
                    var Lp = 0;
                    var anG = V.cJ.getName().toLowerCase(),
                        anN = V.cJ.getType();
                    if (anN === PCCViewer.MouseTool.Type.PlaceSignature) {
                        var cJ = V.cJ;
                        var aG = cJ.getTemplateMark(),
                            kJ = aG.getSignature(),
                            adz = aG.getRectangle(),
                            L, R = {};
                        if (!kJ) {
                            return;
                        }
                        V.requestPageAttributes(eventArgs.pageIndex + 1).then(function(attributes) {
                            var tU;
                            if (attributes.width > 0) {
                                At = adz.width || (attributes.width / 5);
                            }
                            if (kJ.path && kJ.path.length > 0) {
                                tU = IPCC.T.UD(kJ.path);
                                R = {
                                    x: 0,
                                    y: 0,
                                    width: tU.width,
                                    height: tU.height
                                };
                                L = V.addMark(eventArgs.pageIndex + 1, PCCViewer.Mark.Type.FreehandSignature);
                                L.setPath(kJ.path);
                                L.setThickness(kJ.thickness || 4);
                            }
                            if (kJ.text && kJ.text.length) {
                                tU = IPCC.T.tJ(kJ.text, kJ.fontName);
                                L = V.addMark(eventArgs.pageIndex + 1, PCCViewer.Mark.Type.TextSignature);
                                R = {
                                    x: 0,
                                    y: 0,
                                    width: tU.width,
                                    height: tU.height
                                };
                                L.setText(kJ.text);
                                L.setFontName(kJ.fontName);
                            }
                            acq = (R.width / At);
                            Es = adz.height || (R.height / acq);
                            tN = (eventArgs.imagePoint.x - (At / 2));
                            uN = (eventArgs.imagePoint.y - (Es / 2));
                            if (tN <= 0) {
                                tN = 0;
                            }
                            if (uN <= 0) {
                                uN = 0;
                            }
                            if ((tN + At) >= attributes.width) {
                                Lp = (tN + At) - attributes.width;
                                tN = tN - Lp;
                            }
                            if ((uN + Es) >= attributes.height) {
                                Lp = (uN + Es) - attributes.height;
                                uN = uN - Lp;
                            }
                            R = {
                                x: tN,
                                y: uN,
                                width: At,
                                height: Es
                            };
                            L.setRectangle({
                                x: tN,
                                y: uN,
                                width: At,
                                height: Es
                            });
                            PCCViewer.Data.nX(aG, L);
                            PCCViewer.Conversation.qb(aG.getConversation(), L.getConversation());
                        });
                        V.setCurrentMouseTool(anG);
                    }
                });

                function MouseEvent(bb) {
                    var V = this;
                    for (var i in bb) {
                        if (i) {
                            V[i] = bb[i];
                        }
                    }
                };
                this.ab.LJ(function(sender, eventArgs) {
                    var bd = null,
                        ey = null,
                        L = null,
                        fO = null,
                        wT = false,
                        Lb = eventArgs.upTarget.type,
                        LP = false;
                    if (eventArgs.domEvent.ctrlKey === true || eventArgs.domEvent.shiftKey === true) {
                        LP = true;
                    }
                    if (eventArgs.upTarget.type === 'page' && eventArgs.downTarget.type === 'page' && eventArgs.upTarget.pageIndex === eventArgs.downTarget.pageIndex || eventArgs.upTarget.type === 'comments' && eventArgs.downTarget.element === eventArgs.upTarget.element) {
                        wT = true;
                        if (eventArgs.upTarget.type === 'page' && eventArgs.downTarget.type === 'page' && LP === false) {
                            V.deselectAllMarks();
                        }
                    } else if (eventArgs.upMark && typeof eventArgs.downMark !== 'undefined') {
                        if ((eventArgs.upMark.get_type() === IPCC.Web.UI.MarkType.DocumentHyperlink) && (eventArgs.upMark === eventArgs.downMark)) {
                            fO = V.azu(eventArgs.upMark);
                            wT = fO !== null;
                            Lb = "documentHyperlink";
                        } else {
                            L = V.dm[eventArgs.upMark.get_markID()];
                            if (L === undefined) {
                                for (var ie in V.dm) {
                                    if (V.dm.hasOwnProperty(ie)) {
                                        if (V.dm[ie].K.ah === eventArgs.upMark.ah && V.dm[ie].K.ah === eventArgs.downMark.ah) {
                                            L = V.dm[ie];
                                            eventArgs.pageIndex = L.aY - 1;
                                            wT = true;
                                            var aAg = V.getCurrentMouseTool();
                                            var azW = PCCViewer.MouseTools.getMouseTool(aAg);
                                            var amF = azW.getType();
                                            if (LP === false && eventArgs.domEvent.button === 0) {
                                                if (amF === PCCViewer.MouseTool.Type.PanAndEdit || amF === PCCViewer.MouseTool.Type.EditMarks) {
                                                    V.deselectAllMarks();
                                                    L.K.set_selected(true);
                                                }
                                            }
                                            break;
                                        }
                                    }
                                }
                            } else if (typeof eventArgs.downMark !== 'undefined' && typeof eventArgs.upMark !== 'undefined' && eventArgs.downMark.km() === eventArgs.upMark.km()) {
                                wT = true;
                                if (LP === false && eventArgs.downTarget.alreadySelected === false) {
                                    V.deselectAllMarks();
                                    L.K.set_selected(true);
                                }
                            }
                            if (L === undefined) {
                                if (V.bm && V.JR[eventArgs.upTarget.pageIndex + 1] === 'search') {
                                    var eQ = V.bm.getResults();
                                    for (var C = 0; C < eQ.length; C++) {
                                        if (eQ[C].aY === eventArgs.upTarget.pageIndex + 1 && typeof eventArgs.downMark.aT !== 'undefined' && typeof eventArgs.upMark.aT !== 'undefined' && typeof eventArgs.downMark.cq !== 'undefined' && typeof eventArgs.upMark.cq !== 'undefined' && eventArgs.downMark.aT >= eQ[C].getStartIndexInPage() && eventArgs.downMark.aT + eventArgs.downMark.cq <= eQ[C].getStartIndexInPage() + eQ[C].getText().length && eventArgs.upMark.aT >= eQ[C].getStartIndexInPage() && eventArgs.upMark.aT + eventArgs.upMark.cq <= eQ[C].getStartIndexInPage() + eQ[C].getText().length) {
                                            Lb = 'searchResult';
                                            ey = eQ[C];
                                            eventArgs.upTarget.pageIndex = ey.aY - 1;
                                            wT = true;
                                            break;
                                        }
                                    }
                                }
                            }
                            if (wT === false && L === undefined && V.JR[eventArgs.upTarget.pageIndex + 1] === 'selectText' && typeof eventArgs.downMark.aT !== 'undefined' && typeof eventArgs.upMark.aT !== 'undefined' && eventArgs.downMark.aT >= V.bd.startIndex && eventArgs.downMark.aT + eventArgs.downMark.cq <= V.bd.startIndex + V.bd.length && eventArgs.upMark.aT >= V.bd.startIndex && eventArgs.upMark.aT + eventArgs.upMark.cq <= V.bd.startIndex + V.bd.length) {
                                Lb = 'textSelection';
                                bd = V.bd;
                                wT = true;
                            }
                        }
                    }
                    var XK = new MouseEvent(eventArgs.originalEvent);
                    setTimeout(function() {
                        var aCF = (isNaN(eventArgs.upTarget.pageIndex)) ? null : eventArgs.upTarget.pageIndex + 1;
                        var F = {
                            pageNumber: aCF,
                            targetType: Lb,
                            textSelection: bd,
                            searchResult: ey,
                            mark: L,
                            originalEvent: XK,
                            hyperlink: fO,
                            clientX: eventArgs.clientX,
                            clientY: eventArgs.clientY
                        };
                        if (wT === true) {
                            V.trigger('Click', F);
                        }
                    }, 0);
                });
                (function() {
                    var Av = null;
                    V.ab.Lf(function(sender, eventArgs) {
                        var XK = new MouseEvent(eventArgs.domEvent);
                        var F = {
                            originalEvent: XK,
                            clientX: eventArgs.windowPoint.x,
                            clientY: eventArgs.windowPoint.y
                        };
                        if (!(eventArgs.mark instanceof IPCC.Web.UI.Mark)) {
                            if (Av !== null) {
                                F.mark = V.dm[Av];
                                Av = null;
                                setTimeout(function() {
                                    V.trigger('MarkMouseLeave', F);
                                }, 0);
                            }
                        } else {
                            F.mark = V.dm[eventArgs.mark.get_markID()];
                            if (F.mark === undefined) {
                                for (var ie in V.dm) {
                                    if (V.dm.hasOwnProperty(ie)) {
                                        if (V.dm[ie].K.ah === eventArgs.mark.ah) {
                                            F.mark = V.dm[ie];
                                            break;
                                        }
                                    }
                                }
                            }
                            if (!F.mark) {
                                return;
                            }
                            setTimeout(function() {
                                if (Av !== F.mark.getId()) {
                                    if (Av !== null) {
                                        V.trigger('MarkMouseLeave', IPCC.T.extend({}, F, {
                                            mark: V.dm[Av]
                                        }));
                                    }
                                    Av = F.mark.getId();
                                    V.trigger('MarkMouseEnter', F);
                                }
                                V.trigger('MarkMouseOver', F);
                            }, 0);
                        }
                    });
                })();
                this.ab.add_hyperlinkPageReady(function(sender, eventArgs) {
                    if (V.Ew[eventArgs.pageIndex] !== undefined) {
                        return;
                    }
                    var aw = eventArgs.pageIndex,
                        aP = V.cI.getPage(aw),
                        GE = aP.get_hyperlinkPage().KA(),
                        vn = V.Ew[aw] = [];
                    GE.ld(function(AD) {
                        vn.push(new PCCViewer.DocumentHyperlink({
                            aY: aw + 1,
                            AD: AD
                        }));
                    });
                    if (!V.DN[aw]) {
                        V.DN[aw] = new PCCViewer.Deferred();
                    }
                    V.DN[aw].resolve(vn);
                });
                this.nN = function(L, gm) {
                    var Uz = false;

                    function SK() {
                        var ky = false;
                        var cj = V.ab.get_displayedPages();
                        for (var C = 0; C < cj.get_length(); C++) {
                            var aP = cj.getPage(C);
                            if (aP.get_pageNumber() === gm) {
                                ky = true;
                                break;
                            }
                        }
                        return ky;
                    };

                    function Nx(hd) {
                        if (V.ab) {
                            V.ab.dv(hd);
                        }
                    };
                    if (SK()) {
                        if (Array.prototype.indexOf) {
                            if (IPCC.Web.jA(V.BY, gm) >= 0) {
                                Uz = true;
                            }
                        } else {
                            if (IPCC.Web.jA(V.BY, gm) >= 0) {
                                Uz = true;
                            }
                        }
                        if (!Uz) {
                            V.BY.push(gm);
                            setTimeout(function() {
                                var ds = V.BY.length;
                                if (ds > 0) {
                                    for (var C = 0; C < ds; C++) {
                                        Nx(V.BY[C]);
                                    }
                                    V.BY.splice(0, ds);
                                }
                            }, 10);
                        }
                    }
                };
                var It = {
                    FreehandSignature: {
                        lineColor: 'color',
                        lineWidth: 'thickness',
                        pathWidth: false,
                        pathHeight: false
                    },
                    FreehandAnnotation: {
                        lineColor: 'color',
                        lineWidth: 'thickness',
                        pathWidth: false,
                        pathHeight: false
                    },
                    LineAnnotation: {
                        lineColor: 'color',
                        lineWidth: 'thickness'
                    },
                    PolylineAnnotation: {
                        lineColor: 'color',
                        lineWidth: 'thickness'
                    },
                    TextSignature: {
                        textColor: false,
                        fillColor: 'color'
                    },
                    TextInputSignature: {
                        lineVisible: false
                    },
                    StampAnnotation: {
                        text: 'label',
                        fillColor: 'color'
                    },
                    StampRedaction: {
                        text: 'label'
                    },
                    StrikethroughAnnotation: {
                        lineColor: 'color',
                        lineWidth: 'thickness',
                        rectangle: 'position'
                    },
                    RectangleRedaction: {
                        text: 'reason'
                    },
                    TextRedaction: {
                        opacity: false
                    },
                    HighlightAnnotation: {
                        rectangle: 'position'
                    },
                    TextSelectionRedaction: {
                        rectangle: 'position',
                        text: 'reason'
                    },
                    TextHyperlinkAnnotation: {
                        rectangle: 'position'
                    }
                };
                var La = {
                    lineColor: "borderColor",
                    lineWidth: "borderThickness",
                    pathString: "path",
                    textColor: "fontColor",
                    textHorizontalAlignment: "horizontalAlignment"
                };
                this.nj = function(bC, F) {
                    var L = V.dm[F.mark.get_markID()];
                    var an;
                    if (L) {
                        an = L.an;
                    }
                    if (an && It[an] && It[an][F.propertyName] === false) {
                        return;
                    }
                    var dI;
                    if (an) {
                        dI = It[an] && It[an][F.propertyName] ? It[an][F.propertyName] : La[F.propertyName] ? La[F.propertyName] : F.propertyName;
                    } else {
                        dI = La[F.propertyName] ? La[F.propertyName] : F.propertyName;
                    }
                    if (F.mark.get_type() === IPCC.Web.UI.MarkType.HighlightText || F.mark.get_type() === IPCC.Web.UI.MarkType.Highlight || F.mark.get_type() === IPCC.Web.UI.MarkType.TextSelectionRedaction || F.mark.get_type() === IPCC.Web.UI.MarkType.TextHighlightAnnotation || F.mark.get_type() === IPCC.Web.UI.MarkType.TextHyperlinkAnnotation || F.mark.get_type() === IPCC.Web.UI.MarkType.Strikethrough || (F.mark.get_type() === IPCC.Web.UI.MarkType.RectangleRedaction && F.mark.ah !== undefined)) {
                        if (L) {
                            setTimeout(function() {
                                V.trigger('MarkChanged', {
                                    mark: L,
                                    pageNumber: F.pageIndex + 1,
                                    propertyName: dI
                                });
                            }, 0);
                        } else {
                            for (var ie in V.dm) {
                                if (V.dm.hasOwnProperty(ie)) {
                                    L = V.dm[ie];
                                    if (L.ah === F.mark.ah) {
                                        break;
                                    }
                                }
                            }
                        }
                        V.nN(L, F.pageIndex);
                    } else if (L && F.mark.get_type() === IPCC.Web.UI.MarkType.Polyline && dI === 'points') {
                        if (L.aaG) {
                            clearTimeout(L.aaG);
                        }
                        L.aaG = setTimeout(function() {
                            L.aaG = undefined;
                            V.nN(L, F.pageIndex);
                            V.trigger('MarkChanged', {
                                mark: L,
                                pageNumber: F.pageIndex + 1,
                                propertyName: dI
                            });
                        }, 1);
                    } else if (L) {
                        V.nN(L, F.pageIndex);
                        setTimeout(function() {
                            V.trigger('MarkChanged', {
                                mark: L,
                                pageNumber: F.pageIndex + 1,
                                propertyName: dI
                            });
                        }, 0);
                    }
                    if (L && L.type === PCCViewer.Mark.Type.TextRedaction) {
                        L.K.set_opacity(0);
                    }
                    if (L && (L.an === PCCViewer.Mark.Type.TextInputSignature || L.an === PCCViewer.Mark.Type.TextAreaSignature)) {
                        L.K.set_lineVisible(false);
                    }
                };
                this.ab.add_markChanged(V.nj);
                this.ab.add_markReordered(function(sender, eventArgs) {
                    var L = V.dm[eventArgs.mark.get_markID()];
                    setTimeout(function() {
                        V.trigger('MarkReordered', {
                            mark: L,
                            pageNumber: eventArgs.pageIndex + 1,
                            index: eventArgs.zIndex,
                            oldIndex: eventArgs.oldZIndex
                        });
                    }, 0);
                });
                this.EJ = function(sender, eventArgs) {
                    if (eventArgs.mark.get_type() === IPCC.Web.UI.MarkType.TextSelectionRedaction || eventArgs.mark.get_type() === IPCC.Web.UI.MarkType.TextHyperlinkAnnotation || eventArgs.mark.get_type() === IPCC.Web.UI.MarkType.Strikethrough || eventArgs.mark.get_type() === IPCC.Web.UI.MarkType.HighlightText) {
                        var L;
                        for (var NK in V.dm) {
                            if (V.dm.hasOwnProperty(NK)) {
                                L = V.dm[NK];
                                if (L.K.ah === eventArgs.mark.ah) {
                                    L.K.set_selected(eventArgs.mark.get_selected());
                                    V.nN(L.K, L.K.aw);
                                    for (var C = 0; C < L.ci.length; C++) {
                                        L.ci[C].set_selected(eventArgs.mark.get_selected());
                                        V.nN(L.ci[C], L.ci[C].aw);
                                    }
                                }
                            }
                        }
                    }
                    setTimeout(function() {
                        V.trigger('MarkSelectionChanged', {
                            pageNumber: eventArgs.pageIndex + 1
                        });
                    }, 0);
                };
                this.ab.add_markSelectionChanged(V.EJ);
                this.ab.add_markTextSelectionChanged(function(sender, eventArgs) {
                    V.nN(eventArgs.mark, eventArgs.pageIndex);
                });
                this.Dx = function(sender, eventArgs) {
                    var L;
                    if (eventArgs.mark) {
                        L = V.dm[eventArgs.mark.get_markID()];
                        if ((eventArgs.mark.get_type() === IPCC.Web.UI.MarkType.HighlightText || eventArgs.mark.get_type() === IPCC.Web.UI.MarkType.TextSelectionRedaction || eventArgs.mark.get_type() === IPCC.Web.UI.MarkType.Strikethrough || eventArgs.mark.get_type() === IPCC.Web.UI.MarkType.TextHyperlinkAnnotation) && L === undefined && eventArgs.mark.ah !== undefined) {
                            V.nN(eventArgs.mark, eventArgs.pageIndex);
                        } else if (L) {
                            setTimeout(function() {
                                V.trigger(PCCViewer.EventType.MarkRemoved, {
                                    mark: L,
                                    pageNumber: eventArgs.pageIndex
                                });
                            }, 0);
                        }
                    }
                };
                this.ab.add_markRemoved(V.Dx);
                this.ab.add_commentAdding(function(sender, eventArgs) {
                    var L = V.dm[eventArgs.mark.get_markID()];
                    if (eventArgs.comment.Gh.jC === undefined) {
                        eventArgs.comment.Gh.jC = V.getActiveMarkupLayer();
                    }
                });
                this.ab.add_commentAdded(function(sender, eventArgs) {
                    var L = V.dm[eventArgs.mark.get_markID()];
                    V.trigger(PCCViewer.EventType.CommentCreated, {
                        conversation: L.getConversation(),
                        comment: eventArgs.comment.Gh
                    });
                });
                this.ab.add_commentRemoved(function(sender, eventArgs) {
                    var L = V.dm[eventArgs.mark.get_markID()];
                    V.trigger(PCCViewer.EventType.CommentRemoved, {
                        conversation: L.getConversation(),
                        comment: eventArgs.comment.Gh
                    });
                });
                this.ab.add_commentChanged(function(sender, eventArgs) {
                    var L = V.dm[eventArgs.mark.get_markID()];
                    V.trigger(PCCViewer.EventType.CommentChanged, {
                        conversation: L.getConversation(),
                        comment: eventArgs.comment.Gh
                    });
                });
                this.ab.add_scaleChanged(function(sender, eventArgs) {
                    var eW;
                    switch (eventArgs.fitType) {
                        case 0:
                            eW = PCCViewer.FitType.FullWidth;
                            break;
                        case 1:
                            eW = PCCViewer.FitType.ShrinkToWidth;
                            break;
                        case 2:
                            eW = PCCViewer.FitType.ActualSize;
                            break;
                        case 3:
                            eW = PCCViewer.FitType.FullHeight;
                            break;
                        case 4:
                            eW = PCCViewer.FitType.FullPage;
                            break;
                        default:
                            break;
                    }
                    V.trigger(PCCViewer.EventType.ScaleChanged, {
                        scaleType: eventArgs.scaleType,
                        trigger: eventArgs.scaleTrigger,
                        fitType: eW,
                        scaleFactor: eventArgs.scaleFactor
                    });
                });
            };
            ViewerControl.prototype.getPageCount = function() {
                return this.ee;
            };
            ViewerControl.prototype.getPageNumber = function() {
                return (this.ab) ? (this.ab.ahi().get_pageNumber() + 1) : 1;
            };
            ViewerControl.prototype.setPageNumber = function(pageNumber) {
                var aY;
                if (typeof(pageNumber) === 'number') {
                    aY = pageNumber;
                } else {
                    if (isNaN(+pageNumber)) {
                        throw "The parameter pageNumber is not a number.";
                    } else {
                        aY = Number(pageNumber);
                    }
                }
                if (parseInt(aY, 10) !== aY) {
                    throw new Error("The 'pageNumber' value " + aY + " is not an integer page number.");
                }
                if (aY < 1 || aY > this.getPageCount() || !isFinite(aY)) {
                    throw "The parameter pageNumber is out of range.";
                }
                if (this.getPageNumber() === aY) {
                    return this;
                }
                if (this.ab) {
                    this.ab.scrollToPage(aY - 1);
                }
                return this;
            };
            ViewerControl.prototype.changeToFirstPage = function() {
                if (this.ab) {
                    if (this.Dv || this.oH) {
                        this.ab.scrollToFirstPage();
                    }
                }
                return this;
            };
            ViewerControl.prototype.changeToLastPage = function() {
                if (this.ab) {
                    if (this.Dv || this.oH) {
                        this.ab.scrollToLastPage();
                    }
                }
                return this;
            };
            ViewerControl.prototype.changeToNextPage = function() {
                if (this.ab) {
                    if (this.Dv || this.oH) {
                        this.ab.scrollToNextPage();
                    }
                }
                return this;
            };
            ViewerControl.prototype.changeToPrevPage = function() {
                if (this.ab) {
                    if (this.Dv || this.oH) {
                        this.ab.scrollToPreviousPage();
                    }
                }
                return this;
            };
            ViewerControl.prototype.scrollBy = function(offsetX, offsetY) {
                if (!this.ef) {
                    throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");
                }
                var V = this;
                if (typeof offsetX === 'number' && typeof offsetY === 'number') {
                    V.ab.scrollBy(offsetX, offsetY);
                } else {
                    if (isNaN(+offsetX) || isNaN(+offsetY)) {
                        throw new PCCViewer.Error('InvalidArgument', 'Please provide integer values for offsetX and offsetY properties.');
                    } else {
                        V.ab.scrollBy(Number(+offsetX), Number(+offsetY));
                    }
                }
                return this;
            };
            ViewerControl.prototype.scrollTo = function(target) {
                if (!this.ef) {
                    throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");
                }
                if (this.gf) {
                    this.gf.reject(new PCCViewer.Error("Error", "The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));
                    this.gf = null;
                    this.jZ = null;
                }
                var V = this;
                var HQ = function() {
                    V.ab.scrollConversationIntoView(target.getMark().K.get_conversation());
                    if (V.gf) {
                        V.gf.resolve();
                    }
                    V.gf = null;
                    V.jZ = null;
                };
                var uG = function(ev) {
                    if (ev.target.wg === target) {
                        V.off(PCCViewer.EventType.CommentCreated, uG);
                        V.wg = null;
                        V.scrollTo(target);
                    } else if (ev.target.wg === null) {
                        V.off(PCCViewer.EventType.CommentCreated, uG);
                    }
                    if (V.gf) {
                        V.gf.resolve();
                    }
                    V.gf = null;
                    V.jZ = null;
                };
                var Ip = function(aY, gr) {
                    V.ab.scrollRegionIntoView(aY - 1, gr);
                    if (V.gf) {
                        V.gf.resolve();
                    }
                    V.gf = null;
                    V.jZ = null;
                };
                agF(V, target, uG, HQ, Ip);
                return this;
            };
            ViewerControl.prototype.scrollToAsync = function(target) {
                if (this.gf) {
                    this.gf.reject(new PCCViewer.Error("Error", "The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));
                    this.gf = null;
                    this.jZ = null;
                }
                var aL = PCCViewer.Deferred();
                var cK = aL.getPromise();
                var V = this;
                V.gf = aL;
                try {
                    var HQ = function() {
                        V.ab.scrollConversationIntoView(target.getMark().K.get_conversation());
                        if (V.gf) {
                            V.gf.resolve();
                        }
                        V.gf = null;
                        V.jZ = null;
                    };
                    var uG = function(ev) {
                        if (ev.target.wg === target) {
                            V.off(PCCViewer.EventType.CommentCreated, uG);
                            V.wg = null;
                            V.scrollTo(target);
                        } else if (ev.target.wg === null) {
                            V.off(PCCViewer.EventType.CommentCreated, uG);
                        }
                        if (V.gf) {
                            V.gf.resolve();
                        }
                        V.gf = null;
                        V.jZ = null;
                    };
                    var Ip = function(aY, gr) {
                        V.ab.scrollRegionIntoView(aY - 1, gr);
                        if (V.gf) {
                            V.gf.resolve();
                        }
                        V.gf = null;
                        V.jZ = null;
                    };
                    if (agF(V, target, uG, HQ, Ip) === true) {
                        aL.resolve();
                    }
                } catch (e) {
                    V.gf = null;
                    V.jZ = null;
                    aL.reject(new PCCViewer.Error("Error", e));
                }
                return cK;
            };

            function agF(ae, bK, uG, HQ, Ip) {
                var gr, aY, ap;
                ae.wg = null;
                if (bK instanceof PCCViewer.Conversation) {
                    if (ae.dm[bK.getMark().getId()] === undefined) {
                        throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");
                    }
                    var aaZ = ae.ab.scrollConversationIntoView(bK.getMark().K.get_conversation());
                    if (aaZ === "PageOutOfView") {
                        ae.jZ = HQ;
                        ae.setPageNumber(bK.getMark().getPageNumber());
                        return false;
                    } else if (aaZ === "ConversationDivDoesNotExist" && bK.getMark().K.get_conversation().get_length() > 0) {
                        ae.wg = bK;
                        ae.on(PCCViewer.EventType.CommentCreated, uG);
                        return false;
                    } else {
                        ae.jZ = null;
                        return true;
                    }
                } else if (bK instanceof PCCViewer.SearchResult) {
                    if (bK.IS !== ae.bQ.get_documentIdentifier()) {
                        throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");
                    }
                    ap = bK.getBoundingRectangle();
                    gr = new IPCC.Web.UI.Rectangle(ap.x, ap.y, ap.width, ap.height);
                    aY = bK.getPageNumber();
                } else if (bK instanceof PCCViewer.Mark) {
                    if (ae.dm[bK.getId()] === undefined) {
                        throw new Error("The parameter target is a mark unknown to the viewer control.");
                    }
                    ap = bK.getBoundingRectangle();
                    gr = new IPCC.Web.UI.Rectangle(ap.x, ap.y, ap.width, ap.height);
                    aY = bK.getPageNumber();
                } else if (bK !== undefined && bK !== null) {
                    if (typeof bK.x === 'number' && typeof bK.y === 'number') {
                        gr = new IPCC.Web.UI.Rectangle(+bK.x, +bK.y, 0, 0);
                    } else {
                        if (isNaN(+bK.x) || isNaN(+bK.y)) {
                            throw new Error('The parameter target does not contain a valid x and y values.');
                        } else {
                            gr = new IPCC.Web.UI.Rectangle(Number(+bK.x), Number(+bK.y), 0, 0);
                        }
                    }
                    if (bK.width) {
                        if (typeof bK.width === 'number') {
                            gr.width = bK.width;
                        } else {
                            if (isNaN(+bK.width)) {
                                throw new Error('The parameter target does not contain a valid width value.');
                            } else {
                                gr.width = Number(+bK.width);
                            }
                        }
                    }
                    if (bK.height) {
                        if (typeof bK.height === 'number') {
                            gr.height = bK.height;
                        } else {
                            if (isNaN(+bK.height)) {
                                throw new Error('The parameter target does not contain a valid height value.');
                            } else {
                                gr.height = Number(+bK.height);
                            }
                        }
                    }
                    if (typeof bK.pageNumber === 'number') {
                        aY = +bK.pageNumber;
                    } else {
                        if (isNaN(+bK.pageNumber)) {
                            throw new Error('The parameter target does not contain a valid pageNumber value.');
                        } else {
                            aY = Number(+bK.pageNumber);
                        }
                    }
                } else {
                    throw new Error('The target parameter must be a Mark, SearchResult, or Point.');
                }
                if (aY < 1 || aY > ae.getPageCount() || !isFinite(aY)) {
                    throw new RangeError("The parameter pageNumber is out of range.");
                }
                if (ae.ab.scrollRegionIntoView(aY - 1, gr) === false) {
                    ae.jZ = function() {
                        Ip(aY, gr);
                    };
                    ae.setPageNumber(aY);
                    return false;
                } else {
                    ae.jZ = null;
                    return true;
                }
            };
            ViewerControl.prototype.rotatePage = function(degreesClockwise) {
                if (!this.ef) {
                    throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";
                }
                if (zf(this.getPageNumber() - 1, this) === false) {
                    this.ab.dv(this.getPageNumber() - 1);
                }
                var iO = degreesClockwise % 360,
                    V = this;
                if (iO !== 0) {
                    var wa = [90, 180, 270, -90, -180, -270];
                    if (Array.prototype.indexOf) {
                        if (!iO || wa.indexOf(iO) === -1) {
                            throw new RangeError("The value of degreesClockwise (" + degreesClockwise + ") is not valid.");
                        }
                    } else {
                        if (!iO || IPCC.Web.jA(wa, iO) === -1) {
                            throw new RangeError("The value of degreesClockwise (" + degreesClockwise + ") is not valid.");
                        }
                    }
                    this.ab.rotate(iO);
                }
                setTimeout(function() {
                    V.trigger("PageRotated", {
                        degreesClockwise: iO,
                        pageNumber: (V.getPageNumber())
                    });
                }, 0);
                return this;
            };
            ViewerControl.prototype.rotateDocument = function(degreesClockwise) {
                if (!this.ef) {
                    throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";
                }
                if (zf(this.getPageNumber() - 1, this) === false) {
                    this.ab.dv(this.getPageNumber() - 1);
                }
                var iO = degreesClockwise % 360,
                    V = this;
                if (iO !== 0) {
                    var wa = [90, 180, 270, -90, -180, -270];
                    if (Array.prototype.indexOf) {
                        if (!iO || wa.indexOf(iO) === -1) {
                            throw new RangeError("The value of degreesClockwise (" + degreesClockwise + ") is not valid.");
                        }
                    } else {
                        if (!iO || IPCC.Web.jA(wa, iO) === -1) {
                            throw new RangeError("The value of degreesClockwise (" + degreesClockwise + ") is not valid.");
                        }
                    }
                    this.ab.aet(iO);
                }
                setTimeout(function() {
                    V.trigger("DocumentRotated", {
                        degreesClockwise: iO
                    });
                }, 0);
                return this;
            };
            ViewerControl.prototype.getScaleFactor = function() {
                if (!this.vs) {
                    throw "The getScaleFactor method cannot be called before the initial PageOpening event.";
                }
                return this.ab.get_scaleFactor();
            };
            ViewerControl.prototype.setScaleFactor = function(scaleFactor) {
                if (!this.vs) {
                    throw "The setScaleFactor method cannot be called before the initial PageOpening event.";
                }
                if (isNaN(+scaleFactor) || (+scaleFactor < this.getMinScaleFactor()) || (+scaleFactor > this.getMaxScaleFactor())) {
                    throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor', scaleFactor, 'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');
                }
                this.ab.set_scaleFactor(+scaleFactor);
                return this;
            };
            ViewerControl.prototype.getMinScaleFactor = function() {
                if (!this.vs) {
                    throw "The getMinScaleFactor method cannot be called before the initial PageOpening event.";
                }
                return this.ab.getMinMaxZoom().minFactor;
            };
            ViewerControl.prototype.getMaxScaleFactor = function() {
                if (!this.vs) {
                    throw "The getMaxScaleFactor method cannot be called before the initial PageOpening event.";
                }
                return this.ab.getMinMaxZoom().maxFactor;
            };
            ViewerControl.prototype.zoomIn = function(zoomFactor) {
                if (!this.vs) {
                    throw "The zoomIn method cannot be called before the initial PageOpening event.";
                }
                if (isNaN(+zoomFactor) || (+zoomFactor < 1.01) || (+zoomFactor > 20)) {
                    throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor', zoomFactor, 'The value must be a number between 1.01 and 20 inclusive.');
                }
                if (this.ab) {
                    this.ab.zoomIn(+zoomFactor);
                }
                return this;
            };
            ViewerControl.prototype.zoomOut = function(zoomFactor) {
                if (!this.vs) {
                    throw "The zoomOut method cannot be called before the initial PageOpening event.";
                }
                if (isNaN(+zoomFactor) || (+zoomFactor < 1.01) || (+zoomFactor > 20)) {
                    throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor', zoomFactor, 'The value must be a number between 1.01 and 20 inclusive.');
                }
                if (this.ab) {
                    this.ab.zoomOut(+zoomFactor);
                }
                return this;
            };
            ViewerControl.prototype.getViewMode = function() {
                var lO;
                if (this.ab && this.ab.get_viewMode) {
                    lO = this.ab.get_viewMode();
                } else {
                    lO = this.bU.viewMode;
                }
                if (lO === IPCC.ViewMode.EqualWidthPages) {
                    return PCCViewer.ViewMode.EqualWidthPages;
                } else if (lO === IPCC.ViewMode.EqualFitPages) {
                    return PCCViewer.ViewMode.EqualFitPages;
                } else if (lO === IPCC.ViewMode.SinglePage) {
                    return PCCViewer.ViewMode.SinglePage;
                } else {
                    return PCCViewer.ViewMode.Document;
                }
            };
            ViewerControl.prototype.setViewMode = function(viewMode) {
                var lO;
                switch (viewMode) {
                    case PCCViewer.ViewMode.Document:
                        lO = IPCC.ViewMode.Document;
                        break;
                    case PCCViewer.ViewMode.EqualWidthPages:
                        lO = IPCC.ViewMode.EqualWidthPages;
                        break;
                    case PCCViewer.ViewMode.EqualFitPages:
                        lO = IPCC.ViewMode.EqualFitPages;
                        break;
                    case PCCViewer.ViewMode.SinglePage:
                        lO = IPCC.ViewMode.SinglePage;
                        break;
                    default:
                        throw new RangeError("The value of viewMode is not a supported value.");
                }
                if (this.ab && this.ab.set_viewMode) {
                    var FY = this.ab.get_viewMode();
                    if (FY !== lO) {
                        if (FY === IPCC.ViewMode.SinglePage) {
                            throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");
                        } else if (lO === IPCC.ViewMode.SinglePage) {
                            throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");
                        }
                        this.ab.set_viewMode(lO);
                    }
                } else {
                    this.bU.viewMode = lO;
                }
                return this;
            };
            ViewerControl.prototype.getPageLayout = function() {
                var wM;
                if (this.ab && this.ab.get_pageLayout) {
                    wM = this.ab.get_pageLayout();
                } else {
                    wM = this.bU.pageLayout;
                }
                if (wM === IPCC.PageLayout.HorizontalScrollDirection) {
                    return PCCViewer.PageLayout.Horizontal;
                } else {
                    return PCCViewer.PageLayout.Vertical;
                }
            };
            ViewerControl.prototype.setPageLayout = function(pageLayout) {
                var wM;
                if (this.bU.viewMode !== IPCC.ViewMode.SinglePage) {
                    switch (pageLayout) {
                        case PCCViewer.PageLayout.Vertical:
                            wM = IPCC.PageLayout.VerticalScrollDirection;
                            break;
                        case PCCViewer.PageLayout.Horizontal:
                            if (this.ab && this.ab.closeCommentsPanel) {
                                this.ab.closeCommentsPanel();
                                var V = this;
                                setTimeout(function() {
                                    V.trigger("CommentsPanelToggled", {
                                        isOpen: false
                                    });
                                }, 10);
                            }
                            wM = IPCC.PageLayout.HorizontalScrollDirection;
                            break;
                        default:
                            throw new RangeError("The value of pageLayout is not a supported value.");
                    }
                }
                if (this.ab && this.ab.set_pageLayout) {
                    this.ab.set_pageLayout(wM);
                } else {
                    this.bU.pageLayout = wM;
                }
                return this;
            };
            ViewerControl.prototype.getAtMaxScale = function() {
                if (!this.vs) {
                    throw "The getAtMaxScale method cannot be called before the initial PageOpening event.";
                }
                return this.ab.getMinMaxZoom().atMax;
            };
            ViewerControl.prototype.getAtMinScale = function() {
                if (!this.vs) {
                    throw "The getAtMinScale method cannot be called before the initial PageOpening event.";
                }
                return this.ab.getMinMaxZoom().atMin;
            };
            ViewerControl.prototype.fitContent = function(fitType) {
                if (!this.vs) {
                    throw "The fitContent method cannot be called before the initial PageOpening event.";
                }
                var BJ;
                switch (fitType) {
                    case PCCViewer.FitType.FullWidth:
                        BJ = IPCC.FitType.FitToWidth;
                        break;
                    case PCCViewer.FitType.ShrinkToWidth:
                        BJ = IPCC.FitType.ShrinkToWidth;
                        break;
                    case PCCViewer.FitType.ActualSize:
                        if (this.getViewMode() === PCCViewer.ViewMode.EqualWidthPages || this.getViewMode() === PCCViewer.ViewMode.EqualFitPages) {
                            throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");
                        }
                        BJ = IPCC.FitType.ActualSize;
                        break;
                    case PCCViewer.FitType.FullHeight:
                        BJ = IPCC.FitType.FitToHeight;
                        break;
                    case PCCViewer.FitType.FullPage:
                        BJ = IPCC.FitType.BestFit;
                        break;
                    default:
                        throw new RangeError("The value of fitType is not a supported value.");
                }
                this.qJ.then(function(pD) {
                    pD.fitPages(BJ);
                });
                return this;
            };
            ViewerControl.prototype.getPageRotation = function(pageNumber) {
                if (!this.ef) {
                    throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");
                }
                var aY;
                if (arguments.length > 0) {
                    if (typeof(pageNumber) === 'number') {
                        aY = pageNumber;
                    } else {
                        if (isNaN(+pageNumber)) {
                            throw new Error("The parameter pageNumber is not a number.");
                        } else {
                            aY = Number(pageNumber);
                        }
                    }
                    if (parseInt(aY, 10) !== aY) {
                        throw new Error("The 'pageNumber' value " + aY + " is not an integer page number.");
                    }
                    if (aY < 1 || aY > this.getPageCount() || !isFinite(aY)) {
                        throw new Error("The parameter pageNumber is out of range.");
                    }
                    return this.ab.Yk(aY - 1);
                } else {
                    return this.ab.Yk();
                }
            };
            ViewerControl.prototype.search = function(eG) {
                var bU = this.bU;
                var aCS = bU.searchMethodType.toLowerCase();
                var asu = bU.searchMethodPageCountThreshold;
                var V = this;
                var WT;
                var kD;
                var HU = new PCCViewer.SearchRequest(true);
                if (Object.defineProperties) {
                    Object.defineProperties(HU, {
                        "searchQuery": {
                            enumerable: true,
                            get: function() {
                                return kD.getSearchQuery();
                            }
                        },
                        "results": {
                            enumerable: true,
                            get: function() {
                                return kD.getResults();
                            }
                        },
                        "isComplete": {
                            enumerable: true,
                            get: function() {
                                return kD.getIsComplete();
                            }
                        },
                        "errorCode": {
                            enumerable: true,
                            get: function() {
                                return kD.getErrorCode();
                            }
                        },
                        "errorMessage": {
                            enumerable: true,
                            get: function() {
                                return kD.getErrorMessage();
                            }
                        }
                    });
                }

                function HT(aN) {
                    return function() {
                        HU.trigger.apply(HU, [aN].concat([].slice.call(arguments)));
                    };
                };
                var abm = HT(PCCViewer.EventType.SearchCompleted);
                var aan = HT(PCCViewer.EventType.SearchCancelled);
                var abM = HT(PCCViewer.EventType.SearchResultsAvailable);
                var acE = HT(PCCViewer.EventType.PartialSearchResultsAvailable);
                var aaF = function(bb) {
                    var eH = WT.getErrorCode();
                    if (eH === 'ServerSearchUnavailable') {
                        V.akZ = true;
                        V.yl = false;
                        avZ();
                        kD = V.clientSearch(eG);
                        aln();
                    } else {
                        HT(PCCViewer.EventType.SearchFailed).apply(null, arguments);
                    }
                };
                var aln = function() {
                    kD.on(PCCViewer.EventType.SearchCompleted, abm);
                    kD.on(PCCViewer.EventType.SearchFailed, aaF);
                    kD.on(PCCViewer.EventType.SearchCancelled, aan);
                    kD.on(PCCViewer.EventType.SearchResultsAvailable, abM);
                    kD.on(PCCViewer.EventType.PartialSearchResultsAvailable, acE);
                };
                var avZ = function() {
                    kD.off(PCCViewer.EventType.SearchCompleted, abm);
                    kD.off(PCCViewer.EventType.SearchFailed, aaF);
                    kD.off(PCCViewer.EventType.SearchCancelled, aan);
                    kD.off(PCCViewer.EventType.SearchResultsAvailable, abM);
                    kD.off(PCCViewer.EventType.PartialSearchResultsAvailable, acE);
                };
                var Bu = function() {
                    if (V.akZ === false) {
                        WT = V.serverSearch(eG);
                        kD = WT;
                        aln();
                        IPCC.T.forEach(['getSearchQuery', 'getResults', 'getIsComplete', 'getErrorCode', 'getErrorMessage', 'cancel', 'getPagesWithoutText'], function(aN) {
                            HU[aN] = function() {
                                return kD[aN].apply(kD, arguments);
                            };
                        });
                        return HU;
                    } else {
                        return V.clientSearch(eG);
                    }
                };
                switch (aCS) {
                    case ('auto'):
                        if (asu >= this.ee) {
                            return this.clientSearch(eG);
                        } else {
                            return Bu();
                        }
                        break;
                    case ('client'):
                        return this.clientSearch(eG);
                    case ('server'):
                        return Bu();
                    default:
                        throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");
                }
            };
            ViewerControl.prototype.aas = function(eG, ayY) {
                var V = this;
                var bY = new PCCViewer._Search();
                this.bm = bY.avE();
                PCCViewer.SearchTask.prototype.aer(eG);
                if (ayY === true) {
                    if (V.zv !== true) {
                        V.qJ.then(function(pD) {
                            var Gn = function() {
                                V.off('PageCountReady', Gn);
                                V.clientSearch(eG);
                            };
                            V.on('PageCountReady', Gn);
                            return V.bm;
                        });
                    }
                    if (!this.bQ.aDx()) {
                        this.bQ.Sd(0, this.bQ.ee - 1, this.bQ.ee);
                    }
                }
                this.yz = null;
                this.Gg = {};
                this.ab.clearAllSelectedText();
                return bY;
            };
            ViewerControl.prototype.akv = function() {
                var bi = this;
                this.bm.on('PartialSearchResultsAvailable', function(cZ) {
                    if (bi.wK) {
                        return;
                    }
                    var Fy = [];
                    var RW = {};
                    Fy = cZ.partialSearchResults;
                    var bk = Fy[0];
                    if (bi.Gg[bk.getPageNumber()] !== undefined) {
                        RW = bi.Gg[bk.getPageNumber()];
                    } else {
                        RW.aT = bk.getId();
                    }
                    bk = Fy[Fy.length - 1];
                    RW.dr = bk.getId();
                    bi.Gg[bk.getPageNumber()] = RW;

                    function DZ(aP) {
                        if (bi.wK) {
                            return;
                        }
                        bi.alV(aP.get_pageNumber(), Fy);
                    };
                    var cj = bi.ab.get_displayedPages();
                    for (var C = 0; C < cj.get_length(); C++) {
                        var aP = cj.getPage(C);
                        if (aP.get_pageNumber() + 1 === bk.getPageNumber()) {
                            bi.requestPageText(aP.get_pageNumber() + 1).then(DZ.bind(null, aP));
                        }
                    }
                });
                this.bm.on('SearchCompleted', function(cZ) {
                    bi.yl = false;
                });
                this.bm.on('SearchCancelled', function(cZ) {
                    bi.yl = false;
                });
                this.trigger('SearchPerformed', {
                    searchRequest: this.bm
                });
            };
            ViewerControl.prototype.clientSearch = function(searchQuery) {
                var bi = this;
                var bY = bi.aas(searchQuery, true);
                searchQuery = bY.Tm(searchQuery);
                if (this.yl === false) {
                    bi.ab.set_retainPageText(true);
                    this.bm = bY.vp(searchQuery, this.bQ);
                    this.yl = true;
                } else {
                    throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");
                }
                bi.akv();
                return this.bm;
            };
            ViewerControl.prototype.serverSearch = function(searchQuery) {
                var bi = this;
                var bY = bi.aas(searchQuery, false);
                searchQuery = bY.Tm(searchQuery);
                if (this.yl === false) {
                    this.bm = bY.Bu(searchQuery, this.bQ);
                    this.yl = true;
                } else {
                    throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");
                }
                bi.akv();
                return this.bm;
            };
            ViewerControl.prototype.getSearchRequest = function() {
                return this.bm;
            };
            ViewerControl.prototype.clearSearch = function() {
                if (!this.ef) {
                    throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";
                }
                var V = this;
                if (this.getSelectedSearchResult()) {
                    this.yz = null;
                    setTimeout(function() {
                        V.trigger(PCCViewer.EventType.SearchResultSelectionChanged, {});
                    }, 0);
                }
                this.ab.clearAllSelectedText();
                this.bm = null;
                setTimeout(function() {
                    V.trigger(PCCViewer.EventType.SearchCleared, {});
                }, 0);
                return this;
            };
            ViewerControl.prototype.validateSearch = function(eG) {
                var eb = {
                    errorsExist: false
                };
                var searchTermObj, aek, C, ba, Xi, Ly, KZ;
                if (typeof eG !== 'object' && typeof eG !== 'string') {
                    eb.errorsExist = true;
                    eb.summaryMsg = "Search query must be either an object or string.";
                    return eb;
                }
                if (typeof eG === 'string' && eG.length < 0) {
                    eb.errorsExist = true;
                    eb.summaryMsg = "Search term must contain at least 3 characters.";
                    return eb;
                } else if (typeof eG === 'string') {
                    return eb;
                }
                if (!eG.hasOwnProperty('searchTerms')) {
                    eb.errorsExist = true;
                    eb.summaryMsg = "Search options must have a 'searchTerms' key.";
                    return eb;
                }
                if (Object.prototype.toString.call(eG.searchTerms) !== '[object Array]') {
                    eb.errorsExist = true;
                    eb.summaryMsg = "Search terms value must be an array.";
                    return eb;
                }
                if (!eG.searchTerms.length) {
                    eb.errorsExist = true;
                    eb.summaryMsg = "Search terms array must contain at least one value.";
                    return eb;
                }
                eb.searchTerms = [];
                IPCC.T.forEach(eG.searchTerms, function(searchTermObj) {
                    var Jz = aho(searchTermObj);
                    if (Jz.errorsExist) {
                        eb.errorsExist = true;
                    }
                    eb.searchTerms = eb.searchTerms.concat(Jz.searchTerms);
                });
                return eb;
            };

            function aho(kk) {
                var eb = {
                    errorsExist: false,
                    searchTerms: []
                };
                var aFq = kk.type ? IPCC.T.trim(kk.type).toLowerCase() : undefined;
                if (aFq === 'proximity') {
                    if (Object.prototype.toString.call(kk.terms) !== '[object Array]') {
                        eb.searchTerms.push({
                            isValid: false,
                            message: "Proximity search terms property must be an array"
                        });
                        eb.errorsExist = true;
                        return eb;
                    }
                    if (kk.terms.length < 2) {
                        eb.searchTerms.push({
                            isValid: false,
                            message: "Proximity search terms array must contain at least two values"
                        });
                        eb.errorsExist = true;
                        return eb;
                    }
                    if (!kk.distance) {
                        eb.searchTerms.push({
                            isValid: false,
                            message: "Proximity search term must have a distance specified"
                        });
                        eb.errorsExist = true;
                        return eb;
                    }
                    IPCC.T.forEach(kk.terms, function(axK) {
                        var Jz = aho(axK);
                        if (Jz.errorsExist) {
                            eb.errorsExist = true;
                        }
                        eb.searchTerms = eb.searchTerms.concat(Jz.searchTerms);
                    });
                    return eb;
                }
                var Xi, KZ;
                var Ly = (typeof kk.matchingOptions !== 'undefined' && kk.matchingOptions.hasOwnProperty('matchCase')) ? kk.matchingOptions.matchCase : false;
                if (typeof kk.searchTerm === 'undefined' || typeof kk.searchTerm !== 'string' || (kk.searchTermIsRegex === true && !azJ(kk.searchTerm, Ly))) {
                    eb.errorsExist = true;
                    eb.searchTerms.push({
                        isValid: false,
                        message: "Search term must be a string containing either plain text or a valid regular expression."
                    });
                    return eb;
                }
                Xi = (typeof kk.matchingOptions !== 'undefined' && kk.matchingOptions.hasOwnProperty('exactPhrase')) ? kk.matchingOptions.exactPhrase : false;
                if (Xi) {
                    if (kk.searchTerm.length < 0) {
                        eb.errorsExist = true;
                        eb.searchTerms.push({
                            isValid: false,
                            message: "Search term must contain at least 3 characters."
                        });
                        return eb;
                    }
                } else {
                    var aek = kk.searchTerm.split(' ');
                    IPCC.T.forEach(aek, function(KZ) {
                        if (KZ.length > 0 && KZ.length < 0) {
                            eb.errorsExist = true;
                            eb.searchTerms.push({
                                isValid: false,
                                message: "Search term must contain at least 3 characters."
                            });
                        }
                    });
                }
                if (!eb.searchTerms.length) {
                    eb.searchTerms.push({
                        isValid: true,
                        message: null
                    });
                }
                return eb;
            };
            var azJ = function(aao, Ly) {
                var ayK, Yw, OV;
                if (Ly) {
                    Yw = 'gm';
                } else {
                    Yw = 'igm';
                }
                if (!aao && aao !== null) {
                    OV = false;
                } else {
                    try {
                        ayK = new RegExp(aao, Yw);
                        OV = true;
                    } catch (err) {
                        OV = false;
                    }
                }
                return OV;
            };
            ViewerControl.prototype.requestRevisions = function() {
                this.ku = new PCCViewer.IM({
                    imageHandlerUrl: this.bU.imageHandlerUrl,
                    documentID: this.bU.documentID
                });
                return this.ku.axq();
            };
            ViewerControl.prototype.gu = function(abF) {
                var AE = false,
                    cj = this.ab.get_displayedPages();
                for (var C = 0; C < cj.get_length(); C++) {
                    var aP = cj.getPage(C);
                    if (aP.get_pageNumber() === abF) {
                        AE = true;
                    }
                }
                return AE;
            };
            ViewerControl.prototype.getDownloadDocumentURL = function() {
                var aq;
                if (!(/^[\x00-\x7F]*$/.test(this.bQ))) {
                    aq = this.bU.imageHandlerUrl + passURL + '/SaveDocument/q?DocumentID=e' + this.bU.documentID + '/SourceFile';
                } else {
                    aq = this.bU.imageHandlerUrl + passURL + '/SaveDocument/q?DocumentID=u' + encodeURIComponent(this.bU.documentID);
                }
                return aq;
            };
            ViewerControl.prototype.requestDocumentHyperlinks = function(pageNumber) {
                var aY;
                var aL = PCCViewer.Deferred();
                var cK = aL.getPromise();
                var ae = this;
                try {
                    if (typeof(pageNumber) === 'number') {
                        aY = pageNumber;
                    } else {
                        if (isNaN(+pageNumber)) {
                            throw "The parameter pageNumber is not a number.";
                        } else {
                            aY = parseInt(pageNumber, 10);
                        }
                    }
                    if (aY < 1 || aY > this.getPageCount() || !isFinite(pageNumber)) {
                        throw "The specified page is out of range.";
                    }
                    var abV = this.DN[aY - 1];
                    if (!abV) {
                        abV = this.DN[aY - 1] = new PCCViewer.Deferred();
                        this.qJ.then(function() {
                            var aP = ae.cI.getPage(aY - 1);
                            aP.zJ();
                        });
                    }
                    aL.resolve(abV.getPromise());
                } catch (e) {
                    aL.reject(new PCCViewer.Error('Error', e));
                }
                return cK;
            };
            ViewerControl.prototype.azu = function(azR) {
                var i, j, vn;
                for (j = 0; j < this.Ew.length; j++) {
                    vn = this.Ew[j];
                    if (vn) {
                        for (i = 0; i < vn.length; i++) {
                            if (vn[i].AD.Ma() === azR) {
                                return vn[i];
                            }
                        }
                    }
                }
                return null;
            };
            ViewerControl.prototype.print = Print.print;
            ViewerControl.prototype.validatePrintRange = Print.validatePrintRange;
            ViewerControl.prototype.canPrintMarks = Print.canPrintMarks;
            ViewerControl.prototype.deserializeMarks = function deserializeMarks(values) {
                if (this.ef === false) {
                    throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");
                }
                var V = this;
                var ee = V.getPageCount();
                var es;
                if (typeof values === 'string') {
                    try {
                        es = JSON.parse(values);
                    } catch (e) {
                        throw new Error('JSON parse error: ' + e.message);
                    }
                } else {
                    es = values;
                }
                if (es.constructor !== Array) {
                    es = [es];
                }

                function Su(eN, aj) {
                    throw new Error('Cannot serialize mark (at index ' + aj + ') because of ' + eN);
                };
                var ZW = IPCC.T.map(V.getAllMarks(), function(L) {
                    return L.getUid();
                });
                IPCC.T.forEach(es, function validateObject(aa, aj) {
                    if (!aa.pageNumber || isNaN(+aa.pageNumber) || aa.pageNumber < 1 || aa.pageNumber > ee) {
                        Su('unknown page number ' + aa.pageNumber, aj);
                    }
                    if (!PCCViewer.Mark.Type[aa.type]) {
                        Su('unknown type ' + aa.type, aj);
                    }
                    if (IPCC.T.contains(ZW, aa.uid)) {
                        Su('uid ' + aa.uid + ' is being duplicated or already exists', aj);
                    } else if (aa.uid !== undefined) {
                        ZW.push(aa.uid);
                    }
                });
                if (es.length === 0) {
                    return [];
                }
                var dQ = V.bQ.get_pages();
                var auV = [];
                dQ.ld(function(aP) {
                    auV.push(V.ab.gZ(aP));
                });
                var aU = IPCC.T.reduce(es, function(bk, aa) {
                    var aP = dQ.jq(aa.pageNumber - 1);
                    var VX = aP.get_pageWidth();
                    var akr = aP.get_pageHeight();
                    var hE = aa.pageData;
                    if (!hE && (!VX || !akr)) {
                        var aAJ = IPCC.T.find(aa.lineGroups, function(amT) {
                            return (amT.pageNumber && amT.pageNumber === aa.pageNumber);
                        });
                        hE = aAJ.pageData;
                    }
                    var bL = VX || hE.width;
                    var aS = akr || hE.height;
                    var L = dz[aa.type].call(V, aa, {
                        bL: bL,
                        aS: aS
                    });
                    if (aa.uid === undefined) {
                        ZW.push(L.getUid());
                    }
                    if (!VX) {
                        aP.Bl = true;
                        aP.ado(bL);
                        aP.adn(aS);
                    }
                    if (!L.K.has_unsafe_href()) {
                        bk.push(L);
                    } else {
                        V.deleteMarks(L);
                    }
                    return bk;
                }, []);
                return aU;
            };
            ViewerControl.prototype.serializeMarks = function serializeMarks(marks) {
                var aL = PCCViewer.Deferred();
                var cK = aL.getPromise();
                var V = this,
                    aU, aAH = false;

                function agU(eN) {
                    setTimeout(function() {
                        aL.reject(eN);
                    }, 0);
                };
                if (Object.prototype.toString.call(marks) === '[object Array]') {
                    aU = marks;
                } else if (marks) {
                    aU = [marks];
                    aAH = true;
                } else {
                    agU(new PCCViewer.Error('InvalidArgument', '`marks` is not defined or falsy.'));
                    return cK;
                }
                var Lj;
                aU = IPCC.T.filter(aU, function(mn, aj) {
                    var Ju = mn instanceof PCCViewer.Mark && mn === V.getMarkById(mn.getId()) && !!eY[mn.getType()];
                    if (!Ju && !Lj) {
                        Lj = aj;
                    }
                    return Ju;
                });
                if (Lj) {
                    agU(new PCCViewer.Error('InvalidArgument', 'Cannot serialize object at index ' + Lj + ' because it is not a valid mark or a mark known to ViewerControl'));
                    return cK;
                }
                var VW = V.bQ.get_pages();
                var dQ = IPCC.T.reduce(aU, function(fq, mn) {
                    var aY = mn.getPageNumber();
                    if (fq[aY]) {
                        return fq;
                    }
                    fq[aY] = VW.getPage(aY - 1);
                    return fq;
                }, {});

                function asc(L, aP, avC) {
                    return function(mE) {
                        eY[L.getType()]({
                            mark: L,
                            page: aP,
                            vc: V
                        }, function(dj, dN) {
                            if (!dj) {
                                avC(dN);
                                mE();
                            } else {
                                aL.reject(dj);
                            }
                        });
                    };
                };
                var sh = [];
                var aCQ = IPCC.T.map(aU, function(mn, aj) {
                    return asc(mn, dQ[mn.getPageNumber()], function(dN) {
                        sh[aj] = dN;
                    });
                });
                IPCC.T.XA(aCQ, function() {
                    aL.resolve(sh);
                });
                return cK;
            };
            ViewerControl.prototype.setRedactionViewMode = function(redactionViewMode) {
                var LK, Te;
                switch (redactionViewMode) {
                    case PCCViewer.RedactionViewMode.Draft:
                        LK = true;
                        Te = PCCViewer.RedactionViewMode.Draft;
                        break;
                    case PCCViewer.RedactionViewMode.Normal:
                        LK = false;
                        Te = PCCViewer.RedactionViewMode.Normal;
                        break;
                    default:
                        throw new RangeError("The value of RedactionViewMode is not a supported value.");
                }
                if (this.ab && this.ab.set_redactionDraftMode) {
                    var anM = this.ab.get_redactionDraftMode();
                    if (anM !== LK) {
                        this.ab.set_redactionDraftMode(LK);
                    }
                } else {
                    this.bU.redactionViewMode = Te;
                }
                return this;
            };
            ViewerControl.prototype.getRedactionViewMode = function() {
                var adX;
                if (this.ab && this.ab.get_redactionDraftMode) {
                    adX = this.ab.get_redactionDraftMode();
                    if (adX === true) {
                        return PCCViewer.RedactionViewMode.Draft;
                    } else {
                        return PCCViewer.RedactionViewMode.Normal;
                    }
                } else {
                    return this.bU.redactionViewMode;
                }
            };
            ViewerControl.prototype.convertToRedaction = function(searchResult) {
                var V = this;
                var ey = searchResult;
                if (this.ef === false) {
                    throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";
                } else if (ey instanceof Array) {
                    throw new Error("Argument for this method cannot be an array.");
                } else if (ey instanceof PCCViewer.SearchResult === false) {
                    throw new Error("The argument is not an instance of SearchResult.");
                } else if (ey.IS !== this.bQ.get_documentIdentifier()) {
                    throw new Error("The SearchResult argument was not created using the current document viewing session.");
                }
                var aP = V.cI.getPage(ey.getPageNumber() - 1);
                if (!(aP.ca() && aP.ca().vG() && aP.ca().mY() === true)) {
                    throw new Error("The text has not been retrieved for this page.");
                }
                var iu = ey.getStartIndexInPage();
                var ek = ey.getStartIndexInPage() + ey.getText().length;
                var kS = IPCC.wv();
                var au = V.ab.gZ(aP);
                var hs = aP.ca().gT();
                var dg = aoG(au, hs, iu, ek, kS, ey.getPageNumber() - 1);
                var L = new PCCViewer.Mark({
                    type: 'TextSelectionRedaction',
                    igMark: dg,
                    pageNumber: ey.getPageNumber()
                });
                L.K = dg;
                L.ci = [];
                this.dm[dg.get_markID()] = L;
                var tP = V.hK;
                V.hK = function(sender, eventArgs) {
                    if (V.sB) {
                        V.uh.addMarks(L);
                    }
                    setTimeout(function() {
                        V.trigger('MarkCreated', {
                            mark: L,
                            pageNumber: eventArgs.pageIndex + 1,
                            clientX: eventArgs.clientX,
                            clientY: eventArgs.clientY
                        });
                    }, 0);
                };
                au.addMark(dg);
                V.hK = tP;
                V.ab.display(ey.getPageNumber() - 1);
                return L;
            };
            var aoG = function(au, hs, iu, ek, kS, amZ) {
                var dg = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);
                dg.ah = kS;
                dg.aw = amZ;
                var L = null;
                var kO = {
                    jF: Number.MAX_VALUE,
                    hX: 0,
                    _top: Number.MAX_VALUE,
                    iS: 0
                };
                for (var ba = iu; ba < ek; ba++) {
                    var er = hs.kT(ba);
                    if (L) {
                        var yE = L.get_rectangle();
                        if (Math.abs(er.aW.y - yE.y) < 1 && Math.abs(er.aW.height - yE.height) < 1 && er.aW.x + er.aW.width >= yE.x + yE.width) {
                            L.set_rectangle(new IPCC.Web.UI.Rectangle(yE.x, yE.y, er.aW.x + er.aW.width - yE.x, yE.height));
                        } else {
                            alY(au, dg, L, kO);
                            L = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);
                            L.set_rectangle(er.aW);
                            L.kC(true);
                            L.set_fillColor('#000000');
                            L.set_text(dg.bv);
                            L.set_lineWidth(0);
                            L.ah = kS;
                        }
                    } else {
                        L = new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);
                        L.set_rectangle(er.aW);
                        L.kC(true);
                        L.set_fillColor('#000000');
                        L.set_text(dg.bv);
                        L.set_lineWidth(0);
                        L.ah = kS;
                    }
                    L.aw = amZ;
                }
                if (L !== null) {
                    alY(au, dg, L, kO);
                }
                dg.set_rectangle(new IPCC.Web.UI.Rectangle(kO.jF, kO._top, kO.hX - kO.jF, kO.iS - kO._top));
                return dg;
            };
            var alY = function(au, dg, L, kO) {
                var R = L.get_rectangle();
                if (R.x < kO.jF) {
                    kO.jF = R.x;
                }
                if (R.y < kO._top) {
                    kO._top = R.y;
                }
                if (R.x + R.width > kO.hX) {
                    kO.hX = R.x + R.width;
                }
                if (R.y + R.height > kO.iS) {
                    kO.iS = R.y + R.height;
                }
                au.addMark(L);
                dg.bA.push(L);
            };
            ViewerControl.prototype.convertToHighlight = function(searchResult) {
                var ey = searchResult;
                if (this.ef === false) {
                    throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";
                }
                if (ey instanceof Array) {
                    throw new Error("Argument for this method cannot be an array.");
                }
                if (ey instanceof PCCViewer.SearchResult === false) {
                    throw new Error("The argument is not an instance of SearchResult.");
                }
                if (ey.IS !== this.bQ.get_documentIdentifier()) {
                    throw new Error("The SearchResult argument was not created using the current document viewing session.");
                }
                var dg;
                var ajE;
                var au;
                var bk = ey;
                var iu = bk.getStartIndexInPage();
                var ek = bk.getStartIndexInPage() + bk.getText().length;
                var kS = IPCC.wv();
                var V = this;
                var L;
                au = this.ab.gZ(this.cI.getPage(bk.getPageNumber() - 1));
                dg = ahI(IPCC.Web.UI.MarkType.HighlightText, bk, iu, kS);
                L = new PCCViewer.Mark({
                    type: 'HighlightAnnotation',
                    igMark: dg,
                    pageNumber: bk.getPageNumber()
                });
                for (iu; iu < ek; iu++) {
                    ajE = ahI(IPCC.Web.UI.MarkType.Highlight, bk, iu, kS);
                    au.addMark(ajE);
                }
                this.dm[dg.get_markID()] = L;
                var tP = this.hK;
                this.hK = function(sender, eventArgs) {
                    if (V.sB) {
                        V.uh.addMarks(L);
                    }
                    setTimeout(function() {
                        V.trigger('MarkCreated', {
                            mark: L,
                            pageNumber: eventArgs.pageIndex + 1,
                            clientX: eventArgs.clientX,
                            clientY: eventArgs.clientY
                        });
                    }, 0);
                };
                au.addMark(dg);
                V.hK = tP;
                this.ab.display(bk.getPageNumber() - 1);
                L.fillColor = bk.getHighlightColor();
                return L;
            };
            var ahI = function(bP, bk, avL, kS) {
                var L = new IPCC.Web.UI.Mark(bP);
                if (bP === IPCC.Web.UI.MarkType.HighlightText) {
                    L.cS = bk.getText();
                }
                L.aT = avL;
                L.set_rectangle({
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0
                });
                L.cq = bk.getText().length;
                L.aEY = bk.getStartIndexInPage() + bk.getText().length;
                L.cT = 127;
                L.dR = bk.getHighlightColor();
                L.kQ = 'y';
                L.ah = kS;
                return L;
            };
            ViewerControl.prototype.alV = function(aw, eQ) {
                var bk = {};
                for (var ba = 0; ba < eQ.length; ba++) {
                    bk = eQ[ba];
                    this.ab.selectText(bk.getPageNumber() - 1, bk.getStartIndexInPage(), bk.getText().length, bk.getHighlightColor());
                }
                this.ab.display(bk.getPageNumber() - 1);
                this.JR[bk.getPageNumber()] = 'search';
            };
            ViewerControl.prototype.Yr = function(aw, searchResult) {
                var bk = {};
                if (this.bm === null || typeof this.bm.getResults !== 'function') {
                    return;
                }
                var eQ = this.bm.getResults();
                this.ab.clearSelectedText(aw - 1);
                var Uk = this.Gg[aw];
                if (!Uk) {
                    return;
                }
                for (var ba = Uk.aT; ba < Uk.dr + 1; ba++) {
                    bk = eQ[ba];
                    if (bk.getPageNumber() === aw) {
                        this.ab.selectText(bk.getPageNumber() - 1, bk.getStartIndexInPage(), bk.getText().length, bk.getHighlightColor());
                        if (searchResult === bk.getId()) {
                            this.ab.selectText(bk.getPageNumber() - 1, bk.getStartIndexInPage(), bk.getText().length, bk.getHighlightColor());
                        }
                    }
                }
                this.ab.display(bk.getPageNumber() - 1);
                this.JR[bk.getPageNumber()] = 'search';
            };
            ViewerControl.prototype.setSelectedSearchResult = function(searchResult, scrollTo) {
                if (!this.ef) {
                    throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";
                }
                if (searchResult === null) {
                    this.Fs = -1;
                } else {
                    if (!(searchResult instanceof PCCViewer.SearchResult)) {
                        throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";
                    }
                    if (!this.bm) {
                        throw "There is no current SearchRequest object available.";
                    }
                    var aes = this.bm.getResults();
                    if (aes[searchResult.getId()].nx !== searchResult.nx) {
                        throw "The parameter searchResult is not current. There is a newer version of search result available.";
                    }
                    aes = null;
                    this.Fs = searchResult.getId();
                    if (scrollTo) {
                        var ap = searchResult.getBoundingRectangle();
                        var gr = new IPCC.Web.UI.Rectangle(ap.x, ap.y, ap.width, ap.height);
                        if (this.ab.scrollRegionIntoView(searchResult.getPageNumber() - 1, gr) === false) {
                            this.jZ = function() {
                                V.ab.scrollRegionIntoView(searchResult.getPageNumber() - 1, gr);
                            };
                            this.setPageNumber(searchResult.getPageNumber());
                        } else {
                            this.jZ = null;
                        }
                    }
                }
                var V = this;
                var aCk = searchResult !== null ? searchResult.getPageNumber() : -1;
                if (this.yz && this.yz.getPageNumber() !== aCk) {
                    V.requestPageText(V.yz.getPageNumber()).then(function DZ() {
                        V.Yr(V.yz.getPageNumber(), V.Fs);
                    });
                }
                if (searchResult) {
                    V.requestPageText(searchResult.getPageNumber()).then(function DZ() {
                        V.Yr(searchResult.getPageNumber(), V.Fs);
                    });
                }
                this.yz = searchResult;
                setTimeout(function() {
                    V.trigger(PCCViewer.EventType.SearchResultSelectionChanged, {});
                }, 0);
                return this;
            };
            ViewerControl.prototype.clearSelectedSearchResult = function() {
                if (!this.ef) {
                    throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";
                }
                this.setSelectedSearchResult(null);
                return this;
            };
            ViewerControl.prototype.getSelectedSearchResult = function() {
                return this.yz;
            };
            ViewerControl.prototype.requestPageText = function(pageNumber) {
                var aY;
                var aL = PCCViewer.Deferred();
                var cK = aL.getPromise();
                var V = this;
                try {
                    if (typeof(pageNumber) === 'number') {
                        aY = pageNumber;
                    } else {
                        if (isNaN(+pageNumber)) {
                            throw "The parameter pageNumber is not a number.";
                        } else {
                            aY = parseInt(pageNumber, 10);
                        }
                    }
                    if (aY < 1 || aY > this.getPageCount() || !isFinite(pageNumber)) {
                        throw "The specified page is out of range.";
                    }
                    this.qJ.then(function(pD) {
                        var aP = V.cI.getPage(aY - 1);
                        var ft = aP.ca();
                        ft.adF(true);
                        if (ft && ft.vG()) {
                            if (ft.mY() === true) {
                                var bv = aP.ca().AX();
                                aL.resolve(bv);
                            } else {
                                aL.resolve("");
                            }
                        } else {
                            var Fq = function(bC, cA) {
                                if (cA.containsText === true) {
                                    var bv = ft.AX();
                                    aL.resolve(bv);
                                } else {
                                    aL.resolve("");
                                }
                                aP.Du(Fq);
                                aP.Ed(FG);
                            };
                            var FG = function(bC, cA) {
                                if (cA.exception && cA.exception.message) {
                                    aL.reject(new PCCViewer.Error("TextExtractionFailed", cA.exception.message));
                                } else {
                                    aL.reject(new PCCViewer.Error("TextExtractionFailed", "Text extraction failed."));
                                }
                                aP.Du(Fq);
                                aP.Ed(FG);
                            };
                            aP.xN(Fq);
                            aP.xr(FG);
                            aP.zJ();
                        }
                    });
                } catch (e) {
                    aL.reject(new PCCViewer.Error("Error", e));
                }
                return cK;
            };
            ViewerControl.prototype.disposePageText = function(pageNumber) {
                var aY;
                var V = this;
                if (!this.ef) {
                    throw new Error("The disposePageText method requires the viewer to be in a 'ViewerReady' state.");
                }
                if (V.ab.get_retainPageText() === true) {
                    return this;
                }
                if (typeof(pageNumber) === 'number') {
                    aY = pageNumber;
                } else {
                    if (isNaN(+pageNumber)) {
                        throw new Error("The parameter pageNumber is not a number.");
                    } else {
                        aY = parseInt(pageNumber, 10);
                    }
                }
                if (aY < 1 || aY > this.getPageCount() || !isFinite(pageNumber)) {
                    throw new Error("The specified page is out of range.");
                }
                var cj = V.ab.get_displayedPages();
                for (var C = 0; C < cj.get_length(); C++) {
                    var ano = cj.getPage(C);
                    if (ano.get_pageNumber() === aY - 1) {
                        ano.ca().adF(false);
                        return this;
                    }
                }
                var aP = V.cI.getPage(aY - 1);
                aP.alP();
                return this;
            };
            ViewerControl.prototype.isPageTextReady = function(pageNumber) {
                IPCC.aR.mW(pageNumber, "pageNumber", 1, this.getPageCount());
                var aP;
                return (this.ab && this.cI && (aP = this.cI.getPage(pageNumber - 1)) && aP.ca() && aP.ca().vG()) === true;
            };
            ViewerControl.prototype.documentHasText = function() {
                return this.aBZ;
            };
            ViewerControl.prototype.requestPageAttributes = function(pageNumber) {
                var aY;
                var aL = PCCViewer.Deferred();
                var cK = aL.getPromise();
                var V = this;
                try {
                    if (typeof(pageNumber) === 'number') {
                        aY = pageNumber;
                    } else {
                        if (isNaN(+pageNumber)) {
                            throw "The parameter pageNumber is not a number.";
                        } else {
                            aY = parseInt(pageNumber, 10);
                        }
                    }
                    if (aY < 1 || aY > this.getPageCount() || !isFinite(pageNumber)) {
                        throw "The specified page is out of range.";
                    }
                    this.qJ.then(function(pD) {
                        var aP = V.cI.getPage(aY - 1);
                        if (aP.kt() > 0 || aP.jk() > 0) {
                            aL.resolve({
                                'width': aP.kt(),
                                'height': aP.jk()
                            });
                        } else {
                            var zk = function(ag, aH) {
                                aL.resolve({
                                    'width': ag,
                                    'height': aH
                                });
                            };
                            var AP = function(errorMessage) {
                                aL.reject(new PCCViewer.Error("RequestPageAttributesFailed", errorMessage));
                            };
                            pD.requestPageAttributes(aP, zk, AP);
                        }
                    });
                } catch (e) {
                    aL.reject(new PCCViewer.Error("Error", e));
                }
                return cK;
            };
            ViewerControl.prototype.destroy = function() {
                if (!this.wK) {
                    this.Ew = undefined;
                    this.DN = undefined;
                    this.uh = undefined;
                    this.nk = undefined;
                    this.ku = undefined;
                    this.jv = undefined;
                    if (this.ab && typeof this.ab.dispose === "function") {
                        this.ab.dispose();
                    }
                    this.aq = "";
                    this.ee = 0;
                    delete this.ab;
                    this.bQ = undefined;
                    this.NY = 0;
                    this.cI = undefined;
                    this.ajR = false;
                    if (this.gx) {
                        IPCC.T.OI(this.gx);
                        this.gx = this.db = undefined;
                    }
                    this.oH = false;
                    this.zv = false;
                    this.Dv = false;
                    this.ab = undefined;
                    this.VJ = undefined;
                    this.qJ = undefined;
                    PCCViewer.MouseTools.rA = undefined;
                    this.lK = undefined;
                    this.Ew = undefined;
                    this.Ga = undefined;
                    for (var HD in this.dm) {
                        if (this.dm.hasOwnProperty(HD)) {
                            this.dm[HD].dN = undefined;
                            this.dm[HD].dq = undefined;
                            this.dm[HD].K = undefined;
                            this.dm[HD] = undefined;
                        }
                    }
                    this.dm = undefined;
                    this.ef = false;
                    this.wK = true;
                    this.trigger = function UY() {};
                    this.ia = undefined;
                    this.ia = {};
                }
            };
            ViewerControl.prototype.getMarkById = function(markId) {
                var V = this;
                if (!isNaN(markId)) {
                    markId = parseInt(markId, 10);
                } else {
                    throw "The parameter, markId, contains a value that is not a number.";
                }
                if (V.dm[markId]) {
                    return V.dm[markId];
                } else {
                    return null;
                }
            };
            ViewerControl.prototype.getMarksByType = function(markType) {
                var TQ = [];
                if (typeof markType !== "string") {
                    throw "The parameter, markType, is not a String.";
                }
                alB(markType);
                if (!this.ab) {
                    return TQ;
                }
                var C = 0;
                var dp = this.cI.get_length();
                var V = this;

                function asi(K) {
                    var L = V.dm[K.get_markID()];
                    if (L && L.getType().toLowerCase() === markType.toLowerCase()) {
                        TQ.push(L);
                    }
                };
                for (C = 0; C < dp; C++) {
                    var au = this.ab.gZ(this.cI.getPage(C));
                    if (au) {
                        au.forEachMark(asi);
                    }
                }
                return TQ;
            };
            ViewerControl.prototype.getAllMarks = function() {
                var EA = [];
                if (!this.ab) {
                    return EA;
                }
                var dp = this.cI.get_length();
                var V = this;
                var C = 0;
                var L;

                function PP(K) {
                    var L = V.dm[K.get_markID()];
                    if (typeof L !== 'undefined') {
                        EA.push(L);
                    }
                };
                for (C = 0; C < dp; C++) {
                    var au = this.ab.gZ(this.cI.getPage(C));
                    if (au) {
                        au.forEachMark(PP);
                    }
                }
                return EA;
            };

            function alB(markType) {
                var dV;
                switch (markType.toLowerCase()) {
                    case "lineannotation":
                        dV = IPCC.Web.UI.MarkType.Line;
                        break;
                    case "rectangleannotation":
                        dV = IPCC.Web.UI.MarkType.Rectangle;
                        break;
                    case "ellipseannotation":
                        dV = IPCC.Web.UI.MarkType.Ellipse;
                        break;
                    case "textannotation":
                        dV = IPCC.Web.UI.MarkType.Text;
                        break;
                    case "stampannotation":
                        dV = IPCC.Web.UI.MarkType.Stamp;
                        break;
                    case "highlightannotation":
                        dV = IPCC.Web.UI.MarkType.HighlightText;
                        break;
                    case "texthyperlinkannotation":
                        dV = IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;
                        break;
                    case "freehandannotation":
                        dV = IPCC.Web.UI.MarkType.Freehand;
                        break;
                    case "rectangleredaction":
                        dV = IPCC.Web.UI.MarkType.RectangleRedaction;
                        break;
                    case "transparentrectangleredaction":
                        dV = IPCC.Web.UI.MarkType.Rectangle;
                        break;
                    case "textredaction":
                        dV = IPCC.Web.UI.MarkType.Text;
                        break;
                    case "stampredaction":
                        dV = IPCC.Web.UI.MarkType.Stamp;
                        break;
                    case "freehandsignature":
                        dV = IPCC.Web.UI.MarkType.SignaturePath;
                        break;
                    case "textsignature":
                        dV = IPCC.Web.UI.MarkType.SignatureText;
                        break;
                    case "textinputsignature":
                        dV = IPCC.Web.UI.MarkType.TextLine;
                        break;
                    case "textareasignature":
                        dV = IPCC.Web.UI.MarkType.TextAreaSignature;
                        break;
                    case "textselectionredaction":
                        dV = IPCC.Web.UI.MarkType.TextSelectionRedaction;
                        break;
                    case "imagestampannotation":
                        dV = IPCC.Web.UI.MarkType.ImageStampAnnotation;
                        break;
                    case "imagestampredaction":
                        dV = IPCC.Web.UI.MarkType.ImageStampRedaction;
                        break;
                    case "polylineannotation":
                        dV = IPCC.Web.UI.MarkType.Polyline;
                        break;
                    case "strikethroughannotation":
                        dV = IPCC.Web.UI.MarkType.Strikethrough;
                        break;
                    default:
                        throw "The parameter, markType, does not specify a valid mark type.";
                }
                return dV;
            };
            ViewerControl.prototype.addMarkFromSearchResult = function(searchResult, markType) {
                var V = this,
                    hE;
                if (V.ef === false) {
                    throw "The method addMarkFromSearchResult is not available until 'ViewerReady' state is reached.";
                }
                if (!(searchResult instanceof PCCViewer.SearchResult)) {
                    throw new PCCViewer.Error("InvalidArgument", "searchResult is not a valid instance of PCCViewer.SearchResult");
                }
                if ([PCCViewer.Mark.Type.TextSelectionRedaction, PCCViewer.Mark.Type.HighlightAnnotation, PCCViewer.Mark.Type.TextHyperlinkAnnotation, PCCViewer.Mark.Type.StrikethroughAnnotation].indexOf(markType) === -1) {
                    throw new PCCViewer.Error("InvalidArgument", "The mark type must be: 'TextSelectionRedaction', 'HighlightAnnotation', 'TextHyperlinkAnnotation' or 'StrikethroughAnnotation'.");
                }
                if (searchResult.hE.width === 0) {
                    var JJ = V.bQ.dQ.jq(0);
                    hE = {
                        width: JJ.kt(),
                        height: JJ.jk()
                    };
                } else {
                    hE = searchResult.hE;
                }
                var amx = IPCC.T.vF(new Date());
                var markInfo = [{
                    conversation: {
                        comments: [],
                        data: {}
                    },
                    creationDateTime: amx,
                    data: {},
                    interactionMode: 'Full',
                    lineGroups: [{
                        lines: searchResult.bA,
                        pageData: hE,
                        pageNumber: searchResult.pageNumber,
                        startIndex: searchResult.startIndexInPage,
                        textLength: searchResult.text.length
                    }],
                    modificationDateTime: amx,
                    pageNumber: searchResult.pageNumber,
                    pageData: hE,
                    reason: "",
                    selectedText: searchResult.text,
                    startIndex: searchResult.startIndexInPage,
                    textLength: searchResult.text.length,
                    type: markType
                }];
                var PS = V.deserializeMarks(markInfo);
                return PS[0];
            };
            ViewerControl.prototype.addMark = function(pageNumber, markType) {
                if (this.ef === false) {
                    throw "The method addMark is not available until 'ViewerReady' state is reached.";
                }
                var aY;
                if (typeof(pageNumber) === 'number') {
                    aY = pageNumber;
                } else {
                    if (isNaN(+pageNumber)) {
                        throw "The parameter, pageNumber, contains a value that is not a number.";
                    } else {
                        aY = parseInt(pageNumber, 10);
                    }
                }
                if (aY < 1 || aY > this.cI.get_length() || !isFinite(aY)) {
                    throw "The specified page is out of range.";
                }
                if (typeof markType !== "string") {
                    throw "The parameter, markType, is not a String.";
                }
                var L = this.ant(aY, markType);
                return this.aix(L);
            };
            ViewerControl.prototype.ant = function(aY, bP, bU) {
                var V = this;
                bU = bU || {};
                var dV = alB(bP);
                var K = new IPCC.Web.UI.Mark(dV);
                K.aw = aY - 1;
                var Xf = {
                    type: bP,
                    igMark: K,
                    pageNumber: aY,
                    uid: bU.uid,
                    viewerControl: this
                };
                if (bP.toLowerCase() === "highlightannotation" || bP.toLowerCase() === "textselectionredaction" || bP.toLowerCase() === "strikethroughannotation" || bP.toLowerCase() === "texthyperlinkannotation") {
                    Xf.cI = V.cI;
                    Xf.ab = V.ab;
                }
                var L = new PCCViewer.Mark(Xf);
                return L;
            };
            ViewerControl.prototype.aix = function(L) {
                var V = this;
                if (V.alh === true) {
                    V.alh = false;
                } else {
                    var tP = V.hK;
                    V.hK = function(sender, eventArgs) {
                        V.hK = tP;
                        if (V.sB) {
                            V.uh.addMarks(L);
                        }
                        setTimeout(function() {
                            V.trigger('MarkCreated', {
                                mark: L,
                                pageNumber: eventArgs.pageIndex + 1,
                                clientX: eventArgs.clientX,
                                clientY: eventArgs.clientY
                            });
                        }, 0);
                    };
                }
                var au = this.ab.gZ(this.cI.getPage(L.aY - 1));
                au.addMark(L.K);
                V.dm[L.K.get_markID()] = L;
                V.nN(L, L.aY - 1);
                return L;
            };
            ViewerControl.prototype.deleteMarks = function(marks) {
                var V = this;
                var C = 0;
                var L;
                if (!this.ef) {
                    throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";
                }

                function Ru(nz) {
                    var aw = nz.getPageNumber() - 1;
                    var ah = '';
                    var an = '';
                    var IF = aw;
                    var au = V.ab.gZ(V.cI.getPage(aw));
                    au.removeMark(nz.K);
                    if (V.dm[nz.getId()]) {
                        ah = nz.K.ah;
                        an = nz.getType();
                        delete V.dm[nz.getId()];
                    }
                    var OY = an.toLowerCase();
                    if ((OY === 'highlightannotation' || OY === 'textselectionredaction' || OY === 'strikethroughannotation' || OY === 'texthyperlinkannotation') && (nz.ci && nz.ci.length)) {
                        for (var C = 0; C < nz.ci.length; C++) {
                            var kr = nz.ci[C];
                            au = V.ab.gZ(V.cI.getPage(kr.aw));
                            au.removeMark(kr);
                            V.nN(kr, kr.aw);
                        }
                    }
                    V.nk.forEach(function(ed) {
                        if (ed.hasMark(nz.getId())) {
                            ed.removeMarks(nz);
                        }
                    });
                };
                if (marks instanceof Array) {
                    for (C = 0; C < marks.length; C++) {
                        L = marks[C];
                        if (!(L instanceof PCCViewer.Mark)) {
                            throw "The parameter, marks, contains an item that is not a Mark.";
                        }
                        if (!(V.dm[L.getId()])) {
                            throw "The parameter, marks, contains a Mark that is not on the document.";
                        }
                    }
                    for (C = 0; C < marks.length; C++) {
                        Ru(marks[C]);
                        V.nN(marks[C], marks[C].getPageNumber() - 1);
                    }
                } else {
                    if (marks instanceof PCCViewer.Mark) {
                        if (!(V.dm[marks.getId()])) {
                            throw "The parameter, marks, contains a Mark that is not on the document.";
                        }
                        Ru(marks);
                        V.nN(marks, marks.getPageNumber() - 1);
                    } else {
                        throw "The parameter, marks, is not an Array of Marks or a single Mark.";
                    }
                }
                return this;
            };
            ViewerControl.prototype.deleteAllMarks = function() {
                var EA = this.getAllMarks();
                if (EA.length > 0) {
                    return this.deleteMarks(EA);
                }
                return this;
            };
            ViewerControl.prototype.hideMarks = function(marks) {
                aew(this, marks, false, 'hideMarks');
                return this;
            };
            ViewerControl.prototype.showMarks = function(marks) {
                aew(this, marks, true, 'showMarks');
                return this;
            };

            function aew(ae, aU, wR, aGG) {
                var C = 0;
                var L;
                if (!ae.ef) {
                    throw new PCCViewer.Error("InvalidArgument", "The method " + aGG + " can not be used until 'ViewerReady' state is reached.");
                }
                if (aU instanceof Array) {
                    for (C = 0; C < aU.length; C++) {
                        L = aU[C];
                        if (!(L instanceof PCCViewer.Mark)) {
                            throw new PCCViewer.Error("InvalidArgument", "The parameter, marks, contains an item that is not a Mark.");
                        }
                        if (!(ae.dm[L.getId()])) {
                            throw new PCCViewer.Error("InvalidArgument", "The parameter, marks, contains a Mark that is not on the document.");
                        }
                    }
                    for (C = 0; C < aU.length; C++) {
                        aU[C].setVisible(wR);
                    }
                } else {
                    if (aU instanceof PCCViewer.Mark) {
                        if (!(ae.dm[aU.getId()])) {
                            throw new PCCViewer.Error("InvalidArgument", "The parameter, marks, contains a Mark that is not on the document.");
                        }
                        aU.setVisible(wR);
                    } else {
                        throw new PCCViewer.Error("InvalidArgument", "The parameter, marks, is not an Array of Marks or a single Mark.");
                    }
                }
            };

            function zf(awm, kE) {
                var ky = false;
                var cj = kE.ab.get_displayedPages();
                for (var C = 0; C < cj.get_length(); C++) {
                    var aP = cj.getPage(C);
                    if (aP.get_pageNumber() === awm) {
                        ky = true;
                        break;
                    }
                }
                return ky;
            };
            ViewerControl.prototype.moveMarkToFront = function(mark) {
                var au;
                var gm;
                if (!this.ef) {
                    throw "The method moveMarkToFront is not available until ViewerReady state is reached.";
                }
                if (mark instanceof PCCViewer.Mark) {
                    gm = mark.getPageNumber();
                    if (mark.getPageNumber() > 0) {
                        au = this.ab.gZ(this.cI.getPage(gm - 1));
                    } else {
                        throw "The mark object has not been added to any page yet";
                    }
                } else {
                    throw "The parameter, mark object is not a PCCViewer.Mark object";
                }
                if (!mark.K) {
                    throw "The parameter, mark object is probably a templateMark or has not been initialized";
                }
                if (au) {
                    if (mark.K instanceof IPCC.Web.UI.Mark) {
                        mark.K.moveToFront();
                        if (zf(gm - 1, this) === true) {
                            var kE = this;
                            setTimeout(function() {
                                kE.ab.dv(gm - 1);
                            }, 1);
                        }
                    } else {
                        throw "The mark object has not been initialized yet";
                    }
                }
                return this;
            };
            ViewerControl.prototype.moveMarkToBack = function(mark) {
                var au;
                var gm;
                if (!this.ef) {
                    throw "The method moveMarkToBack is not available until ViewerReady state is reached.";
                }
                if (!(mark instanceof PCCViewer.Mark)) {
                    throw "The parameter, mark object is not a PCCViewer.Mark object";
                }
                gm = mark.getPageNumber();
                if (gm >= 1) {
                    au = this.ab.gZ(this.cI.getPage(mark.getPageNumber() - 1));
                } else {
                    throw "The mark object has not been added to any page yet";
                }
                if (!mark.K) {
                    throw "The parameter, mark may be a templateMark or has not been initialized";
                }
                if (au) {
                    if (mark.K instanceof IPCC.Web.UI.Mark) {
                        mark.K.moveToBack();
                        if (zf(gm - 1, this) === true) {
                            var kE = this;
                            setTimeout(function() {
                                kE.ab.dv(gm - 1);
                            }, 1);
                        }
                    } else {
                        throw "The mark object has not been initialized yet";
                    }
                }
                return this;
            };
            ViewerControl.prototype.moveMarkForward = function(mark) {
                var au, gm;
                if (!this.ef) {
                    throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";
                }
                if (!(mark instanceof PCCViewer.Mark)) {
                    throw "The parameter, mark object is not a PCCViewer.Mark object";
                }
                gm = mark.getPageNumber();
                if (gm >= 1) {
                    au = this.ab.gZ(this.cI.getPage(mark.getPageNumber() - 1));
                } else {
                    throw "The mark object has not been added to any page yet";
                }
                if (!mark.K) {
                    throw "The parameter, mark object is probably a templateMark or has not been initialized";
                }
                if (au) {
                    if (mark.K instanceof IPCC.Web.UI.Mark) {
                        mark.K.moveForward();
                        if (zf(gm - 1, this) === true) {
                            var kE = this;
                            setTimeout(function() {
                                kE.ab.dv(gm - 1);
                            }, 1);
                        }
                    } else {
                        throw "The mark object has not been initialized yet";
                    }
                }
                return this;
            };
            ViewerControl.prototype.moveMarkBackward = function(mark) {
                var au, gm;
                if (!this.ef) {
                    throw "The method moveMarkBackward is not available until ViewerReady state is reached.";
                }
                if (!(mark instanceof PCCViewer.Mark)) {
                    throw "The parameter, mark object is not a PCCViewer.Mark object";
                }
                gm = mark.getPageNumber();
                if (gm >= 1) {
                    au = this.ab.gZ(this.cI.getPage(mark.getPageNumber() - 1));
                } else {
                    throw "The mark object has not been added to any page yet";
                }
                if (!mark.K) {
                    throw "The parameter, mark object is probably a templateMark or has not been initialized";
                }
                if (au) {
                    if (mark.K instanceof IPCC.Web.UI.Mark) {
                        mark.K.moveBackward();
                        if (zf(gm - 1, this) === true) {
                            var kE = this;
                            setTimeout(function() {
                                kE.ab.dv(gm - 1);
                            }, 1);
                        }
                    } else {
                        throw "The mark object has not been initialized yet";
                    }
                }
                return this;
            };
            ViewerControl.prototype.getSelectedMarks = function() {
                var aU = [];
                var Tj = [];
                if (this.ef === false) {
                    return aU;
                }
                var dp = this.cI.get_length(),
                    au, ez;
                var V = this;

                function asF(PF) {
                    if (PF) {
                        var Pd = PF.get_type();
                        if (Pd === IPCC.Web.UI.MarkType.HighlightText || Pd === IPCC.Web.UI.MarkType.TextSelectionRedaction || Pd === IPCC.Web.UI.MarkType.Strikethrough || Pd === IPCC.Web.UI.MarkType.TextHyperlinkAnnotation) {
                            for (var ie in V.dm) {
                                if (V.dm.hasOwnProperty(ie)) {
                                    ez = V.dm[ie];
                                    if (PF.ah === ez.K.ah) {
                                        for (var C = 0; C < Tj.length; C++) {
                                            if (ez.K.ah === Tj[C]) {
                                                return;
                                            }
                                        }
                                        Tj.push(ez.K.ah);
                                        break;
                                    }
                                }
                            }
                        } else {
                            ez = V.dm[PF.get_markID()];
                        }
                        if (ez && ez instanceof PCCViewer.Mark) {
                            aU.push(ez);
                        } else {
                            return aU;
                        }
                    }
                };
                for (var C = 0; C < dp; C++) {
                    au = this.ab.gZ(this.cI.getPage(C));
                    if (au) {
                        au.get_selectedMarks().forEach(asF, {});
                    }
                }
                return aU;
            };

            function alW(aU, aob, kE) {
                var ez, C;

                function SK(hd) {
                    var ky = false;
                    var cj = kE.ab.get_displayedPages();
                    for (var C = 0; C < cj.get_length(); C++) {
                        var aP = cj.getPage(C);
                        if (aP.get_pageNumber() === hd) {
                            ky = true;
                            break;
                        }
                    }
                    return ky;
                };
                if (!aU.length) {
                    return;
                }
                for (C = 0; C < aU.length; C++) {
                    if (aU[C] instanceof PCCViewer.Mark) {
                        ez = kE.dm[parseInt(aU[C].getId(), 10)];
                        if (ez && ez instanceof PCCViewer.Mark) {
                            if (ez.K && ez.K instanceof IPCC.Web.UI.Mark) {
                                if (ez.getId() !== ez.K.get_markID().toString()) {
                                    throw "The mark ID does not match the ID of the mark loaded in the viewer";
                                }
                            } else {
                                throw "The mark provided may not have been added to the document pages in the viewer";
                            }
                        } else {
                            throw "The parameter, marks, contains a Mark that is not on the document.";
                        }
                    } else {
                        throw "The mark provided in the position : " + (C + 1) + " is invalid";
                    }
                }
                var oi = [];
                var tn = false;
                for (C = 0; C < aU.length; C++) {
                    ez = kE.dm[parseInt(aU[C].getId(), 10)];
                    tn = false;
                    if (ez) {
                        if (ez.getId() === ez.K.get_markID().toString()) {
                            ez.K.set_selected(aob);
                            if (Array.prototype.IndexOf) {
                                tn = (oi.IndexOf(ez.getPageNumber()) >= 0);
                            } else {
                                tn = (IPCC.Web.jA(oi, ez.getPageNumber()) >= 0);
                            }
                        }
                        if (!tn) {
                            var cF = ez.getPageNumber();
                            if (SK(cF - 1)) {
                                oi.push(cF);
                            }
                        }
                    }
                }
                if (oi.length > 0) {
                    setTimeout(function() {
                        for (C = 0; C < oi.length; C++) {
                            kE.ab.dv(oi[C] - 1);
                        }
                    }, 1);
                }
            };
            ViewerControl.prototype.selectMarks = function(marks) {
                if (this.ef === false) {
                    throw "The method selectMarks is not available until 'ViewerReady' state is reached.";
                }
                var aU = [];
                if (marks === undefined) {
                    return this;
                }
                if (marks && !(marks instanceof Array)) {
                    if (marks instanceof PCCViewer.Mark) {
                        aU.push(marks);
                    }
                } else {
                    aU = marks;
                }
                if (aU.length === 0) {
                    return this;
                }
                alW(aU, true, this);
                return this;
            };
            ViewerControl.prototype.deselectMarks = function(marks) {
                if (this.ef === false) {
                    throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";
                }
                var aU = [];
                if (marks === undefined) {
                    return this;
                }
                if (marks && !(marks instanceof Array)) {
                    if (marks instanceof PCCViewer.Mark) {
                        aU.push(marks);
                    }
                } else {
                    aU = marks;
                }
                if (aU.length === 0) {
                    return this;
                }
                alW(aU, false, this);
                return this;
            };
            ViewerControl.prototype.deselectAllMarks = function() {
                var oi = [];
                var aU = this.getSelectedMarks();
                var tn = false,
                    C, ez;
                for (C = 0; C < aU.length; C++) {
                    ez = this.dm[parseInt(aU[C].getId(), 10)];
                    tn = false;
                    if (ez) {
                        if (ez.getId() === ez.K.get_markID().toString()) {
                            ez.K.set_selected(false);
                            if (Array.prototype.IndexOf) {
                                tn = (oi.IndexOf(ez.getPageNumber()) >= 0);
                            } else {
                                tn = (IPCC.Web.jA(oi, ez.getPageNumber()) >= 0);
                            }
                        }
                        if (!tn) {
                            var cF = ez.getPageNumber();
                            if (zf(cF - 1, this) === true) {
                                oi.push(cF);
                            }
                        }
                    }
                }
                if (oi.length > 0) {
                    var kE = this;
                    setTimeout(function() {
                        for (C = 0; C < oi.length; C++) {
                            kE.ab.dv(oi[C] - 1);
                        }
                    }, 1);
                }
                return this;
            };
            ViewerControl.prototype.copyMarks = function(marks) {
                var ae = this,
                    PS;
                if (marks instanceof PCCViewer.Mark) {
                    marks = [marks];
                }
                if (marks instanceof Array === false) {
                    throw new PCCViewer.Error("InvalidArgument", "The parameter, marks, is not an Array of Marks or a single Mark.");
                }
                var aU = [];
                IPCC.T.forEach(marks, function(L) {
                    if (L instanceof PCCViewer.Mark) {
                        if (ae.dm[L.getId()] === undefined) {
                            throw new PCCViewer.Error("InvalidArgument", "The parameter, marks, contains a Mark that is not on the document.");
                        }
                        aU.push(L);
                    } else {
                        throw new PCCViewer.Error("InvalidArgument", "The parameter, marks, contains an item that is not a Mark.");
                    }
                });
                var sh = [];
                IPCC.T.forEach(aU, function(L, ay) {
                    eY[L.getType()]({
                        mark: L
                    }, function(dj, dN) {
                        dN.uid = undefined;
                        sh[ay] = dN;
                    });
                });
                this.sB = false;
                PS = ae.deserializeMarks(sh);
                this.sB = true;
                return PS;
            };
            ViewerControl.prototype.enterTextMarkEditingMode = function(L) {
                var ae = this,
                    ab = this.ab;
                var afB = function(abF) {
                    var AE = false,
                        cj = ab.get_displayedPages();
                    for (var C = 0; C < cj.get_length(); C++) {
                        var aP = cj.getPage(C);
                        if (aP.get_pageNumber() === abF) {
                            AE = true;
                        }
                        ab.qW(aP.get_pageNumber());
                    }
                    return AE;
                };
                if (typeof L === "undefined" || L === null) {
                    afB(-1);
                } else {
                    if (this.ef === false) {
                        throw PCCViewer.Error("ViewerNotReady", "The method selectMarks is not available until 'ViewerReady' state is reached.");
                    }
                    if (!(L instanceof PCCViewer.Mark)) {
                        throw new PCCViewer.Error("InvalidArgument", "The argument 'mark' must be an instance of PCCViewer.Mark.");
                    }
                    var aea = this.dm[parseInt(L.getId(), 10)];
                    if (!(aea && aea instanceof PCCViewer.Mark)) {
                        throw new PCCViewer.Error("InvalidArgument", "The provided mark is not on the document.");
                    }
                    if (!(L.K && L.K instanceof IPCC.Web.UI.Mark)) {
                        throw new PCCViewer.Error("InvalidArgument", "The provided mark may not have been added to the document pages in the viewer");
                    }
                    if (L.getId() !== L.K.get_markID().toString()) {
                        throw new PCCViewer.Error("InvalidArgument", "The mark ID does not match the ID of the mark loaded in the viewer");
                    }
                    var bP = L.getType();
                    if (bP !== PCCViewer.Mark.Type.TextAnnotation && bP !== PCCViewer.Mark.Type.TextRedaction && bP !== PCCViewer.Mark.Type.TextInputSignature && bP !== PCCViewer.Mark.Type.TextAreaSignature) {
                        throw new PCCViewer.Error("InvalidArgument", "The mark type must be: 'TextAnnotation', 'TextRedaction', 'TextInputSignature', or 'TextAreaSignature'.");
                    }
                    var AE = afB(L.getPageNumber() - 1);
                    if (AE) {
                        ae.ab.yq(L.getPageNumber() - 1, L.K);
                    }
                }
                return this;
            };
            ViewerControl.prototype.getCharacterIndex = function(sortableObject) {
                if (this.ef === false) {
                    throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");
                }
                var Hn = -1;
                var cD;
                var ap;
                var aY = 0;
                if (sortableObject instanceof PCCViewer.Mark) {
                    if (sortableObject.getStartPoint) {
                        cD = sortableObject.getStartPoint();
                    } else {
                        ap = (sortableObject.K) ? sortableObject.K.get_boundingRectangle() : sortableObject.getRectangle();
                        cD = {
                            x: ap.x,
                            y: ap.y
                        };
                    }
                    aY = sortableObject.getPageNumber();
                } else if (sortableObject instanceof PCCViewer.SearchResult) {
                    return sortableObject.startIndexInPage;
                } else if (sortableObject !== undefined && sortableObject !== null) {
                    if (typeof sortableObject.x === 'number' && typeof sortableObject.y === 'number') {
                        cD = {
                            x: +sortableObject.x,
                            y: +sortableObject.y
                        };
                    } else {
                        if (isNaN(+sortableObject.x) || isNaN(+sortableObject.y)) {
                            throw new Error('The parameter sortableObject does not contain valid x and y values.');
                        } else {
                            cD = {
                                x: Number(+sortableObject.x),
                                y: Number(+sortableObject.y)
                            };
                        }
                    }
                    if (typeof sortableObject.pageNumber === 'number') {
                        aY = +sortableObject.pageNumber;
                    } else {
                        if (isNaN(+sortableObject.pageNumber)) {
                            throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');
                        } else {
                            aY = Number(+sortableObject.pageNumber);
                        }
                    }
                } else {
                    throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');
                }
                if (aY < 1 || aY > this.getPageCount() || !isFinite(aY)) {
                    throw new RangeError("The parameter pageNumber is out of range.");
                }
                if (!this.isPageTextReady(aY)) {
                    return -2;
                }
                var aP = this.cI.getPage(aY - 1);
                var tQ = aP.ca().YK();
                var hs = aP.ca().gT();

                function amk(bbox, point) {
                    if (point.x > bbox.x && point.x < bbox.x + bbox.width && point.y > bbox.y && point.y < bbox.y + bbox.height) {
                        return true;
                    }
                    return false;
                };

                function afy(dG, fb) {
                    var aM = Math.max(Math.min(fb.x, dG.x + dG.width), dG.x);
                    var di = Math.max(Math.min(fb.y, dG.y + dG.height), dG.y);
                    return (fb.x - aM) * (fb.x - aM) + (fb.y - di) * (fb.y - di);
                };
                var EI;
                var Oy = Number.MAX_VALUE;
                for (var C = 0; C < tQ.en(); C++) {
                    var fU = tQ.aww(C);
                    if (amk(fU.eA(), cD)) {
                        for (var ba = fU.aiX(); ba < fU.ahS(); ba++) {
                            var SA = hs.kT(ba);
                            var uu = SA.uy();
                            if (amk(uu, cD)) {
                                return ba;
                            }
                            EI = afy(uu, cD);
                            if (EI < Oy) {
                                Hn = ba;
                                Oy = EI;
                            }
                        }
                        return Hn;
                    }
                    EI = afy(fU.eA(), cD);
                    if (EI < Oy) {
                        if (fU.eA().y > cD.y) {
                            Hn = fU.aiX() - 1;
                        } else {
                            Hn = fU.ahS();
                        }
                        Oy = EI;
                    }
                }
                return Hn;
            };
            ViewerControl.prototype.getCurrentMouseTool = function() {
                return this.cJ.getName();
            };
            ViewerControl.prototype.setCurrentMouseTool = function(name) {
                var V = this;
                if (this.ef === false) {
                    throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";
                }
                var xU = name.toLowerCase();
                var cJ = PCCViewer.MouseTools.getMouseTool(xU);
                if (!cJ) {
                    throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");
                }
                var hu, gC;
                switch (cJ.getType()) {
                    case PCCViewer.MouseTool.Type.Magnifier:
                        hu = IPCC.Web.UI.MouseTool.Magnifier;
                        break;
                    case PCCViewer.MouseTool.Type.SelectToZoom:
                        hu = IPCC.Web.UI.MouseTool.RectangleZoom;
                        break;
                    case PCCViewer.MouseTool.Type.PanAndEdit:
                    case PCCViewer.MouseTool.Type.Pan:
                        hu = IPCC.Web.UI.MouseTool.HandPan;
                        break;
                    case PCCViewer.MouseTool.Type.SelectText:
                        hu = IPCC.Web.UI.MouseTool.SelectText;
                        break;
                    case PCCViewer.MouseTool.Type.EditMarks:
                        hu = IPCC.Web.UI.MouseTool.EditMarks;
                        break;
                    case PCCViewer.MouseTool.Type.LineAnnotation:
                        hu = IPCC.Web.UI.MouseTool.CreateLineMark;
                        gC = aqO(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.RectangleAnnotation:
                        hu = IPCC.Web.UI.MouseTool.CreateRectangleMark;
                        gC = agc(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.RectangleRedaction:
                        hu = IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;
                        gC = auy(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:
                        hu = IPCC.Web.UI.MouseTool.CreateRectangleMark;
                        gC = avp(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.EllipseAnnotation:
                        hu = IPCC.Web.UI.MouseTool.CreateEllipseMark;
                        gC = agc(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.TextAnnotation:
                        hu = IPCC.Web.UI.MouseTool.CreateTextMark;
                        gC = atD(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.TextRedaction:
                        hu = IPCC.Web.UI.MouseTool.CreateTextMark;
                        gC = To(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.TextInputSignature:
                        hu = IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;
                        gC = To(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.TextAreaSignature:
                        hu = IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark;
                        gC = To(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.StampAnnotation:
                    case PCCViewer.MouseTool.Type.StampRedaction:
                        hu = IPCC.Web.UI.MouseTool.CreateStampMark;
                        gC = aup(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.HighlightAnnotation:
                        hu = IPCC.Web.UI.MouseTool.CreateHighlightTextMark;
                        gC = MU(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:
                        hu = IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;
                        gC = MU(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.FreehandAnnotation:
                        hu = IPCC.Web.UI.MouseTool.CreateFreehandMark;
                        gC = arC(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.TextSelectionRedaction:
                        hu = IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;
                        gC = MU(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.PlaceSignature:
                        var anS = '../viewer-assets/img/placeSignatureCursor.cur';
                        this.ab.set_mouseTool(IPCC.Web.UI.MouseTool.None);
                        this.ab.set_allowMarkEdits(false);
                        this.ab.set_mouseCursor('url(' + anS + '), pointer');
                        this.cJ = cJ;
                        return this;
                    case PCCViewer.MouseTool.Type.ImageStampAnnotation:
                        hu = IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;
                        gC = akp(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.ImageStampRedaction:
                        hu = IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;
                        gC = akp(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.PolylineAnnotation:
                        hu = IPCC.Web.UI.MouseTool.CreatePolylineMark;
                        gC = apw(cJ.getTemplateMark());
                        break;
                    case PCCViewer.MouseTool.Type.StrikethroughAnnotation:
                        hu = IPCC.Web.UI.MouseTool.CreateStrikethroughMark;
                        gC = MU(cJ.getTemplateMark());
                        break;
                    default:
                        throw new Error("An unexpected error occurred. The MouseTool type is not known.");
                }
                var aoL = this.ab.get_mouseTool();
                if (this.cJ !== cJ && aoL === hu) {
                    setTimeout(function() {
                        V.trigger(PCCViewer.EventType.MouseToolChanged, {
                            mouseToolName: V.cJ.getName()
                        });
                    }, 0);
                }
                this.cJ = cJ;
                if (gC) {
                    this.FU = gC.onCreating;
                    this.hK = gC.onAdded;
                } else {
                    this.FU = undefined;
                    this.hK = undefined;
                }
                this.ab.set_mouseTool(hu);
                this.ab.set_allowMarkEdits((cJ.getType() === PCCViewer.MouseTool.Type.PanAndEdit));
                return this;
            };

            function RM(ae, UN, oq) {
                if (ae.zv !== true) {
                    var Gn = function() {
                        ae.off('PageCountReady', Gn);
                        RM(ae, UN, oq);
                    };
                    ae.on('PageCountReady', Gn);
                    return;
                }
                var bi = ae;
                var xD;
                var ik = {},
                    ut = {},
                    pr = [];
                var gq = bi.ee;
                var jU;
                var bU;
                if (UN) {
                    bU = UN;
                }
                var abN = [];
                var VW = bi.bQ.get_pages();
                var axa = function(aP, done) {
                    var aHM = false;
                    var jq = aP;
                    var aY = aP.get_pageNumber();
                    var fw = jq.get_pageWidth();
                    var fL = jq.get_pageHeight();
                    try {
                        if (jq) {
                            var gZ = bi.ab.gZ(jq),
                                Ep = 0,
                                CY = 0,
                                eN = "",
                                aFT = false;
                            var getArt = function getArt() {
                                var LQ;
                                if (bU && bU.Bz && bU.Bz[aY]) {
                                    LQ = IPCC.T.extend({}, bU);
                                    LQ.Bz = bU.Bz[aY];
                                } else {
                                    LQ = bU;
                                }
                                var ba, Xk;
                                var Ig = gZ.aEN(aY, Ep, CY, LQ);
                                if (Ig.ik) {
                                    ik[aY] = Ig.ik;
                                } else {
                                    var atR = aDz(aY, jU, CY, Ep);
                                    ik[aY] = atR;
                                }
                                if (Ig.pr) {
                                    for (ba = 0; ba < Ig.pr.length; ba++) {
                                        Xk = Ig.pr[ba];
                                        ut[Xk.aI.imageStampId] = Xk;
                                    }
                                }
                                done();
                            };
                            if (gZ) {
                                if (!fw || !fL) {
                                    if (gZ.get_markCount() > 0) {
                                        bi.ab.Rr(aP, function(ag, aH) {
                                            Ep = ag;
                                            if (Ep) {
                                                jq.KV(Ep);
                                            }
                                            CY = aH;
                                            if (CY) {
                                                jq.Mr(CY);
                                            }
                                            getArt();
                                        }, function(oQ) {
                                            done(oQ);
                                        });
                                    } else {
                                        getArt();
                                    }
                                } else {
                                    Ep = fw;
                                    CY = fL;
                                    getArt();
                                }
                            } else {
                                done(new Error("No art page was found"));
                            }
                        }
                    } catch (ex) {
                        done(new Error("Error while saving annotation, error:" + ex.message));
                    }
                };
                VW.forEach(function(aP, aj, jv) {
                    abN.push(function(done) {
                        axa(aP, done);
                    });
                });
                var Yi = function(bN, aP) {
                    var wh = "";
                    var C;
                    if (!bN.ht) {
                        if (bN.toString()) {
                            return bN.toString();
                        } else {
                            return '<![CDATA[]]>';
                        }
                    }
                    if ((gq === 1 || aP === 0 || (aP > 0 && bN.ht !== "documentAnnotations" && bN.ht !== "pages")) && bN.ht !== "highlights") {
                        wh = '<' + bN.ht;
                        for (var ze in bN.aI) {
                            if (bN.aI.hasOwnProperty(ze)) {
                                var YR = bN.aI[ze];
                                if (YR === undefined || YR === null) {
                                    continue;
                                }
                                var aI = YR.toString();
                                aI = aI.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
                                wh = wh + ' ' + ze + '="' + aI + '"';
                            }
                        }
                        wh += '>';
                    }
                    for (C = 0; C < bN.cR.length; C++) {
                        wh += Yi(bN.cR[C], aP);
                    }
                    if (gq === 1 || (aP === gq - 1) || (aP !== gq - 1 && bN.ht !== "documentAnnotations" && bN.ht !== "pages" && bN.ht !== "highlights")) {
                        if (bN.ht !== "highlights") {
                            wh += '</' + bN.ht + '>';
                        } else {
                            wh += '<' + bN.ht + ' />';
                        }
                    }
                    return wh;
                };
                IPCC.T.XA(abN, function(dj) {
                    if (dj) {
                        oq(dj);
                        return;
                    }
                    xD = '<?xml version="1.0"?>';
                    for (var C = 0; C < (bi.ee); C++) {
                        xD = xD + Yi(ik[C], C);
                    }
                    var stampImageXml = '';
                    for (var Gl in ut) {
                        if (ut.hasOwnProperty(Gl)) {
                            stampImageXml += Yi(ut[Gl], 1);
                        }
                    }
                    if (stampImageXml.length) {
                        var stampImagesXml = '<stampImages>' + stampImageXml + '</stampImages></documentAnnotations>';
                        xD = xD.replace('</documentAnnotations>', stampImagesXml);
                    }
                    oq(undefined, xD);
                });
            };
            ViewerControl.prototype.saveMarkup = function(recordName, options) {
                var aL = PCCViewer.Deferred();
                var cK = aL.getPromise();
                var bU;
                if (options) {
                    bU = options;
                } else {
                    bU = {
                        includeAnnotations: true,
                        includeRedactions: true,
                        includeSignatures: false
                    };
                }
                try {
                    if (typeof recordName !== "string") {
                        aL.reject(new PCCViewer.Error("InvalidArgument", "The parameter, recordName, is not a String."));
                        return cK;
                    }
                    if (!apC(recordName)) {
                        aL.reject(new PCCViewer.Error("InvalidCharactersFilename", 'Invalid characters in the annotations filename.'));
                        return cK;
                    }
                    var bi = this;
                    this.qJ.then(function(pD) {
                        var yo = recordName;
                        RM(bi, bU, function(err, xD) {
                            if (err) {
                                aL.reject(new PCCViewer.Error("Error", err));
                                return cK;
                            }
                            var LY = IPCC.gL.su(yo);
                            var aq;
                            if (!(/^[\x00-\x7F]*$/.test(bi.bQ.get_documentIdentifier()))) {
                                aq = bi.bU.imageHandlerUrl + passURL  + '/Document/q/Art/q?DocumentID=e' + bi.bU.documentID + '&AnnotationID=e' + LY;
                            } else {
                                aq = bi.bU.imageHandlerUrl + passURL + '/Document/q/Art/q?DocumentID=u' + encodeURIComponent(bi.bU.documentID) + '&AnnotationID=u' + encodeURIComponent(yo);
                            }

                            function eI(aX) {
                                aL.resolve(yo);
                                setTimeout(function() {
                                    bi.trigger('MarkupSaved', {
                                        name: yo
                                    });
                                }, 0);
                            };

                            function fc(bk) {
                                aL.reject(new PCCViewer.Error("AjaxError", "Status Code " + bk.response.status + " " + bk.response.statusText));
                            };
                            PCCViewer.Ajax.eh({
                                method: 'POST',
                                url: aq,
                                headers: {
                                    'Content-Type': 'application/xml'
                                },
                                body: xD
                            }).then(eI, fc);
                        });
                    });
                } catch (e) {
                    aL.reject(new PCCViewer.Error("Error", e.message));
                }
                return cK;
            };
            var apC = function(recordName) {
                return !/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);
            };
            var VY = function(jG) {
                var aM = jG.firstChild;
                while (aM.nodeType !== 1) {
                    aM = aM.nextSibling;
                }
                return aM;
            };
            var aDz = function(cF, jU, fL, fw) {
                var ik = {
                    ht: 'documentAnnotations',
                    cR: [],
                    aI: {}
                };
                var anm = {
                    ht: 'pages',
                    cR: [],
                    aI: {}
                };
                ik.cR.push(anm);
                var mU = {
                    ht: 'highlights',
                    cR: [],
                    aI: {}
                };
                var aP = {
                    ht: 'page',
                    cR: [],
                    aI: {
                        id: (cF + 1).toString(),
                        pageWidth: fw,
                        pageHeight: fL
                    }
                };
                ik.cR.push(mU);
                try {
                    if (jU) {
                        var aM = jU.getElementsByTagName("documentAnnotations");
                        if (aM.length > 1) {
                            throw 'ERROR: Invalid PCC annotations XML';
                        }
                        var PY;
                        var Ce;
                        if (document.documentMode < 9) {
                            var Vs = jU.firstChild.nodeName;
                            if (Vs.toLowerCase() === 'xml') {
                                PY = jU.firstChild.nextSibling;
                            } else {
                                PY = jU.firstChild;
                            }
                        } else {
                            PY = jU.firstChild;
                        }
                        var dQ = VY(PY);
                        if (dQ.nodeName !== 'pages') {
                            throw 'ERROR: Problem with pages node in the PCC annotations XML';
                        }
                        if (dQ.hasChildNodes()) {
                            var C;
                            var mZ = false;
                            for (C = 0; C < dQ.childNodes.length; C++) {
                                Ce = dQ.childNodes[C];
                                if (Ce.nodeName !== 'page') {
                                    continue;
                                }
                                var AH = Ce.getAttribute('id');
                                mZ = false;
                                if (AH && parseFloat(AH) === cF + 1) {
                                    mZ = true;
                                    for (var ba = 0; ba < Ce.childNodes.length; ba++) {
                                        var bO = Ce.childNodes[ba];
                                        var aJ = {
                                            ht: 'annotation',
                                            cR: [],
                                            aI: {}
                                        };
                                        if (bO.nodeName !== 'annotation') {
                                            continue;
                                        }
                                        var MR = Ce.childNodes[ba].attributes;
                                        if (MR.length > 0) {
                                            for (var dw = 0; dw < MR.length; dw++) {
                                                aJ.aI[MR[dw].name] = MR[dw].value;
                                            }
                                        }
                                        if (bO.childNodes[0].data) {
                                            aJ.cR.push('<![CDATA[' + bO.childNodes[0].data + ']]>');
                                        } else {
                                            aJ.cR.push('');
                                        }
                                        aP.cR.push(aJ);
                                    }
                                    break;
                                }
                            }
                        }
                    }
                    anm.cR.push(aP);
                    return ik;
                } catch (e) {
                    throw (e.message);
                }
            };
            ViewerControl.prototype.loadMarkup = function(recordName, options) {
                var Kc = recordName;
                var aL = PCCViewer.Deferred(),
                    cK = aL.getPromise(),
                    bi = this;
                var bU = options || {};
                var yH = bU.retainExistingMarks;
                var jC = bU.markupLayer;
                var uK = bU.loadAsHidden;
                this.qJ.then(function(pD) {
                    var aq, LY, ab = bi.ab,
                        cI = bi.cI;
                    if (typeof Kc !== "string") {
                        aL.reject(new PCCViewer.Error("InvalidArgument", "The parameter, recordName, is not a String."));
                    }
                    if (yH !== undefined) {
                        if (typeof yH !== 'boolean') {
                            aL.reject(new PCCViewer.Error('InvalidArgument', 'The parameter `retainExistingMarks` must be a boolean value if it is specified.'));
                        }
                    }
                    if (jC !== undefined) {
                        if (!(jC instanceof PCCViewer.MarkupLayer)) {
                            aL.reject(new PCCViewer.Error('InvalidArgument', 'The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));
                        }
                        if (bi.nk.getItem(jC.getId()) === undefined) {
                            aL.reject(new PCCViewer.Error('InvalidArgument', 'The parameter `markupLayer` is a markup layer unknown to the viewer.'));
                        }
                    }

                    function eI(aX) {
                        var SB, Mq = aX.responseText,
                            Ou;
                        if (Mq.indexOf('xml') === -1) {
                            aL.reject(new PCCViewer.Error("InvalidAnnotationRecord", "Did not receive valid annotation record from web server."));
                            return;
                        }
                        Mq = Mq.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g, function(match, p1, p2, p3) {
                            return p1 + IPCC.T.ps(p2) + p3;
                        });
                        if (window.DOMParser) {
                            Ou = function(xmlStr) {
                                return (new window.DOMParser()).parseFromString(xmlStr, "text/xml");
                            };
                        } else if (typeof window.ActiveXObject !== "undefined" && new window.ActiveXObject("Microsoft.XMLDOM")) {
                            Ou = function(xmlStr) {
                                var xmlDoc = new window.ActiveXObject("Microsoft.XMLDOM");
                                xmlDoc.async = "false";
                                xmlDoc.loadXML(xmlStr);
                                return xmlDoc;
                            };
                        } else {
                            Ou = function() {
                                return null;
                            };
                        }
                        SB = Ou(Mq);
                        var akR = SB.getElementsByTagName('stampImage');
                        var pr = {};
                        var Yq = function(ay) {
                            L.bF.push(ahf.getPoint(ay));
                        };
                        for (var C = 0; C < akR.length; C++) {
                            var Vu = akR[C];
                            pr[Vu.getAttribute('imageStampId')] = {
                                imageStampId: Vu.getAttribute('imageStampId'),
                                base64format: Vu.getAttribute('base64format')
                            };
                        }
                        ab.set_annotationXmlDom(SB, pr, yH === true, uK === true);
                        if (yH !== true) {
                            bi.dm = {};
                        }
                        var dp = bi.cI.get_length();
                        var L;
                        var bP, dV;
                        var yv = {};
                        var Ii = [];
                        for (C = 0; C < dp; C++) {
                            var au = bi.ab.gZ(bi.cI.getPage(C));
                            if (au) {
                                var BW = {};
                                var ba = 0;
                                for (ba = 0; ba < au.get_markCount(); ba++) {
                                    var K = au.getMark(ba);
                                    if (bi.dm[K.get_markID()] !== undefined) {
                                        continue;
                                    }
                                    dV = K.get_type();
                                    switch (dV) {
                                        case IPCC.Web.UI.MarkType.Rectangle:
                                            if (K.jR() === true) {
                                                if (K.get_opacity() === 255) {
                                                    bP = PCCViewer.Mark.Type.RectangleRedaction;
                                                } else {
                                                    bP = PCCViewer.Mark.Type.TransparentRectangleRedaction;
                                                }
                                                L = new PCCViewer.Mark({
                                                    type: bP,
                                                    igMark: K,
                                                    pageNumber: C + 1,
                                                    uid: K.aI.ln
                                                });
                                            } else {
                                                bP = PCCViewer.Mark.Type.RectangleAnnotation;
                                                L = new PCCViewer.Mark({
                                                    type: bP,
                                                    igMark: K,
                                                    pageNumber: C + 1,
                                                    uid: K.aI.ln
                                                });
                                                L.mk = K.get_lineWidth();
                                                L.dR = K.get_fillColor();
                                                L.nC = K.get_lineColor();
                                                L.cT = K.get_opacity();
                                            }
                                            break;
                                        case IPCC.Web.UI.MarkType.Ellipse:
                                            bP = PCCViewer.Mark.Type.EllipseAnnotation;
                                            L = new PCCViewer.Mark({
                                                type: bP,
                                                igMark: K,
                                                pageNumber: C + 1,
                                                uid: K.aI.ln
                                            });
                                            L.mk = K.get_lineWidth();
                                            L.dR = K.get_fillColor();
                                            L.nC = K.get_lineColor();
                                            L.cT = K.get_opacity();
                                            break;
                                        case IPCC.Web.UI.MarkType.Line:
                                            bP = PCCViewer.Mark.Type.LineAnnotation;
                                            L = new PCCViewer.Mark({
                                                type: bP,
                                                igMark: K,
                                                pageNumber: C + 1,
                                                uid: K.aI.ln
                                            });
                                            L.nA = K.get_lineWidth();
                                            L.cl = K.get_lineColor();
                                            L.cT = K.get_opacity();
                                            if (K.get_endHeadType() === IPCC.Web.UI.LineHeadType.Solid) {
                                                L.mv = "FilledTriangle";
                                            } else {
                                                L.mv = "None";
                                            }
                                            break;
                                        case IPCC.Web.UI.MarkType.Stamp:
                                            if (K.jR() === true) {
                                                bP = PCCViewer.Mark.Type.StampRedaction;
                                                L = new PCCViewer.Mark({
                                                    type: bP,
                                                    igMark: K,
                                                    pageNumber: C + 1,
                                                    uid: K.aI.ln
                                                });
                                            } else {
                                                bP = PCCViewer.Mark.Type.StampAnnotation;
                                                L = new PCCViewer.Mark({
                                                    type: bP,
                                                    igMark: K,
                                                    pageNumber: C + 1,
                                                    uid: K.aI.ln
                                                });
                                                L.cl = K.get_fillColor();
                                            }
                                            L.vx = K.get_text();
                                            break;
                                        case IPCC.Web.UI.MarkType.Text:
                                            if (K.jR() === true) {
                                                bP = PCCViewer.Mark.Type.TextRedaction;
                                                L = new PCCViewer.Mark({
                                                    type: bP,
                                                    igMark: K,
                                                    pageNumber: C + 1,
                                                    uid: K.aI.ln
                                                });
                                            } else {
                                                bP = PCCViewer.Mark.Type.TextAnnotation;
                                                L = new PCCViewer.Mark({
                                                    type: bP,
                                                    igMark: K,
                                                    pageNumber: C + 1,
                                                    uid: K.aI.ln
                                                });
                                                L.mk = K.get_lineWidth();
                                                L.dR = K.get_fillColor();
                                                L.nC = K.get_lineColor();
                                                L.cT = K.get_opacity();
                                            }
                                            L.fY = K.get_maxLength();
                                            L.hH = K.get_fontName();
                                            L.gM = K.get_textColor();
                                            L.cu = K.get_fontSize();
                                            var cc = K.get_fontStyle();
                                            var ri = [];
                                            if ((cc & IPCC.Web.UI.FontStyle.Bold) === IPCC.Web.UI.FontStyle.Bold) {
                                                ri.push("Bold");
                                            }
                                            if ((cc & IPCC.Web.UI.FontStyle.Italic) === IPCC.Web.UI.FontStyle.Italic) {
                                                ri.push("Italic");
                                            }
                                            if ((cc & IPCC.Web.UI.FontStyle.Strikeout) === IPCC.Web.UI.FontStyle.Strikeout) {
                                                ri.push("Strikeout");
                                            }
                                            if ((cc & IPCC.Web.UI.FontStyle.Underline) === IPCC.Web.UI.FontStyle.Underline) {
                                                ri.push("Underline");
                                            }
                                            L.cc = ri;
                                            var qK;
                                            switch (K.get_textHorizontalAlignment()) {
                                                case IPCC.Web.UI.HorizontalAlignment.Center:
                                                    qK = "center";
                                                    break;
                                                case IPCC.Web.UI.HorizontalAlignment.Left:
                                                    qK = "left";
                                                    break;
                                                case IPCC.Web.UI.HorizontalAlignment.Right:
                                                    qK = "right";
                                                    break;
                                            }
                                            L.lV = qK;
                                            break;
                                        case IPCC.Web.UI.MarkType.TextAreaSignature:
                                            bP = PCCViewer.Mark.Type.TextAreaSignature;
                                            L = new PCCViewer.Mark({
                                                type: bP,
                                                igMark: K,
                                                pageNumber: C + 1,
                                                uid: K.aI.ln
                                            });
                                            L.mk = K.get_lineWidth();
                                            L.fY = K.get_maxLength();
                                            L.hH = K.get_fontName();
                                            L.gM = K.get_textColor();
                                            L.ig = K.get_maxFontSize();
                                            cc = K.get_fontStyle();
                                            ri = [];
                                            if ((cc & IPCC.Web.UI.FontStyle.Bold) === IPCC.Web.UI.FontStyle.Bold) {
                                                ri.push("Bold");
                                            }
                                            if ((cc & IPCC.Web.UI.FontStyle.Italic) === IPCC.Web.UI.FontStyle.Italic) {
                                                ri.push("Italic");
                                            }
                                            if ((cc & IPCC.Web.UI.FontStyle.Strikeout) === IPCC.Web.UI.FontStyle.Strikeout) {
                                                ri.push("Strikeout");
                                            }
                                            if ((cc & IPCC.Web.UI.FontStyle.Underline) === IPCC.Web.UI.FontStyle.Underline) {
                                                ri.push("Underline");
                                            }
                                            L.cc = ri;
                                            switch (K.get_textHorizontalAlignment()) {
                                                case IPCC.Web.UI.HorizontalAlignment.Center:
                                                    qK = "center";
                                                    break;
                                                case IPCC.Web.UI.HorizontalAlignment.Left:
                                                    qK = "left";
                                                    break;
                                                case IPCC.Web.UI.HorizontalAlignment.Right:
                                                    qK = "right";
                                                    break;
                                            }
                                            L.lV = qK;
                                            break;
                                        case IPCC.Web.UI.MarkType.HighlightText:
                                        case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:
                                        case IPCC.Web.UI.MarkType.TextSelectionRedaction:
                                        case IPCC.Web.UI.MarkType.Strikethrough:
                                            bP = (dV === IPCC.Web.UI.MarkType.HighlightText) ? PCCViewer.Mark.Type.HighlightAnnotation : (dV === IPCC.Web.UI.MarkType.TextHyperlinkAnnotation) ? PCCViewer.Mark.Type.TextHyperlinkAnnotation : (dV === IPCC.Web.UI.MarkType.Strikethrough) ? PCCViewer.Mark.Type.StrikethroughAnnotation : PCCViewer.Mark.Type.TextSelectionRedaction;
                                            var VV = K.ah;
                                            if (typeof yv[VV] === 'undefined') {
                                                L = new PCCViewer.Mark({
                                                    type: bP,
                                                    igMark: K,
                                                    pageNumber: C + 1,
                                                    cI: cI,
                                                    ab: ab,
                                                    uid: K.aI.ln
                                                });
                                                L.ci = [];
                                                if (bP === PCCViewer.Mark.Type.HighlightAnnotation) {
                                                    L.dR = K.get_fillColor();
                                                }
                                                yv[VV] = L;
                                                K.aw = C;
                                                K.kl = true;
                                            } else {
                                                K.aw = C;
                                                yv[VV].ci.push(K);
                                            }
                                            break;
                                        case IPCC.Web.UI.MarkType.Freehand:
                                            bP = PCCViewer.Mark.Type.FreehandAnnotation;
                                            L = new PCCViewer.Mark({
                                                type: bP,
                                                igMark: K,
                                                pageNumber: C + 1,
                                                uid: K.aI.ln
                                            });
                                            L.nA = K.get_lineWidth();
                                            L.cl = K.get_lineColor();
                                            L.cT = K.get_opacity();
                                            break;
                                        case IPCC.Web.UI.MarkType.SignaturePath:
                                            bP = PCCViewer.Mark.Type.FreehandSignature;
                                            L = new PCCViewer.Mark({
                                                type: bP,
                                                igMark: K,
                                                pageNumber: C + 1,
                                                uid: K.aI.ln
                                            });
                                            L.nA = K.get_lineWidth();
                                            L.cl = K.get_lineColor();
                                            break;
                                        case IPCC.Web.UI.MarkType.SignatureText:
                                            bP = PCCViewer.Mark.Type.TextSignature;
                                            L = new PCCViewer.Mark({
                                                type: bP,
                                                igMark: K,
                                                pageNumber: C + 1,
                                                uid: K.aI.ln
                                            });
                                            L.hH = K.get_fontName();
                                            L.cl = K.get_fillColor();
                                            L.bv = K.get_text();
                                            break;
                                        case IPCC.Web.UI.MarkType.TextLine:
                                            bP = PCCViewer.Mark.Type.TextInputSignature;
                                            L = new PCCViewer.Mark({
                                                type: bP,
                                                igMark: K,
                                                pageNumber: C + 1,
                                                uid: K.aI.ln
                                            });
                                            L.hH = K.get_fontName();
                                            L.gM = K.get_textColor();
                                            L.bv = K.get_text();
                                            L.fY = K.get_maxLength();
                                            L.iY = K.get_mask();
                                            break;
                                        case IPCC.Web.UI.MarkType.RectangleRedaction:
                                            if (!K.ah) {
                                                bP = PCCViewer.Mark.Type.RectangleRedaction;
                                                L = new PCCViewer.Mark({
                                                    type: bP,
                                                    igMark: K,
                                                    pageNumber: C + 1,
                                                    cI: cI,
                                                    ab: ab,
                                                    uid: K.aI.ln
                                                });
                                                L.mk = K.get_lineWidth();
                                                L.dR = K.get_fillColor();
                                                L.nC = K.get_lineColor();
                                                L.cT = K.get_opacity();
                                            } else {
                                                if (BW[K.ah] === undefined) {
                                                    BW[K.ah] = [];
                                                }
                                                BW[K.ah].push(K);
                                            }
                                            break;
                                        case IPCC.Web.UI.MarkType.ImageStampAnnotation:
                                        case IPCC.Web.UI.MarkType.ImageStampRedaction:
                                            bP = (dV === IPCC.Web.UI.MarkType.ImageStampAnnotation) ? PCCViewer.Mark.Type.ImageStampAnnotation : PCCViewer.Mark.Type.ImageStampRedaction;
                                            L = new PCCViewer.Mark({
                                                type: bP,
                                                igMark: K,
                                                pageNumber: C + 1,
                                                uid: K.aI.ln
                                            });
                                            L.setImage({
                                                dataUrl: K.get_image(),
                                                id: K.pz
                                            });
                                            break;
                                        case IPCC.Web.UI.MarkType.Polyline:
                                            bP = PCCViewer.Mark.Type.PolylineAnnotation;
                                            L = new PCCViewer.Mark({
                                                type: bP,
                                                igMark: K,
                                                pageNumber: C + 1,
                                                uid: K.aI.ln
                                            });
                                            L.nA = K.get_lineWidth();
                                            L.cl = K.get_lineColor();
                                            L.cT = K.get_opacity();
                                            var ahf = K.get_points();
                                            L.bF = [];
                                            for (var ad = 0; ad < ahf.get_length(); ad++) {
                                                Yq(ad);
                                            }
                                            break;
                                        default:
                                            L = undefined;
                                            continue;
                                    }
                                    if (typeof L !== 'undefined' && dV !== IPCC.Web.UI.MarkType.HighlightText && !(dV === IPCC.Web.UI.MarkType.RectangleRedaction && K.ah !== undefined) && dV !== IPCC.Web.UI.MarkType.TextSelectionRedaction && dV !== IPCC.Web.UI.MarkType.TextHyperlinkAnnotation && dV !== IPCC.Web.UI.MarkType.Strikethrough) {
                                        bi.dm[K.get_markID()] = L;
                                        Ii.push(L);
                                    }
                                }
                                for (var Lg in BW) {
                                    if (BW.hasOwnProperty(Lg) && yv[Lg]) {
                                        var Fm = yv[Lg];
                                        var afu = Fm.K;
                                        if (Fm.ci && Fm.ci.length > 0) {
                                            for (var Nc = 0; Nc < Fm.ci.length; Nc++) {
                                                if (Fm.ci[Nc].aw === C) {
                                                    afu = Fm.ci[Nc];
                                                }
                                            }
                                        }
                                        var bA = BW[Lg];
                                        for (var Zv = 0; Zv < bA.length; Zv++) {
                                            afu.bA.push(bA[Zv]);
                                        }
                                    }
                                }
                            }
                        }
                        for (var oW in yv) {
                            if (yv.hasOwnProperty(oW)) {
                                var yQ = yv[oW];
                                bi.dm[yQ.K.get_markID()] = yQ;
                                Ii.push(yQ);
                                if (yQ.ci && yQ.ci.length > 0) {
                                    yQ.ci[yQ.ci.length - 1].lB = true;
                                } else {
                                    yQ.K.lB = true;
                                }
                            }
                        }
                        aL.resolve(Kc);
                        if (jC !== undefined) {
                            jC.addMarks(Ii);
                        } else {
                            bi.getActiveMarkupLayer().addMarks(Ii);
                        }
                        bi.trigger('MarkupLoaded', {
                            name: Kc,
                            loadedMarks: Ii
                        });
                    };

                    function fc(bk) {
                        aL.reject(new PCCViewer.Error("Error", "Status Code " + bk.response.status + " " + bk.response.statusText));
                    };
                    LY = IPCC.gL.su(Kc);
                    if (!(/^[\x00-\x7F]*$/.test(bi.bQ.get_documentIdentifier()))) {
                        aq = bi.bU.imageHandlerUrl + passURL +  '/Document/q/Art/q?DocumentID=e' + bi.bU.documentID + '&AnnotationID=e' + LY;
                    } else {
                        aq = bi.bU.imageHandlerUrl + passURL +  '/Document/q/Art/q?DocumentID=u' + encodeURIComponent(bi.bU.documentID) + '&AnnotationID=u' + encodeURIComponent(Kc);
                    }
                    PCCViewer.Ajax.eh({
                        method: 'GET',
                        url: aq,
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded'
                        }
                    }).then(eI, fc);
                });
                return cK;
            };
            ViewerControl.prototype.getSavedMarkupNames = function() {
                var aL = PCCViewer.Deferred();
                var cK = aL.getPromise();
                try {
                    var C = 0,
                        Fg = 0;
                    var yo = '';
                    var aq = this.bU.imageHandlerUrl + passURL + '/AnnotationList/q/Art/q?DocumentID=u' + encodeURIComponent(this.bU.documentID) + '&AnnotationID=u' + encodeURIComponent(yo);
                    var eI = function(aX) {
                        var rR;
                        if (typeof aX.responseText !== 'unknown' && aX.responseText.length > 0) {
                            try {
                                rR = JSON.parse(aX.responseText);
                            } catch (e) {}
                        }
                        var ZX = [],
                            Fg = 0;
                        for (var C = 0, ds = rR.annotationFiles.length; C < ds; C++) {
                            if (rR.annotationFiles[C].annotationLabel) {
                                ZX[Fg] = {};
                                ZX[Fg].name = rR.annotationFiles[C].annotationLabel;
                                Fg++;
                            }
                        }
                        aL.resolve(ZX);
                    };
                    var fc = function(bk) {
                        aL.reject(new PCCViewer.Error("MarkupListFail", "Unable to retrieve markup list from server."));
                    };
                    PCCViewer.Ajax.eh({
                        method: 'GET',
                        url: aq
                    }).then(eI, fc);
                } catch (e) {
                    aL.reject(new PCCViewer.Error("Error", e.message));
                }
                return cK;
            };
            ViewerControl.prototype.getMarkupLayerCollection = function() {
                if (!this.nk) {
                    this.nk = new PCCViewer.MarkupLayerCollection(this);
                }
                return this.nk;
            };
            ViewerControl.prototype.requestMarkupLayerNames = function(metadata) {
                var aL = PCCViewer.Deferred(),
                    cK = aL.getPromise(),
                    aq, avv = function(obj) {
                        var parts = [];
                        for (var key in obj) {
                            if (obj.hasOwnProperty(key) && (typeof obj[key] === 'string' || typeof obj[key] === 'boolean' || typeof obj[key] === 'number')) {
                                parts.push(encodeURIComponent(key) + '=' + encodeURIComponent(obj[key]));
                            }
                        }
                        return "?" + parts.join('&');
                    };
                if (!(/^[\x00-\x7F]*$/.test(this.bQ.get_documentIdentifier()))) {
                    aq = this.bU.imageHandlerUrl + '/MarkupLayers/e' + this.bU.documentID + '/';
                } else {
                    aq = this.bU.imageHandlerUrl + '/MarkupLayers/u' + encodeURIComponent(this.bU.documentID) + '/';
                }
                if (metadata) {
                    var aAI = avv(metadata);
                    aq += aAI;
                }
                aq += '?nocache=' + new Date().getTime();
                PCCViewer.Ajax.eh({
                    url: aq,
                    method: 'GET'
                }).then(function eI(aX) {
                    var azn = JSON.parse(aX.responseText);
                    aL.resolve(azn);
                }, function fc(bk) {
                    aL.reject(bk.error);
                });
                return cK;
            };
            ViewerControl.prototype.getActiveMarkupLayer = function() {
                return this.uh;
            };
            ViewerControl.prototype.setActiveMarkupLayer = function(markupLayer) {
                if (!(markupLayer instanceof PCCViewer.MarkupLayer)) {
                    throw new PCCViewer.Error('InvalidArgument', 'The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');
                }
                if (this.nk.getItem(markupLayer.getId()) === undefined) {
                    throw new PCCViewer.Error('InvalidArgument', 'The parameter `markupLayer` is a markup layer unknown to the viewer.');
                }
                this.uh = markupLayer;
            };
            ViewerControl.prototype.loadMarkupLayers = function(layerRecordIds, options) {
                var Yo, V = this;
                Yo = new PCCViewer.LoadMarkupLayersRequest(layerRecordIds, this, options || {});

                function vr() {
                    setTimeout(function() {
                        Yo.EH();
                    }, 20);
                };

                function qp() {
                    V.off(PCCViewer.EventType.PageCountReady, qp);
                    vr();
                };
                if (this.oH === false) {
                    V.on(PCCViewer.EventType.PageCountReady, qp);
                } else {
                    vr();
                }
                return Yo;
            };
            ViewerControl.prototype.saveMarkupLayer = function(id) {
                var aL = PCCViewer.Deferred();
                var cK = aL.getPromise();
                var V = this;
                if (typeof id !== 'string' || !id) {
                    aL.reject(new PCCViewer.Error('InvalidArgument', 'The parameter `id` is not a string.'));
                    return cK;
                }
                var ed = this.nk ? this.nk.getItem(id) : undefined;
                if (!ed) {
                    aL.reject(new PCCViewer.Error('UnknownLayerRecord', 'The layer record ' + id + ' is not known to ViewerControl'));
                    return cK;
                }

                function aus(nB) {
                    var RK = ed.getMarks();
                    if (!RK.length) {
                        nB(undefined, []);
                    } else {
                        V.serializeMarks(RK).then(function iK(aU) {
                            nB(undefined, IPCC.T.map(aU, function(L) {
                                if (L.conversation && L.conversation.comments) {
                                    delete L.conversation.comments;
                                }
                                return L;
                            }));
                        }, function _f(eN) {
                            nB(eN);
                        });
                    }
                };

                function atx(nB) {
                    var RK = ed.getMarks();
                    var aaa = function(fq, gQ, kF) {
                        var Ti = IPCC.T.filter(gQ, function(po) {
                            return !po.jC || po.jC === ed;
                        });
                        IPCC.T.forEach(Ti, function(bZ) {
                            var aa = eY.Comment(bZ);
                            aa.markUid = kF;
                            fq.push(aa);
                        });
                        return fq;
                    };
                    var Sz = IPCC.T.reduce(RK, function(fq, L) {
                        var dq = L.getConversation();
                        var gQ = dq.getComments();
                        return gQ.length ? aaa(fq, gQ, L.getUid()) : fq;
                    }, []);
                    nB(undefined, Sz);
                };

                function atI(nB) {
                    var aBr = IPCC.T.reduce(V.nk.getAll(), function(fq, amD) {
                        return fq.concat(ed === amD ? [] : amD.getMarks());
                    }, []);
                    var aaa = function(fq, gQ, kF) {
                        var Ti = IPCC.T.filter(gQ, function(po) {
                            return po.jC === ed;
                        });
                        IPCC.T.forEach(Ti, function(po) {
                            var aa = eY.Comment(po);
                            aa.markUid = kF;
                            fq.push(aa);
                        });
                        return fq;
                    };
                    var Sz = IPCC.T.reduce(aBr, function(fq, L) {
                        var dq = L.getConversation();
                        var gQ = dq.getComments();
                        return gQ.length ? aaa(fq, gQ, L.getUid()) : fq;
                    }, []);
                    nB(undefined, Sz);
                };
                var acn = [],
                    aGm = function(rj) {
                        if (rj.markupLayer === ed) {
                            acn.push({
                                text: rj.text,
                                data: rj.data,
                                creationDateTime: rj.creationDateTime,
                                markUid: rj.markUid
                            });
                        }
                    };
                for (var adb in this.nk.jp) {
                    if (this.nk.jp.hasOwnProperty(adb)) {
                        IPCC.T.forEach(this.nk.jp[adb], aGm);
                    }
                }
                var zl = {
                    layerRecordId: ed.getRecordId(),
                    name: ed.getName(),
                    originalXmlName: ed.getOriginalXmlName(),
                    comments: acn,
                    data: eY.Data(ed)
                };
                var wm;
                IPCC.T.XA([function(mE) {
                    aus(function(dj, dN) {
                        if (dj && !wm) {
                            wm = dj;
                        } else {
                            zl.marks = dN;
                        }
                        mE();
                    });
                }, function(mE) {
                    atx(function(dj, dN) {
                        if (dj && !wm) {
                            wm = dj;
                        } else {
                            zl.comments = zl.comments.concat(dN);
                        }
                        mE();
                    });
                }, function(mE) {
                    atI(function(dj, dN) {
                        if (dj && !wm) {
                            wm = dj;
                        } else {
                            zl.comments = zl.comments.concat(dN);
                        }
                        mE();
                    });
                }], function() {
                    if (!wm) {
                        auz(zl);
                    } else {
                        aL.reject(new PCCViewer.Error('SerializationError', wm.message));
                    }
                });

                function auz(aGI) {
                    var Ny, iG = {
                        method: 'POST',
                        body: JSON.stringify(zl),
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    };
                    if (!(/^[\x00-\x7F]*$/.test(V.bQ.get_documentIdentifier()))) {
                        Ny = V.bU.imageHandlerUrl + '/MarkupLayers/e' + V.bU.documentID + '/';
                    } else {
                        Ny = V.bU.imageHandlerUrl + '/MarkupLayers/u' + encodeURIComponent(V.bU.documentID) + '/';
                    }
                    if (ed.getRecordId()) {
                        iG.url = Ny + ed.getRecordId();
                        iG.headers['X-HTTP-Method-Override'] = 'PUT';
                    } else {
                        iG.url = Ny;
                    }
                    PCCViewer.Ajax.eh(iG).then(eI, fc);
                };

                function eI(aX) {
                    if (aX.responseText && typeof aX.responseText === 'string') {
                        var PN;
                        try {
                            PN = JSON.parse(aX.responseText);
                        } catch (e) {}
                        if (PN && PN.layerRecordId) {
                            ed.Zg = PN.layerRecordId;
                        }
                    }
                    aL.resolve({
                        layerRecordId: ed.getRecordId()
                    });
                };

                function fc(bk) {
                    aL.reject(new PCCViewer.Error('AjaxError', bk.error.message || 'An unknown server error occured.'));
                };
                return cK;
            };
            ViewerControl.prototype.burnMarkup = function(burnOptions) {
                var kY = {
                    burnSignatures: true,
                    burnRedactions: true,
                    burnAnnotations: false
                };
                var GL;
                var acf;
                var Tx;
                var aHU = false;
                if (burnOptions) {
                    if (typeof burnOptions.marks === 'object') {
                        if (burnOptions.marks instanceof PCCViewer.Mark) {
                            GL = [burnOptions.marks];
                        } else if (burnOptions.marks instanceof Array) {
                            GL = burnOptions.marks;
                        }
                        kY = {
                            marks: GL
                        };
                    } else {
                        kY.burnSignatures = (burnOptions.burnSignatures !== undefined) ? !!burnOptions.burnSignatures : kY.burnSignatures;
                        kY.burnRedactions = (burnOptions.burnRedactions !== undefined) ? !!burnOptions.burnRedactions : kY.burnRedactions;
                        kY.burnAnnotations = (burnOptions.burnAnnotations !== undefined) ? !!burnOptions.burnAnnotations : kY.burnAnnotations;
                    }
                    if (typeof burnOptions.filename === 'string') {
                        kY.filename = burnOptions.filename;
                    }
                    if (burnOptions.removeFormFields !== undefined) {
                        if (burnOptions.removeFormFields instanceof Array) {
                            if (burnOptions.removeFormFields.length > 0) {
                                var NZ, Ju = true;
                                for (NZ = 0; NZ < burnOptions.removeFormFields.length; NZ++) {
                                    if (burnOptions.removeFormFields[NZ] !== 'acroform') {
                                        Ju = false;
                                    }
                                }
                                if (Ju) {
                                    kY.removeFormFields = ['acroform'];
                                } else {
                                    kY.oQ = {
                                        code: 'InvalidArgument',
                                        message: 'The burnOptions.removeFormFields parameter contains an invalid form type.'
                                    };
                                }
                            } else {
                                kY.oQ = {
                                    code: 'InvalidArgument',
                                    message: 'The burnOptions.removeFormFields parameter must specify a valid form type.'
                                };
                            }
                        } else {
                            kY.oQ = {
                                code: 'InvalidArgument',
                                message: 'The burnOptions.removeFormFields parameter must be an Array if defined.'
                            };
                        }
                    }
                }
                var zN = new PCCViewer.BurnRequest(kY),
                    V = this;
                if (GL) {
                    var fC = [];
                    for (var C = 0, ds = this.getPageCount(); C < ds; C++) {
                        fC[C] = [];
                    }
                    fC = IPCC.T.reduce(GL, function(aU, bx) {
                        var aY = bx.getPageNumber() - 1;
                        if (!(typeof bx === 'object' && bx instanceof PCCViewer.Mark && bx.K)) {
                            zN.Zx(new Error('The burnOptions.marks parameter is an invalid object.'));
                            return aU;
                        }
                        if (!V.getMarkById(bx.cB)) {
                            zN.Zx(new Error('The burnOptions.marks parameter contains a mark not known to Viewer Control.'));
                            return aU;
                        }
                        aU[aY].push(bx.K);
                        if (bx.K.bA) {
                            for (var C = 0, ds = bx.K.bA.length; C < ds; C++) {
                                if (bx.K.bA[C] instanceof IPCC.Web.UI.Mark) {
                                    aU[aY].push(bx.K.bA[C]);
                                }
                            }
                        }
                        if (bx.ci) {
                            for (var ba = 0, azy = bx.ci.length; ba < azy; ba++) {
                                aU[aY + 1 + ba].push(bx.ci[ba]);
                                if (bx.ci[ba].bA) {
                                    for (var dw = 0, aAd = bx.ci[ba].bA.length; dw < aAd; dw++) {
                                        if (bx.ci[ba].bA[dw] instanceof IPCC.Web.UI.Mark) {
                                            aU[aY + 1 + ba].push(bx.ci[ba].bA[dw]);
                                        }
                                    }
                                }
                            }
                        }
                        return aU;
                    }, fC);
                    Tx = {
                        Bz: fC,
                        vq: true
                    };
                } else {
                    Tx = {
                        includeAnnotations: kY.burnAnnotations,
                        includeRedactions: kY.burnRedactions,
                        includeSignatures: kY.burnSignatures,
                        vq: true
                    };
                }

                function afY() {
                    RM(V, Tx, function(dj, acf) {
                        if (dj) {
                            setTimeout(function() {
                                zN.Zx(dj);
                            }, 20);
                        } else {
                            zN.OW({
                                bQ: V.bQ,
                                bU: V.bU
                            });
                            zN.aBm(acf);
                            setTimeout(function() {
                                zN.EH();
                            }, 20);
                        }
                    });
                };

                function qp() {
                    V.off(PCCViewer.EventType.PageCountReady, qp);
                    afY();
                };
                if (this.oH === false) {
                    V.on(PCCViewer.EventType.PageCountReady, qp);
                } else {
                    afY();
                }
                return zN;
            };
            ViewerControl.prototype.convertDocument = function(WV) {
                var uZ, V = this,
                    AK = {
                        targetExtension: 'pdf',
                        filename: 'document'
                    },
                    bU = {};
                rO.sv(bU, AK, WV);
                bU.zO = 1;
                uZ = new PCCViewer.ConversionRequest(bU);

                function vr() {
                    uZ.OW({
                        bQ: V.bQ,
                        bU: V.bU
                    });
                    setTimeout(function() {
                        uZ.EH(bU);
                    }, 20);
                };

                function qp() {
                    V.off(PCCViewer.EventType.PageCountReady, qp);
                    vr();
                };
                if (this.oH === false) {
                    V.on(PCCViewer.EventType.PageCountReady, qp);
                } else {
                    vr();
                }
                return uZ;
            };
            ViewerControl.prototype.requestDocumentConversion = function(WV) {
                var uZ, V = this,
                    AK = {
                        targetExtension: 'pdf',
                        filename: 'document'
                    },
                    bU = {};
                rO.sv(bU, AK, WV);
                bU.zO = 2;
                uZ = new PCCViewer.ConversionRequest(bU);

                function vr() {
                    uZ.OW({
                        bQ: V.bQ,
                        bU: V.bU
                    });
                    setTimeout(function() {
                        uZ.EH(bU);
                    }, 20);
                };

                function qp() {
                    V.off(PCCViewer.EventType.PageCountReady, qp);
                    vr();
                };
                if (this.oH === false) {
                    V.on(PCCViewer.EventType.PageCountReady, qp);
                } else {
                    vr();
                }
                return uZ;
            };
            ViewerControl.prototype.loadAttachments = function() {
                var aL = PCCViewer.Deferred();
                var cK = aL.getPromise();
                try {
                    var C = 0,
                        Fg = 0;
                    var yo = '';
                    var aq = this.bU.imageHandlerUrl + '/ViewingSession/u' + encodeURIComponent(this.bU.documentID) + '/Attachments';
                    var aAQ = function(aX) {
                        var FM = JSON.parse(aX.responseText);
                        if (FM === null || FM.status !== 'complete') {
                            setTimeout(ahQ, 500);
                            return;
                        }
                        aL.resolve(FM.attachments || []);
                    };
                    var fc = function(bk) {
                        aL.reject(new PCCViewer.Error("AttachmentListFail", "Unable to retrieve attachment list from server."));
                    };
                    var ahQ = function() {
                        PCCViewer.Ajax.eh({
                            method: 'GET',
                            url: aq
                        }).then(aAQ, fc);
                    };
                    ahQ();
                } catch (e) {
                    aL.reject(new PCCViewer.Error("Error", e.message));
                }
                return cK;
            };

            function rn() {
                return function(sender, eventArgs) {
                    var V = this;
                    var L = V.dm[eventArgs.mark.get_markID()];
                    if (V.sB) {
                        V.uh.addMarks(L);
                    }
                    setTimeout(function() {
                        if (L) {
                            V.trigger('MarkCreated', {
                                mark: L,
                                pageNumber: eventArgs.pageIndex + 1,
                                clientX: eventArgs.clientX,
                                clientY: eventArgs.clientY
                            });
                        }
                    }, 0);
                };
            };

            function aqO(aG) {
                return {
                    onCreating: function(bC, F) {
                        var L = new PCCViewer.Mark({
                            type: aG.getType(),
                            igMark: F.mark,
                            pageNumber: F.pageIndex + 1
                        });
                        this.dm[F.mark.get_markID()] = L;
                        L.setThickness(aG.getThickness());
                        L.setColor(aG.getColor());
                        L.setOpacity(aG.getOpacity());
                        L.setEndHeadType(aG.getEndHeadType());
                        PCCViewer.Data.nX(aG, L);
                        PCCViewer.Conversation.qb(aG.getConversation(), L.getConversation());
                    },
                    onAdded: rn()
                };
            };

            function agc(aG) {
                return {
                    onCreating: function(bC, F) {
                        var L = new PCCViewer.Mark({
                            type: aG.getType(),
                            igMark: F.mark,
                            pageNumber: F.pageIndex + 1
                        });
                        this.dm[F.mark.get_markID()] = L;
                        L.setBorderThickness(aG.getBorderThickness());
                        L.setFillColor(aG.getFillColor());
                        L.setBorderColor(aG.getBorderColor());
                        L.setOpacity(aG.getOpacity());
                        PCCViewer.Data.nX(aG, L);
                        PCCViewer.Conversation.qb(aG.getConversation(), L.getConversation());
                    },
                    onAdded: rn()
                };
            };

            function avp(aG) {
                return {
                    onCreating: function(bC, F) {
                        var L = new PCCViewer.Mark({
                            type: aG.getType(),
                            igMark: F.mark,
                            pageNumber: F.pageIndex + 1
                        });
                        this.dm[F.mark.get_markID()] = L;
                    },
                    onAdded: rn()
                };
            };

            function auy(aG) {
                return {
                    onCreating: function(bC, F) {
                        var L = new PCCViewer.Mark({
                            type: aG.getType(),
                            igMark: F.mark,
                            pageNumber: F.pageIndex + 1
                        });
                        this.dm[F.mark.get_markID()] = L;
                        L.setReason(aG.getReason());
                        L.setBorderThickness(aG.getBorderThickness());
                        L.setFillColor(aG.getFillColor());
                        L.setBorderColor(aG.getBorderColor());
                        L.setFontColor(aG.getFontColor());
                        PCCViewer.Data.nX(aG, L);
                        PCCViewer.Conversation.qb(aG.getConversation(), L.getConversation());
                    },
                    onAdded: rn()
                };
            };

            function atD(aG) {
                return {
                    onCreating: function(bC, F) {
                        var L = new PCCViewer.Mark({
                            type: aG.getType(),
                            igMark: F.mark,
                            pageNumber: F.pageIndex + 1
                        });
                        this.dm[F.mark.get_markID()] = L;
                        L.setBorderThickness(aG.getBorderThickness());
                        L.setFillColor(aG.getFillColor());
                        L.setBorderColor(aG.getBorderColor());
                        L.setOpacity(aG.getOpacity());
                        L.setFontName(aG.getFontName());
                        L.setFontColor(aG.getFontColor());
                        L.setFontSize(aG.getFontSize());
                        L.setFontStyle(aG.getFontStyle());
                        L.setHorizontalAlignment(aG.getHorizontalAlignment());
                        PCCViewer.Data.nX(aG, L);
                        PCCViewer.Conversation.qb(aG.getConversation(), L.getConversation());
                    },
                    onAdded: rn()
                };
            };

            function To(aG) {
                return {
                    onCreating: function(bC, F) {
                        var L = new PCCViewer.Mark({
                            type: aG.getType(),
                            igMark: F.mark,
                            pageNumber: F.pageIndex + 1
                        });
                        this.dm[F.mark.get_markID()] = L;
                        L.setFontName(aG.getFontName());
                        L.setFontColor(aG.getFontColor());
                        L.setText(aG.getText());
                        if (L.setFontSize) {
                            L.setFontSize(aG.getFontSize());
                        }
                        PCCViewer.Data.nX(aG, L);
                        PCCViewer.Conversation.qb(aG.getConversation(), L.getConversation());
                    },
                    onAdded: rn()
                };
            };

            function aup(aG) {
                return {
                    onCreating: function(bC, F) {
                        var L = new PCCViewer.Mark({
                            type: aG.getType(),
                            igMark: F.mark,
                            pageNumber: F.pageIndex + 1
                        });
                        this.dm[F.mark.get_markID()] = L;
                        if (aG.getType() === PCCViewer.MouseTool.Type.StampAnnotation) {
                            L.setColor(aG.getColor());
                        }
                        L.setLabel(aG.getLabel());
                        PCCViewer.Data.nX(aG, L);
                        PCCViewer.Conversation.qb(aG.getConversation(), L.getConversation());
                    },
                    onAdded: rn()
                };
            };
            var aHW;

            function MU(aG) {
                return {
                    onCreating: function(bC, F) {},
                    onAdded: rn()
                };
            };

            function arC(aG) {
                return {
                    onCreating: function(bC, F) {
                        var L = new PCCViewer.Mark({
                            type: aG.getType(),
                            igMark: F.mark,
                            pageNumber: F.pageIndex + 1
                        });
                        this.dm[F.mark.get_markID()] = L;
                        L.setThickness(aG.getThickness());
                        L.setColor(aG.getColor());
                        L.setOpacity(aG.getOpacity());
                        PCCViewer.Data.nX(aG, L);
                        PCCViewer.Conversation.qb(aG.getConversation(), L.getConversation());
                    },
                    onAdded: rn()
                };
            };

            function akp(aG) {
                return {
                    onCreating: function(bC, F) {
                        var L = new PCCViewer.Mark({
                            type: aG.getType(),
                            igMark: F.mark,
                            pageNumber: F.pageIndex + 1
                        });
                        this.dm[F.mark.get_markID()] = L;
                        L.setImage(aG.getImage());
                        PCCViewer.Data.nX(aG, L);
                        PCCViewer.Conversation.qb(aG.getConversation(), L.getConversation());
                    },
                    onAdded: rn()
                };
            };

            function apw(aG) {
                return {
                    onCreating: function(bC, F) {
                        var L = new PCCViewer.Mark({
                            type: aG.getType(),
                            igMark: F.mark,
                            pageNumber: F.pageIndex + 1
                        });
                        this.dm[F.mark.get_markID()] = L;
                        L.setThickness(aG.getThickness());
                        L.setColor(aG.getColor());
                        L.setOpacity(aG.getOpacity());
                        PCCViewer.Data.nX(aG, L);
                        PCCViewer.Conversation.qb(aG.getConversation(), L.getConversation());
                    },
                    onAdded: rn()
                };
            };
            ViewerControl.prototype.setMarkHandleMode = function(markHandleMode) {
                var wG;
                switch (markHandleMode) {
                    case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:
                        wG = IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;
                        break;
                    case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:
                        wG = IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;
                        break;
                    default:
                        throw new RangeError("The value of markHandleMode is not a supported value.");
                }
                if (this.ab && this.ab.set_markHandleMode) {
                    this.ab.set_markHandleMode(wG);
                } else {
                    this.bU.markHandleMode = wG;
                }
                return this;
            };
            ViewerControl.prototype.getMarkHandleMode = function() {
                var wG;
                if (this.ab && this.ab.get_markHandleMode) {
                    wG = this.ab.get_markHandleMode();
                } else {
                    wG = this.bU.markHandleMode;
                }
                if (wG === IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose) {
                    return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;
                } else {
                    return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;
                }
            };
            ViewerControl.prototype.setConversationDOMFactory = function(factoryFunction) {
                if (typeof(factoryFunction) !== 'function') {
                    throw new Error("The parameter factoryFunction is not a function.");
                }
                this.lK = factoryFunction;
                return this;
            };
            ViewerControl.prototype.getConversationDOMFactory = function() {
                return this.lK;
            };
            ViewerControl.prototype.refreshConversations = function(conversations) {
                var XF, aca = (conversations === undefined);

                function afV(dq, aj) {
                    throw new Error(dq + ((aj !== undefined) ? ' (Array index ' + aj + ')' : '') + ' is not a valid PCCViewer.Conversation object.');
                };

                function awK(dq, aj) {
                    throw new Error(dq + ((aj !== undefined) ? ' (Array index ' + aj + ')' : '') + ' is not a known conversation in this ViewerControl.');
                };
                if (conversations instanceof PCCViewer.Conversation) {
                    XF = [conversations];
                } else if (conversations instanceof Array) {
                    XF = conversations;
                } else if (!aca) {
                    afV(conversations);
                }
                var agr = IPCC.T.map(this.getAllMarks(), function(bx) {
                    return bx.getConversation();
                });
                var aau = IPCC.T.map(XF || agr, function(bx, C) {
                    if (!(bx instanceof PCCViewer.Conversation)) {
                        afV(bx, C);
                    }
                    if (!aca && !IPCC.T.inArray(agr, bx)) {
                        awK(bx, C);
                    }
                    return bx.getMark().cB;
                });
                this.ab.refreshConversations(aau);
                return this;
            };
            ViewerControl.prototype.openCommentsPanel = function() {
                if (this.ef === false) {
                    throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");
                }
                if (this.getPageLayout() === PCCViewer.PageLayout.Horizontal) {
                    throw new Error("The page layout must be set to vertical to use the comments panel.");
                }
                this.ab.openCommentsPanel();
                var V = this;
                setTimeout(function() {
                    V.trigger("CommentsPanelToggled", {
                        isOpen: true
                    });
                }, 10);
                return this;
            };
            ViewerControl.prototype.closeCommentsPanel = function() {
                if (this.ef === false) {
                    throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");
                }
                this.ab.closeCommentsPanel();
                var V = this;
                setTimeout(function() {
                    V.trigger("CommentsPanelToggled", {
                        isOpen: false
                    });
                }, 10);
                return this;
            };
            ViewerControl.prototype.getIsCommentsPanelOpen = function() {
                if (this.ef === false) {
                    throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");
                }
                if (this.getPageLayout() === PCCViewer.PageLayout.Horizontal) {
                    return false;
                }
                return this.ab.get_isCommentsPanelOpen();
            };
            ViewerControl.prototype.setSelectedConversation = function(conversation) {
                if (this.ef === false) {
                    throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");
                }
                if (conversation === null || conversation === undefined) {
                    this.ab.set_selectedConversation(undefined);
                    return this;
                }
                if (!(conversation instanceof PCCViewer.Conversation)) {
                    throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");
                }
                var kr = conversation.getMark();
                if (kr) {
                    var wf = kr.K.get_conversation();
                    this.ab.set_selectedConversation(wf);
                } else {
                    throw new Error("The conversation is unknown to the viewer control.");
                }
                return this;
            };
            ViewerControl.prototype.getSelectedConversation = function() {
                if (this.ef === false) {
                    return null;
                }
                var jt = this.ab.get_selectedConversation();
                if (jt) {
                    var kr = this.dm[jt.get_mark().get_markID()];
                    if (kr) {
                        return kr.getConversation();
                    }
                }
                return null;
            };
            ViewerControl.prototype.clearMouseSelectedText = function(textSelection) {
                if (!textSelection) {
                    throw new Error('textSelection is a required parameter');
                } else if (typeof textSelection.startIndex !== 'number' || textSelection.startIndex < 0) {
                    throw new Error('Start index value ' + textSelection.startIndex + ' is not a valid value.');
                } else if (typeof textSelection.pageNumber !== 'number' || textSelection.pageNumber < 1 || textSelection.pageNumber > this.getPageCount()) {
                    throw new Error('Page number value ' + textSelection.pageNumber + ' is not a valid value.');
                } else if (typeof textSelection.length !== 'number' || textSelection.length < 1) {
                    throw new Error('Length value ' + textSelection.pageNumber + ' is not a valid value.');
                }
                var V = this,
                    yZ = V.bm;

                function akm(aw, iu, dp) {
                    var Tz = [aw + 1];
                    var aP = V.cI.getPage(aw),
                        ft = aP.ca();
                    if (ft.mY()) {
                        var bv = ft.AX(),
                            acM = bv.substr(iu);
                        if (acM.length > dp) {
                            return Tz;
                        } else {
                            return Tz.concat(akm(aw + 1, 0, dp - acM.length));
                        }
                    } else {
                        return Tz;
                    }
                };
                this.ab.xj();

                function DZ(WB, aY) {
                    V.alV(aY, WB);
                };
                if (yZ && yZ.getResults().length) {
                    var dQ = akm(textSelection.pageNumber - 1, textSelection.startIndex, textSelection.length),
                        eQ = yZ.getResults(),
                        aha = false,
                        Pv = {};
                    if (eQ.length) {
                        IPCC.T.forEach(eQ, function(bx) {
                            var apJ = IPCC.T.contains(dQ, bx.aY);
                            if (apJ) {
                                aha = true;
                                Pv[bx.aY] = Pv[bx.aY] || [];
                                Pv[bx.aY].push(bx);
                            }
                        });
                    }
                    if (aha) {
                        IPCC.T.forEach(Pv, function(WB, aY) {
                            V.requestPageText(aY).then(DZ.bind(null, WB, aY));
                        });
                    }
                }
                return this;
            };
            ViewerControl.prototype.convertPageToWindowCoordinates = function(pageNumber, points) {
                if (this.ef === false) {
                    throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");
                }
                if (!pageNumber || typeof pageNumber !== 'number' || pageNumber < 1 || pageNumber > this.getPageCount()) {
                    throw new PCCViewer.Error('InvalidArgument', 'pageNumber is not a known page number in the document');
                }
                var vR = function(n) {
                    return typeof n === 'number' && !isNaN(n);
                };
                var vL, afC = true;
                if (points && points.constructor === Array) {
                    vL = points;
                } else {
                    vL = [points];
                    afC = false;
                }
                var abU = function(al, aj, az) {
                    throw new PCCViewer.Error('InvalidArgument', al + ' (Array index ' + aj + ') does not have a valid ' + az + ' property');
                };
                if (vL.length === 0 || !points) {
                    throw new PCCViewer.Error('InvalidArgument', 'At least one point is required');
                }
                IPCC.T.forEach(vL, function(al, aj) {
                    if (!vR(al.x)) {
                        abU(al, aj, 'x');
                    }
                    if (!vR(al.y)) {
                        abU(al, aj, 'y');
                    }
                });
                var Dz = this.ab.axb(pageNumber, vL);
                if (Dz === null) {
                    return null;
                } else if (afC) {
                    return Dz;
                } else {
                    return Dz[0];
                }
            };
            ViewerControl.prototype.selectEditorText = function() {
                if (this.ef === false) {
                    throw new Error("The method selectEditorText is not available until 'ViewerReady' state is reached.");
                }
                var V = this;
                var ab = V.ab;
                var VC = ab.Cz();
                if (!VC) {
                    throw new Error("The method selectEditorText is not available unless there is an active editor on the page.");
                }
                if (VC === 'singleline') {
                    ab.JN();
                } else if (VC === 'multiline') {
                    throw new PCCViewer.Error('InvalidArgument', 'Only TextInputSignature Marks are supported at this time');
                }
                return V;
            };
            ViewerControl.prototype.setSharpening = function(amount) {
                if (amount !== Math.floor(amount) || typeof amount !== 'number' || amount < 0 || amount > 100) {
                    throw new PCCViewer.Error('InvalidArgument', 'Amount must be an integer between 0 and 100 inclusive');
                }
                var V = this;
                V.abl = amount;
                if (this.ef === false) {
                    this.qJ.then(function(pD) {
                        var ab = V.ab;
                        ab.CS(amount);
                    });
                } else {
                    var ab = V.ab;
                    ab.CS(amount);
                }
                return V;
            };
            ViewerControl.prototype.getSharpening = function() {
                var V = this;
                if (this.ef === false) {
                    return V.abl;
                } else {
                    var ab = V.ab;
                    return ab.avK();
                }
            };
            ViewerControl.prototype.setGamma = function(amount) {
                if (typeof amount !== 'number' || amount < 0 || amount > 10) {
                    throw new PCCViewer.Error('InvalidArgument', 'Amount must be a number between 0 and 10 inclusive');
                }
                var V = this;
                V.afh = amount;
                if (this.ef === false) {
                    this.qJ.then(function(pD) {
                        var ab = V.ab;
                        ab.FF(amount);
                    });
                } else {
                    var ab = V.ab;
                    ab.FF(amount);
                }
                return V;
            };
            ViewerControl.prototype.getGamma = function() {
                var V = this;
                if (this.ef === false) {
                    return V.afh;
                } else {
                    var ab = V.ab;
                    return ab.aDt();
                }
            };
            ViewerControl.prototype.setSvgLineWidthMultiplier = function(amount) {
                if (typeof amount !== 'number' || amount <= 0 || amount > 100) {
                    throw new PCCViewer.Error('InvalidArgument', 'Amount must be greater than 0 and not greater than 100.');
                }
                var V = this;
                V.lm = amount;
                if (this.ef === false) {
                    this.qJ.then(function(pD) {
                        V.ab.ED(amount);
                    });
                } else {
                    V.ab.ED(amount);
                }
                return V;
            };
            ViewerControl.prototype.getSvgLineWidthMultiplier = function() {
                var V = this;
                if (this.ef === false) {
                    return V.lm;
                } else {
                    var ab = V.ab;
                    return ab.awS();
                }
            };
            if (Object.defineProperties) {
                Object.defineProperties(ViewerControl.prototype, {
                    "pageCount": {
                        enumerable: true,
                        get: function() {
                            return this.getPageCount();
                        }
                    },
                    "pageNumber": {
                        enumerable: true,
                        get: function() {
                            return this.getPageNumber();
                        },
                        set: function(value) {
                            return this.setPageNumber(value);
                        }
                    },
                    "searchRequest": {
                        enumerable: true,
                        get: function() {
                            return this.bm;
                        }
                    },
                    "selectedSearchResult": {
                        enumerable: true,
                        get: function() {
                            return this.getSelectedSearchResult();
                        },
                        set: function(val) {
                            return this.setSelectedSearchResult(val, true);
                        }
                    },
                    "currentMouseTool": {
                        enumerable: true,
                        get: function() {
                            return this.getCurrentMouseTool();
                        },
                        set: function(value) {
                            return this.setCurrentMouseTool(value);
                        }
                    },
                    "atMaxScale": {
                        enumerable: true,
                        get: ViewerControl.prototype.getAtMaxScale
                    },
                    "atMinScale": {
                        enumerable: true,
                        get: ViewerControl.prototype.getAtMinScale
                    },
                    "scaleFactor": {
                        enumerable: true,
                        get: function() {
                            return this.getScaleFactor();
                        },
                        set: function(value) {
                            return this.setScaleFactor(value);
                        }
                    },
                    "selectedMarks": {
                        enumerable: true,
                        get: ViewerControl.prototype.getSelectedMarks
                    },
                    "viewMode": {
                        enumerable: true,
                        get: function() {
                            return this.getViewMode();
                        },
                        set: function(value) {
                            return this.setViewMode(value);
                        }
                    },
                    "isCommentsPanelOpen": {
                        enumerable: true,
                        get: function() {
                            return this.getIsCommentsPanelOpen();
                        }
                    },
                    "selectedConversation": {
                        enumerable: true,
                        get: function() {
                            return this.getSelectedConversation();
                        },
                        set: function(conversation) {
                            return this.setSelectedConversation(conversation);
                        }
                    },
                    "redactionViewMode": {
                        enumerable: true,
                        get: function() {
                            return this.getRedactionViewMode();
                        },
                        set: function(value) {
                            return this.setRedactionViewMode(value);
                        }
                    },
                    "markHandleMode": {
                        enumerable: true,
                        get: function() {
                            return this.getMarkHandleMode();
                        },
                        set: function(value) {
                            return this.setMarkHandleMode(value);
                        }
                    }
                });
            }
            module.exports = ViewerControl;
        }, {
            "./../IPCC/IPCC": 30,
            "./PCCViewer.EventEmitter": 142,
            "./PCCViewer.Helper": 145,
            "./PCCViewer.MarkDeserializer": 149,
            "./PCCViewer.MarkSerializer": 151,
            "./PCCViewer.Print": 159
        }],
        171: [function(require, module, exports) {
            var PCCViewer = {
                ViewMode: require('./PCCViewer.ViewMode'),
                MarkHandleMode: require('./PCCViewer.MarkHandleMode'),
                RedactionViewMode: require('./PCCViewer.RedactionViewMode'),
                PageLayout: require('./PCCViewer.PageLayout'),
                EventType: require('./PCCViewer.EventType'),
                Event: require('./PCCViewer.Event'),
                ScaleTrigger: require('./PCCViewer.ScaleTrigger'),
                FitType: require('./PCCViewer.FitType'),
                Promise: require('./PCCViewer.Deferred').Promise,
                Deferred: require('./PCCViewer.Deferred').Deferred,
                EventEmitter: require('./PCCViewer.EventEmitter'),
                Util: require('./PCCViewer.Util'),
                ObservableCollection: require('./PCCViewer.ObservableCollection'),
                awX: require('prizmdoc-input-mask'),
                Data: require('./PCCViewer.Data').Data,
                SessionData: require('./PCCViewer.Data').SessionData,
                Ajax: require('./PCCViewer.Ajax').Ajax,
                AjaxResponse: require('./PCCViewer.Ajax').AjaxResponse,
                Language: require('./PCCViewer.Language'),
                Error: require('./PCCViewer.Error'),
                ViewerControl: require('./PCCViewer.ViewerControl'),
                rO: require('./PCCViewer.Helper'),
                MouseTool: require('./PCCViewer.MouseTool').MouseTool,
                MouseTools: require('./PCCViewer.MouseTool').MouseTools,
                Conversation: require('./PCCViewer.Comments').Conversation,
                Comment: require('./PCCViewer.Comments').Comment,
                ImageStamps: require('./PCCViewer.ImageStamps'),
                DocumentHyperlink: require('./PCCViewer.DocumentHyperlink'),
                _Search: require('./PCCViewer.Search')._Search,
                SearchTask: require('./PCCViewer.Search').SearchTask,
                SearchRequest: require('./searchRequest'),
                SearchResult: require('./searchResult').SearchResult,
                WA: require('./PCCViewer.ServerSearch'),
                SearchTaskResult: require('./searchResult').SearchTaskResult,
                Mg: require('./PCCViewer.ClientSearch'),
                Il: require('prizmdoc-search'),
                Signatures: require('./PCCViewer.Signature').Signatures,
                SignatureControl: require('./PCCViewer.Signature').SignatureControl,
                SignatureDisplay: require('./PCCViewer.Signature').SignatureDisplay,
                ThumbnailControl: require('./PCCViewer.ThumbnailControl'),
                Revision: require('./PCCViewer.Revision'),
                IM: require('./PCCViewer.RevisionsRequest').IM,
                RevisionsRequest: require('./PCCViewer.RevisionsRequest').RevisionsRequest,
                ConversionRequest: require('./PCCViewer.ConversionRequest'),
                BurnRequest: require('./PCCViewer.BurnRequest'),
                PrintRequest: require('./PCCViewer.Print').PrintRequest,
                PrintControl: require('./PCCViewer.Print').PrintControl,
                Mark: require('./PCCViewer.Marks'),
                MarkupLayer: require('./PCCViewer.MarkupLayer'),
                LoadMarkupLayersRequest: require('./PCCViewer.LoadMarkupLayersRequest'),
                MarkupLayerCollection: require('./PCCViewer.MarkupLayerCollection'),
                PasswordProtectedDocumentLoader: require('./PCCViewer.PasswordProtectedDocumentLoader'),
            };
            module.exports = PCCViewer;
        }, {
            "./PCCViewer.Ajax": 132,
            "./PCCViewer.BurnRequest": 133,
            "./PCCViewer.ClientSearch": 134,
            "./PCCViewer.Comments": 135,
            "./PCCViewer.ConversionRequest": 136,
            "./PCCViewer.Data": 137,
            "./PCCViewer.Deferred": 138,
            "./PCCViewer.DocumentHyperlink": 139,
            "./PCCViewer.Error": 140,
            "./PCCViewer.Event": 141,
            "./PCCViewer.EventEmitter": 142,
            "./PCCViewer.EventType": 143,
            "./PCCViewer.FitType": 144,
            "./PCCViewer.Helper": 145,
            "./PCCViewer.ImageStamps": 146,
            "./PCCViewer.Language": 147,
            "./PCCViewer.LoadMarkupLayersRequest": 148,
            "./PCCViewer.MarkHandleMode": 150,
            "./PCCViewer.Marks": 152,
            "./PCCViewer.MarkupLayer": 153,
            "./PCCViewer.MarkupLayerCollection": 154,
            "./PCCViewer.MouseTool": 155,
            "./PCCViewer.ObservableCollection": 156,
            "./PCCViewer.PageLayout": 157,
            "./PCCViewer.PasswordProtectedDocumentLoader": 158,
            "./PCCViewer.Print": 159,
            "./PCCViewer.RedactionViewMode": 160,
            "./PCCViewer.Revision": 161,
            "./PCCViewer.RevisionsRequest": 162,
            "./PCCViewer.ScaleTrigger": 163,
            "./PCCViewer.Search": 164,
            "./PCCViewer.ServerSearch": 165,
            "./PCCViewer.Signature": 166,
            "./PCCViewer.ThumbnailControl": 167,
            "./PCCViewer.Util": 168,
            "./PCCViewer.ViewMode": 169,
            "./PCCViewer.ViewerControl": 170,
            "./searchRequest": 172,
            "./searchResult": 173,
            "prizmdoc-input-mask": 2,
            "prizmdoc-search": 7
        }],
        172: [function(require, module, exports) {
            var SearchRequest = function(vt) {
                this.ia = {};
                this.eG = {};
                this.eQ = [];
                this.wY = false;
                this.eH = null;
                this.cN = null;
                this.Rg = [];
                if (Object.defineProperties) {
                    Object.defineProperties(this, {
                        "searchQuery": {
                            configurable: !!vt,
                            enumerable: true,
                            get: function() {
                                return this.eG;
                            }
                        },
                        "results": {
                            configurable: !!vt,
                            enumerable: true,
                            get: function() {
                                return this.eQ;
                            }
                        },
                        "isComplete": {
                            configurable: !!vt,
                            enumerable: true,
                            get: function() {
                                return this.wY;
                            }
                        },
                        "errorCode": {
                            configurable: !!vt,
                            enumerable: true,
                            get: function() {
                                return this.eH;
                            }
                        },
                        "errorMessage": {
                            configurable: !!vt,
                            enumerable: true,
                            get: function() {
                                return this.cN;
                            }
                        }
                    });
                }
                PCCViewer.EventEmitter.extend(this);
            };
            SearchRequest.prototype.getSearchQuery = function() {
                return this.eG;
            };
            SearchRequest.prototype.getResults = function() {
                return this.eQ;
            };
            SearchRequest.prototype.getIsComplete = function() {
                return this.wY;
            };
            SearchRequest.prototype.getErrorCode = function() {
                return this.eH;
            };
            SearchRequest.prototype.getErrorMessage = function() {
                return this.cN;
            };
            SearchRequest.prototype.getPagesWithoutText = function() {
                return this.Rg;
            };
            SearchRequest.prototype.cancel = function() {
                this.pu = true;
                this.trigger('SearchCancelled');
            };
            module.exports = SearchRequest;
        }, {}],
        173: [function(require, module, exports) {
            var SearchResult = function() {
                this.cB = 0;
                this.aY = 0;
                this.aT = 0;
                this.bv = '';
                this.rc = '';
                this.qQ = 0;
                this.cX = '';
                this.zC = 0;
                this.bH = '';
                this.IS = '';
                this.mV = null;
            };
            SearchResult.prototype.getId = function() {
                return this.cB;
            };
            SearchResult.prototype.getPageNumber = function() {
                return this.aY;
            };
            SearchResult.prototype.getText = function() {
                return this.bv;
            };
            SearchResult.prototype.getHighlightColor = function() {
                return this.rc;
            };
            SearchResult.prototype.getStartIndexInPage = function() {
                return this.qQ;
            };
            SearchResult.prototype.getContext = function() {
                return this.cX;
            };
            SearchResult.prototype.getStartIndexInContext = function() {
                return this.zC;
            };
            SearchResult.prototype.getSearchTerm = function() {
                return this.bH;
            };
            SearchResult.prototype.getBoundingRectangle = function() {
                return this.mV;
            };
            if (Object.defineProperties) {
                Object.defineProperties(SearchResult.prototype, {
                    "pageNumber": {
                        enumerable: true,
                        get: function() {
                            return this.aY;
                        }
                    },
                    "id": {
                        enumerable: true,
                        get: function() {
                            return this.cB;
                        }
                    },
                    "text": {
                        enumerable: true,
                        get: function() {
                            return this.bv;
                        }
                    },
                    "highlightColor": {
                        enumerable: true,
                        get: function() {
                            return this.rc;
                        }
                    },
                    "startIndexInPage": {
                        enumerable: true,
                        get: function() {
                            return this.qQ;
                        }
                    },
                    "context": {
                        enumerable: true,
                        get: function() {
                            return this.cX;
                        }
                    },
                    "startIndexInContext": {
                        enumerable: true,
                        get: function() {
                            return this.zC;
                        }
                    },
                    "searchTerm": {
                        enumerable: true,
                        get: function() {
                            return this.bH;
                        }
                    },
                    "boundingRectangle": {
                        enumerable: true,
                        get: function() {
                            return this.getBoundingRectangle();
                        }
                    }
                });
            }
            var SearchTaskResult = function() {
                this.cB = 0;
                this.aT = 0;
                this.bv = '';
                this.rc = '';
                this.qQ = 0;
                this.cX = '';
                this.zC = 0;
                this.bH = '';
            };
            SearchTaskResult.prototype.getId = function() {
                return this.cB;
            };
            SearchTaskResult.prototype.getText = function() {
                return this.bv;
            };
            SearchTaskResult.prototype.getHighlightColor = function() {
                return this.rc;
            };
            SearchTaskResult.prototype.getStartIndexInInput = function() {
                return this.qQ;
            };
            SearchTaskResult.prototype.getContext = function() {
                return this.cX;
            };
            SearchTaskResult.prototype.getStartIndexInContext = function() {
                return this.zC;
            };
            SearchTaskResult.prototype.getSearchTerm = function() {
                return this.bH;
            };
            if (Object.defineProperties) {
                Object.defineProperties(SearchTaskResult.prototype, {
                    "id": {
                        enumerable: true,
                        get: function() {
                            return this.cB;
                        }
                    },
                    "text": {
                        enumerable: true,
                        get: function() {
                            return this.bv;
                        }
                    },
                    "highlightColor": {
                        enumerable: true,
                        get: function() {
                            return this.rc;
                        }
                    },
                    "startIndexInInput": {
                        enumerable: true,
                        get: function() {
                            return this.qQ;
                        }
                    },
                    "context": {
                        enumerable: true,
                        get: function() {
                            return this.cX;
                        }
                    },
                    "startIndexInContext": {
                        enumerable: true,
                        get: function() {
                            return this.zC;
                        }
                    },
                    "searchTerm": {
                        enumerable: true,
                        get: function() {
                            return this.bH;
                        }
                    }
                });
            }
            module.exports = {
                SearchTaskResult: SearchTaskResult,
                SearchResult: SearchResult
            };
        }, {}],
        174: [function(require, module, exports) {
            if (typeof window === 'undefined') {
                throw new Error('The viewer-core module can only be used in a browser environment (where a window object exists).');
            }
            require('./../css/viewercontrol.css');
            var IPCC = require('./IPCC/IPCC');
            var PCCViewer = require('./PCCViewer/PCCViewer');
            window.IPCC = IPCC;
            window.PCCViewer = PCCViewer;
            module.exports = PCCViewer;
        }, {
            "./../css/viewercontrol.css": 11,
            "./IPCC/IPCC": 30,
            "./PCCViewer/PCCViewer": 171
        }]
    }, {}, [174])(174)
});